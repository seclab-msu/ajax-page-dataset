
; /* Start:"a:4:{s:4:"full";s:90:"/local/templates/re-store-vue/frontend/build/catalog~home~ui-kit.bundle.js?165830181130307";s:6:"source";s:74:"/local/templates/re-store-vue/frontend/build/catalog~home~ui-kit.bundle.js";s:3:"min";s:0:"";s:3:"map";s:0:"";}"*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{108:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select"},[a("multiselect",{attrs:{"show-labels":!1,searchable:!1,options:t.options,"allow-empty":!1},on:{select:t.selectValue},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[t._t("default")],2)],1)};s._withStripped=!0;var i=a(153),o=a.n(i),n=(a(312),{name:"ReSelect",components:{Multiselect:o.a},props:{options:{type:Array,default:function(){return[]}},label:{type:String,default:""}},data:function(){return{value:this.options[0]}},methods:{selectValue:function(t){this.$emit("change-value",t)}}}),l=a(0),r=Object(l.a)(n,s,[],!1,null,null,null);r.options.__file="app/js/vue/ui/select/select.vue";e.a=r.exports},109:function(t,e,a){"use strict";var s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"table-shops",class:this.oneclickbuy?"table-shops--oneclickbuy":""},[this.oneclickbuy?this._e():e("div",{staticClass:"table-shops__header"},[this._m(0)]),this._v(" "),e("div",{staticClass:"table-shops__body"},[this._t("default")],2)])};s._withStripped=!0;a(135);var i={name:"ReTableShops",props:{oneclickbuy:{type:Boolean,default:!1}}},o=a(0),n=Object(o.a)(i,s,[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-shops-item table-shops-item--header"},[a("div",{staticClass:"table-shops-item__col table-shops-item__col--header"},[t._v("\n        Метро\n      ")]),t._v(" "),a("div",{staticClass:"table-shops-item__col table-shops-item__col--header"},[t._v("\n        Магазин\n      ")]),t._v(" "),a("div",{staticClass:"table-shops-item__col table-shops-item__col--header table-shops-item__col--availability"},[t._v("\n        Наличие\n      ")]),t._v(" "),a("div",{staticClass:"table-shops-item__col table-shops-item__col--header table-shops-item__col--full"},[t._v("\n        Часы\n        "),a("br"),t._v("\n        работы\n      ")]),t._v(" "),a("div",{staticClass:"table-shops-item__col table-shops-item__col--header table-shops-item__col--booking"},[t._v("\n        Забронировать\n      ")])])}],!1,null,null,null);n.options.__file="app/js/vue/ui/table-shops/table-shops.vue";e.a=n.exports},110:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-shops-item"},[a("div",{staticClass:"table-shops-item__col"},[a("p",{staticClass:"p p--medium"},[t._v(t._s(t.shopData.shopName))]),t._v(" "),a("re-metro",{attrs:{city:t.shopData.city,"branch-color":t.shopData.metroBranch,"station-name":t.shopData.metroStation}})],1),t._v(" "),a("div",{staticClass:"table-shops-item__col"},[a("p",{domProps:{innerHTML:t._s(t.shopData.shopAddress)}})]),t._v(" "),t.oneclickbuy&&t.pageSize>=1024?a("div",{staticClass:"table-shops-item__col table-shops-item__col--delivery-day"},[t._v("\n    "+t._s(t.shopData.deliveryDay)+"\n  ")]):t._e(),t._v(" "),!t.oneclickbuy||t.oneclickbuy&&t.pageSize<1024?a("div",{staticClass:"table-shops-item__col table-shops-item__col--availability"},[a("re-avail",{attrs:{dots:t.shopData.availability,description:t.availabilityDescr}})],1):t._e(),t._v(" "),a("div",{staticClass:"table-shops-item__col table-shops-item__col--full"},t._l(t.shopData.hours,(function(e,s){return a("p",{key:s,staticClass:"p p--no-margin"},[t._v("\n      "+t._s(e+(s!==t.shopData.hours.length-1&&t.shopData.hours.length>1?",":""))+"\n    ")])})),0),t._v(" "),a("div",{staticClass:"table-shops-item__col table-shops-item__col--booking"},[a("a",{staticClass:"ui-link",attrs:{href:"#"},domProps:{innerHTML:t._s(t.oneclickbuy?"<b>Выбрать</b>":"Забронировать")},on:{click:function(e){return e.preventDefault(),t.selectShop(t.shopData)}}})])])};s._withStripped=!0;var i=a(33),o=a(111),n=a(3),l=(a(135),{name:"ReTableShopsItem",components:{ReAvail:o.a,ReMetro:i.a},mixins:[n.a],props:{shopData:{type:Object,default:function(){}}},computed:{availabilityDescr:function(){return 1===this.shopData.availability?"Мало":2===this.shopData.availability?"Немного":3===this.shopData.availability?"Достаточно":4===this.shopData.availability?"Много":""},oneclickbuy:function(){return this.$parent.$props.oneclickbuy}},created:function(){this._addPageTypeWatcher_P()},methods:{selectShop:function(t){this.$emit("select-shop",t)}}}),r=a(0),c=Object(r.a)(l,s,[],!1,null,null,null);c.options.__file="app/js/vue/ui/table-shops/table-shops-item.vue";e.a=c.exports},111:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"available",class:t.dotClass},[t._l(4,(function(t){return a("span",{key:t,staticClass:"available-dot"})})),t._v(" "),""!==t.description?a("span",{staticClass:"available-text"},[t._v("\n    "+t._s(t.description)+"\n  ")]):t._e()],2)};s._withStripped=!0;var i={props:{dots:{type:Number,default:0},description:{type:String,default:""}},computed:{dotClass:function(){return"available--"+this.dots}}},o=(a(342),a(0)),n=Object(o.a)(i,s,[],!1,null,null,null);n.options.__file="app/js/vue/ui/available/available.vue";e.a=n.exports},112:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"list"},t._l(t.listItems,(function(e,s){return a("li",{key:s,staticClass:"list__item"},[t._v("\n    "+t._s(e)+"\n  ")])})),0)};s._withStripped=!0;a(343);var i={name:"ReList",props:{listItems:{type:Array,default:function(){return[]}}}},o=a(0),n=Object(o.a)(i,s,[],!1,null,null,null);n.options.__file="app/js/vue/ui/list/list.vue";e.a=n.exports},113:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"attachment"},[t.oneclickbuy?a("div",{staticClass:"attachment__btn"},[a("label",{staticClass:"ui-link"},[a("input",{staticClass:"visuallyhidden",attrs:{accept:t.iAccept,multiple:t.isMultifile,type:"file"},on:{change:t.handleFileUpload}}),t._v(" "),a("span",{staticClass:"btn-attach__title"},[t._v(t._s(t.title))])])]):t._e(),t._v(" "),a("div",{staticClass:"attachment__files"},[t._t("default")],2),t._v(" "),t.oneclickbuy?t._e():a("div",{staticClass:"attachment__btn"},[a("label",{staticClass:"ui-link ui-link--icon ui-link--attach"},[a("input",{staticClass:"visuallyhidden",attrs:{accept:t.iAccept,multiple:t.isMultifile,type:"file"},on:{change:t.handleFileUpload}}),t._v(" "),a("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon-attach",attrs:{symbol:"attach",size:"16 18"}}),t._v(" "),a("span",{staticClass:"btn-attach__title"},[t._v(t._s(t.title))])])])])};s._withStripped=!0;a(136);var i={name:"ReAttachment",props:{oneclickbuy:{type:Boolean,default:!1},title:{type:String,default:"Приложить файл"},isMultifile:{type:Boolean,default:!1},iAccept:{type:String,default:""},iMaxSize:{type:Number,default:1024}},data:function(){return{file:""}},methods:{handleFileUpload:function(t){var e=t.target.files||t.dataTransfer.files;this.isMultifile||1!==e.length||(this.file=e[0],this.$emit("file-attached",this.file),t.target.value="")}}},o=a(0),n=Object(o.a)(i,s,[],!1,null,null,null);n.options.__file="app/js/vue/ui/attachment/attachment.vue";e.a=n.exports},114:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"attachment-item"},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon-attachment",attrs:{symbol:"attachment",size:"15 20"}}),t._v(" "),a("p",{staticClass:"attachment-item__title"},[t._v(t._s(t.fileName))]),t._v(" "),a("button",{staticClass:"btn-close btn-close--hover-black",on:{click:function(e){return e.preventDefault(),t.$emit("delete-attachment",t.fileName)}}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close",size:"13 13"}})])])};s._withStripped=!0;a(136);var i={name:"ReAttachmentItem",props:{fileName:{type:String,default:""}}},o=a(0),n=Object(o.a)(i,s,[],!1,null,null,null);n.options.__file="app/js/vue/ui/attachment/attachment-item.vue";e.a=n.exports},135:function(t,e,a){},136:function(t,e,a){},301:function(t,e,a){"use strict";var s=a(56);a.n(s).a},302:function(t,e,a){},308:function(t,e,a){},311:function(t,e,a){},312:function(t,e,a){},32:function(t,e,a){"use strict";var s=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"ya-map",class:{"block-loading":!this.isMapReady}})};s._withStripped=!0;var i,o,n,l=a(1),r=a.n(l),c=a(4),p=a.n(c),u=a(150),d=function(t){var e="";if("phones"in t&&t.phones.length>0)for(var a=0;a<t.phones.length;a++)e+='<a href="tel:'+m(t.phones[a])+'">'+t.phones[a]+"</a>";var s="";"metroName"in t&&null!==t.metroName&&(s='<div class="balloon-content__shop_metro"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 10" height="10" width="14" fill="'+t.metroColor+'"><polygon points="9.869 0 7 5.36 4.131 0 0.867 8.706 0 8.706 0 9.901 4.543 9.901 4.543 8.706 3.781 8.706 4.725 5.99 7 10 9.275 5.99 10.219 8.706 9.457 8.706 9.457 9.901 14 9.901 14 8.706 13.133 8.706 9.869 0"></polygon></svg>'+t.metroName+"</div>");var i="";"available"in t&&(i='<div class="balloon-content__available">В наличии <div class="available available--'+t.available[0]+'"><span class="available-dot"></span><span class="available-dot"></span><span class="available-dot"></span><span class="available-dot"></span><span class="available-text">'+t.available[1]+"</span></div></div>");var o="";"route"in t?"href"in t.route?o='<a class="balloon-content__shop-info" href="'+t.route.href+'" target="_blank">Как проехать</a>':"coords"in t.route&&(o='<span class="balloon-content__shop-info" data-id="'+t.route.id+'" data-coords="'+t.route.coords+'">Как проехать</span>'):"button"in t&&(o='<div class="btn js-selected-shop balloon-content__btn">'+t.button+"</div>");for(var n="",l=arguments.length,r=new Array(l>1?l-1:0),c=1;c<l;c++)r[c-1]=arguments[c];r.forEach((function(t){n+="<p>"+t.name+": "+t.value+"</p>"}));var p='<div class="balloon-content"><div class="balloon-content__inner"><div class="balloon-content__shop-name">'+t.shopName+"</div>"+s+i+'<div class="balloon-content__shop-address">'+t.shopAddress+'</div><div class="balloon-content__shop-work-time">'+t.workTime+'</div><div class="balloon-content__shop-tel">'+e+"</div>"+n+o+"</div></div>";return p},h=function(t,e,a){var s="";if("active"===e){switch(t){case"shop":s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_gray_active@2x.png";break;case"postamat":s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_postamat_active@2x.png";break;case"service":s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_service_active@2x.png";break;case"pickpoint":s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_pickpoint_active@2x.png";break;case"sber":s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_sber_A_active@2x.png";break;default:s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_gray_active@2x.png"}a&&(s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_selected_active@2x.png")}else{switch(t){case"shop":s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_gray@2x.png";break;case"postamat":s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_postamat@2x.png";break;case"service":s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_service@2x.png";break;case"pickpoint":s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_pickpoint@2x.png";break;case"sber":s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_sber_A@2x.png";break;default:s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_gray@2x.png"}a&&(s="/local/templates/re-store-vue/frontend/build/images/required/map-markers/pin_selected@2x.png")}return s},m=function(t){var e="";return"+7"===t.substring(0,2)&&(e+="+"),e+=t.replace(/\D/g,"")},v=[],b={name:"YaMap",props:{shops:{type:Object,required:!1,default:function(){}},url:{type:String,required:!1,default:""},apiKey:{type:String,default:""},multiselect:{type:Boolean,default:!1},type:{type:String,default:""},productId:{type:Number,default:null}},data:function(){return{center:[55.753215,37.622504],placemarks:[],controls:[],isMapReady:!1}},mounted:function(){var t=this;return p()(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)({apiKey:t.apiKey});case 2:t.getMapInfo(),t.$emit("map-initialized",i,o,v);case 4:case"end":return e.stop()}}),e)})))()},destroyed:function(){v.splice(0,v.length)},methods:{getMapInfo:function(){var t=this;if(""!==this.url)this.$axios.get(this.url).then((function(e){var a=e.data;t.center=a.center,t.placemarks=a.placemarks,t.createMap(),t.createZoomlayout(),t.addZoomControl(),t.addPlacemarks(t.placemarks)})).catch((function(t){console.error(t)}));else{if(!this.shops.hasOwnProperty("placemarks"))throw new Error("Необходимо передать параметр shops или url");var e=this.shops;this.center=e.center,this.placemarks=e.placemarks,this.createMap(),this.createZoomlayout(),this.addZoomControl(),this.addPlacemarks(this.placemarks)}},createMap:function(){i=new ymaps.Map(this.$el,{zoom:9,center:this.center,controls:[]},{searchControlProvider:"yandex#search",yandexMapDisablePoiInteractivity:!0,maxZoom:18});var t=ymaps.templateLayoutFactory.createClass('<div class="balloon-item balloon__cluster"><span class="balloon__cluster-amount">$[properties.geoObjects.length]</span></div>'),e=ymaps.templateLayoutFactory.createClass('<div class="balloon-item balloon__cluster balloon__cluster--hover"><span class="balloon__cluster-amount">$[properties.geoObjects.length]</span></div>');(o=new ymaps.Clusterer({useMapMargin:!1,zoomMargin:50,clusterIcons:[{href:"",size:[40,40],offset:[-20,-20]}],clusterIconContentLayout:t})).events.add("mouseenter",(function(t){t.get("target").options.set({clusterIconContentLayout:e})})).add("mouseleave",(function(e){e.get("target").options.set({clusterIconContentLayout:t})}))},addZoomControl:function(){var t=new ymaps.control.ZoomControl({options:{layout:n,float:"none",position:{top:"170px",right:"20px"}}});i.controls.add(t)},createZoomlayout:function(){var t=this;n=ymaps.templateLayoutFactory.createClass('<div class="zoom-control"><div class="zoom-control__zoom-in"><button type="button" class="zoom-button zoom-button-in"><span class="zoom-button-icon zoom-control__zoom-in-icon"></span></button></div><div class="zoom-control__zoom-out"><button type="button" class="zoom-button zoom-button-out"><span class="zoom-button-icon zoom-control__zoom-out-icon"></span></button></div></div>',{build:function(){n.superclass.build.call(this);for(var e=t.$el.querySelectorAll(".zoom-button-in"),a=t.$el.querySelectorAll(".zoom-button-out"),s=0;s<e.length;++s)e[s].addEventListener("click",ymaps.util.bind(this.zoomIn,this)),a[s].addEventListener("click",ymaps.util.bind(this.zoomOut,this))},clear:function(){for(var e=t.$el.querySelectorAll(".zoom-button-in"),a=t.$el.querySelectorAll(".zoom-button-out"),s=0;s<e.length;++s)e[s].removeEventListener("click",this.zoomIn),a[s].removeEventListener("click",this.zoomOut);n.superclass.clear.call(this)},zoomIn:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var t=this.getData().control.getMap();t.setZoom(t.getZoom()-1,{checkZoomRange:!0})}})},addPlacemarks:function(t){for(var e={},a=this,s=function(s){var i,n,r,c,p,u={iconLayout:"default#image",iconImageSize:[48,50],iconImageOffset:[-24,-50],hideIconOnBalloonOpen:!0,balloonPanelMaxMapArea:0,balloonMaxWidth:255,balloonMinWidth:255,balloonOffset:[-104,-10]},m="sberlogistics"===(e=t[s]).api?"sber":e.type;u.iconImageHref=h(m),u.iconType=m,u.pointType=null===(i=e)||void 0===i?void 0:i.type,u.payByCash=null===(n=e)||void 0===n?void 0:n.payByCash,u.payByCard=null===(r=e)||void 0===r?void 0:r.payByCard,u.shopName=null===(c=e)||void 0===c?void 0:c.shopName,u.shopAddress=null===(p=e)||void 0===p?void 0:p.shopAddress,"postamat"!==u.pointType&&"pickpoint"!==u.pointType||(u.postamatId=e.id,u.api=e.api,u.city=e.city),"shopCode"in e&&(u.shopCode=e.shopCode),"selected"in e&&(u.selected=e.selected,u.iconImageHref=h(m,!1,e.selected)),(l=new ymaps.Placemark(e.coords,{balloonContent:d(e)},u)).events.add("mouseenter",(function(t){var e=t.get("target").options;e.set({iconImageHref:h(e.get("iconType"),"active",e.get("selected"))})})).add("mouseleave",(function(t){var e=t.get("target").options;e.set({iconImageHref:h(e.get("iconType"),!1,e.get("selected"))})})).add("balloonopen",(function(e){var i=e.get("target").options,o=i.get("iconType"),n=a.$el.querySelectorAll('[class*="-balloon "], [class$="-balloon"]');if(a.multiselect)for(var l=0;l<n.length;++l)n[l].classList.add("balloon--multiselect");function r(){for(var t=a.$el.querySelectorAll(".js-selected-shop"),e=0;e<t.length;++e)t[e].addEventListener("click",(function(){if(a.multiselect)if(i.get("selected")){i.set({iconImageHref:h("shop")}),i.set({selected:!1});for(var t=0;t<n.length;++t)n[t].classList.remove("balloon-selected-shop");this.innerText="Выбрать магазин",a.selectShop(i._options)}else{i.set({iconImageHref:h("selected")}),i.set({selected:!0});for(var e=0;e<n.length;++e)n[e].classList.add("balloon-selected-shop");this.innerText="Магазин выбран",a.selectShop(i._options)}else if(v.forEach((function(t){var e=t.options.get("iconType");t.options.set({iconImageHref:h(e)}),t.options.set({selected:!1}),t.balloon.close()})),!i.get("selected")){i.set({iconImageHref:h("selected")}),i.set({selected:!0});for(var s=0;s<n.length;++s)n[s].classList.add("balloon-selected-shop");a.selectShop(i._options)}}))}if("postamat"===o)for(var c=0;c<n.length;++c)n[c].classList.add("balloon-post");if("pickpoint"===o)for(var p=0;p<n.length;++p)n[p].classList.add("balloon-point");if("sber"===o)for(var u=0;u<n.length;++u)n[u].classList.add("balloon-sber");if("shop"===o)for(var m=0;m<n.length;++m)n[m].classList.add("balloon-shop");if("service"===o)for(var b=0;b<n.length;++b)n[b].classList.add("balloon-service");if(i.get("selected"))for(var f=0;f<n.length;++f)n[f].classList.add("balloon-selected-shop");if("pickpoint"===a.type){var _=i.get("postamatId"),g=i.get("payByCash"),y=i.get("payByCard"),k=i.get("shopCode"),C=i.get("api"),w=a.getPointData(_,C,k),x=e.get("target").properties;w.then((function(e){if(e.data.status){var a={name:"Срок доставки",value:e.data.deliveryText},i={name:"Стоимость доставки",value:0===e.data.tariff.Tariff?"бесплатно":e.data.tariff.Tariff},o={name:"Оплата",value:""};g&&y?o.value="наличными, картой":g&&!y?o.value="только наличными":!g&&y&&(o.value="только картой"),x.set({balloonContent:d(t[s],a,i,o)}),r()}}))}r()})).add("balloonclose",(function(t){var e=t.get("target").options;e.set({iconImageHref:h(e.get("iconType"),!1,e.get("selected"))})})),o.add(l),v.push(l)},n=0;n<t.length;n++){var l;s(n)}i.geoObjects.add(o),i.setBounds(o.getBounds()),this.isMapReady=!0},selectShop:function(t){this.$emit("select-shop",t)},updateMap:function(){i&&(i.destroy(),this.isMapReady=!1),this.getMapInfo()},getPointData:function(t,e,a){var s=this;return p()(r.a.mark((function i(){var o;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return"/local/components/multisite/order.delivery/ajax.php",(o=new FormData).append("postomatId",t),o.append("action","pp_fast_order"),o.append("postomatNumber",a),o.append("postomatApi",e),o.append("productId",s.productId),i.next=9,s.$axios.post("/local/components/multisite/order.delivery/ajax.php",o);case 9:return i.abrupt("return",i.sent);case 10:case"end":return i.stop()}}),i)})))()}}},f=(a(301),a(0)),_=Object(f.a)(b,s,[],!1,null,null,null);_.options.__file="app/js/vue/ui/ya-map/ya-map.vue";e.a=_.exports},33:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"metro"},["moscow"===t.city||"moskva"===t.city?a("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon-metro",attrs:{fill:t.branchColor,symbol:"metro",size:"14 10"}}):"spb"===t.city?a("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon-metro",attrs:{fill:t.branchColor,symbol:"metro_spb",size:"14 12"}}):t._e(),t._v(" "),a("p",{staticClass:"metro__name"},[t._v(t._s(t.stationName))])])};s._withStripped=!0;a(302);var i={name:"ReMetro",props:{city:{type:String,default:""},branchColor:{type:String,default:""},stationName:{type:String,default:""}}},o=a(0),n=Object(o.a)(i,s,[],!1,null,null,null);n.options.__file="app/js/vue/ui/metro/metro.vue";e.a=n.exports},34:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"badge",class:t.badgeClass,style:t.options.colorCode?"background-color:#"+t.options.colorCode:"",on:{mouseover:function(e){t.hover=!0,t.badgePos(e)},mouseleave:function(e){t.hover=!1,t.badgePos(e)}}},[t.options.icon?a("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"badge__icon",attrs:{symbol:t.badgeIcon,size:"13 13"}}):t._e(),t._v(" "),a("div",{staticClass:"badge__title",class:t.titleBigClass,style:t.options.textColorCode?"color:#"+t.options.textColorCode:""},[t._t("default")],2),t._v(" "),"badge"==t.options.type&&t.options.hintText?a("div",{staticClass:"badge-hint"},[a("div",{staticClass:"badge-hint__box"},[a("p",{domProps:{innerHTML:t._s(t.options.hintText)}}),t._v(" "),t.options.hintLink?a("div",{staticClass:"badge-hint__link"},[a("a",{staticClass:"ui-link",attrs:{href:t.options.hintLink}},[t._v("\n          Подробнее\n        ")])]):t._e()])]):"label"==t.options.type&&t.options.hintText?a("div",{staticClass:"badge-hint badge-hint--icon"},[a("div",{staticClass:"badge-hint__icon show-hint icon-hint",on:{mouseover:function(e){t.hover=!0,t.badgePos(e)},mouseleave:function(e){t.hover=!1,t.badgePos(e)}}},[a("div",{staticClass:"badge-hint__box badge-hint__box--icon"},[a("p",[t._v(t._s(t.options.hintText))]),t._v(" "),t.options.hintLink?a("div",{staticClass:"badge-hint__link"},[a("a",{staticClass:"ui-link",attrs:{href:t.options.hintLink}},[t._v("\n            Подробнее\n          ")])]):t._e()])])]):t._e()])};s._withStripped=!0;a(308);var i={name:"ReBadge",props:{options:{type:Object,default:function(){}}},data:function(){return{hover:!1,badgeIcons:{global:"badge-global"}}},computed:{badgeIcon:function(){return this.badgeIcons[this.options.icon]},badgeClass:function(){return["badge"==this.options.type&&this.options.color?"badge--"+this.options.color:"","label"==this.options.type?"badge--label":"","badge"==this.options.type&&this.options.hintText?"show-hint":""]},titleBigClass:function(){return[this.options.titleBig?"badge__title--big":""]}},methods:{badgePos:function(t){var e=t.currentTarget;if(e.classList.contains("show-hint")){var a=e.querySelector(".badge-hint__box"),s=a.offsetWidth,i=document.documentElement.clientWidth-(a.getBoundingClientRect().left+s);this.hover?i<0&&(i-=20,a.setAttribute("style","transform: translateX("+i+"px);"),a.classList.add("hide-before")):(a.removeAttribute("style"),a.classList.remove("hide-before"))}}}},o=a(0),n=Object(o.a)(i,s,[],!1,null,null,null);n.options.__file="app/js/vue/ui/badge/badge.vue";e.a=n.exports},342:function(t,e,a){"use strict";var s=a(66);a.n(s).a},343:function(t,e,a){},36:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["tabs",t.tabsModifier,t.mobileTransform?"tabs--mobile-transform":""]},[a("ul",{staticClass:"tabs__list"},[t._t("before"),t._v(" "),t._l(t.tabs,(function(e,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.tabsShown,expression:"tabsShown"}],key:s,staticClass:"tabs__item",attrs:{"data-dates":!(!t.dates||!e.data.express)&&"express"}},[t.dates?a("a",{staticClass:"tabs__btn",class:{"tabs__btn--active":e.isActive&&!e.disabled},attrs:{"aria-selected":e.isActive,href:e.hash,"aria-disabled":e.disabled,role:"tab"},domProps:{innerHTML:t._s(t.dates&&e.date?"<p class='tabs__text-small'>"+e.date.dayOfWeek+"</p><p class='tabs__text-big'>"+e.date.dayNumber+"&nbsp;<span class='tabs__text-small'>"+e.date.month+"</span></p>":Array.isArray(e.name)?e.name.join(""):e.name)},on:{click:function(a){t.selectTabEvent(a,e.hash,e.name,e.datepicker),t.showDatepicker(e.datepicker)}}}):t._e(),t._v(" "),e.datepicker?a("date-picker",{ref:"datepicker",refInFor:!0,attrs:{lang:t.datepickerLang,"disabled-date":t.disabledBeforeMinDayAndAfterMaxDay,"popup-class":"ui-datepicker ui-datepicker--oneclickbuy"},on:{change:function(e){return t.selectDate()}},model:{value:t.datepickerValue,callback:function(e){t.datepickerValue=e},expression:"datepickerValue"}}):t._e(),t._v(" "),t.dates?t._e():a("a",{staticClass:"tabs__btn",class:{"tabs__btn--active":""!==t.chosenCategoryName&&e.name==t.chosenCategoryName||""===t.chosenCategoryName&&e.isActive&&!e.disabled},attrs:{"aria-selected":e.isActive,href:e.hash,"aria-disabled":e.disabled,role:"tab"},on:{click:function(a){return t.selectTabEvent(a,e.hash,e.name,!1)}}},[t._v("\n          "+t._s(e.name)+"\n          "),e.icon?a("span",{class:"tabs__icon-"+e.icon}):t._e()])],1)})),t._v(" "),t.mobileTransform&&t.pageSize<1024?a("re-select",{directives:[{name:"show",rawName:"v-show",value:t.selectShown,expression:"selectShown"}],ref:"mobileSelect",staticClass:"select--bordered",attrs:{options:t.selectItems,label:""},on:{"change-value":t.changeTabBySelect}}):t._e(),t._v(" "),t._t("after")],2),t._v(" "),a("div",{staticClass:"tabs__content"},[t._t("default")],2)])};s._withStripped=!0;a(311);var i=a(3),o=a(108),n=a(123),l=(a(313),a(314),{name:"ReTabs",components:{ReSelect:o.a,DatePicker:n.default},mixins:[i.a],props:{sizeMini:{type:Boolean,default:!1},extra:{type:Boolean,default:!1},solid:{type:Boolean,default:!1},chosenCategoryName:{type:String,default:""},dates:{type:Boolean,default:!1},mobileTransform:{type:Boolean,default:!1},datepickerMinDay:{type:Date,default:function(){new Date}},datepickerMaxDay:{type:Date,default:function(){new Date}},noHashChange:{type:Boolean,default:!1}},data:function(){return{tabs:[],selectItems:[],tabsShown:!0,selectShown:!1,children:this.$children,datepickerValue:"",datepickerLang:{monthFormat:"MMMM"}}},computed:{tabsModifier:function(){return{"tabs--mini":this.sizeMini,"tabs--extra":this.extra,"tabs--solid":this.solid,"tabs--dates":this.dates}}},watch:{children:function(t){this.tabs=t.filter((function(t){return"ReTabItem"===t.$options.name}))},tabs:function(){var t=this;this.mobileTransform&&new Promise((function(e){t.selectItems.splice(0,t.selectItems.length),t.tabs.forEach((function(e){t.selectItems.push(e.name)})),e()})).then((function(){t.tabsShown=!0,t.selectShown=!1}))}},created:function(){this._addPageTypeWatcher_P(),this.tabs=this.$children},mounted:function(){var t=this;""===this.chosenCategoryName&&(window.addEventListener("hashchange",(function(){return t.selectTab(window.location.hash)})),window.addEventListener("load",(function(){return t.selectTab(window.location.hash)})),this.tabs.length&&(this.tabs=this.tabs.filter((function(t){return"ReTabItem"===t.$options.name})),this.tabs.length&&(this.selectTab(this.tabs[0].hash),this.mobileTransform&&(this.tabs.forEach((function(e){t.selectItems.push(e.name)})),this.controlTabs(),window.addEventListener("resize",(function(){t.controlTabs()}))))))},methods:{findTab:function(t){return this.tabs.find((function(e){return e.hash===t}))},selectTab:function(t){var e=this.findTab(t);e&&(this.tabs.forEach((function(e){e.isActive=e.hash==t})),this.$emit("active-tab",e))},unselectTabs:function(){this.tabs.forEach((function(t){t.isActive=!1}))},selectTabEvent:function(t,e,a,s){var i;s?t.preventDefault():(this.noHashChange&&t&&t.preventDefault(),this.selectTab(e),this.$emit("change-tab",e),this.$emit("pick-category",a),this.mobileTransform&&this.pageSize<1024&&(this.tabs.forEach((function(t){t.hash===e&&(i=t.name)})),this.$refs.mobileSelect.$data.value=i,this.tabsShown=!1,this.selectShown=!0))},controlTabs:function(){var t;this.mobileTransform&&this.pageSize<1024?this.tabsShown&&this.unselectTabs():(this.tabs.forEach((function(e){e.isActive&&(t=e.hash)})),this.selectTab(void 0===t?this.tabs[0].hash:t),this.tabsShown=!0,this.selectShown=!1)},changeTabBySelect:function(t){var e;this.tabs.forEach((function(a){return a.name===t?e=a.hash:null})),this.selectTab(e),this.$emit("change-tab",e)},showDatepicker:function(t){t&&this.$refs.datepicker[0].openPopup()},disabledBeforeMinDayAndAfterMaxDay:function(t){this.datepickerMinDay.setHours(0,0,0,0);var e=new Date(2021,11,31),a=new Date(2022,0,1),s=new Date(2022,0,2);return t.getTime()<this.datepickerMinDay.getTime()||t.getTime()>this.datepickerMaxDay.getTime()||t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()||t.getDate()===a.getDate()&&t.getMonth()===a.getMonth()||t.getDate()===s.getDate()&&t.getMonth()===s.getMonth()},selectDate:function(){this.$emit("select-date",this.datepickerValue)}}}),r=a(0),c=Object(r.a)(l,s,[],!1,null,null,null);c.options.__file="app/js/vue/ui/tabs/tabs.vue";e.a=c.exports},37:function(t,e,a){"use strict";var s=function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.isActive,expression:"isActive"}],attrs:{role:"tabpanel"}},[this._t("default")],2)};s._withStripped=!0;var i={name:"ReTabItem",props:{name:{type:String,required:!0,default:""},href:{type:String,default:""},disabled:{type:Boolean,default:!1},chosen:{type:Boolean,default:!1},date:{type:Object,default:function(){}},datepicker:{type:Object,default:function(){}},data:{type:Object,default:function(){}},icon:{type:String,default:""}},data:function(){return{isActive:!1}},computed:{hash:function(){return"#"+this.href}},created:function(){this.chosen&&(this.isActive=!0)}},o=a(0),n=Object(o.a)(i,s,[],!1,null,null,null);n.options.__file="app/js/vue/ui/tabs/tab-item.vue";e.a=n.exports},56:function(t,e,a){},66:function(t,e,a){}}]);
/* End */
;
; /* Start:"a:4:{s:4:"full";s:96:"/local/templates/re-store-vue/frontend/build/appleProducts~catalog~home.bundle.js?16558018674791";s:6:"source";s:81:"/local/templates/re-store-vue/frontend/build/appleProducts~catalog~home.bundle.js";s:3:"min";s:0:"";s:3:"map";s:0:"";}"*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{290:function(t,e,a){"use strict";var s=a(50);a.n(s).a},292:function(t,e,a){"use strict";var s=a(51);a.n(s).a},43:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grid advantages"},[a("div",{staticClass:"grid__row"},[a("a",{staticClass:"grid__item advantages-item",attrs:{href:"/about"}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon-feature",attrs:{symbol:"feature_apple",size:"50 50"}}),t._v(" "),a("p",{staticClass:"h3 advantages-item__title"},[t._v("\n        Официальный реселлер Apple\n      ")]),t._v(" "),a("p",{staticClass:"advantages-item__text"},[t._v("\n        Крупнейшая сеть Apple Premium Reseller в мире, открыты\n        95 магазинов в России. Наши продавцы прошли сертификацию\n        Apple.\n      ")])]),t._v(" "),a("a",{staticClass:"grid__item advantages-item",attrs:{href:"/return"}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon-feature",attrs:{symbol:"feature_return",size:"50 50"}}),t._v(" "),a("p",{staticClass:"h3 advantages-item__title"},[t._v("\n        Обмен в течение 30 дней\n      ")]),t._v(" "),a("p",{staticClass:"advantages-item__text"},[t._v("\n        Мы осуществляем обмен в любом магазине re:Store\n        в течение 30 дней с момента покупки.\n      ")])]),t._v(" "),a("a",{staticClass:"grid__item advantages-item",attrs:{href:"/care"}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon-feature",attrs:{symbol:"feature_service",size:"50 50"}}),t._v(" "),t._m(0),t._v(" "),a("p",{staticClass:"advantages-item__text"},[t._v("\n        Все специалисты прошли сертификацию Apple и готовы решить\n        проблему любой сложности.\n      ")])]),t._v(" "),t.pageSize>=t.desktop?a("a",{staticClass:"grid__item advantages-item",attrs:{href:"/services"}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon-feature",attrs:{symbol:"feature_services",size:"50 50"}}),t._v(" "),a("p",{staticClass:"h3 advantages-item__title"},[t._v("Услуги")]),t._v(" "),a("p",{staticClass:"advantages-item__text"},[t._v("\n        Рассрочка, сервисные программы, срочная доставка, подписка на iPhone и\n        многие другие услуги для клиентов re:Store\n      ")])]):t._e()])])};s._withStripped=!0;var n={name:"GridAdvantages",mixins:[a(3).a],data:function(){return{desktop:1400}},created:function(){this._addPageTypeWatcher_P()}},i=(a(290),a(0)),r=Object(i.a)(n,s,[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"h3 advantages-item__title"},[this._v("\n        Авторизованные\n        "),e("br"),this._v("\n        сервисные центры Apple\n      ")])}],!1,null,null,null);r.options.__file="app/js/vue/components/common/grid-advantages/grid-advantages.vue";e.a=r.exports},44:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.dataCheck?a("div",{staticClass:"seo-text"},[t.data.noindex?[a("noindex",[t.data.title?a("h3",{staticClass:"seo-text__title"},[t._v("\n        "+t._s(t.data.title)+"\n      ")]):t._e(),t._v(" "),a("div",{ref:"seoText",staticClass:"seo-text__column",class:{"seo-text__column--show":t.showText},domProps:{innerHTML:t._s(t.data.text)}})])]:[t.data.title?a("h3",{staticClass:"seo-text__title"},[t._v("\n      "+t._s(t.data.title)+"\n    ")]):t._e(),t._v(" "),a("div",{ref:"seoText",staticClass:"seo-text__column",class:{"seo-text__column--show":t.showText},domProps:{innerHTML:t._s(t.data.text)}}),t._v(" "),"mobile"===t.pageType?a("re-button",{staticClass:"seo-text__btn",attrs:{"type-link":""},on:{click:t.toogleText}},[t._v("\n      Развернуть\n    ")]):t._e()]],2):t._e()};s._withStripped=!0;var n=a(10),i=a(3),r={name:"SeoText",components:{ReButton:n.a},mixins:[i.a],props:{data:{type:Object,default:function(){}}},data:function(){return{showText:!1}},computed:{dataCheck:function(){var t;return this.data||(null===(t=this.data)||void 0===t?void 0:t.text)}},created:function(){this._addPageTypeWatcher_P()},methods:{toogleText:function(t){"Развернуть"===t.target.innerText?t.target.innerText="Cвернуть":t.target.innerText="Развернуть",this.showText=!this.showText}}},_=(a(292),a(0)),o=Object(_.a)(r,s,[],!1,null,null,null);o.options.__file="app/js/vue/components/common/seo-text/seo-text.vue";e.a=o.exports},50:function(t,e,a){},51:function(t,e,a){}}]);
/* End */
;
; /* Start:"a:4:{s:4:"full";s:84:"/local/templates/re-store-vue/frontend/build/catalog~home.bundle.js?1658829143106417";s:6:"source";s:67:"/local/templates/re-store-vue/frontend/build/catalog~home.bundle.js";s:3:"min";s:0:"";s:3:"map";s:0:"";}"*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{119:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-box"},[a("div",{staticClass:"modal-wrapper"},[a("button",{staticClass:"btn-close",on:{click:function(t){e.$close(e.unfixBody())}}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close",size:"20 20"}})]),e._v(" "),Object.keys(e.preorderData.delivery).length?a("div",{staticClass:"modal-content modal-preorder"},[a("h1",{staticClass:"modal-preorder__title"},[e._v("Предзаказ и предоплата")]),e._v(" "),a("p",{staticClass:"modal-preorder__subtitle modal-preorder__shipment-plan",domProps:{innerHTML:e._s(e.preorderData.shipmentPlan)}}),e._v(" "),e.preorderData.description&&e.preorderData.description.length>0?a("div",{staticClass:"modal-preorder__subtitle",domProps:{innerHTML:e._s(e.preorderData.description)}},[e._v("\n         \n      ")]):e.isB2b?a("p",[e._v("\n        Необходимо внести полную предоплату.\n        "),a("br"),e._v(" "),a("small",[e._v("\n          Как только станут известны точные сроки доставки заказа, мы свяжемся\n          с вами. Оплатить предзаказ бонусами нельзя.\n        ")])]):a("p",[e._v("\n        Оформить предзаказ можно на сайте или в \n        "),a("a",{staticClass:"ui-link",attrs:{href:"/shops/",target:"_blank"}},[e._v("\n          розничном магазине\n        ")]),e._v("\n         по графику его работы. \n        "),a("br"),e._v("\n        Для оформления предзаказа необходимо внести 100% предоплату. \n        "),a("br"),e._v("\n        Как только мы будем готовы выполнить ваш предзаказ, мы проинформируем\n        вас. \n        "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v("\n        Юридические лица могут оформить предзаказ двумя способами: отправить\n        электронное письмо в произвольной форме на email адрес \n        "),a("a",{staticClass:"ui-link",attrs:{href:"mailto:b2b@re-store.ru"}},[e._v("b2b@re-store.ru")]),e._v("\n         с указанием необходимых моделей устройств и их количества, а\n        также сведения о плательщике для получения счета на оплату, либо\n        обратиться непосредственно в розничный магазин Сети магазинов\n        re:Store.\n      ")]),e._v(" "),a("re-tabs",{ref:"deliveryTabs",staticClass:"delivery-tabs",attrs:{extra:"","no-hash-change":""},on:{"change-tab":function(t){return e.deliveryChanged(t)}}},[a("re-tab-item",{attrs:{disabled:!e.isQuotasAvailable(e.deliveryTypes.courier),href:"courier",name:"Доставка"}}),e._v(" "),e.shops.placemarks&&e.shops.placemarks.length>0?a("re-tab-item",{attrs:{disabled:!e.isQuotasAvailable(e.deliveryTypes.shop),href:"shop",name:"В магазине"}},[4===e.delivery?a("div",{staticClass:"choose-shop-wrapper"},[a("div",{staticClass:"map-or-list"},[e._v("\n              Выбор магазина\n              "),a("span",{staticClass:"tab-item",class:{active:e.showMap},on:{click:function(t){e.showMap=!e.showMap}}},[e._v("\n                Карта\n              ")]),e._v(" "),a("span",{staticClass:"tab-item",class:{active:!e.showMap},on:{click:function(t){e.showMap=!e.showMap}}},[e._v("\n                Список\n              ")])]),e._v(" "),a("ya-map",{directives:[{name:"show",rawName:"v-show",value:e.showMap,expression:"showMap"}],attrs:{shops:e.shops},on:{"select-shop":function(t){return e.changeMapShop(t)}}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showMap,expression:"!showMap"}],staticClass:"shop-list"},e._l(e.shops.placemarks,(function(t,s){return a("re-radio",{key:s,staticClass:"shop-radio",attrs:{value:t.shopCode,"is-checked":e.selectedShop===t.shopCode,name:"radio_shop"},on:{change:function(t){return e.changeRadioShop(t)}}},[a("div",{staticClass:"shop-radio__name"},[a("span",{staticClass:"name",domProps:{innerHTML:e._s(t.shopName)}}),e._v(" "),a("re-metro",{attrs:{"branch-color":t.metroColor,"station-name":t.metroName,city:"moscow"}}),e._v(" "),e.city?a("div",{staticClass:"shop-radio__name-city"},[e._v("\n                    "+e._s(e.city)+"\n                  ")]):e._e()],1),e._v(" "),a("span",{staticClass:"address-time"},[a("span",{domProps:{innerHTML:e._s(t.shopAddress)}}),e._v(" "),a("span",{domProps:{innerHTML:e._s(t.workTime)}})]),e._v(" "),t.phones&&t.phones.length>0?a("span",{staticClass:"shop-phone"},[e._v("\n                  "+e._s(t.phones[0])+"\n                ")]):e._e()])})),1)],1):e._e()]):e._e()],1),e._v(" "),a("div",{staticClass:"contacts-and-services"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"input-container"},[a("label",{staticClass:"input-container__name",attrs:{for:"name"}},[e._v("Имя")]),e._v(" "),a("re-input",{attrs:{id:"name","validation-params":e.$v.name,name:"name",type:"text",placeholder:"Имя"},model:{value:e.$v.name.$model,callback:function(t){e.$set(e.$v.name,"$model",t)},expression:"$v.name.$model"}})],1),e._v(" "),a("div",{staticClass:"input-container"},[a("label",{staticClass:"input-container__name",attrs:{for:"email"}},[e._v("\n              Email\n            ")]),e._v(" "),a("re-input",{attrs:{id:"email","validation-params":e.$v.email,name:"email",type:"email",placeholder:"Email"},model:{value:e.$v.email.$model,callback:function(t){e.$set(e.$v.email,"$model",t)},expression:"$v.email.$model"}})],1),e._v(" "),a("div",{staticClass:"input-container"},[a("label",{staticClass:"input-container__name",attrs:{for:"phone"}},[e._v("\n              Телефон\n            ")]),e._v(" "),a("re-input",{attrs:{id:"phone",mask:"+7 (###) ###-##-##","validation-params":e.$v.phone,name:"phone",type:"tel",placeholder:"Телефон"},on:{input:e.changePhoneInput},model:{value:e.$v.phone.$model,callback:function(t){e.$set(e.$v.phone,"$model",t)},expression:"$v.phone.$model"}})],1)]),e._v(" "),e.servicePrograms.length>0?a("div",{staticClass:"preorder-services"},e._l(e.servicePrograms,(function(t,s){return a("div",{key:s},[t.name?a("div",{staticClass:"service-item"},[a("div",{staticClass:"service-item__head"},[a("re-checkbox",{attrs:{value:t.value,name:"service_program"},on:{change:function(a){return e.serviceChanged(a,t.value,t.price)}}},[a("b",[e._v(e._s(t.name))])]),e._v(" "),a("b",{staticClass:"service-item__price"},[e._v("\n                  "+e._s(e._f("currency")(t.price))+"\n                  ₽\n                ")])],1),e._v(" "),a("p",{staticClass:"p p--small",domProps:{innerHTML:e._s(t.description)}},[e._v("\n                 \n              ")])]):e._e()])})),0):e._e(),e._v(" "),"mobile"!==e.pageType||e.mobileCarousel?e._e():a("div",{staticClass:"show-carousel-btn btn",on:{click:function(t){e.mobileCarousel=!0}}},[e._v("\n          Добавьте аксессуары\n        ")])]),e._v(" "),e.products.length>0?a("div",{staticClass:"preorder-carousel",class:{"show-in-mobile":e.mobileCarousel}},[a("h2",[e._v("Популярные аксессуары")]),e._v(" "),a("swiper",{ref:"popularSwiper",attrs:{options:e.swiperOptions}},e._l(e.products,(function(t,s){return a("swiper-slide",{key:s},[a("div",{staticClass:"preorder-popular"},[e.dynamicPopular.has(t.id)?a("span",{staticClass:"popular-remove",on:{click:function(a){return e.togglePopular(t.id,t.price)}}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close",size:"15 15"}})]):e._e(),e._v(" "),a("a",{staticClass:"popular-link",attrs:{href:t.link}},[a("div",{staticClass:"img-wrapper"},[a("img",{staticClass:"preorder-popular-img",attrs:{src:t.img,alt:""}})]),e._v(" "),a("div",{staticClass:"popular-name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"popular-price"},[e._v("\n                  "+e._s(e._f("currency")(t.price))+"\n                  ₽\n                ")])]),e._v(" "),a("div",{staticClass:"popular-status",class:{"--gray":e.dynamicPopular.has(t.id)},on:{click:function(a){return e.togglePopular(t.id,t.price)}}},[e.dynamicPopular.has(t.id)?a("span",[e._v("В заказе")]):a("span",[e._v("Добавить")])])])])})),1),e._v(" "),a("div",{staticClass:"preorder-btn-prev btn-arrow"},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"arrow_left",size:"7 14"}})]),e._v(" "),a("div",{staticClass:"preorder-btn-next btn-arrow"},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"arrow_right",size:"7 14"}})])],1):e._e(),e._v(" "),a("div",{staticClass:"preorder-footer"},[a("span",{staticClass:"total-price"},[e._v("\n          Итого:\n          "),a("b",[e._v("\n            "+e._s(e._f("currency")(e.totalPrice))+"\n            ₽\n          ")])]),e._v(" "),e.serverErrors.length>0?a("div",[a("br"),e._v(" "),e._l(e.serverErrors,(function(t,s){return a("p",{key:s,staticClass:"p--error"},[e._v("\n            "+e._s(t)+"\n          ")])}))],2):e._e(),e._v(" "),a("div",{staticClass:"preorder-controls"},[a("re-button",{class:{"btn--gray":!e.agreement},on:{click:e.buyPreorder}},[e._v("\n            "+e._s(e.buyPreorderText)+"\n          ")]),e._v(" "),a("re-checkbox",{attrs:{"is-state":!0,value:"Y",name:"agreement"},on:{change:function(t){return e.agreementChanged(t)}}},[e._v("\n            Принимаю\n            "),a("a",{attrs:{href:"/oferta/",target:"_blank"}},[e._v("условия оферты")]),e._v("\n            и\n            "),a("a",{attrs:{href:"/oferta/politika/",target:"_blank"}},[e._v("\n              политику конфиденциальности\n            ")])]),e._v(" "),e.showManager?a("div",{staticClass:"input-container"},[a("label",{staticClass:"input-container__name",attrs:{for:"manager"}},[e._v("\n              Консультант\n            ")]),e._v(" "),a("re-input",{attrs:{id:"manager","validation-params":{},name:"manager",type:"text",placeholder:"Служебное поле"},model:{value:e.manager,callback:function(t){e.manager=t},expression:"manager"}})],1):a("span",{staticClass:"consultant-trigger",on:{click:function(t){e.showManager=!0}}},[e._v("\n            Консультант (cлужебное поле)\n          ")])],1)])],1):a("div",{staticClass:"modal-content modal-preorder"},[a("h1",{staticClass:"modal-preorder__title"},[e._v("Предзаказ и предоплата")]),e._v(" "),e._m(0)])])])};s._withStripped=!0;var i=a(1),n=a.n(i),r=a(4),o=a.n(r),c=a(25),l=a.n(c),d=a(3),p=a(16),u=a(36),h=a(37),m=a(21),v=a(26),_=a(14),y=a(10),f=a(32),b=a(8),g=a(27),C=a(33),k=a(40),w=a(11),P=Object(w.create)(k.a),D=Object(w.create)(p.a),S={name:"ModalPreorder",components:{ReTabs:u.a,ReTabItem:h.a,ReCheckbox:m.a,ReRadio:v.a,ReInput:_.a,ReButton:y.a,YaMap:f.a,ReMetro:C.a},mixins:[d.a,p.a],props:{data:{type:Object,default:function(){}}},data:function(){var e,t;return{deliveryTypes:{courier:2,shop:4},preorderData:{},id:0,totalPrice:null,delivery:2,selectedShop:"",name:"",email:"",phone:"",manager:"",servicePrograms:[],products:{},agreement:!0,showManager:!1,showMap:!0,mobileCarousel:!1,selectedServices:new Set,selectedPopular:new Set,shops:{},city:null===(e=window.globalData)||void 0===e?void 0:e.userInfo.city,isB2b:null===(t=window.digitalData)||void 0===t?void 0:t.user.legalEntity,serverErrors:[],swiperOptions:{preloadImages:!1,watchSlidesVisibility:!0,lazy:{loadPrevNext:!0,loadPrevNextAmount:1},navigation:{nextEl:".preorder-btn-next",prevEl:".preorder-btn-prev"},breakpoints:{320:{slidesPerView:2.3,spaceBetween:20},768:{slidesPerView:4,spaceBetween:20},1100:{slidesPerView:5,spaceBetween:30}}},onlinePaySettings:null}},computed:{dynamicPopular:function(){return this.selectedPopular},swiper:function(){return this.$refs.popularSwiper.$swiper},buyPreorderText:function(){return this.onlinePaySettings?"Перейти к оплате":"Оформить предзаказ"}},created:function(){this._addPageTypeWatcher_P(),this.initData()},validations:{name:{required:b.required,alpha:g.a},phone:{required:b.required,tel:g.c},email:{required:b.required,email:b.email}},mounted:function(){this.isQuotasAvailable(this.deliveryTypes.courier)||this.$refs.deliveryTabs.selectTabEvent(null,"#shop")},methods:{initData:function(){var e,t;this.preorderData=this.data.data;var a=this.data.data;this.id=a.id,this.totalPrice=a.price,a.name&&a.name.length>0&&(this.name=a.name),a.email&&a.email.length>0&&(this.email=a.email),a.phone&&a.phone.length>0&&(this.phone=a.phone),a.servicePrograms&&a.servicePrograms.length>0&&(this.servicePrograms=a.servicePrograms),a.popularProducts&&a.popularProducts.length>0&&(this.products=a.popularProducts),(null===(e=a.delivery)||void 0===e||null===(t=e[this.deliveryTypes.shop])||void 0===t?void 0:t.SHOPS)&&(this.shops=a.delivery[this.deliveryTypes.shop].SHOPS),this.onlinePaySettings=a.onlinePaySettings},deliveryChanged:function(e){if("#courier"===e)this.delivery=2,this.selectedShop="";else if("#shop"===e){this.delivery=4;for(var t=0;t<this.shops.placemarks.length;t++){var a=this.shops.placemarks[t];if(a.selected){this.selectedShop=a.shopCode;break}}}},serviceChanged:function(e,t,a){e?(this.selectedServices.add(t),this.totalPrice+=a):(this.selectedServices.delete(t),this.totalPrice-=a)},togglePopular:function(e,t){this.selectedPopular.has(e)?(this.selectedPopular.delete(e),this.totalPrice-=t):(this.selectedPopular.add(e),this.totalPrice+=t)},agreementChanged:function(e){this.agreement=e},changeMapShop:function(e){var t=e.shopCode;this.selectedShop=t,this.clearServerErrors()},changeRadioShop:function(e){this.selectedShop=e,this.clearServerErrors()},changePhoneInput:function(e){"+7 (8"===e&&(this.phone="+7 (")},clearServerErrors:function(){this.serverErrors.splice(0,this.serverErrors.length)},buyPreorder:function(){var e,t,a,s={action:"submitPreorder",isVue:!0,id:this.id,name:this.name,email:this.email,phone:this.phone,delivery:this.delivery,shop:this.selectedShop,manager:this.manager,service_program:l()(this.selectedServices),accessories:l()(this.selectedPopular),onlinePaySettings:this.onlinePaySettings};this.clearServerErrors(),"shop"!==(null===(e=this.$refs.deliveryTabs)||void 0===e||null===(t=e.$children)||void 0===t||null===(a=t.find((function(e){return e.isActive})))||void 0===a?void 0:a.href)||s.shop?this.agreement&&(this.$v.$touch(),this.$v.$invalid||this.submitPreorder(s)):this.serverErrors.push("Выберите магазин")},submitPreorder:function(e){var t=this;return o()(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.serverErrors=[],document.body.classList.add("body-loading-white"),"/local/classes/vue/rest-vue/product.php",a.next=5,t.$axios.post("/local/classes/vue/rest-vue/product.php",e);case 5:""!==(s=a.sent).data.data.link&&null!==s.data.data.link?window.location.href=s.data.data.link:s.data.data.ERRORS?(document.body.classList.remove("body-loading-white"),t.serverErrors=s.data.data.ERRORS,t.$close(!0),D({center:!0,size:"small",content:"<p>Извините, эта модель недоступна для предзаказа</p>"})):s.data.data.orderNumber&&(document.body.classList.remove("body-loading-white"),t.$close(!0),P({orderTitle:"Ваш заказ ".concat(s.data.data.orderNumber," принят!"),orderDescr:"Мы уведомим Вас, когда товар поступит в продажу.",reloadPageAfterModalClose:!0}));case 7:case"end":return a.stop()}}),a)})))()},isQuotasAvailable:function(e){var t,a;return!!(null===(t=this.preorderData)||void 0===t||null===(a=t.delivery)||void 0===a?void 0:a.hasOwnProperty(e))}}},x=(a(340),a(0)),T=Object(x.a)(S,s,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-preorder__note"},[t("p",[this._v("Извините, эта модель недоступна для предзаказа")])])}],!1,null,null,null);T.options.__file="app/js/vue/components/common/modals/modal-preorder/modal-preorder.vue";t.a=T.exports},120:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-box"},[a("div",{staticClass:"modal-wrapper"},[a("button",{staticClass:"btn-close",on:{click:function(t){return e.closeHandler()}}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close",size:"20 20"}})]),e._v(" "),a("div",{staticClass:"modal-content modal-preorder"},[a("h1",{staticClass:"modal-preorder__title"},[e._v("Товар под заказ")]),e._v(" "),a("p",{staticClass:"modal-preorder__subtitle modal-preorder__shipment-plan",domProps:{innerHTML:e._s(e.preorderData.shipmentPlan)}}),e._v(" "),a("p"),e._v(" "),a("re-tabs",{staticClass:"delivery-tabs",attrs:{extra:"","no-hash-change":""},on:{"change-tab":function(t){return e.deliveryChanged(t)}}},[a("re-tab-item",{attrs:{href:"courier",name:"Доставка"}}),e._v(" "),e.shops.placemarks&&e.shops.placemarks.length>0?a("re-tab-item",{attrs:{href:"shop",name:"В магазине"}},[4===e.delivery?a("div",{staticClass:"choose-shop-wrapper"},[a("div",{staticClass:"map-or-list"},[e._v("\n              Выбор магазина\n              "),a("span",{staticClass:"tab-item",class:{active:e.showMap},on:{click:function(t){e.showMap=!e.showMap}}},[e._v("\n                Карта\n              ")]),e._v(" "),a("span",{staticClass:"tab-item",class:{active:!e.showMap},on:{click:function(t){e.showMap=!e.showMap}}},[e._v("\n                Список\n              ")])]),e._v(" "),a("ya-map",{directives:[{name:"show",rawName:"v-show",value:e.showMap,expression:"showMap"}],attrs:{shops:e.shops},on:{"select-shop":function(t){return e.changeMapShop(t)}}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showMap,expression:"!showMap"}],staticClass:"shop-list"},e._l(e.shops.placemarks,(function(t,s){return a("re-radio",{key:s,staticClass:"shop-radio",attrs:{value:t.shopCode,"is-checked":e.selectedShop===t.shopCode,name:"radio_shop"},on:{change:function(t){return e.changeRadioShop(t)}}},[a("div",{staticClass:"shop-radio__name"},[a("span",{staticClass:"name",domProps:{innerHTML:e._s(t.shopName)}}),e._v(" "),a("re-metro",{attrs:{"branch-color":t.metroColor,"station-name":t.metroName,city:"moscow"}}),e._v(" "),e.city?a("div",{staticClass:"shop-radio__name-city"},[e._v("\n                    "+e._s(e.city)+"\n                  ")]):e._e()],1),e._v(" "),a("span",{staticClass:"address-time"},[a("span",{domProps:{innerHTML:e._s(t.shopAddress)}}),e._v(" "),a("span",{domProps:{innerHTML:e._s(t.workTime)}})]),e._v(" "),t.phones&&t.phones.length>0?a("span",{staticClass:"shop-phone"},[e._v("\n                  "+e._s(t.phones[0])+"\n                ")]):e._e()])})),1)],1):e._e()]):e._e()],1),e._v(" "),a("div",{staticClass:"contacts-and-services"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"input-container"},[a("label",{staticClass:"input-container__name",attrs:{for:"name"}},[e._v("Имя")]),e._v(" "),a("re-input",{attrs:{id:"name","validation-params":e.$v.name,name:"name",type:"text",placeholder:"Имя"},model:{value:e.$v.name.$model,callback:function(t){e.$set(e.$v.name,"$model",t)},expression:"$v.name.$model"}})],1),e._v(" "),a("div",{staticClass:"input-container"},[a("label",{staticClass:"input-container__name",attrs:{for:"email"}},[e._v("\n              Email\n            ")]),e._v(" "),a("re-input",{attrs:{id:"email","validation-params":e.$v.email,name:"email",type:"email",placeholder:"Email"},model:{value:e.$v.email.$model,callback:function(t){e.$set(e.$v.email,"$model",t)},expression:"$v.email.$model"}})],1),e._v(" "),a("div",{staticClass:"input-container"},[a("label",{staticClass:"input-container__name",attrs:{for:"phone"}},[e._v("\n              Телефон\n            ")]),e._v(" "),a("re-input",{attrs:{id:"phone",mask:"+7 (###) ###-##-##","validation-params":e.$v.phone,name:"phone",type:"tel",placeholder:"Телефон"},on:{input:e.changePhoneInput},model:{value:e.$v.phone.$model,callback:function(t){e.$set(e.$v.phone,"$model",t)},expression:"$v.phone.$model"}})],1)]),e._v(" "),e.servicePrograms.length>0?a("div",{staticClass:"preorder-services"},e._l(e.servicePrograms,(function(t,s){return a("div",{key:s},[t.name?a("div",{staticClass:"service-item"},[a("div",{staticClass:"service-item__head"},[a("re-checkbox",{attrs:{value:t.value,name:"service_program"},on:{change:function(a){return e.serviceChanged(a,t.value,t.price)}}},[a("b",[e._v(e._s(t.name))])]),e._v(" "),a("b",{staticClass:"service-item__price"},[e._v("\n                  "+e._s(e._f("currency")(t.price))+"\n                  ₽\n                ")])],1),e._v(" "),a("p",{staticClass:"p p--small",domProps:{innerHTML:e._s(t.description)}},[e._v("\n                 \n              ")])]):e._e()])})),0):e._e(),e._v(" "),"mobile"!==e.pageType||e.mobileCarousel?e._e():a("div",{staticClass:"show-carousel-btn btn",on:{click:function(t){e.mobileCarousel=!0}}},[e._v("\n          Добавьте аксессуары\n        ")])]),e._v(" "),e.products.length>0?a("div",{staticClass:"preorder-carousel",class:{"show-in-mobile":e.mobileCarousel}},[a("h2",[e._v("Популярные аксессуары")]),e._v(" "),a("swiper",{ref:"popularSwiper",attrs:{options:e.swiperOptions}},e._l(e.products,(function(t,s){return a("swiper-slide",{key:s},[a("div",{staticClass:"preorder-popular"},[e.dynamicPopular.has(t.id)?a("span",{staticClass:"popular-remove",on:{click:function(a){return e.togglePopular(t.id,t.price)}}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close",size:"15 15"}})]):e._e(),e._v(" "),a("a",{staticClass:"popular-link",attrs:{href:t.link}},[a("div",{staticClass:"img-wrapper"},[a("img",{staticClass:"preorder-popular-img",attrs:{src:t.img,alt:""}})]),e._v(" "),a("div",{staticClass:"popular-name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"popular-price"},[e._v("\n                  "+e._s(e._f("currency")(t.price))+"\n                  ₽\n                ")])]),e._v(" "),a("div",{staticClass:"popular-status",class:{"--gray":e.dynamicPopular.has(t.id)},on:{click:function(a){return e.togglePopular(t.id,t.price)}}},[e.dynamicPopular.has(t.id)?a("span",[e._v("В заказе")]):a("span",[e._v("Добавить")])])])])})),1),e._v(" "),a("div",{staticClass:"preorder-btn-prev btn-arrow"},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"arrow_left",size:"7 14"}})]),e._v(" "),a("div",{staticClass:"preorder-btn-next btn-arrow"},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"arrow_right",size:"7 14"}})])],1):e._e(),e._v(" "),a("div",{staticClass:"preorder-footer"},[a("span",{staticClass:"total-price"},[e._v("\n          Итого:\n          "),a("b",[e._v("\n            "+e._s(e._f("currency")(e.totalPrice))+"\n            ₽\n          ")])]),e._v(" "),e.serverErrors.length>0?a("div",[a("br"),e._v(" "),e._l(e.serverErrors,(function(t,s){return a("p",{key:s,staticClass:"p--error"},[e._v("\n            "+e._s(t)+"\n          ")])}))],2):e._e(),e._v(" "),a("div",{staticClass:"preorder-controls"},[a("re-button",{class:{"btn--gray":!e.agreement},on:{click:e.buyUnderorder}},[e._v("\n            "+e._s(e.buyPreorderText)+"\n          ")]),e._v(" "),a("re-checkbox",{attrs:{"is-state":!0,value:"Y",name:"agreement"},on:{change:function(t){return e.agreementChanged(t)}}},[e._v("\n            Принимаю\n            "),a("a",{attrs:{href:"/oferta/",target:"_blank"}},[e._v("условия оферты")]),e._v("\n            и\n            "),a("a",{attrs:{href:"/oferta/politika/",target:"_blank"}},[e._v("\n              политику конфиденциальности\n            ")])]),e._v(" "),e.showManager?a("div",{staticClass:"input-container"},[a("label",{staticClass:"input-container__name",attrs:{for:"manager"}},[e._v("\n              Консультант\n            ")]),e._v(" "),a("re-input",{attrs:{id:"manager","validation-params":{},name:"manager",type:"text",placeholder:"Служебное поле"},model:{value:e.manager,callback:function(t){e.manager=t},expression:"manager"}})],1):a("span",{staticClass:"consultant-trigger",on:{click:function(t){e.showManager=!0}}},[e._v("\n            Консультант (cлужебное поле)\n          ")])],1)])],1)])])};s._withStripped=!0;var i=a(1),n=a.n(i),r=a(4),o=a.n(r),c=a(25),l=a.n(c),d=a(3),p=a(16),u=a(36),h=a(37),m=a(21),v=a(26),_=a(14),y=a(10),f=a(32),b=a(8),g=a(27),C=a(33),k=a(40),w=a(11),P=Object(w.create)(k.a),D={name:"ModalUnderorder",components:{ReTabs:u.a,ReTabItem:h.a,ReCheckbox:m.a,ReRadio:v.a,ReInput:_.a,ReButton:y.a,YaMap:f.a,ReMetro:C.a},mixins:[d.a,p.a],props:{data:{type:Object,default:function(){}}},data:function(){return{preorderData:{},id:0,totalPrice:null,delivery:2,selectedShop:"",name:"",email:"",phone:"",manager:"",servicePrograms:[],products:{},agreement:!0,showManager:!1,showMap:!0,mobileCarousel:!1,selectedServices:new Set,selectedPopular:new Set,shops:{},city:window.globalData.userInfo.city,serverErrors:[],swiperOptions:{preloadImages:!1,watchSlidesVisibility:!0,lazy:{loadPrevNext:!0,loadPrevNextAmount:1},navigation:{nextEl:".preorder-btn-next",prevEl:".preorder-btn-prev"},breakpoints:{320:{slidesPerView:2.3,spaceBetween:20},768:{slidesPerView:4,spaceBetween:20},1100:{slidesPerView:5,spaceBetween:30}}},onlinePaySettings:null}},computed:{dynamicPopular:function(){return this.selectedPopular},swiper:function(){return this.$refs.popularSwiper.$swiper},buyPreorderText:function(){return this.onlinePaySettings?"Перейти к оплате":"Оформить товар под заказ"}},created:function(){this._addPageTypeWatcher_P(),this.initData()},validations:{name:{required:b.required,alpha:g.a},phone:{required:b.required,tel:g.c},email:{required:b.required,email:b.email}},methods:{closeHandler:function(){this.$close(this.unfixBody())},initData:function(){this.preorderData=this.data.data;var e=this.data.data;this.id=e.id,this.totalPrice=e.price,e.name&&e.name.length>0&&(this.name=e.name),e.email&&e.email.length>0&&(this.email=e.email),e.phone&&e.phone.length>0&&(this.phone=e.phone),e.servicePrograms&&e.servicePrograms.length>0&&(this.servicePrograms=e.servicePrograms),e.popularProducts&&e.popularProducts.length>0&&(this.products=e.popularProducts),e.shops&&(this.shops=e.shops),this.onlinePaySettings=e.onlinePaySettings},deliveryChanged:function(e){if("#courier"===e)this.delivery=2,this.selectedShop="";else if("#shop"===e){this.delivery=4;for(var t=0;t<this.shops.placemarks.length;t++){var a=this.shops.placemarks[t];if(a.selected){this.selectedShop=a.shopCode;break}}}},serviceChanged:function(e,t,a){e?(this.selectedServices.add(t),this.totalPrice+=a):(this.selectedServices.delete(t),this.totalPrice-=a)},togglePopular:function(e,t){this.selectedPopular.has(e)?(this.selectedPopular.delete(e),this.totalPrice-=t):(this.selectedPopular.add(e),this.totalPrice+=t)},agreementChanged:function(e){this.agreement=e},changeMapShop:function(e){this.selectedShop=e},changeRadioShop:function(e){this.selectedShop=e},changePhoneInput:function(e){"+7 (8"===e&&(this.phone="+7 (")},buyUnderorder:function(){var e={action:"submitUnderorder",isVue:!0,id:this.id,name:this.name,email:this.email,phone:this.phone,delivery:this.delivery,shop:this.selectedShop,manager:this.manager,service_program:l()(this.selectedServices),accessories:l()(this.selectedPopular),onlinePaySettings:this.onlinePaySettings};this.agreement&&(this.$v.$touch(),this.$v.$invalid||this.submitUnderorder(e))},submitUnderorder:function(e){var t=this;return o()(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.serverErrors=[],document.body.classList.add("body-loading-white"),"/local/classes/vue/rest-vue/product.php",a.next=5,t.$axios.post("/local/classes/vue/rest-vue/product.php",e);case 5:""!==(s=a.sent).data.data.link&&null!==s.data.data.link?window.location.href=s.data.data.link:s.data.data.ERRORS?(document.body.classList.remove("body-loading-white"),t.serverErrors=s.data.data.ERRORS):s.data.data.orderNumber&&(document.body.classList.remove("body-loading-white"),t.$close(!0),P({orderTitle:"Ваш заказ ".concat(s.data.data.orderNumber," принят!"),orderDescr:"Мы уведомим Вас, когда товар поступит в продажу."}));case 7:case"end":return a.stop()}}),a)})))()}}},S=(a(341),a(0)),x=Object(S.a)(D,s,[],!1,null,null,null);x.options.__file="app/js/vue/components/common/modals/modal-underorder/modal-underorder.vue";t.a=x.exports},121:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-box notify-popup",class:{small:"mobile"!==e.pageType}},[a("div",{staticClass:"modal-mask",on:{click:function(t){e.$close(e.unfixBody())}}}),e._v(" "),a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-content",class:{"block-loading":e.isLoading}},[a("button",{staticClass:"btn-close",on:{click:function(t){e.$close(e.unfixBody())}}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close",size:"20 20"}})]),e._v(" "),e.isSuccessResponse?a("div",{staticClass:"notify-popup__thanks"},[a("div",{staticClass:"icon-success"},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"done",size:"50 50"}}),e._v(" "),a("span",{staticClass:"icon-success__text"},[e._v("Готово!")])]),e._v(" "),e._m(0),e._v(" "),a("re-button",{staticClass:"notify-popup__thanks-btn",attrs:{gray:""},on:{click:function(t){e.$close(e.unfixBody())}}},[e._v("\n          Закрыть\n        ")])],1):a("form",{staticClass:"notify-popup__form"},[a("h2",{staticClass:"modal-content__title"},[e._v("Узнать о старте продаж")]),e._v(" "),a("div",{staticClass:"input-container"},[a("label",{staticClass:"input-container__name",attrs:{for:"name"}},[e._v("Имя")]),e._v(" "),a("re-input",{attrs:{id:"name","validation-params":e.$v.notifyForm.nameNotify,name:"name",type:"text",placeholder:"Имя"},model:{value:e.$v.notifyForm.nameNotify.$model,callback:function(t){e.$set(e.$v.notifyForm.nameNotify,"$model",t)},expression:"$v.notifyForm.nameNotify.$model"}})],1),e._v(" "),a("div",{staticClass:"input-container"},[a("label",{staticClass:"input-container__name",attrs:{for:"email"}},[e._v("Email")]),e._v(" "),a("re-input",{attrs:{id:"email","validation-params":e.$v.notifyForm.emailNotify,name:"email",type:"email",placeholder:"Эл. почта"},model:{value:e.$v.notifyForm.emailNotify.$model,callback:function(t){e.$set(e.$v.notifyForm.emailNotify,"$model",t)},expression:"$v.notifyForm.emailNotify.$model"}})],1),e._v(" "),e.notifyErrorMessage?a("div",{staticClass:"notify-popup__error",domProps:{innerHTML:e._s(e.notifyErrorMessage)}}):e._e(),e._v(" "),a("re-button",{staticClass:"notify-popup__btn",attrs:{disabled:!e.applyPolitics},on:{click:function(t){return t.preventDefault(),e.submitNotify(t)}}},[e._v("\n          Отправить\n        ")]),e._v(" "),a("re-checkbox",{staticClass:"checkbox--small",attrs:{"is-state":e.applyPolitics,value:e.applyPolitics,name:"check_2"},on:{change:e.setApplyPolitics}},[e._v("\n          Принимаю\n          "),a("a",{staticClass:"ui-link",attrs:{href:"/oferta/"}},[e._v("условия оферты")]),e._v(" "),a("br"),e._v("\n          и\n          "),a("a",{staticClass:"ui-link",attrs:{href:"/oferta/politika/"}},[e._v("\n            политику конфиденциальности\n          ")])])],1)])])])};s._withStripped=!0;var i=a(1),n=a.n(i),r=a(4),o=a.n(r),c=a(14),l=a(10),d=a(21),p=a(8),u=a(16),h=a(3),m={name:"ModalNotify",components:{ReInput:c.a,ReButton:l.a,ReCheckbox:d.a},mixins:[h.a,u.a],props:{productName:{type:String,default:""},productId:{type:[String,Number],default:""}},data:function(){return{isSuccessResponse:!1,isLoading:!1,notifyForm:{nameNotify:"",emailNotify:""},applyPolitics:!0,notifyErrorMessage:""}},created:function(){this._addPageTypeWatcher_P()},validations:{notifyForm:{nameNotify:{required:p.required},emailNotify:{required:p.required,email:p.email}}},methods:{setApplyPolitics:function(e){this.applyPolitics=e},submitNotify:function(){var e=this;return o()(n.a.mark((function t(){var a,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.notifyForm.$touch(),a={},e.$v.notifyForm.$invalid||!e.applyPolitics){t.next=15;break}return a.action="productNotify",a.product_name=e.productName,a.product_id=e.productId,a.user_name=e.notifyForm.nameNotify,a.user_email=e.notifyForm.emailNotify,e.isLoading=!0,"/local/classes/vue/rest-vue/product.php",t.next=12,e.$axios.post("/local/classes/vue/rest-vue/product.php",a);case 12:!0===(s=t.sent).data.success?e.isSuccessResponse=!0:!1===s.data.success&&s.data.data&&(e.notifyErrorMessage=s.data.data.message),e.isLoading=!1;case 15:case"end":return t.stop()}}),t)})))()}}},v=(a(346),a(0)),_=Object(v.a)(m,s,[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("\n          Спасибо за проявленный интерес!\n          "),t("br"),this._v("\n          Мы сразу же сообщим вам о поступлении\n          "),t("br"),this._v("\n          этого товара в продажу\n        ")])}],!1,null,null,null);_.options.__file="app/js/vue/components/common/modals/modal-notify/modal-notify.vue";t.a=_.exports},17:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lazy-image"},[!e.needLazyLoad&&e.usePicture?a("picture",{class:e.iClass},[a("source",{attrs:{srcset:e.srcImages,media:e.srcsetMedia}}),e._v(" "),a("img",{attrs:{src:e.src,alt:e.alt}})]):e._e(),e._v(" "),e.needLazyLoad||e.usePicture?e._e():a("img",{class:e.iClass,attrs:{src:e.src,alt:e.alt}}),e._v(" "),e.needLazyLoad&&e.usePicture?a("v-lazy-image",{class:e.iClass,attrs:{src:e.src,alt:e.alt,"use-picture":""}},[a("source",{attrs:{srcset:e.srcImages,media:e.srcsetMedia2x}})]):e._e(),e._v(" "),e.needLazyLoad&&!e.usePicture?a("v-lazy-image",{class:e.iClass,attrs:{src:e.src,srcset:e.srcImages,alt:e.alt}}):e._e()],1)};s._withStripped=!0;var i={name:"LazyImage",props:{iClass:{type:String,default:""},alt:{type:String,default:""},lazy:{type:Boolean,default:!0},src:{type:String,default:""},srcset:{type:String,default:""},srcsetMedia:{type:String,default:"(min-width: 360px)"},srcset2x:{type:String,default:""},srcsetMedia2x:{type:String,default:"(min-width: 360px)"},usePicture:{type:Boolean,default:!1}},computed:{isEmptySlot:function(){return!!this.$slots.default[0].text.length},needLazyLoad:function(){return this.lazy&&!window.globalData.userInfo.prerender},srcImages:function(){var e="";return""!==this.srcset&&(e+=this.srcset+" 1x, "),""!==this.srcset2x&&(e+=this.srcset2x+" 2x"),e}}},n=(a(310),a(0)),r=Object(n.a)(i,s,[],!1,null,null,null);r.options.__file="app/js/vue/components/common/lazy-image/lazy-image.vue";t.a=r.exports},310:function(e,t,a){"use strict";var s=a(62);a.n(s).a},339:function(e,t,a){"use strict";var s=a(63);a.n(s).a},340:function(e,t,a){"use strict";var s=a(64);a.n(s).a},341:function(e,t,a){"use strict";var s=a(65);a.n(s).a},344:function(e,t,a){},345:function(e,t,a){"use strict";var s=a(67);a.n(s).a},346:function(e,t,a){"use strict";var s=a(68);a.n(s).a},347:function(e,t,a){"use strict";var s=a(69);a.n(s).a},39:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"product-card",class:e.product.isPresale?"":"product-card--buy"},[e.product.badges?a("div",{staticClass:"badge-wrapper"},e._l(e.product.badges,(function(t,s){return a("re-badge",{key:s,attrs:{options:{type:"badge",color:t.colorBg,colorCode:t.colorCode,textColorCode:t.textColorCode,hintText:t.hintText,hintLink:t.hintLink,icon:t.icon}}},[e._v("\n      "+e._s(t.text)+"\n    ")])})),1):e._e(),e._v(" "),a("button",{staticClass:"product-card__to-favorite",class:e.inFavorite?"in-favorite":"",on:{click:function(t){return e.addToFavorite(e.product.id)}}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon",attrs:{symbol:"heart",size:"19 17"}})]),e._v(" "),a("a",{staticClass:"product-card__link",attrs:{href:e.product.link}},[a("span",{staticClass:"product-card__img-wrapper"},[e.product.imgRetina?a("lazy-image",{attrs:{src:e.product.img,srcset:e.product.img,srcset2x:e.product.imgRetina,"i-class":[e.product.img_hover?"product-card__img--visible":"","product-card__img"]}}):a("lazy-image",{attrs:{src:e.product.img,"i-class":[e.product.img_hover?"product-card__img--visible":"","product-card__img"]}}),e._v(" "),e.product.imgRetina_hover?a("lazy-image",{attrs:{src:e.product.imgRetina_hover,"i-class":"product-card__img product-card__img--hover"}}):e.product.img_hover?a("lazy-image",{attrs:{src:e.product.img_hover,"i-class":"product-card__img product-card__img--hover"}}):e._e()],1),e._v(" "),a("span",{staticClass:"product-card__name",domProps:{innerHTML:e._s(e.product.name)}}),e._v(" "),""!==e.product.trailer&&"mobile"!==e.pageType?a("span",{staticClass:"p--small product-card__trailer",domProps:{innerHTML:e._s(e.trimmedTrailer)}}):e._e(),e._v(" "),a("span",{staticClass:"product-card__price"},[a("b",{staticClass:"current"},[e.product.prices.isStartPrice?a("span",[e._v("от")]):e._e(),e._v("\n        "+e._s(e._f("currency")(e.product.prices.current))+"\n        "),a("span",[e._v("₽")])]),e._v(" "),e.product.prices.old&&e.product.prices.old>0?a("span",{staticClass:"old"},[e._v("\n        "+e._s(e._f("currency")(e.product.prices.old))+" ₽\n      ")]):e._e()]),e._v(" "),e.showCredit?a("span",{staticClass:"product-card__credit"},[a("span",{domProps:{innerHTML:e._s(e.product.credit.CREDIT_PRICE)}}),e._v(" ₽ × "+e._s(e.product.credit.CREDIT_TIME)+" мес.\n      ")]):e._e(),e._v(" "),e.showCredit||""===e.product.hint?e._e():a("span",{staticClass:"product-card__hint"},[e._v("\n      "+e._s(e.product.hint)+"\n    ")])]),e._v(" "),a("div",{staticClass:"product-card__actions"},[a("div",{staticClass:"buy-compare"},[e.isCanBuy?a("div",{staticClass:"product-card__buy ui-link",on:{click:e.buy}},[e._v("\n        Купить\n      ")]):e.isCanArrange?a("a",{staticClass:"product-card__buy ui-link",attrs:{href:"/order/"},on:{click:e.sendOrderButtonDDL}},[e._v("\n        Оформить\n      ")]):e.product.isByOrder?a("div",{staticClass:"product-card__buy ui-link ui-link--purple",on:{click:e.underorder}},[e._v("\n        Под заказ\n      ")]):e.product.isSaleSoon?a("span",{staticClass:"product-card__buy ui-link ui-link--orange",on:{click:e.popupNotify}},[e._v("\n        Узнать о старте продаж\n      ")]):e.product.isPresale&&e.isB2B?a("a",{staticClass:"product-card__buy ui-link ui-link--blue",attrs:{href:e.product.link+"#preorder-popup"},on:{click:e.emitPreorderEvent}},[e._v("\n        Предзаказ\n      ")]):e.product.isPresale&&!e.isB2B?a("div",{staticClass:"product-card__buy ui-link ui-link--blue",on:{click:e.preorder}},[e._v("\n        Предзаказ\n      ")]):e.product.isAvailabilityCity||e.productIsCanBy?e.product.isAvailability||e.productIsCanBy?e._e():a("div",{staticClass:"product-card__compare ui-link--gray"},[e._v("\n        Нет в наличии\n      ")]):a("div",{staticClass:"product-card__compare ui-link--gray"},[e._v("\n        Нет в наличии в вашем городе\n      ")]),e._v(" "),e.inCompare?a("a",{staticClass:"product-card__compare ui-link ui-link--gray",attrs:{href:"/compare/"}},[e._v("\n        В сравнении\n      ")]):a("div",{staticClass:"product-card__compare ui-link ui-link--gray",on:{click:e.compare}},[e._v("\n        Сравнить\n      ")])]),e._v(" "),e.isOneClickBuy?a("div",{staticClass:"product-card__one-click",on:{click:e.oneClickBuy}},[e._v("\n      Купить в один клик\n    ")]):e._e()])])};s._withStripped=!0;var i=a(1),n=a.n(i),r=a(4),o=a.n(r),c=a(13),l=a.n(c),d=a(34),p=a(17),u=a(119),h=a(120),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-box modal-oneclickbuy",on:{click:function(t){return e.closeOnMask(t)}}},[a("div",{staticClass:"modal-mask"}),e._v(" "),a("div",{staticClass:"modal-wrapper modal-oneclickbuy__wrapper"},[a("div",{staticClass:"modal-content modal-oneclickbuy__content"},[a("button",{staticClass:"btn-close",on:{click:function(t){e.$close(e.unfixBody())}}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close",size:"20 20"}})]),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step === 1"}],staticClass:"modal-oneclickbuy__step"},[a("re-tabs",{ref:"deliveryTabs",staticClass:"modal-oneclickbuy__tabs tabs--oneclickbuy",attrs:{extra:"","mobile-transform":"","no-hash-change":""},on:{"change-tab":e.changeDeliveryTab},scopedSlots:e._u([{key:"before",fn:function(){return[a("p",{staticClass:"h1 tabs__title"},[e._v("Быстрый заказ")])]},proxy:!0}])},[e._v(" "),e.availableDeliveries.delivery?a("re-tab-item",{attrs:{href:"delivery",name:"Доставка"}},[a("form",{staticClass:"modal-oneclickbuy__col",attrs:{action:""}},[a("div",{staticClass:"modal-oneclickbuy__row"},[a("div",{staticClass:"input-container input-container--dsk-column"},[e.pageSize<1024?a("label",{staticClass:"input-container__name",attrs:{for:"oneclickbuy-address"}},[e._v("\n                      Адрес\n                    ")]):e._e(),e._v(" "),a("re-input",{ref:"addressInput",attrs:{id:"oneclickbuy-address","validation-params":e.$v.address,suggestions:e.suggestions,name:"address",type:"text",placeholder:"Адрес"},on:{blur:e.addressInputValidate},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),a("div",{staticClass:"input-container"},[a("re-input",{attrs:{id:"oneclickbuy-comment","validation-params":{},name:"comment",type:"text",placeholder:"Комментарий"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1)]),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__row modal-oneclickbuy__row--dsk-no-border"},[a("re-tabs",{ref:"dateTabs",staticClass:"modal-oneclickbuy__tabs",attrs:{"datepicker-min-day":e.minDayCalendar,"datepicker-max-day":e.maxDayCalendar,extra:"",dates:"","no-hash-change":""},on:{"select-date":e.selectDateInDatepicker,"active-tab":e.changeDate}},e._l(e.dates,(function(e,t){return a("re-tab-item",{key:t,attrs:{name:e.name,href:e.href,date:e.date,datepicker:e.datepicker,data:e}})})),1),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__time",class:{disabled:e.isDeliveryExpress}},e._l(e.radioTimeIntervalFiltered,(function(t,s){return a("re-radio",{key:s,staticClass:"modal-oneclickbuy__time-interval",attrs:{value:t.value,"is-checked":t.checked,disabled:t.disabled,name:"radio_group"},on:{change:e.changeTime}},[e._v("\n                      "+e._s(Array.isArray(t.label)?t.label[1]:t.label)+"\n                    ")])})),1)],1),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__row modal-oneclickbuy__row--dsk-no-border"},[a("re-button",{staticClass:"modal-oneclickbuy__next",class:e.addressInputValid?"":"btn--gray",attrs:{disabled:!e.addressInputValid},on:{click:function(t){t.preventDefault(),e.step++}}},[e._v("\n                    Далее\n                  ")])],1)])]):e._e(),e._v(" "),e.shopsData.length&&e.availableDeliveries.pickup?a("re-tab-item",{attrs:{href:"pickup-shop",name:"В магазине"}},[a("re-tabs",{ref:"shopsViewTabs",staticClass:"modal-oneclickbuy__shops",attrs:{solid:"","no-hash-change":""},scopedSlots:e._u([{key:"before",fn:function(){return[a("p",{staticClass:"h2 tabs__title"},[e._v("Выберите магазин")]),e._v(" "),e.pageSize<1024?a("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.changeShopsView(t)}}},[e._v("\n                    "+e._s("map"===e.mobShopsView?"Показать списком":"Показать на карте")+"\n                  ")]):e._e()]},proxy:!0},{key:"after",fn:function(){return[a("re-input",{staticClass:"tabs__search",attrs:{id:"search-address","validation-params":{},name:"search-address",type:"text",placeholder:"Поиск по адресу"},on:{input:e.searchShops}})]},proxy:!0}],null,!1,323269183)},[e._v(" "),e._v(" "),a("re-tab-item",{attrs:{href:"map",name:"Карта"}},[e.pickupMapShown?a("ya-map",{ref:"shops",attrs:{shops:e.displayShopsMap},on:{"select-shop":e.selectShop}}):e._e()],1),e._v(" "),a("re-tab-item",{attrs:{href:"list",name:"Список"}},[e.showShops?a("re-table-shops",{attrs:{oneclickbuy:""}},e._l(e.displayShopsList,(function(t,s){return a("re-table-shops-item",{key:s,attrs:{"shop-data":t},on:{"select-shop":e.selectShop}})})),1):a("div",{staticClass:"table-shops-item__not-found"},[e._v("\n                    По вашему запросу магазинов не найдено\n                  ")])],1)],1)],1):e._e(),e._v(" "),e.shops.placemarks.filter((function(e){return"pickpoint"===e.type||"postamat"===e.type})).length&&e.availableDeliveries.pvz?a("re-tab-item",{attrs:{href:"more",name:"Ещё"}},[a("div",{staticClass:"modal-oneclickbuy__pickpoint-heading"},[a("p",{staticClass:"h2 tabs__title"},[e._v("\n                  Выберите постамат или пункт выдачи\n                ")]),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__pickpoint-filter"},e._l(e.pickpointMapFilter,(function(t,s){return a("re-checkbox",{key:s,attrs:{name:t.name,value:t.value,"is-state":t.checked},on:{change:function(a){t.checked=!t.checked,e.doPickpointFilter()}}},[e._v("\n                    "+e._s(t.text)+"\n                  ")])})),1)]),e._v(" "),e.pickpointMapShown?a("ya-map",{attrs:{shops:e.shopsFilter("onlyPoints"),"product-id":e.productId,type:"pickpoint"},on:{"map-initialized":e.pickpointMapInit,"select-shop":e.selectShop}}):e._e()],1):e._e()],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.step,expression:"step === 2"}],staticClass:"modal-oneclickbuy__step"},[a("button",{staticClass:"btn-back btn-back--bg-dsk",on:{click:function(t){e.step=1}}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"arrow_left",size:"7 14"}}),e._v(" "),a("p",{staticClass:"btn-back__label"},[e._v("Назад")])]),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__main"},[a("form",{staticClass:"modal-oneclickbuy__col"},[a("div",{staticClass:"modal-oneclickbuy__row"},[e.pageSize>=1024?a("p",{staticClass:"h2"},[e._v("Получатель заказа")]):e._e(),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__recipient"},[a("div",{staticClass:"input-container"},[e.pageSize<1024?a("label",{staticClass:"input-container__name",attrs:{for:"name"}},[e._v("\n                      Имя\n                    ")]):e._e(),e._v(" "),a("re-input",{ref:"recipientNameInput",staticClass:"input--dsk-hide-placeholder",attrs:{id:"name","validation-params":e.$v.name,placeholder:"Имя",name:"name",type:"text"},model:{value:e.$v.name.$model,callback:function(t){e.$set(e.$v.name,"$model",t)},expression:"$v.name.$model"}})],1),e._v(" "),a("div",{staticClass:"input-container"},[e.pageSize<1024?a("label",{staticClass:"input-container__name",attrs:{for:"email"}},[e._v("\n                      Эл. почта\n                    ")]):e._e(),e._v(" "),a("re-input",{ref:"recipientEmailInput",staticClass:"input--dsk-hide-placeholder",attrs:{id:"email","validation-params":e.$v.email,name:"email",type:"email",placeholder:"Email"},model:{value:e.$v.email.$model,callback:function(t){e.$set(e.$v.email,"$model",t)},expression:"$v.email.$model"}})],1),e._v(" "),a("div",{staticClass:"input-container"},[e.pageSize<1024?a("label",{staticClass:"input-container__name",attrs:{for:"phone"}},[e._v("\n                      Телефон\n                    ")]):e._e(),e._v(" "),a("re-input",{ref:"recipientPhoneInput",staticClass:"input--dsk-hide-placeholder",attrs:{id:"phone",mask:"+7 (###) ###-##-##","validation-params":e.$v.phone,name:"phone",type:"tel",placeholder:"Телефон"},model:{value:e.$v.phone.$model,callback:function(t){e.$set(e.$v.phone,"$model",t)},expression:"$v.phone.$model"}})],1)])]),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__row"},[e.pageSize>=1024?a("p",{staticClass:"h2"},[e._v("\n                  Как вам удобнее оплатить заказ?\n                ")]):e._e(),e._v(" "),e.pageSize<1024?a("p",[e._v("Способ оплаты")]):e._e(),e._v(" "),a("re-tabs",{ref:"paymentTypesTabs",staticClass:"modal-oneclickbuy__tabs modal-oneclickbuy__tabs--payment",attrs:{extra:"","mobile-transform":"","no-hash-change":""},on:{"change-tab":e.changePaymentTab}},[e.availablePayments.onDelivery?a("re-tab-item",{attrs:{href:"on-delivery",name:"При получении"}}):e._e(),e._v(" "),e.availablePayments.online?a("re-tab-item",{attrs:{icon:!!e.currentSale&&"discount",href:"online",name:"Онлайн-оплата"}},[a("div",{staticClass:"modal-oneclickbuy__online-payment"},[e.currentSale?a("p",[e._v("\n                        Получите\n                        "),a("span",{class:e.pageSize<1024?"text-medium":""},[e._v("\n                          скидку до 5%\n                        ")]),e._v("\n                        при онлайн-оплате\n                      ")]):e._e()])]):e._e(),e._v(" "),e.availablePayments.sbp?a("re-tab-item",{attrs:{href:"sbp",name:"Система быстрых платежей"}},[a("div",{staticClass:"modal-oneclickbuy__sbp"},[a("div",{staticClass:"modal-oneclickbuy__sbp-img"},[a("img",{attrs:{src:"/local/templates/re-store/img/sbp.svg",alt:"Система быстрых платежей"}})]),e._v(" "),a("p",{staticClass:"modal-oneclickbuy__sbp-text"},[e._v("\n                        Быстро и без комиссий. Отсканируйте QR-код с помощью\n                        мобильного приложения своего банка и подтвердите\n                        выполнение операции. Сумма моментально спишется с\n                        вашего счета.\n                        "),a("br")])])]):e._e(),e._v(" "),e.availablePayments.installmentPlan?a("re-tab-item",{attrs:{href:"installment-plan",name:"Рассрочка"}},[a("div",{staticClass:"modal-oneclickbuy__installment-plan"},[e.isNotShopAndInstallmentPlan?a("p",[e._v("\n                        Дата доставки будет зависеть от срока подписания\n                        кредитного договора с банком. После подписания\n                        "),a("br"),e._v("\n                        с Вами свяжется оператор для согласования даты\n                        доставки\n                      ")]):e._e(),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__installment-plan-radio"},e._l(e.installmentPlan,(function(t,s){return a("re-radio",{key:s,attrs:{value:t.value,"is-checked":t.checked,disabled:t.disabled,name:"installment-plan-bank"},on:{change:e.changeInstallmentPlan},scopedSlots:e._u([{key:"html",fn:function(){return[e._v("\n                            "+e._s(t.label)+"\n                          ")]},proxy:!0}],null,!0)})})),1)])]):e._e(),e._v(" "),e.availablePayments.onAccount?a("re-tab-item",{attrs:{href:"on-account",name:"По счёту для юрлиц"}},[a("div",{staticClass:"modal-oneclickbuy__on-account"},[a("div",{staticClass:"modal-oneclickbuy__on-account-col"},[a("p",[e._v("\n                          Укажите реквизиты\n                          "),e.pageSize>=1024?a("br"):e._e(),e._v("\n                          юридического лица\n                        ")])]),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__on-account-col"},[a("re-attachment",{attrs:{oneclickbuy:"",title:"Приложить файл с реквизитами"},on:{"file-attached":e.fileAttached}},e._l(e.attachments,(function(t,s){return a("re-attachment-item",{key:s,attrs:{"file-name":t.fileName},on:{"delete-attachment":e.deleteThisAttachment}})})),1),e._v(" "),a("re-input",{attrs:{id:"requisites","validation-params":{},name:"requisites",type:"text",placeholder:"Приложите файл или введите реквизиты здесь"},model:{value:e.requisites,callback:function(t){e.requisites=t},expression:"requisites"}})],1)])]):e._e()],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bonusIsShowed,expression:"bonusIsShowed"}],staticClass:"modal-oneclickbuy__bonus",staticStyle:{display:"none"}},[a("bonus-card",{attrs:{card:e.bonusCard},on:{"submit-card-number":e.submitCardNumber,"resend-code":e.resendCode,"cancel-attach-card":e.cancelAttachCard,"verify-code":e.verifyCode,"unattach-card":e.unattachCard,"use-bonuses":e.useBonuses}})],1)],1),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__row"},["#installment-plan"!==e.paymentTab?a("re-checkbox",{attrs:{"is-state":e.callbackToConfirm,name:"callback",value:"callback"},on:{change:function(t){e.callbackToConfirm=!e.callbackToConfirm}}},[e._v("\n                  Перезвоните мне для подтверждения заказа\n                ")]):e._e(),e._v(" "),e.pageSize<1024?a("div",{staticClass:"modal-oneclickbuy__about"},[a("transition",{attrs:{name:"slide"},on:{enter:e.startTransition,"after-enter":e.endTransition,"before-leave":e.startTransition,"after-leave":e.endTransition}},[e.mobOrderComposition?a("div",{staticClass:"modal-oneclickbuy__about-inner modal-oneclickbuy__about-inner--header"},[a("div",[a("p",{staticClass:"modal-oneclickbuy__about-name"},[e._v("\n                          "+e._s(e.data.product.name)+"\n                        ")]),e._v(" "),a("p",{staticClass:"p p--small"},[e._v("\n                          "+e._s(e._f("currency")(e.data.product.currentPrice))+"\n                          "),a("span",[e._v("₽")])])])]):e._e()]),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__about-inner"},[a("ul",{staticClass:"modal-oneclickbuy__total"},[a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Товары:")]),e._v(" "),a("span",[e.arePricesDifferent?[e._v("\n                            "+e._s(e._f("currency")(e.data.product.oldPrice))+"\n                          ")]:[e._v("\n                            "+e._s(e._f("currency")(e.data.product.currentPrice))+"\n                          ")],e._v(" "),a("span",[e._v("₽")])],2)]),e._v(" "),e.bonusesUse&&e.bonusCard.bonusesUse>0?a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Бонусными баллами:")]),e._v(" "),a("span",[e._v("\n                          "+e._s(e._f("currency")(e.bonusCard.bonusesUse))+"\n                          "),a("span",[e._v("₽")])])]):e._e(),e._v(" "),e.arePricesDifferent?[a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Скидка:")]),e._v(" "),a("span",[e.productDiscountShown?[e._v("\n                              "+e._s(e._f("currency")(e.getPricesDifferent+e.productDiscount+e.productActionDiscount))+"\n                            ")]:[e._v("\n                              "+e._s(e._f("currency")(e.getPricesDifferent))+"\n                            ")],e._v(" "),a("span",[e._v("₽")])],2)])]:[e.productDiscountShown&&e.totalDiscount>0?a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Скидка:")]),e._v(" "),a("span",[e._v("\n                            "+e._s(e._f("currency")(e.totalDiscount))+"\n                            "),a("span",[e._v("₽")])])]):e._e()],e._v(" "),a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Доставка:")]),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.deliveryPrice?this.$options.filters.currency(e.deliveryPrice)+" <span>₽</span>":"бесплатно")}})]),e._v(" "),a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Итого:")]),e._v(" "),a("span",[a("b",[e._v("\n                            "+e._s(e._f("currency")(e.totalPrice))+"\n                            "),a("span",[e._v("₽")])])])])],2)]),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__about-inner modal-oneclickbuy__about-inner--footer"},[a("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.mobOrderComposition=!e.mobOrderComposition}}},[e._v("\n                      "+e._s(e.mobOrderComposition?"Свернуть":"Показать состав заказа")+"\n                    ")])])],1):e._e(),e._v(" "),a("re-button",{staticClass:"modal-oneclickbuy__submit",attrs:{disabled:!e.isPolicyChecked},on:{click:function(t){return t.preventDefault(),e.collectData(t)}}},[e._v("\n                  Оформить\n                  "+e._s("#installment-plan"!==e.paymentTab?"заказ":"рассрочку")+"\n                ")]),e._v(" "),a("re-checkbox",{staticClass:"modal-oneclickbuy__policy",attrs:{"is-state":e.isPolicyChecked,name:"policy",value:"policy"},on:{change:function(t){e.isPolicyChecked=!e.isPolicyChecked}}},[a("p",{staticClass:"p p--small"},[e._v("\n                    Нажимая на кнопку «Оформить\n                    "+e._s("#installment-plan"!==e.paymentTab?"заказ":"рассрочку")+"» вы соглашаетесь\n                    "),e.pageSize>=1024?a("br"):e._e(),e._v(" "),a("a",{attrs:{href:"#"}},[e._v("с условиями оферты")]),e._v("\n                    и\n                    "),a("a",{attrs:{href:"#"}},[e._v("политикой конфиденциальности")])])])],1)]),e._v(" "),e.pageSize>=1024?a("div",{staticClass:"modal-oneclickbuy__col modal-oneclickbuy__col--about"},[a("div",{staticClass:"modal-oneclickbuy__about"},[a("div",{staticClass:"modal-oneclickbuy__about-inner"},[a("p",{staticClass:"modal-oneclickbuy__about-name"},[e._v("\n                    "+e._s(e.data.product.name)+"\n                  ")]),e._v(" "),a("p",{staticClass:"p p--small"},[e._v("\n                    "+e._s(e._f("currency")(e.data.product.currentPrice))+"\n                    "),a("span",[e._v("₽")])])]),e._v(" "),a("div",{staticClass:"modal-oneclickbuy__about-inner"},[a("ul",{staticClass:"modal-oneclickbuy__total"},[a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Товары:")]),e._v(" "),a("span",[e.arePricesDifferent?[e._v("\n                          "+e._s(e._f("currency")(e.data.product.oldPrice))+"\n                        ")]:[e._v("\n                          "+e._s(e._f("currency")(e.data.product.currentPrice))+"\n                        ")],e._v(" "),a("span",[e._v("₽")])],2)]),e._v(" "),e.bonusesUse&&e.bonusCard.bonusesUse>0?a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Бонусными баллами:")]),e._v(" "),a("span",[e._v("\n                        "+e._s(e._f("currency")(e.bonusCard.bonusesUse))+"\n                        "),a("span",[e._v("₽")])])]):e._e(),e._v(" "),e.arePricesDifferent?[a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Скидка:")]),e._v(" "),a("span",[e.productDiscountShown?[e._v("\n                            "+e._s(e._f("currency")(e.getPricesDifferent+e.productDiscount+e.productActionDiscount))+"\n                          ")]:[e._v("\n                            "+e._s(e._f("currency")(e.getPricesDifferent))+"\n                          ")],e._v(" "),a("span",[e._v("₽")])],2)])]:[e.productDiscountShown&&e.totalDiscount>0?a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Скидка:")]),e._v(" "),a("span",[e._v("\n                          "+e._s(e._f("currency")(e.totalDiscount))+"\n                          "),a("span",[e._v("₽")])])]):e._e()],e._v(" "),a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Доставка:")]),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.deliveryPrice?this.$options.filters.currency(e.deliveryPrice)+" <span>₽</span>":"бесплатно")}})]),e._v(" "),a("li",{staticClass:"modal-oneclickbuy__total-item"},[a("span",[e._v("Итого:")]),e._v(" "),a("span",[a("b",[e._v("\n                          "+e._s(e._f("currency")(e.totalPrice))+"\n                          "),a("span",[e._v("₽")])])])])],2)])])]):e._e()])])])])])])};m._withStripped=!0;var v=a(105),_=a.n(v),y=a(3),f=a(16),b=a(40),g=a(36),C=a(37),k=a(21),w=a(26),P=a(14),D=a(10),S=a(32),x=a(8),T=a(27),$=a(18),I=a(11),N=a(109),O=a(110),M=a(112),E=a(113),B=a(114),R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bonus-card"},[1===e.card.step?a("div",{staticClass:"bonus-card__enter"},[e._m(0),e._v(" "),a("re-input",{ref:"cardNumberInput",staticClass:"bonus-card__enter-input",attrs:{id:"bonus-card","validation-params":e.$v.cardNumber,name:"bonus-card",type:"text",placeholder:"Номер бонусной карты"},on:{input:e.inputCardNumber},model:{value:e.$v.cardNumber.$model,callback:function(t){e.$set(e.$v.cardNumber,"$model",t)},expression:"$v.cardNumber.$model"}}),e._v(" "),e.card.loader?e._e():a("re-button",{staticClass:"btn--square bonus-card__enter-btn",attrs:{icon:"enter","icon-size":"13 13"},on:{click:e.submitCardNumber}}),e._v(" "),e.card.loader?a("div",{staticClass:"btn-loader"}):e._e(),e._v(" "),e.card.errorCardNumber?a("p",{staticClass:"p p--notification bonus-card__enter-text"},[e._v("\n      "+e._s(e.card.errorCardNumber)+"\n    ")]):e._e(),e._v(" "),a("p",{staticClass:"p bonus-card__enter-text"},[e._v("\n      У вас есть бонусная карта? Введите её номер чтобы оплатить до 10% суммы\n      заказа бонусами.\n    ")])],1):e._e(),e._v(" "),2===e.card.step?a("div",{staticClass:"bonus-card__verify"},[a("p",{staticClass:"bonus-card__verify-text"},[e._v("\n      Мы отправили код на номер "+e._s(e.card.phone)+".\n      "),a("br"),e._v("\n      Пожалуйста, введите его здесь:\n    ")]),e._v(" "),a("div",{staticClass:"bonus-card__verify-form",class:!!e.card.errorVerifyCode&&"error"},[e._l(4,(function(t,s){return a("re-input",{key:s,ref:"verifyCode",refInFor:!0,staticClass:"bonus-card__verify-input",attrs:{"validation-params":{},type:"text",maxlength:"1"},on:{input:function(t){return e.inputVerifyCode(e.value,s)}},model:{value:e.verifyCode[s],callback:function(t){e.$set(e.verifyCode,s,t)},expression:"verifyCode[index]"}})})),e._v(" "),e.card.loader?a("div",{staticClass:"btn-loader bonus-card__verify-loader"}):e._e()],2),e._v(" "),a("div",{staticClass:"bonus-card__verify-links"},[a("a",{staticClass:"ui-link ui-link--gray",style:e.card.timer>0&&"pointer-events: none",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.resendCode(t)}}},[e._v("\n        Отправить код еще раз\n        "),e.card.timer?a("span",[e._v("("+e._s(e.card.timer)+" сек.)")]):e._e()]),e._v(" "),a("a",{staticClass:"ui-link ui-link--gray",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.cancelAttachBonusCard(t)}}},[e._v("\n        Отменить\n      ")])]),e._v(" "),a("div",{staticClass:"bonus-card__verify-error"},[e.card.errorVerifyCode?a("p",{staticClass:"p p--notification"},[e._v("\n        "+e._s(e.card.errorVerifyCode)+"\n      ")]):e._e()])]):e._e(),e._v(" "),3===e.card.step?a("div",{staticClass:"bonus-card__attached"},[e._m(1),e._v(" "),a("div",{staticClass:"bonus-card__attached-text"},[e.card.bonusesUse?a("re-checkbox",{on:{change:e.useBonuses}},[e._v("\n        Списать\n        "),a("b",[e._v(e._s(e._f("currency")(e.card.bonusesUse)))]),e._v("\n        бонусов\n      ")]):e._e(),e._v(" "),a("p",[e._v("\n        У вас\n        "),a("b",[e._v(e._s(e._f("currency")(e.card.bonusesAvailable)))]),e._v("\n        бонусов.\n      ")]),e._v(" "),a("p",[e._v("\n        Мы начислим\n        "),a("b",[e._v(e._s(e._f("currency")(e.card.bonusesAccrual)))]),e._v("\n        бонусов.\n      ")])],1),e._v(" "),a("div",{staticClass:"bonus-card__attached-link"},[a("a",{staticClass:"ui-link ui-link--gray ui-link--icon",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.unattachCard(t)}}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon-darkergray",attrs:{symbol:"close",size:"12"}}),e._v("\n        Не использовать карту\n      ")])])]):e._e()])};R._withStripped=!0;a(344);var A={name:"BonusCard",components:{ReInput:P.a,ReCheckbox:k.a,ReButton:D.a},props:{card:{type:Object,default:function(){}}},data:function(){return{cardNumber:"",verifyCode:[]}},computed:{verifyCodeFull:function(){return this.verifyCode.join("")}},watch:{cardNumber:function(e){this.cardNumber=e.replace(/\s+/g,"")},verifyCodeFull:function(e){4===e.length&&this.$emit("verify-code",e)}},methods:{submitCardNumber:function(e){e.preventDefault(),this.$refs.cardNumberInput.validationParams.$touch(),this.$refs.cardNumberInput&&!this.$refs.cardNumberInput.isValid||this.$emit("submit-card-number",this.cardNumber)},inputVerifyCode:function(e,t){var a=this.$refs.verifyCode;t<3&&a[t+1].$el.children[0].focus()},resendCode:function(){this.$emit("resend-code")},cancelAttachBonusCard:function(){var e=this.verifyCode;e.splice(0,e.length),this.cardNumber="",this.$emit("cancel-attach-card")},unattachCard:function(){var e=this.verifyCode;e.splice(0,e.length),this.cardNumber="",this.$emit("unattach-card")},useBonuses:function(e){this.$emit("use-bonuses",e)}},validations:{cardNumber:{required:x.required,minLength:Object(x.minLength)(3)}}},j=a(0),F=Object(j.a)(A,R,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bonus-card__enter-img"},[t("img",{attrs:{src:"/local/templates/re-store-vue/frontend/build/images/required/bonus-card.png",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bonus-card__attached-img"},[t("img",{attrs:{src:"/local/templates/re-store-vue/frontend/build/images/required/bonus-card.png",alt:""}})])}],!1,null,null,null);F.options.__file="app/js/vue/components/bonus-card/bonus-card.vue";var z=F.exports,L=Object(I.create)(b.a),q={name:"ModalOneclickbuy",components:{ReTabs:g.a,ReTabItem:C.a,ReCheckbox:k.a,ReRadio:w.a,ReInput:P.a,ReButton:D.a,YaMap:S.a,ReTableShops:N.a,ReTableShopsItem:O.a,ReList:M.a,ReAttachment:E.a,ReAttachmentItem:B.a,ModalSuccessOrder:b.a,BonusCard:z},mixins:[y.a,f.a],props:{data:{type:Object,default:function(){}},security:{type:String,default:""}},data:function(){var e,t;return{productId:"",step:1,dadata:{},address:"",addressInMKAD:!0,comment:"",name:"",phone:"",email:"",dates:[{name:["".concat(null===(e=this.data)||void 0===e||null===(t=e.delivery_dates)||void 0===t?void 0:t.time,",<br />только при оплате онлайн — <b>"),this.isDelivery&&this.$options.filters.currency(this.$props.data.delivery_payments[2].EXPRESS)," <span>₽</span></b>"],href:"date1",formattedDate:"",express:!0},{href:"date2",date:{},formattedDate:""},{href:"date3",date:{},formattedDate:""},{href:"date4",date:{},formattedDate:""},{href:"date5",date:{},formattedDate:""},{href:"date6",name:"Другая<br />дата",datepicker:{disabledDates:{to:new Date}}}],radioTimeInterval:{mkad:[],zamKad:[]},radioTimeIntervalNew:[],shops:{},shopsData:[],pickupMapShown:!1,pickpointMap:{},pickpointMapShown:!1,pickpointMapFilter:[{text:"Постаматы",name:"postamats",value:"postamats",checked:!0},{text:"Пункты выдачи",name:"pickpoints",value:"pickpoints",checked:!0},{text:"Оплата наличными",name:"pay-by-cash",value:"pay-by-cash",checked:!0},{text:"Оплата картой",name:"pay-by-card",value:"pay-by-card",checked:!0}],callbackToConfirm:!1,isPolicyChecked:!0,bonusCard:{step:1,loader:!1,errorCardNumber:"",errorVerifyCode:"",phone:"",timer:null,bonusesAvailable:null,bonusesAccrual:null,bonusesUse:null},bonusesUse:!1,installmentPlan:[],paymentTab:"on-delivery",attachments:[],requisites:"",mobOrderComposition:!1,mobShopsView:"map",searchedShopsOnMap:{center:[],placemarks:[]},searchedShops:[],showShops:!0,selectedDeliveryType:"",selectedShop:{shopCode:"",shopType:""},selectedTime:"",selectedDate:"",selectedInstallmentPlan:"",suggestions:{city:"",coordinates:{latitude:"",longitude:""},options:{token:"044d358ebc2ea9d856fa30d03287edbb0d257a2f",type:"ADDRESS",scrollOnFocus:!1,addon:"none",count:10,deferRequestBy:400,minChars:1,noSuggestionsHint:!1,constraints:{locations:[{city:"Москва и область"===window.globalData.userInfo.city?"Москва":"Санкт-Петербург и ЛО"===window.globalData.userInfo.city?"Санкт-Петербург":window.globalData.userInfo.city},{region:"Москва и область"===window.globalData.userInfo.city&&"московская"},{region:"Москва и область"===window.globalData.userInfo.city&&"Москва"},{region:"Санкт-Петербург и ЛО"===window.globalData.userInfo.city&&"ленинградская"},{region:"Санкт-Петербург и ЛО"===window.globalData.userInfo.city&&"Санкт-Петербург"}]},onSelect:this.selectSuggestion}},payments:{},availablePayments:{onDelivery:!1,online:!1,applePay:!1,installmentPlan:!1,onAccount:!1,sbp:!1},availableDeliveries:{delivery:!0,pickup:!0,pvz:!0},isDeliveryExpress:!1,onlineSales:{},currentSale:null,productActionDiscount:0,productDiscount:null,productDiscountShown:!1,orderSum:null,deliveryPayments:{},deliveryPrice:null,deliveryPriceFromRequest:{express:null,common:null},bonusIsShowed:!1,deliveryDatesInterval:{},minDayCalendar:new Date,maxDayCalendar:new Date,addressInputValid:!1,bonusUsedBalls:!1,bonusCardNumber:!1,maxDistanceFastDelivery:0,unavailablePaymentsByStores:{}}},computed:{isNotShopAndInstallmentPlan:function(){return"14"!==this.selectedInstallmentPlan&&"#pickup-shop"!==this.selectedDeliveryType},isDelivery:function(){var e=this.data.delivery;return Array.isArray(e)?e.length>0:Object.getOwnPropertyNames(e).length>0},arePricesDifferent:function(){return this.data.product.oldPrice>this.data.product.currentPrice},getPricesDifferent:function(){return this.data.product.oldPrice-this.data.product.currentPrice},userInfo:function(){return this.$store.state.user.userInfo},displayShopsList:function(){return this.searchedShops.length?this.searchedShops:this.shopsData},displayShopsMap:function(){return this.searchedShopsOnMap.placemarks.length?this.searchedShopsOnMap:this.shopsFilter("onlyShops")},radioTimeIntervalFiltered:function(){if(!this.radioTimeIntervalNew.length){var e=this.radioTimeInterval.mkad,t=this.radioTimeInterval.zamKad;return this.addressInMKAD?(e[0].checked=!0,this.changeTime(e[0].value),e):(t[0].checked=!0,this.changeTime(t[0].value),t)}var a=this.radioTimeIntervalNew;if(a.length)return a[0].checked=!0,this.changeTime(a[0].value),a},totalDiscount:function(){return this.productDiscount+this.productActionDiscount},totalPrice:function(){return this.data.product.currentPrice-(this.bonusesUse?this.bonusCard.bonusesUse:0)-(this.productDiscountShown?this.totalDiscount:0)+this.deliveryPrice}},watch:{step:function(e){var t=this;if(1!==e&&2===e){var a,s,i,n;if(this.isDelivery&&"#delivery"===this.selectedDeliveryType)this.isDeliveryExpress?(a=this.payments[2].EXPRESS,s="gett",i=this.deliveryPriceFromRequest.express||(this.addressInMKAD?this.data.delivery.default.express.price:this.data.delivery.outside_ring_road?this.data.delivery.outside_ring_road.express.price:this.data.delivery.default.express.price)):(a=this.payments[2].COMMON,s="delivery",i=this.deliveryPriceFromRequest.common||(this.addressInMKAD?this.data.delivery.default.common.price:this.data.delivery.outside_ring_road?this.data.delivery.outside_ring_road.common.price:this.data.delivery.default.common.price)),this.checkPaymentType(a,2),this.checkSale(s),this.deliveryPrice=i;else if("#pickup-shop"===this.selectedDeliveryType){var r=this.payments[4][0],o=this.deliveryPayments[4];this.checkPaymentType(r,4),this.checkSale(this.selectedShop.shopCode),this.deliveryPrice=o}else if("#more"===this.selectedDeliveryType){var c,l;"pickpoint"===this.selectedShop.shopType?(c=this.payments.PVZ.COMMON,l=this.deliveryPayments.PVZ,this.checkPaymentType(c,"PVZ")):"postamat"===this.selectedShop.shopType&&(c=this.payments.POST.COMMON,l=this.deliveryPayments.POST,this.checkPaymentType(c,"POST")),this.checkSale("PICKPOINT"),this.deliveryPrice=l}if(this.$refs.paymentTypesTabs.unselectTabs(),this.bonusIsShowed=!1,this.paymentTab="",this.pageSizePX>1023)new Promise((function(e){n=t.$refs.paymentTypesTabs.$children,e()})).then((function(){t.$refs.paymentTypesTabs.selectTabEvent(null,n[0].hash)}));else this.$refs.paymentTypesTabs.selectShown=!1,this.$refs.paymentTypesTabs.tabsShown=!0}},currentSale:function(e){this.productDiscount=this.data.product.currentPrice*e/100},paymentTab:function(e){var t,a="#installment-plan"===e,s="#online"===e||"#sbp"===e;this.bonusesUse=("#online"===e||"#sbp"===e)&&this.bonusUsedBalls,this.productDiscountShown=!a&&!this.bonusesUse,this.productActionDiscount=!a&&(null===(t=this.data.product)||void 0===t?void 0:t.discount)?this.data.product.discount:0,this.productDiscount=s?this.data.product.currentPrice/100*this.currentSale:0},installmentPlan:function(e){this.selectedInstallmentPlan=e.filter((function(e){return e.checked}))[0].value},bonusesUse:function(e){e?this.productDiscountShown=!1:"#online"!==this.paymentTab&&"#sbp"!==this.paymentTab||(this.productDiscountShown=!0)},callbackToConfirm:function(){Object($.a)("fast-order",{type:"Selected Notification Type"})}},created:function(){this._addPageTypeWatcher_P(),this.initData(),this.isDelivery&&this.deliveryTabsContent(),Object($.a)("order",{data:this.data,type:"1-step-delivery"})},mounted:function(){!this.isDelivery&&this.changeDeliveryTab(this.selectedDeliveryType)},methods:{showSearchRegion:function(){this.$store.commit("user/SHOW_SEARCH_REGION")},initData:function(){var e=this;if(this.data.productId&&(this.productId=this.data.productId),this.data.address&&(this.address=this.data.address),this.data.delivery.outside_ring_road&&this.data.delivery.outside_ring_road.times?this.data.delivery.outside_ring_road.times.forEach((function(t,a){e.radioTimeInterval.zamKad.push({value:"interval-".concat(a),label:t})})):this.data.delivery.default&&this.data.delivery.default.times&&this.data.delivery.default.times.forEach((function(t,a){e.radioTimeInterval.zamKad.push({value:"interval-".concat(a),label:t})})),this.data.delivery.default&&this.data.delivery.default.times&&this.data.delivery.default.times.forEach((function(t,a){e.radioTimeInterval.mkad.push({value:"interval-".concat(a),label:t})})),this.data.shops){for(var t=[],a=0,s=Object.entries(this.data.shops.placemarks);a<s.length;a++){var i=_()(s[a],2)[1];t.push(i)}this.data.shops.placemarks=t,this.shops=this.data.shops}this.data.shopsData&&(this.shopsData=this.data.shopsData),this.data.name&&(this.name=this.data.name),this.data.email&&(this.email=this.data.email),this.selectedDate=this.dateForServer(new Date),this.selectedDeliveryType=this.isDelivery?"#delivery":"#pickup-shop",this.data.payments&&(this.payments=this.data.payments),this.data.online_sales&&(this.onlineSales=this.data.online_sales),this.data.delivery_payments&&(this.deliveryPayments=this.data.delivery_payments),window.globalData.userInfo.city&&(this.dadata.city="19"===window.globalData.userInfo.cityId?"Москва":window.globalData.userInfo.city),this.data.bonusCard.get&&this.data.bonusCard.active&&this.data.bonusCard.total&&(this.bonusCard.step=3,this.bonusCard.bonusesAccrual=this.data.bonusCard.get,this.bonusCard.bonusesAvailable=this.data.bonusCard.active,this.bonusCard.bonusesUse=this.data.bonusCard.total),this.addressInMKAD?this.data.delivery.default&&(this.dates[0].express&&this.data.delivery.default.express&&(this.dates[0].name[1]=this.$options.filters.currency(this.data.delivery.default.express.price)),this.deliveryDatesInterval.min=this.data.delivery.default.common.min,this.deliveryDatesInterval.max=this.data.delivery.default.common.max):this.data.delivery.outside_ring_road?(this.dates[0].express&&this.data.delivery.default.express&&(this.dates[0].name[1]=this.$options.filters.currency(this.data.delivery.outside_ring_road.express.price)),this.deliveryDatesInterval.min=this.data.delivery.outside_ring_road.common.min,this.deliveryDatesInterval.max=this.data.delivery.outside_ring_road.common.max):(this.dates[0].name[1]=this.$options.filters.currency(this.data.delivery.default.express.price),this.deliveryDatesInterval.min=this.data.delivery.default.common.min,this.deliveryDatesInterval.max=this.data.delivery.default.common.max),this.data.max_distance_fast_delivery&&(this.maxDistanceFastDelivery=this.data.max_distance_fast_delivery),this.data.unavailable_payments_by_stores&&(this.unavailablePaymentsByStores=this.data.unavailable_payments_by_stores),this.data.payments.hasOwnProperty("2")||(this.availableDeliveries.delivery=!1),this.data.payments.hasOwnProperty("4")||(this.availableDeliveries.pickup=!1),this.data.payments.hasOwnProperty("POST")||this.data.payments.hasOwnProperty("PVZ")||(this.availableDeliveries.pvz=!1),this.data.product.discount&&(this.productActionDiscount=this.data.product.discount)},pickpointMapInit:function(e,t,a){this.pickpointMap.map=e,this.pickpointMap.clusterer=t,this.pickpointMap.marks=a},changeDeliveryTab:function(e){this.selectedDeliveryType=e,Object($.a)("fast-order",{type:"Selected Shipping Method"}),"#delivery"===e&&Object($.a)("order",{data:this.data,type:"1-step-delivery"}),"#pickup-shop"===e?(this.pickupMapShown=!0,Object($.a)("order",{data:this.data,type:"1-step-shop"})):"#more"===e&&(this.pickpointMapShown=!0)},shopsFilter:function(e){var t=JSON.parse(JSON.stringify(this.shops));return t.placemarks.splice(0,t.placemarks.length),this.shops.placemarks.forEach((function(a){"onlyShops"===e&&"shop"===a.type?t.placemarks.push(a):"onlyPoints"!==e||"pickpoint"!==a.type&&"postamat"!==a.type||t.placemarks.push(a)})),t},doPickpointFilter:function(){var e,t,a,s,i,n,r=this.pickpointMapFilter.filter((function(e){return e.checked})),o=[];r.forEach((function(e){o.push(e.value)}));var c=[];null===(e=this.pickpointMap)||void 0===e||null===(t=e.marks)||void 0===t||t.forEach((function(e){var t=e.options.get("pointType"),a=e.options.get("payByCash"),s=e.options.get("payByCard");o.includes("postamats")&&!o.includes("pickpoints")?o.includes("pay-by-cash")&&!o.includes("pay-by-card")?"postamat"===t&&a&&c.push(e):!o.includes("pay-by-cash")&&o.includes("pay-by-card")?"postamat"===t&&s&&c.push(e):"postamat"===t&&c.push(e):!o.includes("postamats")&&o.includes("pickpoints")?o.includes("pay-by-cash")&&!o.includes("pay-by-card")?"pickpoint"===t&&a&&c.push(e):!o.includes("pay-by-cash")&&o.includes("pay-by-card")?"pickpoint"===t&&s&&c.push(e):"pickpoint"===t&&c.push(e):o.includes("pay-by-cash")&&!o.includes("pay-by-card")?("postamat"===t||"pickpoint"===t)&&a&&c.push(e):!o.includes("pay-by-cash")&&o.includes("pay-by-card")?("postamat"===t||"pickpoint"===t)&&s&&c.push(e):("postamat"===t||"pickpoint"===t)&&c.push(e)})),null===(a=this.pickpointMap)||void 0===a||null===(s=a.clusterer)||void 0===s||s.removeAll(),null===(i=this.pickpointMap)||void 0===i||null===(n=i.clusterer)||void 0===n||n.add(c)},collectData:function(){var e=this;if(this.$refs.recipientNameInput.validationParams.$touch(),this.$refs.recipientEmailInput.validationParams.$touch(),this.$refs.recipientPhoneInput.validationParams.$touch(),this.$refs.recipientNameInput.isValid&&this.$refs.recipientEmailInput.isValid&&this.$refs.recipientPhoneInput.isValid){var t,a,s,i={};if(i.action="submitOneClickBuy",i.id=this.productId,i.selectedDeliveryType="#"===this.selectedDeliveryType[0]?this.selectedDeliveryType.split("#")[1]:this.selectedDeliveryType,"#delivery"===this.selectedDeliveryType)i.address=this.address,i.comment=this.comment,i.selectedDate=!this.isDeliveryExpress&&this.selectedDate,this.radioTimeIntervalNew.length?this.radioTimeIntervalNew.forEach((function(a,s){a.value===e.selectedTime&&(t=s)})):this.addressInMKAD?this.radioTimeInterval.mkad.forEach((function(a){a.value===e.selectedTime&&(t=a.label[0])})):this.radioTimeInterval.zamKad.forEach((function(a){a.value===e.selectedTime&&(t=a.label[0])})),i.selectedTime=t,i.selectedShop="",i.selectedShopType="";else i.address="",i.comment="",i.selectedDate="",i.selectedTime="",i.selectedShop=this.selectedShop.shopCode,i.selectedShopType=this.selectedShop.shopType,i.postamatId=this.selectedShop.postamatId,i.postamatCity=this.selectedShop.city,i.postamatAddress=this.selectedShop.shopAddress,i.postamatName=this.selectedShop.shopName,i.postamatApi=this.selectedShop.api;if(i.name=this.name,i.email=this.email,i.phone=this.phone,i.selectedPayment="#"===this.paymentTab[0]?this.paymentTab.split("#")[1]:this.paymentTab,i.callbackToConfirm=this.callbackToConfirm,"#delivery"===this.selectedDeliveryType?(a=2,i.isExpress=this.isDeliveryExpress,i.isMkad=this.addressInMKAD):"#pickup-shop"===this.selectedDeliveryType?a=4:"#more"===this.selectedDeliveryType&&("pickpoint"===this.selectedShop.shopType?a="PVZ":"postamat"===this.selectedShop.shopType&&(a="POST")),i.deliveryId=a,"#on-delivery"===this.paymentTab)s=4===a?4:6;else if("#online"===this.paymentTab)s=8;else if("#apple-pay"===this.paymentTab)s=11;else if("#installment-plan"===this.paymentTab)s=this.selectedInstallmentPlan,i.creditBank=this.selectedInstallmentPlan,i.radio_item_credit=this.selectedInstallmentPlan;else if("#on-account"===this.paymentTab){s=12;var n="";this.attachments.forEach((function(e){n+=e.fileId+";"})),i.contragentFiles=n,i.contragentText=this.requisites}else"#sbp"===this.paymentTab&&(s="sbp",i.isSbp=!0);i.paymentId=s,i.dadata=this.dadata,i.bonusUsedBalls=this.bonusUsedBalls,i.bonusCard=this.bonusCardNumber,i.useBonuses=this.bonusesUse,this.sendData(i)}},sendData:function(e){var t=this;return o()(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return document.body.classList.add("body-loading-white"),"/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",(s=new FormData).append("action","order-create"),s.append("isVue",!0),s.append("orderInfo",JSON.stringify(e)),s.append("security",t.security),a.next=9,t.$axios.post("/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",s).then((function(a){a.data.status&&(Object($.a)("order-complete",{data:e,response:a.data}),document.body.classList.remove("body-loading-white"),t.$close(!0),L({orderNumber:a.data.orderNumber}),a.data.pay_link&&(a.data.pay_link.includes("http")?setTimeout((function(){window.location.href=a.data.pay_link}),350):window.location.pathname=a.data.pay_link))}));case 9:case"end":return a.stop()}}),a)})))()},selectShop:function(e){var t=e.shopCode,a=e.shopName,s=e.pointType,i=e.postamatId,n=e.city,r=e.shopAddress,o=e.api;this.step=2,this.selectedShop.shopCode=t,this.selectedShop.shopType=s,this.selectedShop.postamatId=i,this.selectedShop.city=n,this.selectedShop.shopAddress=r,this.selectedShop.shopName=a,this.selectedShop.api=o,Object($.a)("fast-order",{type:"Selected Pickup Point",label:this.selectedShop.shopName})},changeDate:function(e){e.data&&e.data.formattedDate&&(this.selectedDate=e.data.formattedDate),e.formattedDate&&(this.selectedDate=e.formattedDate),e.data.express?this.isDeliveryExpress=!0:this.isDeliveryExpress=!1},changeTime:function(e){this.selectedTime=e},changePaymentTab:function(e){this.paymentTab=e,Object($.a)("fast-order",{type:"Selected Payment Method"})},searchShops:function(e){var t=this;if(this.searchedShops=[],this.searchedShopsOnMap={placemarks:[]},e){var a=this.shopsFilter("onlyShops");this.$set(this.searchedShopsOnMap,"center",a.center),this.shopsData.map((function(a){t.testSearch(e,a)&&t.searchedShops.push(a)})),a.placemarks.map((function(a){t.testSearch(e,a)&&(t.searchedShopsOnMap.placemarks.push(a),setTimeout((function(){t.$refs.shops.updateMap()}),250))})),this.searchedShops.length?this.showShops=!0:this.showShops=!1}else this.showShops=!0,setTimeout((function(){t.$refs.shops.updateMap()}),250)},testSearch:function(e,t){if(void 0===t||""===e)return!0;var a=new RegExp(e.toLowerCase(),"i");return a.test(t.shopAddress)||a.test(t.shopName)||a.test(t.metroStation)||a.test(t.metroName)},startTransition:function(e){e.style.height=e.scrollHeight+"px"},endTransition:function(e){e.style.height=""},changeShopsView:function(){var e;this.$refs.shopsViewTabs.tabs.forEach((function(t){t.isActive&&(e=t)})),"#map"===e.hash?(this.$refs.shopsViewTabs.selectTabEvent(null,"#list"),this.mobShopsView="list"):"#list"===e.hash&&(this.$refs.shopsViewTabs.selectTabEvent(null,"#map"),this.mobShopsView="map")},formatDateForDeliveryTabs:function(e){var t=new Intl.DateTimeFormat("ru",{weekday:"short"}).format(e);t=t.charAt(0).toUpperCase()+t.slice(1);var a=e.getDate(),s=new Intl.DateTimeFormat("ru",{month:"short"}).format(e);return{day:t,dayNumber:a,month:s="."===s.charAt(s.length-1)?s.slice(0,s.length-1):s}},selectDateInDatepicker:function(e){for(var t=this,a=this.formatDateForDeliveryTabs(e),s=this.dates.length-1;s>=0;s--){var i;(null===(i=this.dates[s])||void 0===i?void 0:i.hasOwnProperty("date"))&&this.dates.splice(s,1)}this.dates.splice(this.dates.length-1,0,{href:"date7",date:{dayOfWeek:a.day,dayNumber:a.dayNumber,month:a.month},formattedDate:t.dateForServer(e)}),setTimeout((function(){t.$refs.dateTabs.selectTabEvent(null,"#date7",null,null,t.dates[t.dates.length-2])}),250)},deliveryTabsContent:function(){var e=this,t=new Date,a=t.getDate(),s=a+e.deliveryDatesInterval.min;this.minDayCalendar=new Date,this.maxDayCalendar=new Date,this.minDayCalendar.setDate(s),this.maxDayCalendar.setDate(s+e.deliveryDatesInterval.max),this.dates.forEach((function(i,n){if(i.express&&(i.formattedDate=e.dateForServer(t)),i.hasOwnProperty("date")){var r=new Date;1===n?r.setDate(s):r.setDate(s+n-1);var o=e.formatDateForDeliveryTabs(r);++a===s&&1===n?i.date.dayOfWeek="Завтра":i.date.dayOfWeek=o.day,i.date.dayNumber=o.dayNumber,i.date.month=o.month,i.formattedDate=e.dateForServer(r)}})),this.deliveryPayments[2].EXPRESS||this.dates.shift()},dateForServer:function(e){var t=e.getDate();t=t<10?"0"+t:""+t;var a=e.getMonth()+1;return t+"."+(a=a<10?"0"+a:""+a)+"."+e.getFullYear()},fileAttached:function(e){var t=this;return o()(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"/local/components/multisite/pages/ajax/upload.php",(s=new FormData).append("files[]",e),a.next=5,t.$axios.post("/local/components/multisite/pages/ajax/upload.php",s).then((function(e){e.data.error||t.attachments.push({fileName:e.data.name,fileId:e.data.uploaded})}));case 5:case"end":return a.stop()}}),a)})))()},deleteThisAttachment:function(e){var t=this;return o()(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"/local/components/multisite/pages/ajax/upload.php",(s=new FormData).append("action","delete"),s.append("filename",e),a.next=6,t.$axios.post("/local/components/multisite/pages/ajax/upload.php",s).then((function(a){if(!0===a.data)for(var s=t.attachments.length-1;s>=0;s--)t.attachments[s].fileName===e&&t.attachments.splice(s,1)}));case 6:case"end":return a.stop()}}),a)})))()},changeInstallmentPlan:function(e){this.selectedInstallmentPlan=e},selectSuggestion:function(e){var t=this;this.addressInputValidate(),this.dadata=e.data,this.address=e.value;var a=e.data.beltway_hit;"IN_MKAD"===a||"IN_KAD"===a?(this.addressInMKAD=!0,this.deliveryDatesInterval.min=this.data.delivery.default.common.min,this.deliveryDatesInterval.max=this.data.delivery.default.common.max):(this.addressInMKAD=!1,this.data.delivery.outside_ring_road?(this.deliveryDatesInterval.min=this.data.delivery.outside_ring_road.common.min,this.deliveryDatesInterval.max=this.data.delivery.outside_ring_road.common.max):(this.deliveryDatesInterval.min=this.data.delivery.default.common.min,this.deliveryDatesInterval.max=this.data.delivery.default.common.max)),this.deliveryTabsContent();var s=this.userInfo.city;if("Москва и область"===s?s="Москва":"Санкт-Петербург и ЛО"===s&&(s="Санкт-Петербург"),this.deliveryPriceFromRequest.express=null,this.deliveryPriceFromRequest.common=null,["IN_MKAD","OUT_MKAD"].includes(a)&&this.maxDistanceFastDelivery){var i=document.querySelector('[data-dates="express"]');!Number.isNaN(e.data.beltway_distance)&&Number.parseFloat(e.data.beltway_distance)>this.maxDistanceFastDelivery?(i&&(i.style.display="none"),setTimeout((function(){t.$refs.dateTabs.selectTabEvent(null,"#".concat(t.dates[0].express?t.dates[1].href:t.dates[0].href))}),0)):(i&&(i.style.display=""),setTimeout((function(){t.$refs.dateTabs.selectTabEvent(null,"#".concat(t.dates[0].href))}),0))}this.dates[0].express&&(this.dates[0].name[1]=this.addressInMKAD?this.data.delivery.default.express.price:this.data.delivery.outside_ring_road?this.data.delivery.outside_ring_road.express.price:this.data.delivery.default.express.price),this.radioTimeIntervalNew.splice(0,this.radioTimeIntervalNew.length);var n=e.data.settlement_fias_id?e.data.settlement_fias_id:e.data.city_fias_id,r=e.data.settlement?e.data.settlement:e.data.city;if("Москва"===e.data.city||"Санкт-Петербург"===e.data.city)s=r;else if(r&&s!==r){var o=new FormData;o.append("city",r),o.append("fias",n),o.append("action","delivery_settings"),this.$axios.post("/local/components/multisite/order.delivery/ajax.php",o).then((function(e){e.data&&(e.data.deliveries.times.forEach((function(e,a){t.radioTimeIntervalNew.push({label:"".concat(e.FROM,":00 — ").concat(e.TO,":00"),value:"new-interval-".concat(a)})})),e.data.deliveries.express&&(t.deliveryPriceFromRequest.express=e.data.deliveries.express.price,t.dates[0].name[1]=t.$options.filters.currency(t.deliveryPriceFromRequest.express)),e.data.deliveries.common&&(t.deliveryPriceFromRequest.common=e.data.deliveries.common.price,t.deliveryDatesInterval.min=e.data.deliveries.common.min,t.deliveryDatesInterval.max=e.data.deliveries.common.max,t.deliveryTabsContent()),s=r)}))}},checkPaymentType:function(e,t){var a=this;this.availablePayments.onDelivery=4===t?!!e.hasOwnProperty("4"):!!e.hasOwnProperty("6"),this.availablePayments.online=!!e.hasOwnProperty("8"),this.availablePayments.applePay=!!e.hasOwnProperty("11")&&window.ApplePaySession,this.availablePayments.installmentPlan=!!e.hasOwnProperty("10"),this.availablePayments.onAccount=!!e.hasOwnProperty("12"),this.availablePayments.sbp=!!e.hasOwnProperty("sbp"),e.hasOwnProperty("10")&&(this.installmentPlan.splice(0,this.installmentPlan.length),e[10].options.forEach((function(e){a.installmentPlan.push({value:e.id,label:14===e.id?"".concat(e.label,'<p class="p p--comment">от ').concat(e.totalPerMonth," ₽ / мес. × ").concat(e.months,' месяцев</p><p class="p p--small">Быстрый и удобный кредит без переплат для держателей дебетовых карт Сбербанка,<br />подключивших «Сбербанк Онлайн».</p><ul class="list list--text-small"><li class="list__item">Короткая анкета</li><li class="list__item">Решение по заявке всего за несколько минут</li><li class="list__item">Дистанционное подписание кредитного договора</li></ul>'):12===e.id?"".concat(e.label,'<p class="p p--comment">от ').concat(e.totalPerMonth," ₽ / мес. × ").concat(e.months,' месяцев</p><ul class="list list--text-small"><li class="list__item">Короткая анкета</li><li class="list__item">Решение по заявке всего за несколько минут</li><li class="list__item">Дистанционное подписание кредитного договора</li></ul>'):"".concat(e.label)})})),this.installmentPlan.length&&(this.installmentPlan[0].checked=!0)),this.unavailablePaymentsByStores.hasOwnProperty(this.selectedShop.shopCode)&&this.unavailablePaymentsByStores["".concat(this.selectedShop.shopCode)].forEach((function(e){"4"!==e&&"6"!==e||(a.availablePayments.onDelivery=!1),"8"===e&&(a.availablePayments.online=!1),"10"===e&&(a.availablePayments.installmentPlan=!1),"11"===e&&(a.availablePayments.applePay=!1),"12"===e&&(a.availablePayments.onAccount=!1),"sbp"===e&&(a.availablePayments.sbp=!1)}))},checkSale:function(e){var t=this.onlineSales["".concat(this.productId)];(null==t?void 0:t.hasOwnProperty(e))?this.currentSale=t[e]:this.currentSale=null},submitCardNumber:function(e){var t=this;return o()(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.bonusCard.errorCardNumber="",t.bonusCard.loader=!0,"/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",(s=new FormData).append("CARD",e),s.append("action","card-apply"),s.append("product_id",t.productId),a.next=9,t.$axios.post("/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",s).then((function(e){t.bonusCard.loader=!1,e.data.status?(t.bonusCard.phone=e.data.phone,t.bonusCard.step++,t.bonusCard.timer=15,t.bonusCardTimer()):t.bonusCard.errorCardNumber=e.data.errors.CARD}));case 9:case"end":return a.stop()}}),a)})))()},bonusCardTimer:function(){var e=this,t=setInterval((function(){e.bonusCard.timer--,(!e.bonusCard.timer||e.bonusCard.timer<=0)&&clearInterval(t)}),1e3)},resendCode:function(){var e=this;return o()(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.bonusCard.loader=!0,"/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",(a=new FormData).append("action","code-resend"),t.next=6,e.$axios.post("/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",a).then((function(t){e.bonusCard.loader=!1,t.data.status&&(e.bonusCard.timer=15,e.bonusCardTimer())}));case 6:case"end":return t.stop()}}),t)})))()},cancelAttachCard:function(){this.bonusCard.step--,this.bonusCard.errorCardNumber="",this.bonusCard.errorVerifyCode="",this.bonusCard.phone="",this.bonusCard.timer=null},verifyCode:function(e){var t=this;return o()(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.bonusCard.errorVerifyCode="",t.bonusCard.loader=!0,"/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",(s=new FormData).append("code",e),s.append("action","code-verify"),s.append("product_id",t.productId),a.next=9,t.$axios.post("/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",s).then((function(e){t.bonusCard.loader=!1,e.data.status?(t.bonusCard.bonusesAvailable=e.data.bonuses.available,t.bonusCard.bonusesAccrual=e.data.bonuses.accrual,t.bonusCard.bonusesUse=e.data.bonuses.use,t.bonusCard.step++):t.bonusCard.errorVerifyCode=e.data.error}));case 9:case"end":return a.stop()}}),a)})))()},unattachCard:function(){var e=this;return o()(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",(a=new FormData).append("action","remove-card"),t.next=5,e.$axios.post("/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",a).then((function(t){t.data.status&&(e.bonusCard.step=1,e.bonusCard.errorCardNumber="",e.bonusCard.errorVerifyCode="",e.bonusCard.phone="",e.bonusCard.timer=null,e.bonusCard.bonusesAvailable=null,e.bonusCard.bonusesAccrual=null,e.bonusCard.bonusesUse=null,e.bonusesUse=!1)}));case 5:case"end":return t.stop()}}),t)})))()},useBonuses:function(e){var t=this;return o()(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",(s=new FormData).append("action","use-bonuses"),s.append("use",e),s.append("product_id",t.productId),a.next=7,t.$axios.post("/local/components/multisite/catalog.oneclick.buy/ajax_fast.php",s).then((function(e){e.data.isUse?(t.bonusesUse=!0,t.bonusUsedBalls=e.data.bonuses.use,t.bonusCardNumber=e.data.bonusInfo.CARD):(t.bonusesUse=!1,t.bonusUsedBalls=!1,t.bonusCardNumber=!1)}));case 7:case"end":return a.stop()}}),a)})))()},addressInputValidate:function(){this.$refs.addressInput.validationParams.$touch(),this.addressInputValid=!!this.$refs.addressInput.isValid}},validations:{address:{required:x.required},name:{required:x.required,alpha:T.a},phone:{required:x.required,tel:T.c},email:{required:x.required,email:x.email}}},V=(a(345),Object(j.a)(q,m,[],!1,null,null,null));V.options.__file="app/js/vue/components/common/modals/modal-oneclickbuy/modal-oneclickbuy.vue";var U=V.exports,H=a(121),K=a(12),W=a.n(K),X=a(7),Y=a(41);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z=Object(I.create)(u.a),G=Object(I.create)(h.a),ee=Object(I.create)(U),te=Object(I.create)(H.a),ae={name:"ProductCard",components:{ReBadge:d.a,lazyImage:p.a},mixins:[y.a],props:{product:{type:Object,default:function(){}},lazyload:{type:Boolean,default:!0},favorites:{type:Boolean,default:!1},labelDdl:{type:String,default:""}},data:function(){return{inCompare:!1,inFavorite:!0}},computed:Q(Q({},Object(X.e)("informer",["isInformer","info"])),{},{productInBasket:function(){var e=this;return this.$store.state.miniBasket.productsToBasket.find((function(t){return t.id==e.product.id}))},productIsCanBy:function(){return void 0===this.product.isCanBuy||this.product.isCanBuy},isCanBuy:function(){return!this.product.isPresale&&!this.productInBasket&&!this.product.isSaleSoon&&!this.product.isByOrder&&this.productIsCanBy},isB2B:function(){var e;return null===(e=window.digitalData)||void 0===e?void 0:e.user.legalEntity},isCanArrange:function(){return!this.product.isPresale&&this.productInBasket&&!this.product.isSaleSoon&&!this.product.isByOrder},isOneClickBuy:function(){return!this.product.isPresale&&!this.product.isSaleSoon&&!this.product.isByOrder&&this.productIsCanBy&&!this.isB2B},showCredit:function(){return this.product.credit&&this.product.credit.CREDIT_TIME},trimmedTrailer:function(){return Object(Y.a)(this.product.trailer,100)}}),created:function(){this.inBasket=this.product.inBasket,this.inCompare=this.product.inCompare,this.inFavorite=this.product.isFavourite,this._addPageTypeWatcher_P()},methods:{buy:function(){var e=this,t=this,a={action:"addBasket",actionDdl:"addBasket",id:this.product.id,labelDdl:this.labelDdl,skuCode:this.product.skuCode,security:this.product.security};W.a.post("/local/classes/vue/rest-vue/product.php",a).then((function(a){if(a.data.success){var s={id:t.product.id,price:t.product.prices.current,link:t.product.link,img:t.product.img,name:t.product.name};"skuCode"in t.product&&(s.skuCode=t.product.skuCode),e.$store.commit("miniBasket/showBasket",!0),e.$store.dispatch("miniBasket/addProductToBasket",s),setTimeout((function(){e.$store.commit("miniBasket/showBasket",!1)}),3e3),window.digitalDataUpdate=Object.assign({},a.data.data.ddl),Object($.a)("ajax-complete",{XMLHttpRequest:a.request,ajaxOptions:a.config})}else console.log(a.data)})).catch((function(e){return console.log(e),null}))},preorder:function(){var e=this;return o()(n.a.mark((function t(){var a,s,i,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.body.classList.add("body-loading-white"),"/local/classes/vue/rest-vue/product.php",s="im"===window.globalData.userInfo.cityId,i={action:"getPreorder",id:e.product.id,isVue:!0,allCities:s},t.next=6,e.$axios.post("/local/classes/vue/rest-vue/product.php",i);case 6:r=t.sent,document.body.classList.remove("body-loading-white"),Z({data:r.data,security:e.product.security}),null===(a=window.digitalData)||void 0===a||a.events.push({category:"button",name:"Clicked Preorder Checkout Button",label:"Из каталога",product:{id:e.product.id,skuCode:e.product.skuCode},quantity:1}),e.emitPreorderEvent();case 11:case"end":return t.stop()}}),t)})))()},emitPreorderEvent:function(){var e=this.product.prices.current;Object($.a)("click-preorder",{subtotal:e,total:e,totalBase:e})},sendOrderButtonDDL:function(){Object($.a)("click-order-button",{label:this.labelDdl})},underorder:function(){var e=this;return o()(n.a.mark((function t(){var a,s,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.body.classList.add("body-loading-white"),"/local/classes/vue/rest-vue/product.php",s={action:"getUnderorder",id:e.product.id,isVue:!0},t.next=5,e.$axios.post("/local/classes/vue/rest-vue/product.php",s);case 5:i=t.sent,document.body.classList.remove("body-loading-white"),G({data:i.data,security:e.product.security}),null===(a=window.digitalData)||void 0===a||a.events.push({category:"button",name:"Clicked Underorder Checkout Button",label:"Из каталога",product:{id:e.product.id,skuCode:e.product.skuCode},quantity:1});case 9:case"end":return t.stop()}}),t)})))()},compare:function(){var e=this,t={action:"addCompare",id:this.product.id};this.$store.commit("informer/updateInfo",{isInformer:!1}),W.a.post("/local/classes/vue/rest-vue/product.php",t).then((function(t){var a,s;t.data.success&&(window.globalData.userInfo.compare.count++,e.inCompare=!0,e.$store.commit("informer/updateInfo",{isInformer:!0,img:e.product.img,title:e.product.name,type:"compare"}),null===(a=window.digitalData)||void 0===a||null===(s=a.events)||void 0===s||s.push({name:"Added Product to Comparison",category:"Behaviour",label:e.product.name}))})).catch((function(e){return console.log(e),null}))},addToFavorite:function(e){var t=this;return o()(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"/local/classes/vue/rest-vue/product.php",s={id:e,action:"",name:t.product.name,skuCode:t.product.skuCode},t.inFavorite?s.action="removeToFavorite":s.action="addToFavorite",t.$store.commit("informer/updateInfo",{isInformer:!1}),a.next=6,t.$axios.post("/local/classes/vue/rest-vue/product.php",s).then((function(e){e&&("addToFavorite"===s.action?(window.globalData.userInfo.favorite.count++,t.$store.commit("informer/updateInfo",{isInformer:!0,img:t.product.img,title:t.product.name,type:"favorite"})):"removeToFavorite"===s.action&&window.globalData.userInfo.favorite.count--,t.inFavorite=!t.inFavorite,window.digitalDataUpdate=Object.assign({},e.data.data.ddl),Object($.a)("ajax-complete",{XMLHttpRequest:e.request,ajaxOptions:e.config}))})).catch((function(e){return console.log(e),null}));case 6:case"end":return a.stop()}}),a)})))()},popupNotify:function(){var e=this;return o()(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te({productName:e.product.name,productId:e.product.id});case 2:case"end":return t.stop()}}),t)})))()},oneClickBuy:function(){var e=this;return o()(n.a.mark((function t(){var a,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.body.classList.add("body-loading-white"),"/local/classes/vue/rest-vue/fastOrder.php",a={action:"getFastOrderInfo",id:e.product.id,isVue:!0},t.next=5,e.$axios.post("/local/classes/vue/rest-vue/fastOrder.php",a);case 5:s=t.sent,document.body.classList.remove("body-loading-white"),ee({data:s.data.data,security:e.product.security});case 8:case"end":return t.stop()}}),t)})))()}}},se=(a(347),Object(j.a)(ae,s,[],!1,null,null,null));se.options.__file="app/js/vue/components/product-card/product-card.vue";t.a=se.exports},40:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-box modal-success-order"},[a("div",{staticClass:"modal-mask",on:{click:e.closeModal}}),e._v(" "),a("div",{staticClass:"modal-wrapper modal-success-order__wrapper"},[a("div",{staticClass:"modal-content modal-success-order__content"},[a("button",{staticClass:"btn-close",on:{click:e.closeModal}},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close",size:"20 20"}})]),e._v(" "),a("div",{staticClass:"modal-success-order__body"},[a("div",{staticClass:"modal-success-order__icon"},[a("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"done",size:"50 50"}})]),e._v(" "),a("div",{staticClass:"modal-success-order__title"},[e._v("\n          "+e._s(e.orderTitle)+"\n        ")]),e._v(" "),e.orderNumber?a("div",{staticClass:"modal-success-order__number"},[e._v("\n          №"+e._s(e.orderNumber)+"\n        ")]):e._e(),e._v(" "),e.orderDescr?a("p",[e._v(e._s(e.orderDescr))]):e._e(),e._v(" "),a("div",{staticClass:"modal-success-order__btn"},[a("re-button",{staticClass:"btn modal-success-order__close",on:{click:function(t){return t.preventDefault(),e.closeModal(t)}}},[e._v("\n            Закрыть\n          ")])],1)])])])])};s._withStripped=!0;var i=a(16),n={name:"ModalSuccessOrder",components:{ReButton:a(10).a},mixins:[i.a],props:{orderTitle:{type:String,default:"Спасибо за заказ!"},orderNumber:{type:String,default:""},orderDescr:{type:String,default:""},reloadPageAfterModalClose:{type:Boolean,default:!1}},methods:{closeModal:function(){this.reloadPageAfterModalClose?this.$close(this.unfixBody(),this.reloadPage()):this.$close(this.unfixBody())},reloadPage:function(){document.location.reload()}}},r=(a(339),a(0)),o=Object(r.a)(n,s,[],!1,null,null,null);o.options.__file="app/js/vue/components/common/modals/modal-success-order/modal-success-order.vue";t.a=o.exports},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){}}]);
/* End */
;
; /* Start:"a:4:{s:4:"full";s:84:"/local/templates/re-store-vue/frontend/build/catalog~ui-kit.bundle.js?16558018672667";s:6:"source";s:69:"/local/templates/re-store-vue/frontend/build/catalog~ui-kit.bundle.js";s:3:"min";s:0:"";s:3:"map";s:0:"";}"*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{107:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sort"},[t.options.popularity?r("div",{staticClass:"sort__item",attrs:{"data-order":t.sortPopularity,"data-sort":"sort"},on:{click:t.changeSort}},[t._v("\n    По популярности\n  ")]):t._e(),t._v(" "),t.options.novelty?r("div",{staticClass:"sort__item",attrs:{"data-order":t.sortNovelty,"data-sort":"new"},on:{click:t.changeSort}},[t._v("\n    По новизне\n  ")]):t._e(),t._v(" "),t.options.price?r("div",{staticClass:"sort__item",attrs:{"data-order":t.sortPrice,"data-sort":"price"},on:{click:t.changeSort}},[t._v("\n    По цене\n  ")]):t._e()])};o._withStripped=!0;r(296);var s={name:"ReSort",props:{options:{type:Object,default:function(){}},selected:{type:Object,default:function(){}}},computed:{sortPopularity:function(){return["sort"===this.selected.currentSort?this.selected.currentOrder:""]},sortNovelty:function(){return["new"===this.selected.currentSort?this.selected.currentOrder:""]},sortPrice:function(){return["price"===this.selected.currentSort?this.selected.currentOrder:""]}},methods:{changeSort:function(t){var e=t.target,r=e.getAttribute("data-order"),o=e.getAttribute("data-sort"),s=e.parentElement.children;if(""===r)for(var a=0;a<s.length;a++)s[a].setAttribute("data-order","");"sort"===o||"new"===o?""===r?e.setAttribute("data-order","desc"):"desc"===r?e.setAttribute("data-order","asc"):"asc"===r&&e.setAttribute("data-order","desc"):"price"===o&&(""===r||"desc"===r?e.setAttribute("data-order","asc"):"asc"===r&&e.setAttribute("data-order","desc")),this.$emit("change-sort",e.getAttribute("data-sort"),e.getAttribute("data-order"))}}},a=r(0),i=Object(a.a)(s,o,[],!1,null,null,null);i.options.__file="app/js/vue/ui/sort/sort.vue";e.a=i.exports},134:function(t,e,r){},296:function(t,e,r){},45:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",t._g({staticClass:"colors-item"},t.$listeners),[r("input",{staticClass:"colors-item__input",attrs:{name:t.name,type:"radio"}}),t._v(" "),r("span",{staticClass:"colors-item__circle",style:"background-color:"+t.colorCode,on:{click:function(t){t.stopPropagation()}}}),t._v(" "),r("span",{staticClass:"colors-item__hint"},[t._v(t._s(t.colorTitle))])])};o._withStripped=!0;r(134);var s={name:"ReColorsItem",props:{colorCode:{type:String,default:""},colorTitle:{type:String,default:""},name:{type:String,default:""}}},a=r(0),i=Object(a.a)(s,o,[],!1,null,null,null);i.options.__file="app/js/vue/ui/colors/colors-item.vue";e.a=i.exports}}]);
/* End */
;
; /* Start:"a:4:{s:4:"full";s:91:"/local/templates/re-store-vue/frontend/build/appleProducts~catalog.bundle.js?16558018671726";s:6:"source";s:76:"/local/templates/re-store-vue/frontend/build/appleProducts~catalog.bundle.js";s:3:"min";s:0:"";s:3:"map";s:0:"";}"*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{106:function(e,r,t){"use strict";var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"breabcrumbs"},[t("div",{staticClass:"breadcrumbs__list container"},[t("ul",[t("li",[t("a",{staticClass:"breadcrumb-main",attrs:{href:"/"}},[t("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"breadcrumb-main__icon",attrs:{symbol:"crumb",size:"12 15"}})])]),e._v(" "),e._l(e.breadcrumbs,(function(r,s){return t("li",{key:s},[s!==e.breadcrumbs.length-1?t("a",{staticClass:"crumb",attrs:{href:r.link}},[t("span",{domProps:{innerHTML:e._s(r.label)}})]):t("span",{domProps:{innerHTML:e._s(r.label)}})])}))],2)])])};s._withStripped=!0;var n=t(13),c=t.n(n),a=t(7);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){c()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var b={name:"Breadcrumbs",computed:o({},Object(a.c)("catalog",["breadcrumbs"])),created:function(){this.getBreadcrumbs()},methods:o({},Object(a.b)("catalog",["getBreadcrumbs"]))},u=(t(288),t(0)),l=Object(u.a)(b,s,[],!1,null,null,null);l.options.__file="app/js/vue/components/breadcrumbs/breadcrumbs.vue";r.a=l.exports},288:function(e,r,t){"use strict";var s=t(49);t.n(s).a},49:function(e,r,t){}}]);
/* End */
;
; /* Start:"a:4:{s:4:"full";s:92:"/local/templates/re-store-vue/frontend/build/catalog~footerTemplate.bundle.js?16558018671505";s:6:"source";s:77:"/local/templates/re-store-vue/frontend/build/catalog~footerTemplate.bundle.js";s:3:"min";s:0:"";s:3:"map";s:0:"";}"*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{115:function(e,t,n){"use strict";var o=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"device-info"},[t("p",{staticClass:"p p--small",domProps:{innerHTML:this._s(this.seoCatalog)}})])};o._withStripped=!0;var r=n(13),c=n.n(r),i=n(7);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"DeviceInfo",computed:s({},Object(i.c)("catalog",["seoCatalog"])),created:function(){this.getSeoCatalog()},methods:s({},Object(i.b)("catalog",["getSeoCatalog"]))},l=(n(352),n(0)),u=Object(l.a)(p,o,[],!1,null,null,null);u.options.__file="app/js/vue/components/common/device-info/device-info.vue";t.a=u.exports},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(){var e=setInterval((function(){0===window.pageYOffset&&clearInterval(e),window.scroll(0,window.pageYOffset-50)}),10)}},352:function(e,t,n){"use strict";var o=n(74);n.n(o).a},74:function(e,t,n){}}]);
/* End */
;
; /* Start:"a:4:{s:4:"full";s:78:"/local/templates/re-store-vue/frontend/build/catalog.bundle.js?165830181153784";s:6:"source";s:62:"/local/templates/re-store-vue/frontend/build/catalog.bundle.js";s:3:"min";s:0:"";s:3:"map";s:0:"";}"*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{294:function(e,t,i){"use strict";var s=i(53);i.n(s).a},295:function(e,t,i){"use strict";var s=i(54);i.n(s).a},297:function(e,t,i){"use strict";var s=i(55);i.n(s).a},303:function(e,t,i){"use strict";var s=i(57);i.n(s).a},304:function(e,t,i){"use strict";var s=i(58);i.n(s).a},306:function(e,t,i){"use strict";var s=i(59);i.n(s).a},307:function(e,t,i){"use strict";var s=i(60);i.n(s).a},309:function(e,t,i){"use strict";var s=i(61);i.n(s).a},348:function(e,t,i){"use strict";var s=i(70);i.n(s).a},349:function(e,t,i){"use strict";var s=i(71);i.n(s).a},350:function(e,t,i){"use strict";var s=i(72);i.n(s).a},351:function(e,t,i){"use strict";var s=i(73);i.n(s).a},389:function(e,t,i){"use strict";i.r(t);var s=i(23),a=i.n(s),r=i(24),n=i.n(r),o=i(29),c=i.n(o),l=i(30),u=i.n(l),p=i(22),d=i.n(p),h=i(31),m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("breadcrumbs"),e._v(" "),i("div",{staticClass:"catalog container"},["mobile"!==e.pageType?i("device-menu"):e._e(),e._v(" "),i("main-catalog"),e._v(" "),"mobile"!==e.pageType?i("links"):e._e(),e._v(" "),i("div",{staticClass:"catalog__advantages"},[i("grid-advantages")],1),e._v(" "),"mobile"===e.pageType?i("links"):e._e(),e._v(" "),i("seo-text",{attrs:{data:e.seoText}})],1)],1)};m._withStripped=!0;var v=i(1),f=i.n(v),g=i(4),_=i.n(g),b=i(106),y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.devices.accessories?i("div",{staticClass:"accessories-menu"},[i("div",{staticClass:"accessories-menu__select"},[e._v("\n    "+e._s(e.titleHtml)+"\n    "),e.devices.current?e._t("default",[e._v("\n       для\n    ")]):e._e(),e._v(" "),e.devices.current?i("span",{staticClass:"accessories-menu__type"},[e._v("\n      "+e._s(e.devices.current)+" \n      "),i("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon-arrow",attrs:{symbol:"arrow_down",size:"14 7"}}),e._v(" "),i("div",{staticClass:"accessories-menu__list"},e._l(e.devices.sections,(function(t,s){return i("a",{key:s,staticClass:"accessories-menu__list-item",class:{"accessories-menu__list-item--active":t.label===e.devices.current},attrs:{href:t.link}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),0)]):e._e()],2),e._v(" "),i("div",{staticClass:"accessories-menu__links-track"},[i("div",{staticClass:"accessories-menu__links"},e._l(e.devices.links,(function(t,s){return i("a",{key:s,staticClass:"accessories-menu__link",class:{"accessories-menu__link--active":t.label===e.devices.currentTab},attrs:{href:t.link}},[e._v("\n        "+e._s(t.label)+"\n      ")])})),0)])]):i("div",{staticClass:"catalog-device-menu"},[i("swiper",{ref:"devicesSwiper",attrs:{options:e.swiperOptions}},e._l(e.devices,(function(t,s){return i("swiper-slide",{key:s},[i("a",{staticClass:"catalog-device-menu-item",class:{active:e.isMenuItemSelected(t)},attrs:{href:t.link},on:{click:function(i){return i.preventDefault(),e.processClick(t)}}},[i("div",{staticClass:"img-wrapper"},[i("img",{attrs:{src:t.image,alt:t.name}})]),e._v("\n        "+e._s(t.name)+"\n      ")])])})),1)],1)};y._withStripped=!0;var k=i(3),P={name:"DeviceMenu",mixins:[k.a],props:{url:{type:String,default:""},titleHtml:{type:String,default:"Аксессуары"}},data:function(){return{devices:[],swiperOptions:{slidesPerView:"auto",breakpoints:{1100:{noSwipingClass:"swiper-slide"}},on:{reachBeginning:function(e){e.el.classList.add("begin-reached")},reachEnd:function(e){e.el.classList.add("end-reached")},progress:function(e,t){0===Math.abs(t)?e.el.classList.add("begin-reached"):1===Math.abs(t)?e.el.classList.add("end-reached"):(e.el.classList.remove("begin-reached"),e.el.classList.remove("end-reached"))}}},selectedMenuItemLink:""}},computed:{swiper:function(){return this.$refs.devicesSwiper.$swiper},selectedMenuItem:function(){var e=this;return this.devices.find((function(t){return t&&t.link===e.selectedMenuItemLink}))}},created:function(){this._addPageTypeWatcher_P(),this.getGlobalData()},methods:{processClick:function(e){var t=e.link||"";t&&(this.selectedMenuItemLink=t,!e.redirect&&!t.includes("compare")&&!t.includes("/accessories/")?this.applyDevice(t):window.location.href=t)},applyDevice:function(e){if(this.$store.dispatch("catalog/applyPage",{type:"changeDevice",url:e}),"mobile"===this.pageType){var t=document.querySelector(".catalog-content").offsetTop;scroll({top:t-50,behavior:"smooth"})}},getGlobalData:function(){this.devices=window.globalData.devices},isMenuItemSelected:function(e){return this.selectedMenuItem&&e&&this.selectedMenuItem.link===e.link}}},C=(i(294),i(295),i(0)),w=Object(C.a)(P,y,[],!1,null,null,null);w.options.__file="app/js/vue/components/catalog/device-menu/device-menu.vue";var O=w.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"catalog-content",class:{"catalog--is-loading":e.isLoading&&"mobile"!==e.pageType}},[i("catalog-row",{attrs:{"product-length":e.filteredProducts.length},on:{"change-sort":e.handleSortChange}}),e._v(" "),i("div",{staticClass:"catalog-inner",class:{"catalog--is-loading":e.isLoading&&"mobile"===e.pageType}},[i("div",{staticClass:"catalog-items"},[e._l(e.filteredProducts,(function(t,s){return["mobile"!==e.pageType?i("product-card",{key:s,staticClass:"catalog__item",attrs:{product:t,lazyload:!1,favorites:"desktop"===e.pageType,"label-ddl":"Из каталога"}}):e._e(),e._v(" "),e.filteredProducts.length>12&11===s&"mobile"!==e.pageType?i("banner",{key:s}):e._e(),e._v(" "),"mobile"===e.pageType?i("mobile-card",{key:s,attrs:{product:t,"label-ddl":"Из каталога"}}):e._e()]})),e._v(" "),e.filteredProducts.length<12&"mobile"!==e.pageType?i("banner"):e._e(),e._v(" "),e.filteredProducts.length<12&"mobile"!==e.pageType?i("div",{staticClass:"catalog__banner"},[e._m(0)]):e._e(),e._v(" "),e.pagesCount>1&&e.showPagination&&e.currentPage<e.pagesCount||e.pagesCount>1&&!e.showPagination?i("div",{staticClass:"catalog__btn-item btn-wrap"},[i("re-button",{class:{hidden:e.isLoading&&"mobile"===e.pageType},on:{click:e.loadMore}},[e._v("\n          Показать еще\n        ")])],1):e._e(),e._v(" "),e.pagesCount>1&&e.showPagination?i("pagination",{attrs:{"pages-count":e.pagesCount,"current-page":e.currentPage},on:{handlePageChanged:e.handlePageChanged}}):e._e()],2),e._v(" "),i("filters-block",{attrs:{"device-type":e.pageType},on:{"change-filters":e.handleFiltersChange}})],1)],1)};S._withStripped=!0;var x=i(13),M=i.n(x),j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"catalog__row"},[i("div",{staticClass:"catalog__group-title"},[i("h1",{staticClass:"catalog__title"},[e._v(e._s(e.titleProducts))]),e._v(" "),i("span",{staticClass:"h1 catalog__item-count"},[e._v("— "+e._s(e.productLength))])]),e._v(" "),i("div",{staticClass:"sort"},[i("div",{staticClass:"sort__row sort__row--catalog"},[i("re-sort",{attrs:{options:e.sortOptions,selected:e.selectedSort},on:{"change-sort":e.changeSort}})],1),e._v(" "),i("div",{staticClass:"sort__row sort__row--mobile-catalog"},[i("form",{staticClass:"sort__form sort__row-item",attrs:{action:""}},[i("div",{staticClass:"sort__select-box"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.sortOptionsMobile.selected,expression:"sortOptionsMobile.selected"}],staticClass:"sort__select",attrs:{id:"select_sort",name:"sort"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.sortOptionsMobile,"selected",t.target.multiple?i:i[0])},e.changeSortMobile]}},[i("option",{attrs:{value:"Популярные","data-sort":"sort","data-order":"desc"}},[e._v("\n              Популярные\n            ")]),e._v(" "),i("option",{attrs:{value:"Новинки","data-sort":"new","data-order":"desc"}},[e._v("\n              Новинки\n            ")]),e._v(" "),i("option",{attrs:{value:"По возрастанию цены","data-sort":"price","data-order":"asc"}},[e._v("\n              По возрастанию цены\n            ")]),e._v(" "),i("option",{attrs:{value:"По убыванию цены","data-sort":"price","data-order":"desc"}},[e._v("\n              По убыванию цены\n            ")])]),e._v(" "),i("div",{staticClass:"sort__select-fake"},[i("div",{staticClass:"sort__select-fake-text"},[e._v("\n              "+e._s(e.sortOptionsMobile.selected)+"\n            ")])]),e._v(" "),i("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"arrow_down",size:"14 7"}})])]),e._v(" "),i("div",{staticClass:"sort__filter-box sort__row-item"},[i("button",{staticClass:"delivery-way",on:{click:e.showMobileFilter}},[i("div",{staticClass:"delivery-way__icon"},[i("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"filter",size:"18 12"}})]),e._v(" "),i("span",{staticClass:"p delivery-way__title delivery-way__title--filter"},[e._v("\n            Фильтр\n          ")])])])]),e._v(" "),i("div",{staticClass:"sort__quick-filters"},[i("div",{staticClass:"sort__quick-filters-track"},e._l(e.quickFiltersMobile,(function(t,s){return i("button",{key:s,staticClass:"btn btn--gray sort__quick-filter-button",attrs:{name:t.filter,value:t.value},on:{click:e.handleQuickFilter}},[e._v("\n          "+e._s(t.text)+"\n        ")])})),0)])])])};j._withStripped=!0;var F=i(107),T=i(7);function L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function D(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){M()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var A={name:"CatalogRow",components:{ReSort:F.a},mixins:[k.a],data:function(){return{sortOptions:{popularity:!0,novelty:!0,price:!0},sortOptionsMobile:{selected:"Популярные",currentSort:"sort",currentOrder:"desc"}}},computed:D(D({},Object(T.e)("catalog",{quickFiltersMobile:function(e){return e.quickFiltersMobile}})),Object(T.c)("catalog",["titleProducts","selectedFilters","productLength","selectedSort"])),created:function(){this._addPageTypeWatcher_P(),this.getGlobalSort()},methods:D(D(D({},Object(T.b)("catalog",["sortingProducts","createSelectedFilter","handleApplyFilter","applyPage"])),Object(T.d)("catalog",["toogleMobileFilter","setSelectedSort"])),{},{getGlobalSort:function(){if(void 0!==window.globalData.filter.sort){switch(this.setSelectedSort({sort:window.globalData.filter.sort,order:window.globalData.filter.order}),window.globalData.filter.sort){case"new":this.sortOptionsMobile.selected="Новинки";break;case"price":this.sortOptionsMobile.selected="По цене";break;default:this.sortOptionsMobile.selected="Популярные"}this.sortOptionsMobile.currentSort=window.globalData.filter.sort,this.sortOptionsMobile.currentOrder=window.globalData.filter.order}},showMobileFilter:function(){this.toogleMobileFilter(!0),setTimeout((function(){document.querySelector("body").classList.add("body-no-scroll")}),150)},changeSort:function(e,t){this.sortOptions.currentSort=e,this.sortOptions.currentOrder=t,this.$emit("change-sort",e,t)},changeSortMobile:function(e){var t=e.target,i=t.options[t.selectedIndex],s=i.getAttribute("data-sort"),a=i.getAttribute("data-order");this.sortOptionsMobile.currentSort=s,this.sortOptionsMobile.currentOrder=a,this.$emit("change-sort",s,a)},handleQuickFilter:function(e){var t=this,i=e.target;i.classList.toggle("sort__quick-filter-button--active");var s={isChecked:i.classList.contains("sort__quick-filter-button--active"),selected:this.selectedFilters,name:i.name,value:i.value};this.createSelectedFilter(s),setTimeout((function(){t.handleApplyFilter()}),1e3)}})},B=(i(297),Object(C.a)(A,j,[],!1,null,null,null));B.options.__file="app/js/vue/components/catalog/catalog-row/catalog-row.vue";var E=B.exports,R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"filterWrapper",staticClass:"catalog-filter-wrapper",class:{"catalog-filter-wrapper--open":e.mobileFilter}},[i("div",{staticClass:"catalog-filter__bg-close",on:{click:e.hideMobileFilters}},[e._v("\n     \n  ")]),e._v(" "),i("div",{ref:"catalogFilter",staticClass:"catalog-filter",class:{"catalog-filter--mobile":e.mobileFilter},attrs:{id:"sticky-parent"}},[i("form",{staticClass:"catalog-filter__form"},[i("div",{staticClass:"catalog-filter__section-mobile"},[i("span",{staticClass:"catalog-filter__title-mobile"},[e._v("Фильтры")]),e._v(" "),i("button",{staticClass:"catalog-filter__close-mobile btn-close",attrs:{type:"button"},on:{click:e.hideMobileFilters}},[i("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon",attrs:{symbol:"close",size:"20 20"}})])]),e._v(" "),e._l(Object.keys(e.filtersList),(function(t){return"min_price"!==t&"max_price"!==t&!e.filtersList[t].hideBlock?i("div",{key:t,staticClass:"catalog-filter__input-block"},[i("span",{staticClass:"catalog-filter__small-title",class:{"catalog-filter__small-title--map":"AVAILABLE_SHOPS[]"===t&&e.isShopsMap&&"desktop"===e.pageType}},[e._v("\n          "+e._s(e.filtersList[t].name)+"\n          "),"AVAILABLE_SHOPS[]"===t&&e.isShopsMap&&"desktop"===e.pageType?i("span",{staticClass:"ui-link catalog-filter__map-btn",on:{click:e.openMap}},[i("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"shop-filter-map-marker",size:"12 15"}}),e._v("\n            Карта\n          ")]):e._e()]),e._v(" "),e._l(e.filtersList[t].items,(function(s,a){return i("div",{key:s.id,staticClass:"catalog-filter__input",attrs:{name:s.name}},[!s.displayNone&&a<5||(s.newIndex<5||!e.filtersList[t].showMoreBlock)?i("div",{directives:[{name:"show",rawName:"v-show",value:"mobile"!==e.deviceType||!s.disabled,expression:"deviceType === 'mobile' ? !item.disabled : true"}],staticClass:"catalog-filter__input-line",class:{"catalog-filter--input-color":e.isColorCheckbox(s.name)},on:{click:e.clickOnFilter}},[i("re-checkbox-array",{attrs:{name:s.name,value:s.value,disabled:s.disabled,"is-mobile-color":e.isColorCheckbox(s.name),"color-code":s.hex,"color-title":s.text},model:{value:e.selectedFilters,callback:function(t){e.selectedFilters=t},expression:"selectedFilters"}},[e._v("\n              "+e._s(s.text)+"\n            ")])],1):i("div",{on:{click:e.clickOnFilter}},[i("transition",{attrs:{name:"expand"},on:{enter:e.enter,"after-enter":e.afterEnter,leave:e.leave}},[(e.deviceType,e.showMore[t]||s.active?i("div",{staticClass:"catalog-filter__input-line",class:{"catalog-filter--input-color":e.isColorCheckbox(s.name)}},[i("re-checkbox-array",{attrs:{name:s.name,value:s.value,disabled:s.disabled,"is-mobile-color":e.isColorCheckbox(s.name),"color-code":s.hex,"color-title":s.text},model:{value:e.selectedFilters,callback:function(t){e.selectedFilters=t},expression:"selectedFilters"}},[e._v("\n                  "+e._s(s.text)+"\n                ")])],1):e._e())])],1)])})),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.filtersList[t].showMoreBlock,expression:"filtersList[key].showMoreBlock"}],staticClass:"ui-link catalog-filter__show-all-filters",attrs:{"data-key":t,"data-max":"5"},on:{click:e.showAllFiltersBlock}},[e._v("\n          Показать все\n        ")])],2):e._e()})),e._v(" "),i("div",{staticClass:"catalog-filter__input-block"},[i("span",{staticClass:"catalog-filter__small-title"},[e._v("Цена, ₽")]),e._v(" "),i("div",{staticClass:"catalog-filter__input-line catalog-filter__input-line--price"},[i("re-input",{staticClass:"catalog-filter__input-field catalog-filter__input-field--min",attrs:{id:"min_price","validation-params":{},placeholder:""+e.getMinPlaceholder,name:"min_price",type:"text",number:""},on:{"focus-in":e.getCurrentRange,focus:e.handlePriceFilter},model:{value:e.minPrice,callback:function(t){e.minPrice=t},expression:"minPrice"}}),e._v(" "),i("span",{staticClass:"catalog-filter__separator"},[e._v("—")]),e._v(" "),i("re-input",{staticClass:"catalog-filter__input-field catalog-filter__input-field--max",attrs:{id:"max_price","validation-params":{},placeholder:""+e.getMaxPlaceholder,name:"max_price",type:"text",number:""},on:{"focus-in":e.getCurrentRange,focus:e.handlePriceFilter},model:{value:e.maxPrice,callback:function(t){e.maxPrice=t},expression:"maxPrice"}}),e._v(" "),e.mobileFilter?i("vue-range-slider",{staticClass:"ui-range-slider",class:{"max-value-right-shifting":e.isMaxTooltipBeyond,"min-value-left-shifting":e.isMinTooltipBehind},attrs:{"enable-cross":e.rangePriceOptions.enableCross,tooltip:e.showMergeTooltip?"none":"always","tooltip-formatter":e.rangePriceOptions.formatter,min:e.numberMinPrice,max:e.numberMaxPrice,lazy:e.rangePriceOptions.lazy,contained:e.rangePriceOptions.contained},scopedSlots:e._u([{key:"process",fn:function(t){var s=t.start,a=t.end,r=t.style;return[i("div",{staticClass:"vue-slider-process",style:r},[e.showMergeTooltip?i("div",{class:["merge-tooltip","vue-slider-dot-tooltip-inner","vue-slider-dot-tooltip-inner-top",isNaN(s)&&isNaN(a)?"merge-tooltip--left":"",s<7?"merge-tooltip--left":"",a>93?"merge-tooltip--right":""]},[e._v("\n                  "+e._s(e.rangePriceOptions.formatter(e.valueRangePrice[0]))+" -\n                  "+e._s(e.rangePriceOptions.formatter(e.valueRangePrice[1]))+"\n                ")]):e._e()])]}}],null,!1,908239216),model:{value:e.valueRangePrice,callback:function(t){e.valueRangePrice=t},expression:"valueRangePrice"}}):e._e()],1)]),e._v(" "),i("button",{staticClass:"catalog-filter__btn-submit",style:e.styleTopButton,attrs:{id:"submit_filters_btn",disabled:!e.countFiltered,type:"button"},on:{click:e.handleFilter}},[e._v("\n        "+e._s(e.countFiltered?"Применить":"Ничего не найдено")+"\n        ")]),e._v(" "),"desktop"===e.deviceType?i("div",{staticClass:"catalog-filter__use-filter"},[i("button",{staticClass:"btn catalog-filter__use-filter-button",attrs:{type:"button"},on:{click:e.handleFilter}},[e._v("\n          Применить\n        ")]),e._v(" "),i("div",{staticClass:"catalog-filter__reset"},[i("a",{staticClass:"catalog-filter__reset-link ui-link",on:{click:e.resetAll}},[e._v("\n            Сбросить все\n          ")])])]):e._e()],2),e._v(" "),"desktop"!==e.deviceType?i("div",{staticClass:"catalog-filter__use-filter"},[i("button",{staticClass:"btn catalog-filter__use-filter-button",attrs:{type:"button"},on:{click:e.handleFilter}},[e._v("\n        Применить\n      ")]),e._v(" "),i("div",{staticClass:"catalog-filter__reset"},[i("a",{staticClass:"catalog-filter__reset-link ui-link",on:{click:e.resetAll}},[e._v("\n          Сбросить все\n        ")])])]):e._e()])])};R._withStripped=!0;var I=i(25),N=i.n(I),$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"checkbox",class:{"colors-item":e.isMobileColor}},[i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"localValue"}],staticClass:"checkbox__input",class:{"colors-item__input":e.isMobileColor},attrs:{name:e.name,type:"checkbox"},domProps:{value:e.value,checked:Array.isArray(e.localValue)?e._i(e.localValue,e.value)>-1:e.localValue},on:{change:function(t){var i=e.localValue,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=e.value,n=e._i(i,r);s.checked?n<0&&(e.localValue=i.concat([r])):n>-1&&(e.localValue=i.slice(0,n).concat(i.slice(n+1)))}else e.localValue=a}}},"input",e.$attrs,!1)),e._v(" "),e.isMobileColor?i("span",{staticClass:"colors-item__circle",style:"background-color:"+e.colorCode,on:{click:function(e){e.stopPropagation()}}}):e._e(),e._v(" "),e.isMobileColor?i("span",{staticClass:"colors-item__hint"},[e._v(e._s(e.colorTitle))]):e._e(),e._v(" "),e.isMobileColor?e._e():i("span",{staticClass:"checkbox__fake",on:{click:function(e){e.stopPropagation()}}}),e._v(" "),e.isMobileColor?e._e():i("span",{staticClass:"checkbox__text",on:{click:function(e){e.stopPropagation()}}},[e._t("default")],2)])};$._withStripped=!0;i(133);function V(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}var q={name:"ReCheckboxArray",mixins:[k.a],inheritAttrs:!1,model:{prop:"checked"},props:{value:{type:String,default:""},checked:{type:Object,default:function(){}},name:{type:String,default:""},isMobileColor:{type:Boolean,default:!1},colorCode:{type:String,default:""},colorTitle:{type:String,default:""}},computed:{localValue:{get:function(){return void 0===this.checked[this.name]||this.checked[this.name].has(this.value)?this.checked[this.name]:void 0},set:function(e){var t={isChecked:e,selected:this.checked,name:this.name,value:this.value};this.createSelectedFilter(t)}}},created:function(){this._addPageTypeWatcher_P()},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?V(Object(i),!0).forEach((function(t){M()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(T.b)("catalog",["createSelectedFilter"]))},z=Object(C.a)(q,$,[],!1,null,null,null);z.options.__file="app/js/vue/ui/checkbox/checkbox-filters.vue";var H=z.exports,W=i(21),G=i(14),U=i(45),J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal-box"},[i("div",{staticClass:"modal-wrapper"},[i("button",{staticClass:"btn-close",on:{click:function(t){e.$close(e.unfixBody())}}},[i("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close",size:"20 20"}})]),e._v(" "),i("div",{staticClass:"modal-content modal-filter-map"},[i("div",{staticClass:"modal-filter-map__map"},[i("ya-map",{ref:"shops",attrs:{multiselect:!0,shops:e.displayShopsMap},on:{"select-shop":e.changeMapShop}})],1),e._v(" "),i("div",{staticClass:"modal-filter-map__side"},[i("re-input",{staticClass:"modal-filter-map__search",attrs:{id:"search-address","validation-params":{},name:"search-address",type:"text",placeholder:"Название, адрес, метро"},on:{input:e.searchShops},scopedSlots:e._u([{key:"icon",fn:function(){return[i("label",{staticClass:"input__icon",attrs:{for:"seacrh"}},[i("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"search",size:"20 20"}})])]},proxy:!0}])}),e._v(" "),e.showShops?i("div",{staticClass:"modal-filter-map__checkboxes"},e._l(e.displayShopsList,(function(t,s){return i("div",{key:s,staticClass:"modal-filter-map__check-item",attrs:{name:t.checkboxName},on:{click:e.clickOnFilter}},[i("re-checkbox-array",{attrs:{name:t.checkboxName,value:t.shopCode,disabled:t.disabled},model:{value:e.selectedFilters,callback:function(t){e.selectedFilters=t},expression:"selectedFilters"}},[i("div",{staticClass:"modal-filter-map__checkbox"},[i("b",[e._v(e._s(t.shopName))]),e._v(" "),t.metroName&&null!==t.metroName?i("re-metro",{attrs:{"branch-color":t.metroColor,"station-name":t.metroName,city:"moscow"}}):e._e(),e._v(" "),t.shopAddress?i("div",[e._v(e._s(t.shopAddress))]):e._e(),e._v(" "),t.workTime?i("div",{domProps:{innerHTML:e._s(t.workTime)}}):e._e()],1)])],1)})),0):e._e(),e._v(" "),i("re-button",{staticClass:"modal-filter-map__apply",on:{click:e.handleFilter}},[e._v("\n          Применить \n          "),e.selectedShops>0?i("span",[e._v("("+e._s(e.selectedShops)+")")]):e._e()])],1)])])])};J._withStripped=!0;var Q=i(16),Y=i(32),X=i(33),K=i(10),Z=i(35);function ee(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function te(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(i),!0).forEach((function(t){M()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ee(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ie={name:"ModalFilterMap",components:{YaMap:Y.a,ReCheckboxArray:H,ReInput:G.a,ReMetro:X.a,ReButton:K.a},mixins:[Q.a],props:{shops:{type:Object,default:function(){}}},data:function(){return{disabledNames:new Set,shopsData:[],searchedShops:[],showShops:!0,nameValue:"AVAILABLE_SHOPS[]",selectedShops:0}},computed:te(te({},Object(T.c)("catalog",["selectedFilters"])),{},{displayShopsList:function(){return this.searchedShops.length?this.searchedShops:this.shops.placemarks},displayShopsMap:function(){var e={type:"FeatureCollection",placemarks:[],center:[0,0]};return this.searchedShops.length?e.placemarks=this.searchedShops:e.placemarks=this.shops.placemarks,e}}),created:function(){void 0!==this.selectedFilters[this.nameValue]&&(this.selectedShops=this.selectedFilters[this.nameValue].size)},methods:te(te({},Object(T.b)("catalog",["createSelectedFilter","handleApplyFilter"])),{},{searchShops:function(e){var t=this;this.searchedShops=[],e?(this.shops.placemarks.map((function(i){t.testSearch(e,i)&&t.searchedShops.push(i)})),this.searchedShops.length?this.showShops=!0:this.showShops=!1):this.showShops=!0,setTimeout((function(){t.$refs.shops.updateMap()}),250)},testSearch:function(e,t){if(void 0===t||""===e)return!0;var i=new RegExp(e.toLowerCase(),"i");return i.test(t.shopAddress)||i.test(t.shopName)||i.test(t.metroName)},changeMapShop:function(e,t){this.$store.dispatch("catalog/setShopsMapProp",{shopCode:e,props:{selected:t}});var i={isChecked:t,selected:this.selectedFilters,name:this.nameValue,value:e};this.createSelectedFilter(i)},clickOnFilter:function(e){var t=this,i=e.currentTarget.querySelector('[type="checkbox"]'),s=i.getAttribute("value");i.checked?this.$store.dispatch("catalog/setShopsMapProp",{shopCode:s,props:{selected:!0}}):this.$store.dispatch("catalog/setShopsMapProp",{shopCode:s,props:{selected:!1}}),setTimeout((function(){t.$refs.shops.updateMap(),void 0!==t.selectedFilters[t.nameValue]?t.selectedShops=t.selectedFilters[t.nameValue].size:t.selectedShops=0}),250)},handleFilter:function(){this.handleApplyFilter(),document.getElementById("submit_filters_btn").classList.remove("catalog-filter__btn-submit--visible"),this.unfixBody(),Object(Z.a)(),this.$close(!0)}})},se=(i(303),Object(C.a)(ie,J,[],!1,null,null,null));se.options.__file="app/js/vue/components/common/modals/modal-filter-map/modal-filter-map.vue";var ae=se.exports,re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal-box modal-shops"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-inner"},[i("button",{staticClass:"btn-close",on:{click:function(t){e.$close(e.unfixBody())}}},[i("svg",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close",size:"20 20"}})]),e._v(" "),i("div",{staticClass:"modal-content modal-filter-shops"},[i("h1",{staticClass:"modal-filter-shops__title"},[e._v("Карта")]),e._v(" "),i("div",{staticClass:"modal-filter-shops__map"},[i("ya-map",{ref:"shops",attrs:{multiselect:!0,shops:e.displayShopsMap},on:{"select-shop":e.changeMapShop}})],1)])])])])};function ne(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function oe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(i),!0).forEach((function(t){M()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ne(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}re._withStripped=!0;var ce={name:"ModalFilterShops",components:{YaMap:Y.a,ReCheckboxArray:H,ReInput:G.a,ReMetro:X.a,ReButton:K.a},mixins:[Q.a],props:{shops:{type:Object,default:function(){}}},data:function(){return{disabledNames:new Set,shopsData:[],searchedShops:[],showShops:!0,nameValue:"AVAILABLE_SHOPS[]",selectedShops:0}},computed:oe(oe({},Object(T.c)("catalog",["selectedFilters"])),{},{displayShopsList:function(){return this.searchedShops.length?this.searchedShops:this.shops.placemarks},displayShopsMap:function(){var e={type:"FeatureCollection",placemarks:[],center:[0,0]};return this.searchedShops.length?e.placemarks=this.searchedShops:e.placemarks=this.shops.placemarks,e}}),created:function(){void 0!==this.selectedFilters[this.nameValue]&&(this.selectedShops=this.selectedFilters[this.nameValue].size)},methods:oe(oe({},Object(T.b)("catalog",["createSelectedFilter","handleApplyFilter"])),{},{searchShops:function(e){var t=this;this.searchedShops=[],e?(this.shops.placemarks.map((function(i){t.testSearch(e,i)&&t.searchedShops.push(i)})),this.searchedShops.length?this.showShops=!0:this.showShops=!1):this.showShops=!0,setTimeout((function(){t.$refs.shops.updateMap()}),250)},testSearch:function(e,t){if(void 0===t||""===e)return!0;var i=new RegExp(e.toLowerCase(),"i");return i.test(t.shopAddress)||i.test(t.shopName)||i.test(t.metroName)},changeMapShop:function(e,t){this.$store.dispatch("catalog/setShopsMapProp",{shopCode:e,props:{selected:t}});var i={isChecked:t,selected:this.selectedFilters,name:this.nameValue,value:e};this.createSelectedFilter(i)},clickOnFilter:function(e){var t=this,i=e.currentTarget.querySelector('[type="checkbox"]'),s=i.getAttribute("value");i.checked?this.$store.dispatch("catalog/setShopsMapProp",{shopCode:s,props:{selected:!0}}):this.$store.dispatch("catalog/setShopsMapProp",{shopCode:s,props:{selected:!1}}),setTimeout((function(){t.$refs.shops.updateMap(),void 0!==t.selectedFilters[t.nameValue]?t.selectedShops=t.selectedFilters[t.nameValue].size:t.selectedShops=0}),250)},handleFilter:function(){this.handleApplyFilter(),document.getElementById("submit_filters_btn").classList.remove("catalog-filter__btn-submit--visible"),this.unfixBody(),Object(Z.a)(),this.$close(!0)}})},le=(i(304),Object(C.a)(ce,re,[],!1,null,null,null));le.options.__file="app/js/vue/components/common/modals/modal-filter-shops/modal-filter-shops.vue";var ue=le.exports,pe=i(11),de=i(151),he=i.n(de),me=(i(305),i(152)),ve=i.n(me),fe=i(15),ge=i.n(fe);function _e(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return be(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return n=e.done,e},e:function(e){o=!0,r=e},f:function(){try{n||null==i.return||i.return()}finally{if(o)throw r}}}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function ye(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function ke(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(i),!0).forEach((function(t){M()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ye(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Pe=Object(pe.create)(ae),Ce=Object(pe.create)(ue);ge.a.use(ve.a);var we={name:"FiltersBlock",components:{ReCheckbox:W.a,ReCheckboxArray:H,ReInput:G.a,ReColorsItem:U.a,VueRangeSlider:he.a},mixins:[k.a],props:{deviceType:{type:String,default:"desktop"}},data:function(){var e=this;return{styleTopButton:{top:"0px"},visibleStyle:{display:"inline-block !important"},disabledNames:new Set,minPrice:"",maxPrice:"",numberMinPrice:"",numberMaxPrice:"",currentMinPrice:"",currentMaxPrice:"",showMore:{},valueRangePrice:[+this.numberMinPrice,+this.numberMaxPrice],rangePriceOptions:{enableCross:!0,tooltip:"always",contained:!0,lazy:!1,formatter:function(t){return e.$options.filters.currency(t)}}}},computed:ke(ke(ke({},Object(T.e)("catalog",{filterShopsMap:function(e){return e.filterShopsMap}})),Object(T.c)("catalog",["countFiltered","filtersList","selectedFilters","getMinPrice","getMaxPrice","getMinPlaceholder","getMaxPlaceholder","mobileFilter"])),{},{isMaxTooltipBeyond:function(){return this.valueRangePrice[1]>1e6&&this.numberMaxPrice-this.valueRangePrice[1]<.025*(this.numberMaxPrice-this.numberMinPrice)},isMinTooltipBehind:function(){return this.valueRangePrice[0]>1e6&&this.valueRangePrice[0]<this.numberMinPrice+.025*this.numberMinPrice},showMergeTooltip:function(){return this.valueRangePrice[1]-this.valueRangePrice[0]<=.22*(this.numberMaxPrice-this.numberMinPrice)},isShopsMap:function(){return 0!==Object.keys(this.filterShopsMap).length&&this.filterShopsMap.constructor===Object}}),created:function(){for(var e in this._addPageTypeWatcher_P(),this.resetRangePrice(),this.filtersList)this.showMore[e]=!1},destroyed:function(){window.removeEventListener("scroll",this.onScroll)},methods:ke(ke(ke({},Object(T.b)("catalog",["createSelectedFilter","handleApplyFilter","backupProducts","handleSetPrice"])),Object(T.d)("catalog",["toogleMobileFilter"])),{},{clickOnFilter:function(e){var t=this;if("desktop"===this.deviceType){var i=e.currentTarget,s=document.getElementById("submit_filters_btn");setTimeout((function(){Object.keys(t.selectedFilters).length?e.target.classList.contains("catalog-filter__input-line")||(t.styleTopButton.top=i.offsetTop-18+"px",s.classList.add("catalog-filter__btn-submit--visible")):s.classList.remove("catalog-filter__btn-submit--visible")}),600)}},handleFilter:function(){var e=this;if("desktop"===this.deviceType){this.handleApplyFilter(),document.getElementById("submit_filters_btn").classList.remove("catalog-filter__btn-submit--visible"),Object(Z.a)()}else{var t=this.valueRangePrice[0],i=this.valueRangePrice[1];this.handleSetPrice({min:t,max:i}),this.hideMobileFilters(),setTimeout((function(){e.handleApplyFilter()}),200)}this.$emit("change-filters")},getCurrentRange:function(){this.currentMinPrice=isNaN(this.minPrice)?Number.parseInt(this.minPrice.replace(/\D/g,"")):this.minPrice,this.currentMaxPrice=isNaN(this.maxPrice)?Number.parseInt(this.maxPrice.replace(/\D/g,"")):this.maxPrice},handlePriceFilter:function(){var e,t,i=Number.parseInt(this.getMinPlaceholder.replace(/\D/g,"")),s=Number.parseInt(this.getMaxPlaceholder.replace(/\D/g,""));if(""!==this.minPrice&&""!==this.maxPrice&&Number.parseInt(this.minPrice)>Number.parseInt(this.maxPrice)){var a="".concat(this.maxPrice);this.maxPrice="".concat(this.minPrice),this.minPrice="".concat(a)}this.minPrice+="",this.maxPrice+="";var r=Number.parseInt(this.minPrice.replace(/\D/g,"")),n=Number.parseInt(this.maxPrice.replace(/\D/g,""));if(""!==this.maxPrice&&n>s&&(this.maxPrice="".concat(s)),""!==this.minPrice&&r<i&&(this.minPrice="".concat(i)),""!==this.maxPrice&&n<i&&(this.maxPrice="".concat(i)),""!==this.minPrice&&r>s&&(this.minPrice="".concat(s)),e=Number.parseInt(this.minPrice.replace(/\D/g,"")),t=Number.parseInt(this.maxPrice.replace(/\D/g,"")),e!==this.currentMinPrice||t!==this.currentMaxPrice){this.handleSetPrice({min:e,max:t});var o=document.getElementById("submit_filters_btn");this.styleTopButton.top=document.getElementById("min_price").parentNode.offsetTop-4+"px",o.classList.add("catalog-filter__btn-submit--visible")}},disableCheckbox:function(){var e,t=_e(this.disabledNames);try{for(t.s();!(e=t.n()).done;){var i,s=e.value,a=_e(N()(document.querySelectorAll('input[type="checkbox"][name="'.concat(s,'"]'))));try{for(a.s();!(i=a.n()).done;){var r=i.value;!r.checked&&(r.disabled=!0)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){t.e(e)}finally{t.f()}},resetAll:function(){var e=this;return _()(f.a.mark((function t(){var i,s,a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=N()(document.querySelectorAll("input.checkbox__input")),s=_e(i);try{for(s.s();!(a=s.n()).done;)(r=a.value).checked=!1,r.disabled=!1}catch(e){s.e(e)}finally{s.f()}return e.disabledNames=new Set,t.next=6,e.backupProducts();case 6:"desktop"!==e.deviceType?(e.hideMobileFilters(),e.resetColors(),e.resetRangePrice()):(e.maxPrice="",e.minPrice=""),document.getElementById("submit_filters_btn").classList.remove("catalog-filter__btn-submit--visible"),N()(document.querySelectorAll(".catalog-device-menu-item")).forEach((function(e){e.classList.remove("active")})),e.$emit("change-filters");case 12:case"end":return t.stop()}}),t)})))()},resetRangePrice:function(){this.minPrice=this.getMinPrice,this.maxPrice=this.getMaxPrice,this.numberMinPrice=this.getMinPrice?this.getMinPrice:this.getMinPlaceholder.replace(/\D/g,""),this.numberMaxPrice=this.getMaxPrice?this.getMaxPrice:this.getMaxPlaceholder.replace(/\D/g,""),this.valueRangePrice=[+this.numberMinPrice,+this.numberMaxPrice]},resetColors:function(){var e=document.querySelector("input.colors-item__input:checked");e&&(e.checked=!1)},enter:function(e){var t=getComputedStyle(e).width;e.style.width=t,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";var i=getComputedStyle(e).height;e.style.width=null,e.style.position=null,e.style.visibility=null,e.style.height=0,getComputedStyle(e).height,requestAnimationFrame((function(){e.style.height=i}))},afterEnter:function(e){e.style.height="auto"},leave:function(e){var t=getComputedStyle(e).height;e.style.height=t,getComputedStyle(e).height,requestAnimationFrame((function(){e.style.height=0}))},showAllFiltersBlock:function(e){var t=e.target,i=t.dataset.key;this.showMore[i]=!this.showMore[i],this.showMore=Object.assign({},this.showMore),this.showMore[i]?t.text="Свернуть":t.text="Показать все";var s=document.documentElement.scrollTop;setTimeout((function(){window.scrollTo(0,s+1)}),500)},hideMobileFilters:function(){var e=this;document.querySelector("body").classList.remove("body-no-scroll"),setTimeout((function(){e.toogleMobileFilter(!1)}),150)},setColor:function(e,t,i){var s=i.target,a={isChecked:s.checked,selected:this.selectedFilters,name:t,value:e,type:s.type};this.createSelectedFilter(a)},openShops:function(){Ce({shops:this.filterShopsMap})},openMap:function(){Pe({shops:this.filterShopsMap})},isColorCheckbox:function(e){return"COLOR[]"===e&&"desktop"!==this.pageType}})},Oe=(i(306),i(307),Object(C.a)(we,R,[],!1,null,null,null));Oe.options.__file="app/js/vue/components/catalog/filters-block/filters-block.vue";var Se=Oe.exports,xe=i(34),Me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.pagesCount>4?i("ul",{staticClass:"catalog__pagination pagination"},[e.currentPage>3?i("li",{staticClass:"pagination__item",class:e.currentPage>4?"pagination__item--first":""},[i("a",{staticClass:"pagination__link",on:{click:function(t){return e.onClickPage(1)}}},[e._v("\n      1\n    ")])]):e._e(),e._v(" "),e._l(e.pagesCount,(function(t){return i("li",{key:t,staticClass:"pagination__item"},[t!==e.currentPage&t>=e.currentPage-2&t<=e.currentPage+2?i("a",{staticClass:"pagination__link",on:{click:function(i){return e.onClickPage(t)}}},[e._v("\n      "+e._s(t)+"\n    ")]):t===e.currentPage?i("span",[e._v("\n      "+e._s(t)+"\n    ")]):e._e()])})),e._v(" "),e.currentPage<e.pagesCount-2?i("li",{staticClass:"pagination__item",class:e.currentPage<e.pagesCount-3?"pagination__item--last":""},[i("a",{staticClass:"pagination__link",on:{click:function(t){return e.onClickPage(e.pagesCount)}}},[e._v("\n      "+e._s(e.pagesCount)+"\n    ")])]):e._e()],2):i("ul",{staticClass:"catalog__pagination pagination"},e._l(e.pagesCount,(function(t){return i("li",{key:t,staticClass:"pagination__item"},[t!==e.currentPage?i("a",{staticClass:"pagination__link",on:{click:function(i){return e.onClickPage(t)}}},[e._v("\n      "+e._s(t)+"\n    ")]):t===e.currentPage?i("span",[e._v("\n      "+e._s(t)+"\n    ")]):e._e()])})),0)};Me._withStripped=!0;var je={name:"Pagination",props:{currentPage:{type:Number,required:!0},pagesCount:{type:Number,required:!0}},computed:{pages:function(){var e=[];e.push(1);for(var t=2;t<this.pagesCount;t++)t>=this.currentPage-2&&t<=this.currentPage+2?e.push(t):e.push("...");return e.push(this.pagesCount),e=new Set(e)}},methods:{onClickPage:function(e){this.$emit("handlePageChanged",e),Object(Z.a)()}}},Fe=(i(309),Object(C.a)(je,Me,[],!1,null,null,null));Fe.options.__file="app/js/vue/components/catalog/pagination/pagination.vue";var Te=Fe.exports,Le=i(39),De=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mobile-card"},[i("a",{staticClass:"mobile-card__link",attrs:{href:e.product.link}},[e._v("\n    "+e._s(e.product.name)+"\n  ")]),e._v(" "),""!==e.product.trailer?i("span",{staticClass:"mobile-card__trailer",domProps:{innerHTML:e._s(e.trimmedTrailer)}}):e._e(),e._v(" "),i("div",{staticClass:"mobile-card__img-wrapper"},[i("a",{staticClass:"mobile-card__img-link",attrs:{href:e.product.link}},[i("lazy-image",{attrs:{src:e.product.img,alt:e.product.name,"i-class":"mobile-card__img"}})],1)]),e._v(" "),i("div",{staticClass:"mobile-card__info"},[e.product.badges?i("div",{staticClass:"badge-wrapper"},e._l(e.product.badges,(function(t,s){return i("re-badge",{key:s,attrs:{options:{type:"badge",color:t.colorBg,colorCode:t.colorCode,textColorCode:t.textColorCode,hintText:t.hintText,hintLink:t.hintLink}}},[e._v("\n        "+e._s(t.text)+"\n      ")])})),1):e._e(),e._v(" "),i("div",{staticClass:"mobile-card__price"},[i("span",{staticClass:"current text-medium"},[e.product.prices.isStartPrice?i("span",[e._v("от")]):e._e(),e._v("\n        "+e._s(e._f("currency")(e.product.prices.current))+"\n        "),i("span",[e._v("₽")])]),e._v(" "),e.product.prices.old&&e.product.prices.old>0?i("div",{staticClass:"old"},[e._v("\n        "+e._s(e._f("currency")(e.product.prices.old))+" ₽\n      ")]):e._e()]),e._v(" "),e.showCredit?i("div",{staticClass:"mobile-card__credit"},[i("span",{domProps:{innerHTML:e._s(e.product.credit.CREDIT_PRICE)}}),e._v(" ₽ × "+e._s(e.product.credit.CREDIT_TIME)+" мес.\n      ")]):e._e(),e._v(" "),i("div",{staticClass:"mobile-card__action"},[e.product.isPresale||e.productInBasket()||e.product.isSaleSoon||!e.productIsCanBy?e.product.isPresale||!e.productInBasket()||e.product.isSaleSoon?e.product.isSaleSoon?i("span",{staticClass:"product-card__buy ui-link ui-link--orange",on:{click:e.popupNotify}},[e._v("\n        Узнать о старте продаж\n      ")]):e.product.isPresale?i("div",{staticClass:"product-card__buy ui-link ui-link--blue",on:{click:e.preorder}},[e._v("\n        Предзаказ\n      ")]):e.product.isByOrder?i("div",{staticClass:"product-card__buy ui-link ui-link--purple",on:{click:e.underorder}},[e._v("\n        Под заказ\n      ")]):e.product.isAvailabilityCity||e.productIsCanBy?e.product.isAvailability||e.productIsCanBy?e._e():i("div",{staticClass:"product-card__buy product-card__buy--small ui-link--gray"},[e._v("\n        Нет в наличии\n      ")]):i("div",{staticClass:"product-card__buy product-card__buy--small ui-link--gray"},[e._v("\n        Нет в наличии в вашем городе\n      ")]):i("a",{staticClass:"product-card__buy ui-link",attrs:{href:"/order/"}},[e._v("\n        Оформить\n      ")]):i("div",{staticClass:"product-card__buy ui-link",on:{click:e.buy}},[e._v("\n        Купить\n      ")])]),e._v(" "),""!==e.product.hint&&(e.product.isOnSaleWith||e.product.isSaleSoon)?i("div",{staticClass:"mobile-card__hint"},[e._v("\n      "+e._s(e.product.hint)+"\n    ")]):e._e()])])};De._withStripped=!0;var Ae=i(119),Be=i(120),Ee=i(121),Re=i(17),Ie=i(18),Ne=i(41),$e=Object(pe.create)(Be.a),Ve=Object(pe.create)(Ae.a),qe=Object(pe.create)(Ee.a),ze={name:"MobileCard",components:{ReBadge:xe.a,lazyImage:Re.a},props:{product:{type:Object,default:function(){}},labelDdl:{type:String,default:""}},computed:{productIsCanBy:function(){return void 0===this.product.isCanBuy||this.product.isCanBuy},showCredit:function(){return this.product.credit&&this.product.credit.CREDIT_TIME},trimmedTrailer:function(){return Object(Ne.a)(this.product.trailer,100)}},methods:{productInBasket:function(){var e=this;return this.$store.state.miniBasket.productsToBasket.find((function(t){return t.id==e.product.id}))},buy:function(){var e=this,t=this,i={action:"addBasket",actionDdl:"addBasket",id:this.product.id,labelDdl:this.labelDdl,skuCode:this.product.skuCode};this.$axios.post("/local/classes/vue/rest-vue/product.php",i).then((function(i){if(i.data.success){var s={id:t.product.id,price:t.product.prices.current,link:t.product.link,img:t.product.img,name:t.product.name};"skuCode"in t.product&&(s.skuCode=t.product.skuCode),e.$store.commit("miniBasket/showBasket",!0),e.$store.dispatch("miniBasket/addProductToBasket",s),setTimeout((function(){e.$store.commit("miniBasket/showBasket",!1)}),3e3),window.digitalDataUpdate=Object.assign({},i.data.data.ddl),Object(Ie.a)("ajax-complete",{XMLHttpRequest:i.request,ajaxOptions:i.config})}else console.log(i.data)})).catch((function(e){return console.log(e),null}))},preorder:function(){var e=this;return _()(f.a.mark((function t(){var i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.body.classList.add("body-loading-white"),"/local/classes/vue/rest-vue/product.php",i={action:"getPreorder",id:e.product.id,isVue:!0},t.next=5,e.$axios.post("/local/classes/vue/rest-vue/product.php",i);case 5:s=t.sent,document.body.classList.remove("body-loading-white"),Ve({data:s.data}),document.dispatchEvent(new Event("click-preorder"));case 9:case"end":return t.stop()}}),t)})))()},underorder:function(){var e=this;return _()(f.a.mark((function t(){var i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.body.classList.add("body-loading-white"),"/local/classes/vue/rest-vue/product.php",i={action:"getUnderorder",id:e.product.id,isVue:!0},t.next=5,e.$axios.post("/local/classes/vue/rest-vue/product.php",i);case 5:s=t.sent,document.body.classList.remove("body-loading-white"),$e({data:s.data,security:e.product.security});case 8:case"end":return t.stop()}}),t)})))()},popupNotify:function(){var e=this;return _()(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qe({productName:e.product.name,productId:e.product.id});case 2:case"end":return t.stop()}}),t)})))()}}},He=(i(348),Object(C.a)(ze,De,[],!1,null,null,null));He.options.__file="app/js/vue/components/product-card/mobile-card.vue";var We=He.exports,Ge=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"catalog__banner"},e._l(e.banners,(function(t,s){return i("a",{key:s,staticClass:"catalog__banner-item",attrs:{href:t.link}},[t.img?i("img",{attrs:{src:t.img}}):i("div",{domProps:{innerHTML:e._s(t.text)}})])})),0)};Ge._withStripped=!0;var Ue={name:"Banner",data:function(){return{banners:[]}},created:function(){this.banners=window.globalData.banners}},Je=(i(349),Object(C.a)(Ue,Ge,[],!1,null,null,null));Je.options.__file="app/js/vue/components/catalog/banner/banner.vue";var Qe=Je.exports;function Ye(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function Xe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(i),!0).forEach((function(t){M()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ye(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Ke={name:"MainCatalog",components:{CatalogRow:E,FiltersBlock:Se,ReBadge:xe.a,ReButton:K.a,Pagination:Te,ProductCard:Le.a,MobileCard:We,Banner:Qe},filters:{format:function(e){return"".concat(e).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")}},mixins:[k.a],props:{url:{type:String,default:""}},data:function(){return{showPagination:!0}},computed:Xe(Xe(Xe({},Object(T.e)("catalog",{isStart:function(e){return e.isStart},perPage:function(e){return e.perPage},currentPage:function(e){return e.currentPage},isLoading:function(e){return e.isLoading}})),Object(T.c)("catalog",["filteredProducts","selectedFilters","productLength","getMinPrice","getMaxPrice"])),{},{pagesCount:function(){return Math.ceil(this.productLength/this.perPage)}}),created:function(){var e=this;return _()(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.addEventListener("resize",e.onResize),window.addEventListener("popstate",e.onPopState),e.onResize(),e.getAllProducts(),e._addPageTypeWatcher_P();case 5:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:Xe(Xe(Xe({},Object(T.b)("catalog",["getAllProducts","applyPage","setCurrentPage"])),Object(T.d)("catalog",["toogleMobileFilter"])),{},{onResize:function(){var e=this;setTimeout((function(){"desktop"===e.pageType&&(document.querySelector("body").classList.remove("body-no-scroll"),e.toogleMobileFilter(!1))}),100)},handlePageChanged:function(e){this.setCurrentPage(e),this.localApplyPage(this.currentPage)},handleSortChange:function(e,t){var i={sort:null!=e?e:"sort",order:null!=t?t:"desc"};this.currentPage>1&&(i.page=this.currentPage),!0!==this.showPagination&&(this.showPagination=!0,i.page=1),this.applyPage({type:"sort",parameters:i})},handleFiltersChange:function(){!0!==this.showPagination&&(this.showPagination=!0)},setFavoritesProduct:function(e){e.currentTarget.classList.toggle("catalog__item-favorites--active")},loadMore:function(){this.showPagination=!1;var e=this.currentPage+1;this.setCurrentPage(e),this.applyPage({type:"loadMore",parameters:{page:e}})},onPopState:function(){this.localApplyPage()},localApplyPage:function(e){this.applyPage({type:"pageChanged",parameters:{page:e}})}})},Ze=(i(350),Object(C.a)(Ke,S,[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticClass:"catalog__banner-item",attrs:{href:""}},[t("img",{attrs:{src:"",alt:""}})])}],!1,null,null,null));Ze.options.__file="app/js/vue/components/catalog/main-catalog/main-catalog.vue";var et=Ze.exports,tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"catalog__links"},[i("p",{staticClass:"p--small"},[e._l(e.tagLinks,(function(t,s){return[i("a",{key:"link-"+s,staticClass:"ui-link ui-link--gray",attrs:{href:t.link}},[e._v("\n        "+e._s(t.name)+"\n      ")]),e._v(" "),s!=e.tagLinks.length-1?i("span",{key:"dot-"+s},[e._v("·")]):e._e()]}))],2)])};function it(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function st(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?it(Object(i),!0).forEach((function(t){M()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):it(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}tt._withStripped=!0;var at={name:"Links",computed:st({},Object(T.c)("catalog",["tagLinks"])),created:function(){this.getTagLinks()},methods:st({},Object(T.b)("catalog",["getTagLinks"]))},rt=(i(351),Object(C.a)(at,tt,[],!1,null,null,null));rt.options.__file="app/js/vue/components/catalog/links/links.vue";var nt=rt.exports,ot=i(43),ct=i(115),lt=i(44),ut={components:{Breadcrumbs:b.a,DeviceMenu:O,MainCatalog:et,Links:nt,GridAdvantages:ot.a,DeviceInfo:ct.a,SeoText:lt.a},mixins:[k.a],created:function(){var e=this;return _()(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e._addPageTypeWatcher_P(),e.getGlobalData();case 2:case"end":return t.stop()}}),t)})))()},methods:{getGlobalData:function(){window.globalData.seoFooter&&(this.seoText=window.globalData.seoFooter)}}},pt=Object(C.a)(ut,m,[],!1,null,null,null);pt.options.__file="app/js/vue/pages/catalog.vue";var dt=pt.exports;function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=d()(e);if(t){var a=d()(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return u()(this,i)}}new(function(e){c()(i,e);var t=ht(i);function i(){return a()(this,i),t.apply(this,arguments)}return n()(i,[{key:"prepare",value:function(){this.vue={el:"#vue-catalog",template:"<Catalog/>",components:{Catalog:dt}}}}]),i}(h.a))},53:function(e,t,i){},54:function(e,t,i){},55:function(e,t,i){},57:function(e,t,i){},58:function(e,t,i){},59:function(e,t,i){},60:function(e,t,i){},61:function(e,t,i){},70:function(e,t,i){},71:function(e,t,i){},72:function(e,t,i){},73:function(e,t,i){}},[[389,0,2,1,3,4,7,5,6,10,11,8,9]]]);
/* End */
;; /* /local/templates/re-store-vue/frontend/build/catalog~home~ui-kit.bundle.js?165830181130307*/
; /* /local/templates/re-store-vue/frontend/build/appleProducts~catalog~home.bundle.js?16558018674791*/
; /* /local/templates/re-store-vue/frontend/build/catalog~home.bundle.js?1658829143106417*/
; /* /local/templates/re-store-vue/frontend/build/catalog~ui-kit.bundle.js?16558018672667*/
; /* /local/templates/re-store-vue/frontend/build/appleProducts~catalog.bundle.js?16558018671726*/
; /* /local/templates/re-store-vue/frontend/build/catalog~footerTemplate.bundle.js?16558018671505*/
; /* /local/templates/re-store-vue/frontend/build/catalog.bundle.js?165830181153784*/
