/*! AdRiverFPS. Version 1.1.3.2 Developed by Alexander Nikolaev */
var AdRiverFPS=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function r(e,t){var n=[];for(var r in t=t||";",e)n.push(o(r,e[r]));return n.join(t)}function i(e,t){for(var n in e)e[n]=t[n]||e[n];return e}function o(e,t){return void 0===t?"":e+"="+t}function a(e,t,n){return t=t||";",n=n||"",void 0===e||e&&0===Object.keys(e).length?"":n+Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join(t)}function s(e,t){var n={};for(var r in e)void 0!==t[r]&&""!==e[r]&&null!==e[r]&&(n[t[r]]=e[r]);return n}n.r(t),n.d(t,"obj2str",(function(){return r})),n.d(t,"extendL",(function(){return i})),n.d(t,"strParams",(function(){return a})),n.d(t,"convertToParamsObj",(function(){return s}))},function(e,t,n){e.exports=n(2)},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=[],o=["sid","id1","id2","id3"],a={adrcid:"cid",sid:"sid"},s={ls:"301",ss:"302",sql:"303",idb:"304",id1:"305",id2:"306",id3:"307",_ym_uid:"308",_ga:"309"},c=["adrcid","_ym_uid","_ga"],u="adrdel",d=.5,l=n(3),f=n(4),v=n(0),h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ready=!1,this.urlParams=void 0,this.storages={},this.attempts=20,this.callbacks=[],this.subscribe(t,n),this.startFPS()}var t,n,h;return t=e,(n=[{key:"startFPS",value:function(){this.urlParams=this.getUrlParameters(),this.storages=this.getScriptParameters(),l.addEvent(window,"message",this.checkMessageAndSend.bind(this)),this.getAllStorages(),this.sendData()}},{key:"getAllStorages",value:function(){for(var e=0;e<c.length;e++)this.storages[c[e]]=f.Cookie.get(c[e])||0;this.storages.ls=f.applyLS(c[0])||0,this.storages.ss=f.applySS(c[0])||0,f.applySQL(c[0],"",function(e){this.storages.sql=e||0}.bind(this)),f.applyIDB(c[0],"",function(e){this.storages.idb=e||0}.bind(this))}},{key:"setAllStorages",value:function(e){this.storages[c[0]]=e,f.Cookie.set(c[0],e,3650),f.applyLS(c[0],e),f.applySS(c[0],e),f.applySQL(c[0],e),f.applyIDB(c[0],e)}},{key:"getScriptParameters",value:function(){for(var e=document.querySelectorAll("script"),t={},n=0;n<e.length;n++)if(e[n].hasAttribute("data-adriverfps")){for(var r=0;r<o.length;r++)t[o[r]]=e[n].getAttribute("data-"+o[r]);return t}return{}}},{key:"getUrlParameters",value:function(){for(var e,t=location.search.substring(1).split("&"),n={},r=0;r<t.length;r++)void 0!==(e=t[r].split("="))[0]&&void 0!==e[1]&&-1!=i.indexOf(e[0])&&(n[e[0]]=e[1]);return n}},{key:"resetStorages",value:function(e){if(f.Cookie.set(u,"1",d),e[c[0]]){if(this.setAllStorages(e[c[0]]),this.callbacks.length>0)for(var t=0;t<this.callbacks.length;t++)this.callbacks[t](e[c[0]]);this.ready=!0}}},{key:"isReady",value:function(){var e=function(e){return void 0!==e};return e(this.storages.ls)&&e(this.storages.ss)&&e(this.storages.sql)&&e(this.storages.idb)}},{key:"subscribe",value:function(e,t){void 0!==e&&(void 0!==t&&(e=e.bind(t)),this.ready?e(this.storages[c[0]]):this.callbacks.push(e))}},{key:"sendData",value:function(){if(!this.isReady()&&this.attempts>0)return this.attempts--,void setTimeout(this.sendData.bind(this),50);void 0!==f.Cookie.get(u)&&void 0!==f.Cookie.get(c[0])||l.makeJSONRequest("https://ad.adriver.ru/cgi-bin/json.cgi?ad=719473&bt=55&pid=3198680&bid=7189165&bn=7189165&tuid=1&cfa=1",v.convertToParamsObj(this.storages,a),v.convertToParamsObj(this.storages,s),this.resetStorages.bind(this))}},{key:"checkMessageAndSend",value:function(e){try{var t=JSON.parse(e.data);if(void 0!==t.AFPS){var n,r={};r.ad=t.ad,r.bid=t.bid,r.xpid=t.xpid,r.sid=t.sid,r.bn=t.bn,r.ad=t.ad,r.sz=t.sz,r.bt=t.bt,r.pz=t.pz,r.type=t.type,n=l.makeEvent(r)+v.strParams(customObj,";","&custom="),l.sendPixel(n)}}catch(e){}}},{key:"get",value:function(){return this.storages.adrcid}}])&&r(t.prototype,n),h&&r(t,h),e}();window.AFPS=new h,e.exports=h},function(e,t,n){"use strict";n.r(t),n.d(t,"addEvent",(function(){return i})),n.d(t,"removeEvent",(function(){return o})),n.d(t,"sendEvent",(function(){return a})),n.d(t,"makeEvent",(function(){return s})),n.d(t,"sendPixel",(function(){return u})),n.d(t,"makeJSONRequest",(function(){return d}));var r=n(0);function i(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function o(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function a(e){if(void 0!==e&&"undefined"!=typeof b)return-1==e.indexOf("&type=")&&(e+="&type="),c&&-1==e.indexOf("&custom=")&&(e+="&custom="),e=e.split("&type=").join("&type="+b),c&&(e=e.split("&custom=").join("&custom="+c)),u(e),this}function s(e){return"//ad.adriver.ru/cgi-bin/event.cgi?"+Object(r.obj2str)(Object(r.extendL)({bid:0,xpid:"",sid:e.site,bn:0,ad:0,sz:0,bt:0,pz:0,type:0,rnd:"![rnd]"},e),"&")+"&tuid=1"}function u(e){if(e=function(e){return(/^http:\/\//i.test(e)?e.replace(/^http:\/\//i,"https://"):/^\/\//.test(e)?"https:":"")+e}(e).split("![rnd]").join(~~(1e6*Math.random())),document.createElement&&document.body){var t=document.createElement("img");t.style.position="absolute",t.style.display="none",t.style.width=t.style.height="0px",t.setAttribute("referrerpolicy","no-referrer-when-downgrade"),t.src=e,document.body.appendChild(t)}else{var n=new Image;n.setAttribute("referrerpolicy","no-referrer-when-downgrade"),n.src=e}}function d(e,t,n,i){try{if(-1===(e=e+Object(r.strParams)(t,"&","&")+Object(r.strParams)(n,";","&custom=")).indexOf("sid")&&(e+="&sid=1"),"fetch"in window)fetch(e,{method:"GET",mode:"cors",credentials:"include",referrerPolicy:"no-referrer-when-downgrade"}).then((function(e){var t=e.headers.get("content-type");if(t&&t.includes("application/json"))return e.json();throw new TypeError("Not json returned")})).then(function(e){i(e)}.bind(this)).catch((function(e){console.log(e)}));else{var o,a=!1;window.XMLHttpRequest?void 0===(o=new window.XMLHttpRequest).responseType&&(a=!0):a=!0,a?(o=new window.XDomainRequest).onload=function(){i(JSON.parse(o.responseText),o)}.bind(this):o.onreadystatechange=function(){4===o.readyState&&i(JSON.parse(o.responseText),o)}.bind(this),o.open("GET",e),o.withCredentials=!0,a||o.setRequestHeader("Content-Type","text/plain"),o.send()}}catch(e){console.log("xhr construction",e)}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"Cookie",(function(){return i})),n.d(t,"hasValue",(function(){return o})),n.d(t,"applySS",(function(){return s})),n.d(t,"applyLS",(function(){return c})),n.d(t,"applySQL",(function(){return u})),n.d(t,"applyIDB",(function(){return d}));var i={tld:!0,set:function(e,t,n){var o,a=(r(o={},e,t),r(o,"path","/"),o);if(n){var s=new Date;s.setTime(s.getTime()+24*n*60*60*1e3),a.expires=s.toUTCString()}i.tld&&(a.domain="."+window.location.hostname.split(".").slice(-2).join("."));var c=[];for(var u in a)c.push("".concat(u,"=").concat(a[u]));return document.cookie=c.join("; "),this.get(e)},getAll:function(){var e={};return document.cookie.split(";").forEach((function(t){var n=t.split("=");e[n[0].trim()]=n[1]})),e},get:function(e){return this.getAll()[e]},delete:function(e){this.set(e,"",-1)}},o=function(e){return void 0!==e},a=function(e){return e};function s(e,t){try{var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;if(window.sessionStorage){if(!o(t)){var r=sessionStorage.getItem(e);return n(r),r}sessionStorage.setItem(e,t),n(void 0)}else n("unavail")}catch(e){n("err")}}function c(e,t){try{var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;if(window.localStorage){if(!o(t)){var r=localStorage.getItem(e);return n(r),r}localStorage.setItem(e,t),n(void 0)}else n("unavail")}catch(e){n("err")}}function u(e,t){try{var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;if(window.openDatabase){var r=openDatabase("sqlite_ar","","ar",1048576);return t?r.transaction((function(r){r.executeSql("CREATE TABLE IF NOT EXISTS cache(\n            id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, \n            name TEXT NOT NULL, \n            value TEXT NOT NULL, \n            UNIQUE (name) \n            )",[],(function(e,t){}),(function(e,t){})),r.executeSql("INSERT OR REPLACE INTO cache(name, value) VALUES(?, ?)",[e,t],(function(e,t){n(void 0)}),(function(e,t){}))})):r.transaction((function(t){t.executeSql("SELECT value FROM cache WHERE name=?",[e],(function(e,t){t.rows.length>=1?n(t.rows.item(0).value):n("")}),(function(e,t){}))}))}n("unavail")}catch(e){console.warn(e),n("err")}}function d(e,t){try{var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;if(window.indexedDB){var r=1,i=indexedDB.open("idb_arcid",r);i.onerror=function(e){return n("err")},i.onupgradeneeded=function(e){e.target.result.createObjectStore("arcid",{keyPath:"name",unique:!1})},i.onsuccess=t?function(r){var i=r.target.result;i.objectStoreNames.contains("arcid")&&(i.transaction(["arcid"],"readwrite").objectStore("arcid").put({name:e,value:t}).onsuccess=function(e){n(void 0)});i.close()}:function(t){var r=t.target.result;if(r.objectStoreNames.contains("arcid")){var i=r.transaction(["arcid"]).objectStore("arcid").get(e);i.onsuccess=function(e){void 0===i.result?n(""):n(i.result.value)}}else n();r.close()}}else n("unavail")}catch(e){n("err")}}}]);