(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1272:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(34);var n=a(5),s=a.n(n),i=a(269),r=a(127),o=a.n(r),l=a(82),c=a.n(l),d=a(1289);class m extends c.a.Renderer{constructor(e=!1){super(),this.disableLinks=e}link(e,t,a){return this.disableLinks?a:"!"===e[0]?'<a href="'.concat(e.substring(1,e.length),'" rel="noopener noreferrer" target="_blank">').concat(a,"</a>"):'<a href="'.concat(e,'">').concat(a,"</a>")}paragraph(e){return e}}class u extends s.a.PureComponent{static get propTypes(){return{intl:d.a.isRequired,id:o.a.string.isRequired,defaultMessage:o.a.string.isRequired,values:o.a.object,disableLinks:o.a.bool}}render(){const{intl:e,id:t,defaultMessage:a,values:n,disableLinks:i}=this.props,r=e.formatMessage({id:t,defaultMessage:a},n),o=c()(r,{breaks:!0,sanitize:!0,renderer:new m(i)});return s.a.createElement("span",{dangerouslySetInnerHTML:{__html:o}})}}var p,h,g;g={disableLinks:!1},(h="defaultProps")in(p=u)?Object.defineProperty(p,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[h]=g,t.b=Object(i.c)(u)},1278:function(e,t,a){"use strict";a(185);var n=a(5),s=a.n(n),i=a(1525),r=a(269),o=a(264),l=a(23);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}const p=s.a.forwardRef((e,t)=>{const{overlay:a,disabled:n}=e,c=u(e,["overlay","disabled"]),m=e=>{let{intl:t}=e,n=u(e,["intl"]);return s.a.createElement(o.Provider,{store:l.a},s.a.createElement(r.a.Provider,{value:t},s.a.cloneElement(a,n)))};return s.a.createElement(r.a.Consumer,null,e=>{const r=d({},a.props);return n&&(r.style=d({visibility:"hidden"},r.style)),s.a.createElement(i.a,Object.assign({},c,{ref:t,overlay:s.a.createElement(m,Object.assign({},r,{intl:e}))}))})});p.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]},p.displayName="OverlayTrigger",t.a=p},1281:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));var n=a(0);function s(e){return t=>(t({type:n.f.MODAL_OPEN,modalId:e.modalId,dialogProps:e.dialogProps,dialogType:e.dialogType}),{data:!0})}function i(e){return t=>(t({type:n.f.MODAL_CLOSE,modalId:e}),{data:!0})}},1282:function(e,t,a){"use strict";a.d(t,"b",(function(){return F})),a.d(t,"o",(function(){return B})),a.d(t,"c",(function(){return G})),a.d(t,"m",(function(){return V})),a.d(t,"i",(function(){return W})),a.d(t,"j",(function(){return z})),a.d(t,"k",(function(){return Y})),a.d(t,"l",(function(){return K})),a.d(t,"h",(function(){return Z})),a.d(t,"g",(function(){return J})),a.d(t,"d",(function(){return Q})),a.d(t,"e",(function(){return $})),a.d(t,"n",(function(){return ee})),a.d(t,"a",(function(){return te})),a.d(t,"f",(function(){return ne}));a(58),a(34);var n=a(91),s=a(40),i=a(18),r=a(15),o=a(21),l=a(8),c=a(11),d=a(6),m=a(98),u=a(266),p=a(80),h=a(190),g=a(189),b=a(600),f=a(1384),_=a(1411),C=a(1542),y=a(191),E=a(42),v=a(1397),w=a(23),O=a(133),S=a(1610),T=a(0),M=a(1421),P=a(14),N=a(127),I=a.n(N),R=a(5),A=a.n(R),j=a(1616),x=a(1292),L=a(1285);a(1957);function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class D extends A.a.PureComponent{constructor(e){super(e),k(this,"onHide",()=>{this.setState({show:!1})}),this.state={show:!0}}render(){let e;return this.props.elements&&(e=this.props.elements.map(e=>A.a.createElement(L.a.ItemSubMenu,{key:e.id,id:e.id,text:e.text,subMenu:e.subMenu,action:e.action,filter:e.filter,xOffset:0,root:!1}))),A.a.createElement(j.a,{dialogClassName:"SubMenuModal a11y__modal mobile-sub-menu",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,enforceFocus:!1,id:"submenuModal",role:"dialog"},A.a.createElement(j.a.Body,{onClick:this.onHide},A.a.createElement(x.a,null,A.a.createElement(L.a,{openLeft:!0,ariaLabel:P.ob("post_info.submenu.mobile","mobile submenu").toLowerCase()},e),A.a.createElement("div",null))))}}k(D,"propTypes",{elements:I.a.arrayOf(I.a.any),onHide:I.a.func.isRequired});var U=a(1281);const q=w.a.dispatch,H=w.a.getState;function F(e){function t(e){const t=H(),a=Object(l.getCurrentUserId)(t),i=e.team_id||Object(o.getCurrentTeamId)(t),r=Object(E.c)(t),m=Object(E.k)(t)===T.G.PIN,u=Object(c.getMyChannelMember)(t,e.id),p=Object(c.getCurrentChannelId)(t);if(q(Object(s.getChannelStats)(e.id)),0===e.delete_at){const t=O.a.getPreviousChannelName(a,i);t!==e.name&&(O.a.setPenultimateChannelName(a,i,t),O.a.setPreviousChannelName(a,i,e.name))}r&&m&&q(Object(g.u)(T.G.PIN,e.id)),p&&Object(h.m)(),q(Object(n.a)([{type:d.ChannelTypes.SELECT_CHANNEL,data:e.id},{type:T.f.SELECT_CHANNEL_WITH_MEMBER,data:e.id,channel:e,member:u||{}}]))}e.fake?async function(e,t,a){const n=H(),i=Object(l.getCurrentUserId)(n),r=P.N(e),{data:o}=await Object(s.createDirectChannel)(i,r)(q,H);o?t(o):a()}(e,e=>{t(e)},()=>{m.a.push("/"+this.state.currentTeam.name)}):t(e)}function B(e,t=Date.now()){return{type:T.f.UPDATE_CHANNEL_LAST_VIEWED_AT,channel_id:e,last_viewed_at:t}}function G(){q(Object(g.b)())}function V(){C.a.handleViewAction({type:T.f.TOGGLE_SHORTCUTS_MODAL,value:!0})}function W(e){C.a.handleViewAction({type:T.f.TOGGLE_CHANNEL_NAME_UPDATE_MODAL,value:!0,channel:e})}function z(e){C.a.handleViewAction({type:T.f.TOGGLE_GET_PUBLIC_LINK_MODAL,value:!0,fileId:e})}function Y(e){C.a.handleViewAction({type:T.f.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,value:e})}function K(e){const t={ModalId:T.y.MOBILE_SUBMENU,dialogType:D,dialogProps:{elements:e}};q(Object(U.b)(t))}function Z(e,t,a){const n=P.L(),s={id:P.r(),user_id:"0",channel_id:t||Object(c.getCurrentChannelId)(H()),message:e,type:T.E.EPHEMERAL,create_at:n,update_at:n,root_id:a,parent_id:a,props:{}};q(Object(u.f)(s))}function J(e,t,a,n,s="",i){const r={id:P.r(),user_id:e.id,channel_id:n||Object(c.getCurrentChannelId)(H()),message:"",type:T.E.EPHEMERAL_ADD_TO_CHANNEL,create_at:i,update_at:i,root_id:s,parent_id:s,props:{username:e.username,addedUsername:t,addedUserId:a}};q(Object(u.f)(r))}let X=0;function Q(e,t){return q(async(a,n)=>{const s=n(),i=Object(r.getConfig)(s),o=Date.now(),l=Object(c.getCurrentChannelStats)(s),d=l?l.member_count:0;return o-X>i.TimeBetweenUserTypingUpdatesMilliseconds&&d<i.MaxNotificationsPerChannel&&"true"===i.EnableUserTypingMessages&&(S.a.userTyping(e,t),X=o),{data:!0}})}function $(e="/",t=!0,a=!0){a&&O.a.setWasLoggedIn(!1),q(Object(i.logout)()).then(()=>{t&&v.a.signalLogout(),v.a.clear(),Object(p.e)(),_.a(),Object(b.a)(),m.a.push(e)}).catch(()=>{m.a.push(e)})}function ee(){return e=>{e(Object(g.b)()),e(Object(f.a)()),e(Object(g.a)())}}function te(e){q({type:T.f.BROWSER_CHANGE_FOCUS,focus:e})}async function ae(e,t){let a=H(),n=null;const i=Object(o.getMyTeamMember)(a,t.id);if(!i||0===Object.keys(i).length)return null;let r=Object(c.getChannelsNameMapInTeam)(a,t.id);r&&0!==Object.keys(r).length||(await q(Object(s.fetchMyChannelsAndMembers)(t.id)),a=H(),r=Object(c.getChannelsNameMapInTeam)(a,t.id));const l=O.a.getPreviousChannelName(e.id,t.id);if(n=r[l],void 0===n){n=Object(c.getAllDirectChannels)(a).find(e=>e.name===l)}let d=Object(c.getMyChannelMember)(a,n&&n.id);if(n&&d||(await q(Object(s.getChannelByNameAndTeamName)(t.name,l)),a=H(),r=Object(c.getChannelsNameMapInTeam)(a,t.id),n=r[l],d=Object(c.getMyChannelMember)(a,n&&n.id)),!n||!d){n=r[Object(c.getRedirectChannelNameForTeam)(a,t.id)],d=Object(c.getMyChannelMember)(a,n&&n.id)}return n&&d?n:null}async function ne(){let e=H(),t=Object(l.getCurrentUser)(e);if((P.X(Object(o.getTeamMemberships)(e))||!t)&&(await q(Object(i.loadMe)()),e=H(),t=Object(l.getCurrentUser)(e)),!t)return;const a=Object(y.a)(e),n=O.a.getPreviousTeamId(t.id);let r=Object(o.getMyTeams)(e);if(0===r.length)return void m.a.push("/select_team");const c=Object(o.getTeam)(e,n);if(c&&0===c.delete_at){const e=await ae(t,c);if(e)return q(Object(s.selectChannel)(e.id)),void m.a.push("/".concat(c.name,"/channels/").concat(e.name))}r=Object(M.a)(r,a);for(const e of r){const a=await ae(t,e);if(a)return q(Object(s.selectChannel)(a.id)),void m.a.push("/".concat(e.name,"/channels/").concat(a.name))}m.a.push("/select_team")}},1283:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1267);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends r.a.PureComponent{constructor(e){super(e),this.state={}}render(){let e=r.a.createElement(o.a,{id:"loading_screen.loading",defaultMessage:"Loading"});return this.props.message&&(e=this.props.message),r.a.createElement("div",{className:"loading-screen",style:c({position:this.props.position},this.props.style)},r.a.createElement("div",{className:"loading__content"},r.a.createElement("h3",null,e),r.a.createElement("div",{className:"round round-1"}),r.a.createElement("div",{className:"round round-2"}),r.a.createElement("div",{className:"round round-3"})))}}d(m,"propTypes",{position:s.a.oneOf(["absolute","fixed","relative","static","inherit"]),style:s.a.any,message:s.a.node}),d(m,"defaultProps",{position:"relative",style:{}})},1285:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));a(1470),a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(14),l=a(1282),c=(a(1681),a(0));function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends r.a.PureComponent{constructor(e){super(e),d(this,"node",void 0),d(this,"show",()=>{this.setState({show:!0})}),d(this,"hide",()=>{this.setState({show:!1})}),d(this,"onClick",e=>{e.preventDefault();const{id:t,postId:a,subMenu:n,action:s,root:i}=this.props,r=o.fb(),c=Object.entries(e.nativeEvent).find(([e])=>"path"===e);let d;c&&(d=c[1]),r?n&&n.length?(i||e.stopPropagation(),Object(l.l)(n)):s&&s(a):d&&d.slice(0,2).find(e=>e.id===t)&&s?s(a):d||e.nativeEvent.composedPath||!s?!d&&e.nativeEvent.composedPath().slice(0,2).find(e=>e.id===t)&&s&&s(a):s(a)}),d(this,"handleKeyDown",e=>{o.cb(e,c.Z.KeyCodes.ENTER)&&(this.props.action?this.onClick(e):this.show()),o.cb(e,c.Z.KeyCodes.RIGHT)&&("right"===this.props.direction?this.show():this.hide()),o.cb(e,c.Z.KeyCodes.LEFT)&&("left"===this.props.direction?this.show():this.hide())}),this.node=r.a.createRef(),this.state={show:!1}}render(){const{id:e,postId:t,text:a,subMenu:n,root:s,icon:i,filter:l,xOffset:c,ariaLabel:d,direction:u}=this.props,p=o.fb();if(l&&!l(e))return"";let h=a;i&&(h=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"icon"},i),a));const g=n&&n.length,b=this.node&&this.node.current?this.node.current.getBoundingClientRect().width:0,f=s?2:r.a.isValidElement(a)?20:0,_={visibility:this.state.show&&g&&!p?"visible":"hidden",top:this.node&&this.node.current?String(this.node.current.offsetTop)+"px":"unset"},C=parseInt(String(c),10)-f+"px";"left"===u?_.right=C:_.left=C;let y="";return p||(y=r.a.createElement("ul",{className:"a11y__popup Menu dropdown-menu SubMenu",style:_},g?n.map(e=>r.a.createElement(m,{key:e.id,id:e.id,postId:t,text:e.text,icon:e.icon,subMenu:e.subMenu,action:e.action,filter:e.filter,xOffset:b,ariaLabel:d,root:!1,direction:e.direction})):"")),r.a.createElement("li",{className:"SubMenuItem MenuItem",role:"menuitem",id:e+"_menuitem",ref:this.node},r.a.createElement("div",{id:e,"aria-label":d,onMouseEnter:this.show,onMouseLeave:this.hide,onClick:this.onClick,tabIndex:0,onKeyDown:this.handleKeyDown},r.a.createElement("span",{id:"channelHeaderDropdownIconLeft_"+e,className:"fa fa-angle-left SubMenu__icon-left"+(g&&!p&&"left"===u?"":"-empty"+(p?" mobile":"")),"aria-label":o.ob("post_info.submenu.icon","submenu icon").toLowerCase()}),h,r.a.createElement("span",{id:"channelHeaderDropdownIconRight_"+e,className:"fa fa-angle-right SubMenu__icon-right"+(g&&(p||"right"===u)?"":"-empty"),"aria-label":o.ob("post_info.submenu.icon","submenu icon").toLowerCase()}),y))}}d(m,"propTypes",{id:s.a.string,postId:s.a.string,text:s.a.node.isRequired,subMenu:s.a.arrayOf(s.a.shape({id:s.a.string,postId:s.a.string,text:s.a.node.isRequired,subMenu:s.a.arrayOf(s.a.shape({id:s.a.string,postId:s.a.string,text:s.a.node.isRequired,subMenu:s.a.arrayOf(s.a.shape({id:s.a.string,postId:s.a.string,text:s.a.node.isRequired,subMenu:s.a.arrayOf(s.a.object),icon:s.a.node,action:s.a.func,filter:s.a.func,xOffset:s.a.number,ariaLabel:s.a.string,root:s.a.bool,show:s.a.bool,direction:s.a.oneOf(["left","right"]),openUp:s.a.bool})),icon:s.a.node,action:s.a.func,filter:s.a.func,xOffset:s.a.number,ariaLabel:s.a.string,root:s.a.bool,show:s.a.bool,direction:s.a.oneOf(["left","right"]),openUp:s.a.bool})),icon:s.a.node,action:s.a.func,filter:s.a.func,xOffset:s.a.number,ariaLabel:s.a.string,root:s.a.bool,show:s.a.bool,direction:s.a.oneOf(["left","right"]),openUp:s.a.bool})),icon:s.a.node,action:s.a.func,filter:s.a.func,xOffset:s.a.number,ariaLabel:s.a.string,root:s.a.bool,show:s.a.bool,direction:s.a.oneOf(["left","right"]),openUp:s.a.bool}),d(m,"defaultProps",{show:!0,direction:"left"});var u,p,h;a(1954);class g extends r.a.PureComponent{render(){const{children:e}=this.props;return r.a.createElement("li",{className:"MenuHeader"},e)}}u=g,p="propTypes",h={divider:s.a.node,children:s.a.node},p in u?Object.defineProperty(u,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[p]=h;a(1955);function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class f extends r.a.PureComponent{constructor(...e){super(...e),b(this,"handleDividerClick",e=>{e.preventDefault(),e.stopPropagation()})}render(){const{children:e}=this.props,t=this.props.divider||r.a.createElement("li",{className:"MenuGroup menu-divider",onClick:this.handleDividerClick});return r.a.createElement(r.a.Fragment,null,t,e)}}b(f,"propTypes",{divider:s.a.node,children:s.a.node});var _=a(1422);const C=({onClick:e,ariaLabel:t,text:a,extraText:n,id:s,buttonClass:i,isDangerous:o})=>r.a.createElement("button",{"data-testid":s,id:s,"aria-label":t,className:"style--none"+(n?" MenuItem__with-help":"")+(i?" "+i:"")+(o?" MenuItem__dangerous":""),onClick:e},a&&r.a.createElement("span",{className:"MenuItem__primary-text"},a),n&&r.a.createElement("span",{className:"MenuItem__help-text"},n));C.propTypes={onClick:s.a.func.isRequired,ariaLabel:s.a.string,text:s.a.node.isRequired,extraText:s.a.string,id:s.a.string,buttonClass:s.a.string,isDangerous:s.a.bool};const y=Object(_.a)(C);y.displayName="MenuItemAction";var E=y;const v=({url:e,text:t,onClick:a})=>r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e,onClick:a},t);v.propTypes={url:s.a.string.isRequired,text:s.a.node.isRequired,onClick:s.a.func};const w=Object(_.a)(v);w.displayName="MenuItemExternalLink";var O=w,S=a(1265);const T=({to:e,text:t})=>r.a.createElement(S.Link,{to:e},r.a.createElement("span",{className:"MenuItem__primary-text"},t));T.propTypes={to:s.a.string.isRequired,text:s.a.node.isRequired};const M=Object(_.a)(T);M.displayName="MenuItemLink";var P=M,N=a(1447);const I=({modalId:e,dialogType:t,dialogProps:a,text:n,extraText:s})=>r.a.createElement(N.a,{accessibilityLabel:n,modalId:e,dialogType:t,dialogProps:a,className:s&&"MenuItem__with-help"},n&&r.a.createElement("span",{className:"MenuItem__primary-text"},n),s&&r.a.createElement("span",{className:"MenuItem__help-text"},s));I.propTypes={modalId:s.a.string.isRequired,dialogType:s.a.elementType.isRequired,dialogProps:s.a.any,extraText:s.a.string,text:s.a.string.isRequired};const R=Object(_.a)(I);R.displayName="MenuItemToggleModalRedux";var A=R;a(1956);function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class x extends r.a.PureComponent{constructor(e){super(e),j(this,"node",void 0),j(this,"observer",void 0),j(this,"hideUnneededDividers",()=>{if(null===this.node.current)return;this.observer.disconnect();const e=Object.values(this.node.current.children).slice(0,this.node.current.children.length);let t=!1,a=!0;for(const n of e)n.classList.contains("menu-divider")||n.classList.contains("mobile-menu-divider")?(n.style.display="block",(a||t)&&(n.style.display="none"),t=!0):(a=!1,t=!1);e.reverse();for(const t of e){if(!t.classList.contains("menu-divider")&&!t.classList.contains("mobile-menu-divider"))break;t.style.display="none"}this.observer.observe(this.node.current,{attributes:!0,childList:!0,subtree:!0})}),j(this,"handleMenuClick",e=>{e.target===this.node.current&&(e.preventDefault(),e.stopPropagation())}),this.node=r.a.createRef(),this.observer=new MutationObserver(this.hideUnneededDividers)}componentDidMount(){this.hideUnneededDividers()}componentDidUpdate(){this.hideUnneededDividers()}componentWillUnmount(){this.observer.disconnect()}rect(){return this.node&&this.node.current?this.node.current.getBoundingClientRect():null}render(){const{children:e,openUp:t,openLeft:a,id:n,ariaLabel:s,customStyles:i}=this.props;let l={};return i?l=i:(a&&!Object(o.fb)()&&(l.left="inherit",l.right=0),t&&!Object(o.fb)()&&(l.bottom="100%",l.top="auto")),r.a.createElement("div",{"aria-label":s,className:"a11y__popup Menu",id:n,role:"menu"},r.a.createElement("ul",{ref:this.node,style:l,className:"Menu__content dropdown-menu",onClick:this.handleMenuClick},e))}}j(x,"propTypes",{children:s.a.node,openLeft:s.a.bool,openUp:s.a.bool,id:s.a.string,ariaLabel:s.a.string.isRequired,customStyles:s.a.any}),j(x,"Header",g),j(x,"Group",f),j(x,"ItemAction",E),j(x,"ItemExternalLink",O),j(x,"ItemLink",P),j(x,"ItemToggleModalRedux",A),j(x,"ItemSubMenu",m)},1287:function(e,t,a){"use strict";a.d(t,"C",(function(){return _})),a.d(t,"b",(function(){return C})),a.d(t,"o",(function(){return y})),a.d(t,"w",(function(){return E})),a.d(t,"u",(function(){return v})),a.d(t,"z",(function(){return w})),a.d(t,"a",(function(){return O})),a.d(t,"p",(function(){return S})),a.d(t,"c",(function(){return T})),a.d(t,"k",(function(){return M})),a.d(t,"l",(function(){return P})),a.d(t,"x",(function(){return N})),a.d(t,"S",(function(){return I})),a.d(t,"h",(function(){return R})),a.d(t,"X",(function(){return A})),a.d(t,"V",(function(){return j})),a.d(t,"W",(function(){return x})),a.d(t,"U",(function(){return L})),a.d(t,"T",(function(){return k})),a.d(t,"H",(function(){return D})),a.d(t,"F",(function(){return U})),a.d(t,"G",(function(){return q})),a.d(t,"E",(function(){return H})),a.d(t,"D",(function(){return F})),a.d(t,"s",(function(){return B})),a.d(t,"m",(function(){return G})),a.d(t,"n",(function(){return V})),a.d(t,"q",(function(){return W})),a.d(t,"t",(function(){return z})),a.d(t,"j",(function(){return Y})),a.d(t,"M",(function(){return K})),a.d(t,"i",(function(){return Z})),a.d(t,"d",(function(){return J})),a.d(t,"K",(function(){return X})),a.d(t,"g",(function(){return Q})),a.d(t,"e",(function(){return $})),a.d(t,"f",(function(){return ee})),a.d(t,"v",(function(){return te})),a.d(t,"O",(function(){return ae})),a.d(t,"B",(function(){return ne})),a.d(t,"P",(function(){return se})),a.d(t,"N",(function(){return ie})),a.d(t,"A",(function(){return re})),a.d(t,"r",(function(){return oe})),a.d(t,"L",(function(){return le})),a.d(t,"Q",(function(){return ce})),a.d(t,"R",(function(){return de})),a.d(t,"J",(function(){return me})),a.d(t,"y",(function(){return ue})),a.d(t,"I",(function(){return pe}));a(58);var n=a(1298),s=a(18),i=a(187),r=a(19),o=a(59),l=a(148),c=a(1282),d=a(1412),m=a(23),u=a(0);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const b=m.a.dispatch,f=m.a.getState;async function _(e,t){const{data:a,error:s}=await b(n.reloadConfig());a&&e?(b(n.getConfig()),b(n.getEnvironmentConfig()),e(a)):s&&t&&t(h({id:s.server_error_id},s))}async function C(e,t,a){const{data:n,error:i}=await s.updateUserMfa(e,!1)(b,f);n&&t?t(n):i&&a&&a(h({id:i.server_error_id},i))}async function y(e,t){const{data:a,error:s}=await n.getClusterStatus()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function E(e,t){const{data:a,error:s}=await n.testLdap()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function v(e,t){const{data:a,error:s}=await n.invalidateCaches()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function w(e,t){const{data:a,error:s}=await n.recycleDatabase()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function O(e,t,a){const{data:n,error:i}=await s.patchUser(e)(b,f);n&&t?t(n):i&&a&&a(h({id:i.server_error_id},i))}function S(e){return Object(o.bindClientFunc)({clientFunc:r.Client4.getOAuthAppInfo,params:[e]})}function T({responseType:e,clientId:t,redirectUri:a,state:n,scope:s}){return Object(o.bindClientFunc)({clientFunc:r.Client4.authorizeOAuthApp,params:[e,t,a,n,s]})}async function M(e,t,a,n,i,r,o){const{data:l,error:c}=await s.switchEmailToLdap(e,t,n,i,a)(b,f);l&&r?r(l):c&&o&&o(h({id:c.server_error_id},c))}async function P(e,t,a,n,i,r){const{data:o,error:l}=await s.switchEmailToOAuth(n,e,t,a)(b,f);o&&i?i(o):l&&r&&r(h({id:l.server_error_id},l))}async function N(e,t,a,n,i){const{data:r,error:o}=await s.switchOAuthToEmail(e,t,a)(b,f);r?(r.follow_link&&Object(c.e)(r.follow_link),n&&n(r)):o&&i&&i(h({id:o.server_error_id},o))}async function I(e,t,a){const{data:s,error:i}=await n.uploadBrandImage(e)(b,f);s&&t?t(s):i&&a&&a(h({id:i.server_error_id},i))}async function R(e,t){const{data:a,error:s}=await n.deleteBrandImage()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function A(e,t,a){const{data:s,error:i}=await n.uploadPublicSamlCertificate(e)(b,f);s&&t?t("saml-public.crt"):i&&a&&a(h({id:i.server_error_id},i))}async function j(e,t,a){const{data:s,error:i}=await n.uploadPrivateSamlCertificate(e)(b,f);s&&t?t("saml-private.key"):i&&a&&a(h({id:i.server_error_id},i))}async function x(e,t,a){const{data:s,error:i}=await n.uploadPublicLdapCertificate(e)(b,f);s&&t?t("ldap-public.crt"):i&&a&&a(h({id:i.server_error_id},i))}async function L(e,t,a){const{data:s,error:i}=await n.uploadPrivateLdapCertificate(e)(b,f);s&&t?t("ldap-private.key"):i&&a&&a(h({id:i.server_error_id},i))}async function k(e,t,a){const{data:s,error:i}=await n.uploadIdpSamlCertificate(e)(b,f);s&&t?t("saml-idp.crt"):i&&a&&a(h({id:i.server_error_id},i))}async function D(e,t){const{data:a,error:s}=await n.removePublicSamlCertificate()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function U(e,t){const{data:a,error:s}=await n.removePrivateSamlCertificate()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function q(e,t){const{data:a,error:s}=await n.removePublicLdapCertificate()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function H(e,t){const{data:a,error:s}=await n.removePrivateLdapCertificate()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function F(e,t){const{data:a,error:s}=await n.removeIdpSamlCertificate()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function B(e){await n.getStandardAnalytics(e)(b,f)}async function G(e){await n.getAdvancedAnalytics(e)(b,f)}async function V(e){await n.getBotPostsPerDayAnalytics(e)(b,f)}async function W(e){await n.getPostsPerDayAnalytics(e)(b,f)}async function z(e){await n.getUsersPerDayAnalytics(e)(b,f)}async function Y(e,t,a){const{data:s,error:i}=await n.testElasticsearch(e)(b,f);s&&t?t(s):i&&a&&a(h({id:i.server_error_id},i))}async function K(e,t){const{data:a,error:s}=await n.testS3Connection()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function Z(e,t){const{data:a,error:s}=await n.purgeElasticsearchIndexes()(b,f);a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}async function J(e,t){const a=Object(o.bindClientFunc)({clientFunc:r.Client4.purgeBleveIndexes,params:[]}),{data:n,error:s}=await b(a);n&&e?e(n):s&&t&&t(h({id:s.server_error_id},s))}function X(e){return{type:u.f.SET_NAVIGATION_BLOCKED,blocked:e}}function Q(e){return{type:u.f.DEFER_NAVIGATION,onNavigationConfirmed:e}}function $(){return{type:u.f.CANCEL_NAVIGATION}}function ee(){return(e,t)=>{const a=Object(d.b)(t());a&&a(),e({type:u.f.CONFIRM_NAVIGATION})}}async function te(e,t){const{data:a,error:n}=await b(i.invalidateAllEmailInvites());a&&e?e(a):n&&t&&t(h({id:n.server_error_id},n))}async function ae(e,t){const{data:a,error:s}=await b(n.testEmail());a&&e?e(a):s&&t&&t(h({id:s.server_error_id},s))}function ne(e,t){return a=>{a({type:u.f.RECEIVED_ADMIN_CONSOLE_REDUCER,data:{pluginId:e,reducer:t}})}}function se(e){return t=>{t({type:u.f.REMOVED_ADMIN_CONSOLE_REDUCER,data:{pluginId:e}})}}async function ie(e,t,a){const{data:s,error:i}=await b(n.testSiteURL(a));s&&e?e(s):i&&t&&t(h({id:i.server_error_id},i))}function re(e,t,a,{showTitle:n}){return s=>{s({type:u.f.RECEIVED_ADMIN_CONSOLE_CUSTOM_COMPONENT,data:{pluginId:e,key:t,component:a,options:{showTitle:n}}})}}async function oe(e,t,a){const{data:s,error:i}=await b(n.getSamlMetadataFromIdp(a));s&&e?e(s):i&&t&&t(h({id:i.server_error_id},i))}async function le(e,t,a){const{data:s,error:i}=await n.setSamlIdpCertificateFromMetadata(a)(b,f);s&&e?e("saml-idp.crt"):i&&t&&t(h({id:i.server_error_id},i))}function ce(){return async()=>{Object(l.e)("api","upgrade_to_e0_requested");return await r.Client4.upgradeToEnterprise()}}function de(){return async()=>await r.Client4.upgradeToEnterpriseStatus()}function me(){return async()=>await r.Client4.restartServer()}function ue(){return async()=>await r.Client4.ping()}function pe(e,t,a,n){return async()=>{try{Object(l.e)("api","api_request_trial_license",{from_page:n});return{data:await r.Client4.doFetch("".concat(r.Client4.getBaseRoute(),"/trial-license"),{method:"POST",body:JSON.stringify({users:e,terms_accepted:t,receive_emails_accepted:a})})}}catch(e){return{error:e.message}}}}},1288:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1616),l=a(1267);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends r.a.Component{constructor(e){super(e),c(this,"handleKeypress",e=>{if("Enter"===e.key&&this.props.show){const e=document.getElementById("cancelModalButton");e&&e===document.activeElement?this.handleCancel():this.handleConfirm()}}),c(this,"handleCheckboxChange",e=>{this.setState({checked:e.target.checked})}),c(this,"handleConfirm",()=>{this.props.onConfirm(this.state.checked)}),c(this,"handleCancel",()=>{this.props.onCancel(this.state.checked)}),this.state={checked:!1}}componentDidMount(){this.props.show&&document.addEventListener("keydown",this.handleKeypress)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeypress)}shouldComponentUpdate(e,t){return e.show!==this.props.show||t.checked!==this.state.checked}componentDidUpdate(e){e.show&&!this.props.show?document.removeEventListener("keydown",this.handleKeypress):!e.show&&this.props.show&&document.addEventListener("keydown",this.handleKeypress)}render(){let e,t,a;return this.props.showCheckbox&&(e=r.a.createElement("div",{className:"checkbox text-right mb-0"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",onChange:this.handleCheckboxChange,checked:this.state.checked}),this.props.checkboxText))),t=this.props.cancelButtonText?this.props.cancelButtonText:r.a.createElement(l.a,{id:"confirm_modal.cancel",defaultMessage:"Cancel"}),this.props.hideCancel||(a=r.a.createElement("button",{type:"button",className:"btn btn-link btn-cancel",onClick:this.handleCancel,id:"cancelModalButton"},t)),r.a.createElement(o.a,{className:"modal-confirm "+this.props.modalClass,dialogClassName:"a11y__modal",show:this.props.show,onHide:this.props.onCancel,onExited:this.props.onExited,id:"confirmModal",role:"dialog","aria-modal":!0,"aria-labelledby":"confirmModalLabel","aria-describedby":"confirmModalBody"},r.a.createElement(o.a.Header,{closeButton:!1},r.a.createElement(o.a.Title,{componentClass:"h1",id:"confirmModalLabel"},this.props.title)),r.a.createElement(o.a.Body,{id:"confirmModalBody"},this.props.message,e),r.a.createElement(o.a.Footer,null,a,r.a.createElement("button",{autoFocus:!0,type:"button",className:this.props.confirmButtonClass,onClick:this.handleConfirm,id:"confirmModalButton"},this.props.confirmButtonText)))}}c(d,"propTypes",{show:s.a.bool.isRequired,title:s.a.node,message:s.a.node,confirmButtonClass:s.a.string,modalClass:s.a.string,confirmButtonText:s.a.node,cancelButtonText:s.a.node,showCheckbox:s.a.bool,checkboxText:s.a.node,onConfirm:s.a.func.isRequired,onCancel:s.a.func.isRequired,onExited:s.a.func,hideCancel:s.a.bool}),c(d,"defaultProps",{title:"",message:"",confirmButtonClass:"btn btn-primary",confirmButtonText:"",modalClass:""})},1289:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(127),s=a.n(n);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const l={locale:s.a.string,timeZone:s.a.string,formats:s.a.object,messages:s.a.object,textComponent:s.a.any,defaultLocale:s.a.string,defaultFormats:s.a.object,wrapRichTextChunksInFragment:s.a.bool,onError:s.a.func},c={formatDate:s.a.func.isRequired,formatTime:s.a.func.isRequired,formatRelativeTime:s.a.func.isRequired,formatNumber:s.a.func.isRequired,formatPlural:s.a.func.isRequired,formatMessage:s.a.func.isRequired},d=s.a.shape(r(r(r({},l),c),{},{formatters:s.a.object}))},1292:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(0),l=a(2435),c=a(14);function d(e){return Object(c.fb)()?e.show?e.children:null:r.a.createElement(l.a,{in:e.show,classNames:"MenuWrapperAnimation",enter:!0,exit:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:80},e.children)}d.propTypes={children:s.a.node,show:s.a.bool.isRequired};a(1953);function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class u extends r.a.PureComponent{constructor(e){if(super(e),m(this,"node",void 0),m(this,"keyboardClose",e=>{e.key===o.Z.KeyCodes.ESCAPE[0]&&this.close(),e.key===o.Z.KeyCodes.TAB[0]&&this.closeOnBlur(e)}),m(this,"closeOnBlur",e=>{this.node&&this.node.current&&e.target&&this.node.current.contains(e.target)||this.close()}),m(this,"close",()=>{this.state.open&&(this.setState({open:!1}),this.props.onToggle&&this.props.onToggle(!1))}),m(this,"toggle",e=>{this.props.stopPropagationOnToggle&&(e.preventDefault(),e.stopPropagation());const t=!this.state.open;this.setState({open:t},()=>{this.props.onToggle&&this.props.onToggle(t)})}),!Array.isArray(e.children)||2!==e.children.length)throw new Error("MenuWrapper needs exactly 2 children");this.state={open:!1},this.node=r.a.createRef()}componentDidMount(){document.addEventListener("click",this.closeOnBlur,!0),document.addEventListener("keyup",this.keyboardClose,!0)}componentWillUnmount(){document.removeEventListener("click",this.closeOnBlur,!0),document.removeEventListener("keyup",this.keyboardClose,!0)}render(){const{children:e}=this.props,t=this.props.animationComponent;return r.a.createElement("div",{id:this.props.id,className:"MenuWrapper "+this.props.className,onClick:this.toggle,ref:this.node,disabled:this.props.isDisabled},e?Object.values(e)[0]:{},r.a.createElement(t,{show:this.state.open},e?Object.values(e)[1]:{}))}}m(u,"propTypes",{children:s.a.node,className:s.a.string,onToggle:s.a.func,animationComponent:s.a.any,id:s.a.string,isDisabled:s.a.bool,stopPropagationOnToggle:s.a.bool}),m(u,"defaultProps",{className:"",animationComponent:d})},1293:function(e,t,a){"use strict";a(185),a(34);var n=a(5),s=a.n(n),i=a(1639);function r(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}const o=s.a.forwardRef((e,t)=>{const{placeholder:{id:a,defaultMessage:n,values:o}}=e,l=r(e,["placeholder"]),{formatMessage:c}=Object(i.a)();return s.a.createElement("input",Object.assign({},l,{ref:t,placeholder:c({id:a,defaultMessage:n},o)}))});o.displayName="LocalizedInput",t.a=o},1294:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class l extends r.a.PureComponent{render(){const{error:e=null,errors:t=[],iconClassName:a,margin:n,textClassName:s,type:i}=this.props;if(!e&&0===t.length)return null;let o=e;if(!o)for(const e of t)e&&(o=e);return o?"modal"===i?r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-12 has-error"},o)):"backstage"===i?r.a.createElement("div",{className:"pull-left has-error"},r.a.createElement("label",{className:"control-label"},o)):n?r.a.createElement("div",{className:"form-group has-error"},r.a.createElement("label",{className:"control-label"},o)):r.a.createElement("div",{className:"col-sm-12 ".concat(s||"has-error")},r.a.createElement("label",{className:"control-label"},r.a.createElement("i",{className:"fa ".concat(a||"fa-exclamation-circle")})," ",o)):null}}o(l,"propTypes",{type:s.a.node,error:s.a.node,textClassName:s.a.string,iconClassName:s.a.string,margin:s.a.bool,errors:s.a.arrayOf(s.a.node)}),o(l,"defaultProps",{error:null,errors:[]})},1296:function(e,t,a){"use strict";a.d(t,"b",(function(){return I})),a.d(t,"c",(function(){return R})),a.d(t,"o",(function(){return A})),a.d(t,"n",(function(){return j})),a.d(t,"d",(function(){return x})),a.d(t,"e",(function(){return L})),a.d(t,"f",(function(){return k})),a.d(t,"a",(function(){return D})),a.d(t,"j",(function(){return U})),a.d(t,"i",(function(){return q})),a.d(t,"g",(function(){return H})),a.d(t,"h",(function(){return F})),a.d(t,"p",(function(){return B})),a.d(t,"l",(function(){return G})),a.d(t,"m",(function(){return V})),a.d(t,"k",(function(){return W})),a.d(t,"q",(function(){return z}));a(185),a(58);var n=a(91),s=a(40),i=a(33),r=a(6),o=a(18),l=a(187),c=a(9),d=a(11),m=a(21),u=a(8),p=a(26),h=a(1614),g=a(111),b=a(272),f=a.n(b),_=a(1314),C=a(1451),y=a(1615),E=a(1504),v=a(98),w=a(0),O=a(14),S=a(133),T=a(1335);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){N(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function I(){return e=>{e({type:w.f.UPDATE_MOBILE_VIEW,data:Object(O.fb)()})}}function R(){return async(e,t)=>{const a=t(),n=Object(d.getCurrentChannel)(a)||{},s=Object(d.getChannelsNameMapInCurrentTeam)(a),i=Object(d.getAllDirectChannelsNameMapInCurrentTeam)(a),r=Object.assign({},s,i);let o=Object(g.getChannelByName)(r,Object(C.a)(a));return n.id===o.id&&(o=Object(g.getChannelByName)(r,Object(d.getRedirectChannelNameForTeam)(a,Object(m.getCurrentTeamId)(a)))),e(j(o))}}function A(e){return async(t,a)=>{const n=a();return t(j(Object(d.getChannel)(n,e)))}}function j(e){return async(t,a)=>{const n=a(),s=Object(m.getCurrentRelativeTeamUrl)(n);if(e.fake||e.userId){const a=e.userId?e.name:e.display_name,i=Object(u.getUserByUsername)(n,a);if(!i)return{error:!0};if((await t(Object(_.f)(i.id))).error)return{error:!0};v.a.push("".concat(s,"/messages/@").concat(e.name))}else if(e.type===w.l.GM_CHANNEL){const t=Object(d.getChannel)(n,e.id);v.a.push("".concat(s,"/channels/").concat(t.name))}else v.a.push("".concat(s,"/channels/").concat(e.name));return{data:!0}}}function x(e){return async(t,a)=>{const n=a(),i=Object(u.getCurrentUserId)(n),r=Object(m.getCurrentTeamId)(n);return t(Object(s.joinChannel)(i,r,e))}}function L(e){return async(t,a)=>{let n=a();const i=Object(u.getCurrentUserId)(n),o=Object(m.getCurrentTeam)(n),c=Object(d.getChannel)(n,e);Object(d.isFavoriteChannel)(n,e)&&t(Object(s.unfavoriteChannel)(e));const p=Object(m.getCurrentRelativeTeamUrl)(n);Object(T.c)(c)||S.a.removePreviousChannelName(i,o.id,n);const{error:h}=await t(Object(s.leaveChannel)(e));if(h)return{error:h};n=a();const b=S.a.getPreviousChannelName(i,o.id,n),f=Object(d.getChannelsNameMapInCurrentTeam)(n),_=Object(g.getChannelByName)(f,b);return _&&Object(d.getMyChannelMemberships)(n)[_.id]||S.a.removePreviousChannelName(i,o.id,n),0===Object(d.getMyChannels)(a()).filter(e=>e.type===w.l.OPEN_CHANNEL||e.type===w.l.PRIVATE_CHANNEL).length?(S.a.removePreviousChannelName(i,o.id,n),t(Object(l.selectTeam)("")),t({type:r.TeamTypes.LEAVE_TEAM,data:o}),v.a.push("/")):v.a.push(p),{data:!0}}}function k(e){return async(t,a)=>{const n=a(),s=Object(u.getCurrentUserId)(n);return Object(m.getTeamsList)(n).forEach(t=>{const a=S.a.getPreviousChannelName(s,t.id,n),i=S.a.getPenultimateChannelName(s,t.id,n);e===a?S.a.removePreviousChannelName(s,t.id,n):e===i&&S.a.removePenultimateChannelName(s,t.id,n)}),{data:!0}}}function D(e,t){const a=Object(h.makeAddLastViewAtToProfiles)();return async(n,s)=>{const i=s(),r=Object(m.getCurrentTeamId)(i),l=await n(Object(o.autocompleteUsers)(e,r,t)),c=l.data;return c?P(P({},l),{},{data:P(P({},c),{},{users:a(i,c.users||[]),out_of_channel:a(i,c.out_of_channel||[])})}):l}}function U(e,t=!1){return async a=>{const s=Date.now();t&&a({type:w.f.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.RequestStatus.STARTED});const{data:r,error:o}=await a(i.getPostsUnread(e));if(o)return t&&a({type:w.f.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.RequestStatus.FAILURE}),{error:o,atLatestMessage:!1,atOldestmessage:!1};const l=[];return l.push({type:w.f.INCREASE_POST_VISIBILITY,data:e,amount:r.order.length}),t&&l.push({type:w.f.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.RequestStatus.SUCCESS}),""===r.next_post_id&&l.push({type:w.f.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:s}),a(Object(n.a)(l)),{atLatestMessage:""===r.next_post_id,atOldestmessage:""===r.prev_post_id}}}function q(e,t){return async a=>{const{data:n,error:s}=await a(i.getPostsAround(e,t,c.Posts.POST_CHUNK_SIZE/2));return s?{error:s,atLatestMessage:!1,atOldestmessage:!1}:(a({type:w.f.INCREASE_POST_VISIBILITY,data:e,amount:n.order.length}),{atLatestMessage:""===n.next_post_id,atOldestmessage:""===n.prev_post_id})}}function H(e){return async t=>{const a=Date.now(),{data:n,error:s}=await t(i.getPosts(e,0,c.Posts.POST_CHUNK_SIZE/2));return s?{error:s,atLatestMessage:!1,atOldestmessage:!1}:(t({type:w.f.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:a}),{data:n,atLatestMessage:""===n.next_post_id,atOldestmessage:""===n.prev_post_id})}}function F({channelId:e,postId:t,type:a}){return async s=>{const r=w.l.POST_CHUNK_SIZE/2;s({type:w.f.LOADING_POSTS,data:!0,channelId:e});let o;o=a===w.D.BEFORE_ID?await s(i.getPostsBefore(e,t,0,r)):await s(i.getPostsAfter(e,t,0,r));const{data:l}=o,c=[{type:w.f.LOADING_POSTS,data:!1,channelId:e}];return o.error?{error:o.error,moreToLoad:!0}:(c.push({type:w.f.INCREASE_POST_VISIBILITY,data:e,amount:l.order.length}),s(Object(n.a)(c)),{moreToLoad:a===w.D.BEFORE_ID?""!==l.prev_post_id:""!==l.next_post_id})}}function B(e,t,a=!1){return async(s,r)=>{const o=Date.now(),l=r(),d=Object(E.a)(l);let m=t;const u=Object(y.a)(l,e),p=[];u&&u<d.lastDisconnectAt&&(m=u),a&&s({type:w.f.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.RequestStatus.STARTED});const{data:h,error:g}=await s(i.getPostsSince(e,m));return h&&p.push({type:w.f.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:o}),a&&(g?p.push({type:w.f.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.RequestStatus.FAILURE}):p.push({type:w.f.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.RequestStatus.SUCCESS})),s(Object(n.a)(p)),{data:h,error:g}}}function G(e,t){return async(a,n)=>{const s=n(),i=Object(p.getMostRecentPostIdInChannel)(s,e);if(!s.entities.posts.postsInChannel[e]||!i)return t&&await new Promise(e=>setTimeout(e,t)),a(U(e,!0));const r=Object(p.getPost)(s,i);return a(B(e,r.create_at,!0))}}function V(){return()=>{f.a.emit(w.q.POST_LIST_SCROLL_TO_BOTTOM)}}function W(e){return(t,a)=>{Object(d.isManuallyUnread)(a(),e)||t(Object(s.markChannelAsRead)(e))}}function z(e){return t=>{t({type:w.f.UPDATE_TOAST_STATUS,data:e})}}},1297:function(e,t,a){"use strict";var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1267),l=a(1391);const c=e=>r.a.createElement(l.a,{className:"BotBadge "+e.className,show:e.show},r.a.createElement(o.a,{id:"post_info.bot",defaultMessage:"BOT"}));c.propTypes={className:s.a.string,show:s.a.bool},c.defaultProps={show:!0,className:""},t.a=c},1302:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1267),l=a(1311),c=a(0),d=a(14);function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class u extends r.a.PureComponent{constructor(e){super(e),m(this,"onKeyDown",e=>{this.props.shiftEnter&&e.keyCode===c.Z.KeyCodes.ENTER&&e.shiftKey||!0!==this.props.disableEnterSubmit&&Object(d.cb)(e,c.Z.KeyCodes.ENTER)&&this.props.submit&&"SELECT"!==e.target.tagName&&e.target.parentElement&&"react-select__input"!==e.target.parentElement.className&&!e.target.classList.contains("btn-cancel")&&this.settingList.current&&this.settingList.current.contains(e.target)&&this.handleSubmit(e)}),m(this,"handleSubmit",e=>{e.preventDefault(),this.props.setting?this.props.submit(this.props.setting):this.props.submit()}),m(this,"handleUpdateSection",e=>{this.props.updateSection(this.props.section),e.preventDefault()}),this.settingList=r.a.createRef()}componentDidMount(){if(this.settingList.current){const e=this.settingList.current.querySelectorAll('.btn:not(.save-button):not(.btn-cancel), input.form-control, select, textarea, [tabindex]:not([tabindex="-1"])');e.length>0?e[0].focus():this.settingList.current.focus()}document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}render(){let e=null;this.props.clientError&&(e=r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"clientError",className:"col-sm-12 has-error"},this.props.clientError)));let t=null;this.props.serverError&&(t=r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{id:"serverError",className:"col-sm-12 has-error"},this.props.serverError)));let a=null,n="setting-list__hint";"top"===this.props.infoPosition&&(n="pb-3"),this.props.extraInfo&&(a=r.a.createElement("div",{id:"extraInfo",className:n},this.props.extraInfo));let s="";this.props.submit&&(s=r.a.createElement(l.a,{defaultMessage:this.props.saveButtonText,saving:this.props.saving,disabled:this.props.saving,onClick:this.handleSubmit}));const i=this.props.inputs;let c,d;c="full"===this.props.width?"col-sm-12":"medium"===this.props.width?"col-sm-10 col-sm-offset-2":"col-sm-9 col-sm-offset-3",this.props.title&&(d=r.a.createElement("h4",{id:"settingTitle",className:"col-sm-12 section-title"},this.props.title));let m,u=r.a.createElement("div",{className:"setting-list-item"},i,a);return"top"===this.props.infoPosition&&(u=r.a.createElement("div",null,a,i)),m=this.props.cancelButtonText?this.props.cancelButtonText:r.a.createElement(o.a,{id:"setting_item_max.cancel",defaultMessage:"Cancel"}),r.a.createElement("section",{className:"section-max form-horizontal ".concat(this.props.containerStyle)},d,r.a.createElement("div",{className:c},r.a.createElement("div",{tabIndex:"-1",ref:this.settingList,className:"setting-list"},u,r.a.createElement("div",{className:"setting-list-item"},r.a.createElement("hr",null),this.props.submitExtra,t,e,s,r.a.createElement("button",{id:"cancelSetting",className:"btn btn-sm btn-cancel cursor--pointer style--none",onClick:this.handleUpdateSection},m)))))}}m(u,"defaultProps",{infoPosition:"bottom",saving:!1,section:"",containerStyle:""}),m(u,"propTypes",{inputs:s.a.node,containerStyle:s.a.string,clientError:s.a.oneOfType([s.a.string,s.a.object]),serverError:s.a.string,extraInfo:s.a.element,infoPosition:s.a.string,section:s.a.string,updateSection:s.a.func,setting:s.a.string,submit:s.a.func,disableEnterSubmit:s.a.bool,submitExtra:s.a.node,saving:s.a.bool,title:s.a.node,width:s.a.string,cancelButtonText:s.a.node,shiftEnter:s.a.bool,saveButtonText:s.a.string})},1306:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1307);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends r.a.PureComponent{render(){const{text:e,loading:t,children:a}=this.props;return t?r.a.createElement(o.a,{text:e}):a}}l(c,"propTypes",{loading:s.a.bool,text:s.a.node,children:s.a.node}),l(c,"defaultProps",{loading:!0,text:null,children:null})},1307:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1308),l=a(12);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends r.a.PureComponent{render(){return r.a.createElement("span",{id:"loadingSpinner",className:"LoadingSpinner"+(this.props.text?" with-text":"")},r.a.createElement(o.a,{className:"fa fa-spinner fa-fw fa-pulse spinner",component:"span",title:{id:Object(l.b)("generic_icons.loading"),defaultMessage:"Loading Icon"}}),this.props.text)}}c(d,"propTypes",{text:s.a.node}),c(d,"defaultProps",{text:null})},1308:function(e,t,a){"use strict";a(185),a(34);var n=a(5),s=a.n(n),i=a(1639);function r(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}const o=s.a.forwardRef((e,t)=>{const{component:a="i",title:{id:n,defaultMessage:o,values:l}}=e,c=r(e,["component","title"]);if("i"!==a&&"span"!==a)return null;const{formatMessage:d}=Object(i.a)();return s.a.createElement(a,Object.assign({},c,{ref:t,title:d({id:n,defaultMessage:o},l)}))});o.displayName="LocalizedIcon",t.a=o},1311:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(185);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1267),l=a(1306);function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends r.a.PureComponent{render(){const e=this.props,{saving:t,disabled:a,savingMessage:n,defaultMessage:s,btnClass:i,extraClasses:o}=e,d=c(e,["saving","disabled","savingMessage","defaultMessage","btnClass","extraClasses"]);let m="save-button btn";return a&&!t||(m+=" "+i),o&&(m+=" "+o),r.a.createElement("button",Object.assign({type:"submit","data-testid":"saveSetting",id:"saveSetting",className:m,disabled:a},d),r.a.createElement(l.a,{loading:t,text:n},r.a.createElement("span",null,s)))}}d(m,"propTypes",{saving:s.a.bool.isRequired,disabled:s.a.bool,id:s.a.string,onClick:s.a.func,savingMessage:s.a.node,defaultMessage:s.a.node,btnClass:s.a.string,extraClasses:s.a.string}),d(m,"defaultProps",{btnClass:"btn-primary",defaultMessage:r.a.createElement(o.a,{id:"save_button.save",defaultMessage:"Save"}),disabled:!1,extraClasses:"",savingMessage:r.a.createElement(o.a,{id:"save_button.saving",defaultMessage:"Saving"})})},1312:function(e,t,a){"use strict";a(185);var n=a(264),s=a(60),i=a(9),r=a(11),o=a(15),l=a(22),c=a(21),d=a(1702),m=a(100),u=a(188),p=a(127),h=a.n(p),g=a(5),b=a.n(g),f=a(1607),_=a(39);function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class y extends b.a.PureComponent{render(){if(!this.props.enableFormatting)return b.a.createElement("span",null,this.props.message);const e=Object.assign({autolinkedUrlSchemes:this.props.autolinkedUrlSchemes,siteURL:this.props.siteURL,mentionKeys:this.props.mentionKeys,atMentions:!0,channelNamesMap:this.props.channelNamesMap,proxyImages:this.props.hasImageProxy&&this.props.proxyImages,team:this.props.team,minimumHashtagLength:this.props.minimumHashtagLength,managedResourcePaths:this.props.managedResourcePaths},this.props.options),t=Object(_.f)(this.props.message,e,this.props.emojiMap);return Object(f.a)(t,this.props.isRHS,{imageProps:this.props.imageProps,imagesMetadata:this.props.imagesMetadata,hasPluginTooltips:this.props.hasPluginTooltips,postId:this.props.postId,postType:this.props.postType,mentionHighlight:this.props.options.mentionHighlight,disableGroupHighlight:this.props.options.disableGroupHighlight})}}C(y,"propTypes",{channelNamesMap:h.a.any,autolinkedUrlSchemes:h.a.any,enableFormatting:h.a.bool,isRHS:h.a.bool,managedResourcePaths:h.a.arrayOf(h.a.string),mentionKeys:h.a.any,message:h.a.string.isRequired,options:h.a.any,siteURL:h.a.string,team:h.a.any,hasImageProxy:h.a.bool,minimumHashtagLength:h.a.number,proxyImages:h.a.bool,imageProps:h.a.object,imagesMetadata:h.a.any,hasPluginTooltips:h.a.bool,postId:h.a.string,postType:h.a.any,emojiMap:h.a.any.isRequired}),C(y,"defaultProps",{options:{},isRHS:!1,proxyImages:!0,imagesMetadata:{},postId:""});t.a=Object(n.connect)((function(){const e=Object(s.a)(r.getChannelsNameMapInCurrentTeam,(e,t)=>t&&t.channelNamesMap,(e,t)=>t?Object.assign({},t,e):e);return function(t,a){const n=Object(o.getConfig)(t);return{autolinkedUrlSchemes:Object(o.getAutolinkedUrlSchemes)(t),channelNamesMap:e(t,a),enableFormatting:Object(l.getBool)(t,i.Preferences.CATEGORY_ADVANCED_SETTINGS,"formatting",!0),managedResourcePaths:Object(o.getManagedResourcePaths)(t),mentionKeys:a.mentionKeys||Object(d.getAllUserMentionKeys)(t),siteURL:Object(u.e)(),team:Object(c.getCurrentTeam)(t),hasImageProxy:"true"===n.HasImageProxy,minimumHashtagLength:parseInt(n.MinimumHashtagLength||"",10),emojiMap:Object(m.a)(t)}}}))(y)},1313:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(185);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1270),l=a.n(o);a(1904);function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}const d=e=>{let{url:t,username:a,size:n="md",text:s}=e,i=c(e,["url","username","size","text"]);const o=l()("Avatar Avatar-".concat(n),i.className);return s?r.a.createElement("div",Object.assign({},i,{className:o+" Avatar-plain","data-content":s})):r.a.createElement("img",Object.assign({},i,{className:o,alt:"".concat(a||"user"," profile image"),src:t}))};d.propTypes={url:s.a.string,username:s.a.string,size:s.a.oneOf(["xxs","xs","sm","md","lg","xl","xxl"]),text:s.a.string};var m=Object(i.memo)(d)},1314:function(e,t,a){"use strict";a.d(t,"f",(function(){return C})),a.d(t,"g",(function(){return y})),a.d(t,"d",(function(){return E})),a.d(t,"h",(function(){return v})),a.d(t,"b",(function(){return w})),a.d(t,"c",(function(){return O})),a.d(t,"a",(function(){return S})),a.d(t,"i",(function(){return T})),a.d(t,"e",(function(){return M}));a(58),a(99),a(34);var n=a(91),s=a(6),i=a(40),r=a(85),o=a(112),l=a(11),c=a(21),d=a(8),m=a(148),u=a(190),p=a(98),h=a(0),g=a(14);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){_(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C(e){return async(t,a)=>{const o=a(),c=Object(d.getCurrentUserId)(o),u=Object(g.w)(c,e),p=Object(l.getChannelByName)(o,u);if(!p)return t(i.createDirectChannel(c,e));Object(m.e)("api","api_channels_join_direct");const b=Date.now(),_={category:h.F.CATEGORY_DIRECT_CHANNEL_SHOW,name:e,value:"true"},C={category:h.F.CATEGORY_CHANNEL_OPEN_TIME,name:p.id,value:b.toString()},y=[{type:s.PreferenceTypes.RECEIVED_PREFERENCES,data:[_]},{type:s.PreferenceTypes.RECEIVED_PREFERENCES,data:[C]}];return t(Object(n.a)(y)),t(Object(r.savePreferences)(c,[f({user_id:c},_),f({user_id:c},C)])),{data:p}}}function y(e){return async(t,a)=>{const n=await t(i.createGroupChannel(e));return n.error&&p.a.push(Object(c.getCurrentTeamUrl)(a())),n}}function E(){return async(e,t)=>{const a=t(),n=Object(l.getUnreadChannelIds)(a);await e(i.fetchMyChannelsAndMembers(Object(c.getCurrentTeamId)(a)));for(const t of n){const n=Object(l.getChannel)(a,t);n&&n.type===h.l.DM_CHANNEL?e(Object(u.e)(n.id)):n&&n.type===h.l.GM_CHANNEL&&e(Object(u.f)(n.id))}Object(u.m)()}}function v(e,t){return async(a,n)=>{const s=n(),r=Object(c.getCurrentTeamId)(s);if(!r)throw new Error("No team id");const{data:l,error:d}=await a(i.searchChannels(r,e,t));if(l){const e=Object(o.getMyChannelMemberships)(s);return{data:t?l:l.filter(t=>!e[t.id])}}return{error:d}}}function w(e,t,a){return async(n,s)=>{const r=s(),o=Object(c.getCurrentTeamId)(r);if(!o)return;const{data:l,error:d}=await n(i.autocompleteChannels(o,e));l&&t?t(l):d&&a&&a(f({id:d.server_error_id},d))}}function O(e,t,a){return async(n,s)=>{const r=s(),o=Object(c.getCurrentTeamId)(r);if(!o)return;const{data:l,error:d}=await n(i.autocompleteChannelsForSearch(o,e));l&&t?t(l):d&&a&&a(f({id:d.server_error_id},d))}}function S(e,t){return async a=>{try{const n=t.map(t=>a(i.addChannelMember(e,t)));return await Promise.all(n)}catch(e){return{error:e}}}}function T(e,t){return i.updateChannelNotifyProps(e,t,{mark_unread:h.z.ALL})}function M(e,t){return i.updateChannelNotifyProps(e,t,{mark_unread:h.z.MENTION})}},1316:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));class n{constructor(){this.latestPrefix="",this.latestComplete=!0,this.disableDispatches=!1,this.requestStarted=!1}handlePretextChanged(e,t){}resetRequest(){this.requestStarted=!1}startNewRequest(e){this.latestPrefix=e,this.latestComplete=!1,this.requestStarted=!0}shouldCancelDispatch(e){if(this.disableDispatches)return!0;if(!this.requestStarted)return!0;if(e===this.latestPrefix)this.latestComplete=!0;else if(this.latestComplete)return!0;return!1}allowDividers(){return!0}presentationType(){return"text"}}},1317:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class l extends r.a.PureComponent{constructor(...e){super(...e),o(this,"handleClick",e=>{e.preventDefault(),this.props.onClick(this.props.term,this.props.matchedPretext)}),o(this,"handleMouseMove",e=>{e.preventDefault(),this.props.onMouseMove(this.props.term)})}static get propTypes(){return{item:s.a.oneOfType([s.a.object,s.a.string]).isRequired,term:s.a.string.isRequired,matchedPretext:s.a.string.isRequired,isSelection:s.a.bool,onClick:s.a.func,onMouseMove:s.a.func}}}o(l,"baseProps",{role:"button",tabIndex:-1})},1320:function(e,t,a){"use strict";a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1267),l=a(14),c=a(1745);function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends r.a.PureComponent{constructor(...e){super(...e),d(this,"edit",null),d(this,"getEdit",e=>{this.edit=e}),d(this,"handleUpdateSection",e=>{e.preventDefault(),this.props.updateSection(this.props.section)})}componentDidMount(){this.edit&&this.edit.focus()}render(){let e=null,t=null;return!this.props.disableOpen&&Object(l.fb)()?e=r.a.createElement("div",{className:"section-min__edit"},r.a.createElement("button",{id:this.props.section+"Edit",className:"color--link cursor--pointer style--none",onClick:this.handleUpdateSection,ref:this.getEdit,"aria-labelledby":this.props.section+"Title "+this.props.section+"Edit"},r.a.createElement(c.a,null),this.props.describe)):this.props.disableOpen||(e=r.a.createElement("div",{className:"section-min__edit"},r.a.createElement("button",{id:this.props.section+"Edit",className:"color--link cursor--pointer style--none text-left",onClick:this.handleUpdateSection,ref:this.getEdit,"aria-labelledby":this.props.section+"Title "+this.props.section+"Edit"},r.a.createElement(c.a,null),r.a.createElement(o.a,{id:"setting_item_min.edit",defaultMessage:"Edit"}))),t=r.a.createElement("div",{id:this.props.section+"Desc",className:"section-min__describe"},this.props.describe)),r.a.createElement("div",{className:"section-min",onClick:this.handleUpdateSection},r.a.createElement("div",{className:"d-flex"},r.a.createElement("h4",{id:this.props.section+"Title",className:"section-min__title"},this.props.title),e),t)}}d(m,"propTypes",{title:s.a.oneOfType([s.a.element,s.a.string]).isRequired,disableOpen:s.a.bool,section:s.a.string.isRequired,updateSection:s.a.func.isRequired,describe:s.a.oneOfType([s.a.element,s.a.arrayOf(s.a.element),s.a.string])});t.a=m},1324:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l}));var n=a(0);function s(e){return{type:n.I.SET_MODAL_SEARCH,data:e}}function i(e={}){return{type:n.I.SET_MODAL_FILTERS,data:e}}function r(e){return{type:n.I.SET_USER_GRID_SEARCH,data:e}}function o(e={}){return{type:n.I.SET_USER_GRID_FILTERS,data:e}}function l(e,t="",a=""){return{type:n.I.SET_SYSTEM_USERS_SEARCH,data:{term:e,team:t,filter:a}}}},1329:function(e,t,a){"use strict";var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1267),l=a(1391);const c=e=>r.a.createElement(l.a,{className:"GuestBadge "+e.className,show:e.show},r.a.createElement(o.a,{id:"post_info.guest",defaultMessage:"GUEST"}));c.propTypes={className:s.a.string,show:s.a.bool},c.defaultProps={show:!0,className:""},t.a=c},1334:function(e,t,a){"use strict";var n=a(264),s=a(22),i=(a(185),a(127)),r=a.n(i),o=a(5),l=a.n(o);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class u extends l.a.PureComponent{render(){const e=this.props.pluggableName;let t;if(this.props.children)t=l.a.Children.only(this.props.children).type;else if(!e)return null;const a=this.props.components,n=t?this.props.children.props:{},s=e||t.getComponentName();let i=d({},this.props);if(Reflect.deleteProperty(i,"children"),Reflect.deleteProperty(i,"components"),Reflect.deleteProperty(i,"pluggableName"),i=d(d({},i),n),a.hasOwnProperty(s)){let e=a[s];this.props.pluggableId&&(e=e.filter(e=>e.id===this.props.pluggableId));const t=e.map(e=>{const t=e.component;return l.a.createElement(t,Object.assign({},i,{theme:this.props.theme,key:s+e.id}))});return l.a.createElement(l.a.Fragment,null,t)}return null==t?null:l.a.cloneElement(this.props.children,d({},i))}}m(u,"propTypes",{children:r.a.element,pluggableName:r.a.string,components:r.a.object.isRequired,theme:r.a.object.isRequired,pluggableId:r.a.string});t.a=Object(n.connect)((function(e){return{components:e.plugins.components,theme:Object(s.getTheme)(e)}}))(u)},1335:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return d}));a(128);var n=a(109),s=a(2),i=a.n(s),r=a(0),o=a(14);function l(e,t){return t.type===r.Z.PRIVATE_CHANNEL?Object(n.haveIChannelPermission)(e,{channel:t.id,team:t.team_id,permission:i.a.MANAGE_PRIVATE_CHANNEL_MEMBERS}):t.type!==r.Z.OPEN_CHANNEL||Object(n.haveIChannelPermission)(e,{channel:t.id,team:t.team_id,permission:i.a.MANAGE_PUBLIC_CHANNEL_MEMBERS})}function c(e,t,a,n){const s=t.indexOf(e);for(let e=1;e<t.length;e++){const i=o.pb(s+e*n,t.length);if(a.includes(t[i]))return i}return-1}function d(e){return Boolean(e&&0!==e.delete_at)}},1337:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"e",(function(){return m}));a(2015),a(128),a(108);var n=a(2021),s=a(0),i=a(17);function r(e){const t="true"===e.EnableFileAttachments,a="true"===e.EnableMobileFileUpload;return!!t&&(!i.q()||a)}function o(e){return!i.q()||"true"===e.EnableMobileFileDownload}function l(e){let t=e;return e.length>s.Z.MAX_FILENAME_LENGTH&&(t=e.substring(0,Math.min(s.Z.MAX_FILENAME_LENGTH,e.length))+"..."),t}function c(e){const t=e.split("/"),a=t[0],n=t[1];if("video"===a)return"video";if("audio"===a)return"audio";if("image"===a)return"image";if(n){if("pdf"===n)return"pdf";if(n.includes("vnd.ms-excel")||n.includes("spreadsheetml")||n.includes("vnd.sun.xml.calc")||n.includes("opendocument.spreadsheet"))return"spreadsheet";if(n.includes("vnd.ms-powerpoint")||n.includes("presentationml")||n.includes("vnd.sun.xml.impress")||n.includes("opendocument.presentation"))return"presentation";if("msword"===n||n.includes("vnd.ms-word")||n.includes("officedocument.wordprocessingml")||n.includes("application/x-mswrite"))return"word"}return"other"}function d(e){var t=new DataView(e);if(65496!==t.getUint16(0,!1))return-2;for(var a=t.byteLength,n=2;n<a;){var s=t.getUint16(n,!1);if(n+=2,65505===s){if(1165519206!==t.getUint32(n+=2,!1))return-1;var i=18761===t.getUint16(n+=6,!1);n+=t.getUint32(n+4,i);var r=t.getUint16(n,i);n+=2;for(var o=0;o<r;o++)if(274===t.getUint16(n+12*o,i))return t.getUint16(n+12*o+8,i)}else{if(65280!=(65280&s))break;n+=t.getUint16(n,!1)}}return-1}function m(e){const{transform:t,"transform-origin":a}=Object(n.a)(e);return{transform:t,transformOrigin:a}}},1338:function(e,t,a){"use strict";function n(e,t){return e.views.modals.modalState[t]&&e.views.modals.modalState[t].open}a.d(t,"a",(function(){return n}))},1339:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1308),l=a(12);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends r.a.PureComponent{render(){const e="fa fa-warning"+(this.props.additionalClassName?" "+this.props.additionalClassName:"");return r.a.createElement(o.a,{className:e,title:{id:Object(l.b)("generic_icons.warning"),defaultMessage:"Warning Icon"}})}}c(d,"propTypes",{additionalClassName:s.a.oneOfType([s.a.string,s.a.oneOf([null])])}),c(d,"defaultProps",{additionalClassName:null})},1340:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1278),l=a(1608),c=a(1443),d=a(1313);a(2100);function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class u extends r.a.PureComponent{constructor(...e){super(...e),m(this,"overlay",r.a.createRef()),m(this,"hideProfilePopover",()=>{this.overlay.current&&this.overlay.current.hide()})}render(){const e="string"==typeof this.props.profileSrc&&""!==this.props.profileSrc?this.props.profileSrc:this.props.src,t="profile-icon ".concat(this.props.isEmoji?"emoji":"");return this.props.userId?r.a.createElement(o.a,{ref:this.overlay,trigger:"click",placement:"right",rootClose:!0,overlay:r.a.createElement(l.a,{className:"user-profile-popover",userId:this.props.userId,src:e,isBusy:this.props.isBusy,hide:this.hideProfilePopover,isRHS:this.props.isRHS,hasMention:this.props.hasMention,overwriteIcon:this.props.overwriteIcon,overwriteName:this.props.overwriteName})},r.a.createElement("button",{className:"status-wrapper style--none ".concat(this.props.wrapperClass),tabIndex:-1},r.a.createElement("span",{className:t},r.a.createElement(d.a,{username:this.props.username,size:this.props.size,url:this.props.src})),r.a.createElement(c.a,{status:this.props.status}))):r.a.createElement("span",{className:"status-wrapper"},r.a.createElement("span",{className:t},r.a.createElement(d.a,{size:this.props.size,url:this.props.src})),r.a.createElement(c.a,{status:this.props.status}))}}m(u,"propTypes",{hasMention:s.a.bool,isBusy:s.a.bool,isEmoji:s.a.bool,isRHS:s.a.bool,profileSrc:s.a.string,src:s.a.string.isRequired,status:s.a.string,userId:s.a.string,username:s.a.string,wrapperClass:s.a.string,overwriteIcon:s.a.string,overwriteName:s.a.string}),m(u,"defaultProps",{size:"md",isRHS:!1,isEmoji:!1,hasMention:!1,wrapperClass:""})},1349:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(185);var n=a(127),s=a.n(n),i=a(5),r=a.n(i);function o(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends r.a.PureComponent{constructor(e){super(e),l(this,"show",e=>{e&&e.preventDefault(),this.setState({show:!0})}),l(this,"hide",()=>{this.setState({show:!1})}),this.state={show:!1}}render(){const e=this.props,{children:t,dialogType:a,dialogProps:n,onClick:s,isDisabled:i,id:l}=e,c=o(e,["children","dialogType","dialogProps","onClick","isDisabled","id"]);let d,m=this.show;return s&&(m=e=>{s(),this.show(e)}),this.state.show&&(d=r.a.createElement(a,Object.assign({},n,{onHide:()=>{this.hide(),n.onHide&&n.onHide()}}))),r.a.createElement("button",Object.assign({},c,{className:"style--none "+c.className,onClick:m,"data-testid":l,disabled:i}),t,d)}}c.propTypes={children:s.a.node.isRequired,dialogType:s.a.any.isRequired,dialogProps:s.a.object,onClick:s.a.func,className:s.a.string,id:s.a.string,isDisabled:s.a.bool},c.defaultProps={dialogProps:{},className:""}},1350:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1308),l=a(12);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends r.a.PureComponent{render(){const e="fa fa-1x fa-angle-right"+(this.props.additionalClassName?" "+this.props.additionalClassName:"");return r.a.createElement(o.a,{className:e,title:{id:Object(l.b)("generic_icons.next"),defaultMessage:"Next Icon"}})}}c(d,"propTypes",{additionalClassName:s.a.oneOfType([s.a.string,s.a.oneOf([null])])}),c(d,"defaultProps",{additionalClassName:null})},1353:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));a(34);var n=a(1286),s=a.n(n),i=a(127),r=a.n(i),o=a(5),l=a.n(o),c=a(149),d=a.n(c),m=a(1267),u=a(14),p=a(0),h=a(1272),g=a(1307);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){_(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class C extends l.a.PureComponent{constructor(e){super(e),_(this,"getContent",()=>s()(this.contentRef.current)),_(this,"scrollToItem",e=>{const t=this.getContent();if(!t||0===t.length)return;const a=t[0].clientHeight;if(a<t[0].scrollHeight){const n=t.scrollTop(),i=parseInt(t.css("padding-top"),10),r=parseInt(t.css("padding-top"),10),o=s()(d.a.findDOMNode(this.itemRefs.get(e)));if(0===o.length)return;const l=o[0].offsetTop-parseInt(o.css("margin-top"),10),c=parseInt(o.css("margin-bottom"),10)+parseInt(o.css("padding-bottom"),10),m=o[0].offsetTop+o.height()+c;l-i<n?t.scrollTop(l-i):m+i+r>n+a&&t.scrollTop(m-a+i+r)}}),this.contentRef=l.a.createRef(),this.itemRefs=new Map,this.suggestionReadOut=l.a.createRef(),this.currentLabel="",this.currentItem={}}componentDidUpdate(e){this.props.selection!==e.selection&&this.props.selection&&this.scrollToItem(this.props.selection),Object(u.X)(this.currentItem)||this.generateLabel(this.currentItem)}componentWillUnmount(){this.removeLabel()}announceLabel(){const e=this.props.ariaLiveRef.current;e&&(e.innerHTML=this.currentLabel)}removeLabel(){const e=this.props.ariaLiveRef.current;e&&(e.innerHTML="")}generateLabel(e){e.username?(this.currentLabel=e.username,(e.first_name||e.last_name)&&e.nickname?this.currentLabel+=" ".concat(e.first_name," ").concat(e.last_name," ").concat(e.nickname):e.nickname?this.currentLabel+=" ".concat(e.nickname):(e.first_name||e.last_name)&&(this.currentLabel+=" ".concat(e.first_name," ").concat(e.last_name))):"mention.channels"===e.type&&(this.currentLabel=e.channel.display_name),this.currentLabel&&(this.currentLabel=this.currentLabel.toLowerCase()),this.announceLabel()}renderDivider(e){return l.a.createElement("div",{key:e+"-divider",className:"suggestion-list__divider"},l.a.createElement("span",null,l.a.createElement(m.a,{id:"suggestion."+e})))}renderNoResults(){return l.a.createElement("div",{key:"list-no-results",className:"suggestion-list__no-results",ref:this.contentRef},l.a.createElement(h.b,{id:"suggestion_list.no_matches",defaultMessage:"No items match __{value}__",values:{value:this.props.pretext||'""'}}))}render(){if(!this.props.open||this.props.cleared)return null;const e=[];if(0===this.props.items.length){if(!this.props.renderNoResults)return null;e.push(this.renderNoResults())}let t;for(let a=0;a<this.props.items.length;a++){const n=this.props.items[a],s=this.props.terms[a],i=s===this.props.selection,r=this.props.components[a];this.props.renderDividers&&n.type!==t&&(e.push(this.renderDivider(n.type)),t=n.type),n.loading?e.push(l.a.createElement(g.a,{key:n.type})):(i&&(this.currentItem=n),e.push(l.a.createElement(r,{key:s,ref:e=>this.itemRefs.set(s,e),item:this.props.items[a],term:s,matchedPretext:this.props.matchedPretext[a],isSelection:i,onClick:this.props.onCompleteWord,onMouseMove:this.props.onItemHover})))}const a="suggestion-list suggestion-list--"+this.props.location,n="suggestion-list__content suggestion-list__content--"+this.props.location;let s=p.l.SUGGESTION_LIST_MAXHEIGHT;this.props.wrapperHeight&&(s=Math.min(Object(u.Cb)()-(this.props.wrapperHeight+p.l.POST_MODAL_PADDING),p.l.SUGGESTION_LIST_MAXHEIGHT));const i={maxHeight:s};return l.a.createElement("div",{className:a},l.a.createElement("div",{id:"suggestionList",role:"list",ref:this.contentRef,style:f({},i),className:n,onMouseDown:this.props.preventClose},e))}}_(C,"propTypes",{ariaLiveRef:r.a.object,open:r.a.bool.isRequired,location:r.a.string,renderDividers:r.a.bool,renderNoResults:r.a.bool,onCompleteWord:r.a.func.isRequired,preventClose:r.a.func,onItemHover:r.a.func.isRequired,pretext:r.a.string.isRequired,cleared:r.a.bool.isRequired,matchedPretext:r.a.array.isRequired,items:r.a.array.isRequired,terms:r.a.array.isRequired,selection:r.a.string.isRequired,components:r.a.array.isRequired,wrapperHeight:r.a.number}),_(C,"defaultProps",{renderDividers:!1,renderNoResults:!1})},1357:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1697);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const c={xs:"xsmall",sm:"small",md:"medium",lg:"large"};class d extends r.a.PureComponent{render(){const{placement:e,popoverSize:t,children:a,popoverStyle:n,title:s,id:i,onMouseOut:l,onMouseOver:d,className:m,style:u}=this.props;return r.a.createElement(o.a,{id:i,style:u,className:m,bsStyle:n,placement:e,bsClass:"popover",title:s,bsSize:t&&c[t],onMouseOut:l,onMouseOver:d},a)}}l(d,"propTypes",{id:s.a.string,children:s.a.node,popoverStyle:s.a.oneOf(["info"]),popoverSize:s.a.oneOf(["xs","sm","md","lg"]),title:s.a.node,placement:s.a.oneOf(["bottom","top","right","left"]),className:s.a.string,style:s.a.any,onMouseOut:s.a.func,onMouseOver:s.a.func}),l(d,"defaultProps",{placement:"right",popoverStyle:"info",popoverSize:"sm"})},1363:function(e,t,a){"use strict";var n=a(264),s=a(10),i=a(9),r=a(8),o=a(109),l=a(15),c=a(2054),d=a(43),m=a(1298),u=a(1560),p=(a(84),a(5)),h=a.n(p),g=a(127),b=a.n(g),f=a(0),_=a(188),C=(a(34),a(1267)),y=a(269);function E(e){if("true"!==e.IsLicensed)return!1;return Date.now()-parseInt(e.ExpiresAt,10)>864e6}var v=a(1289),w=a(12),O=a(1272);function S(){return{type:f.f.TRACK_ANNOUNCEMENT_BAR}}function T(){return{type:f.f.DISMISS_ANNOUNCEMENT_BAR}}var M=a(1711),P=a(1647),N=a(1278),I=a(112),R=a(1281),A=a(1338),j=(a(58),a(1616)),x=a(148),L=a(1287),k=a(14),D=a(1306),U=a(1712);function q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const H=f.l.StatTypes,F={display:"flex",opacity:"0.56",flexWrap:"wrap"};class B extends h.a.PureComponent{constructor(e){super(e),q(this,"onContactUsClick",async e=>{if(this.state.saving)return;this.setState({saving:!0,serverError:null});let t=!1;e&&e.target&&e.target.dataset&&e.target.dataset.forceack?(t=!0,Object(x.e)("admin","click_warn_metric_mailto",{metric:this.props.warnMetricStatus.id})):Object(x.e)("admin","click_warn_metric_contact_us",{metric:this.props.warnMetricStatus.id});const{error:a}=await this.props.actions.sendWarnMetricAck(this.props.warnMetricStatus.id,t);a?this.setState({serverError:a,saving:!1}):this.onHide()}),q(this,"onHide",()=>{this.setState({serverError:null,saving:!1}),this.setState({gettingTrialError:null,gettingTrial:!1}),this.props.actions.closeModal(f.y.WARN_METRIC_ACK),this.props.closeParentComponent&&this.props.closeParentComponent()}),q(this,"renderContactUsError",()=>{const{serverError:e}=this.state;if(!e)return"";let t="Mattermost Contact Us request.";this.props.warnMetricStatus.id===f.X.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?t="Mattermost Contact Us request.\r\nMy team now has 500 users, and I am considering Mattermost Enterprise Edition.":this.props.warnMetricStatus.id===f.X.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(t="Mattermost Contact Us request.\r\nI am interested in learning more about improving performance with Elasticsearch."),t+="\r\n",t+="Contact "+this.props.user.first_name+" "+this.props.user.last_name,t+="\r\n",t+="Email "+this.props.user.email,t+="\r\n",this.props.stats&&this.props.stats[H.TOTAL_USERS]&&(t+="Registered Users "+this.props.stats[H.TOTAL_USERS],t+="\r\n"),t+="Site URL "+Object(_.e)(),t+="\r\n",t+="Telemetry Id "+this.props.telemetryId,t+="\r\n",t+="If you have any additional inquiries, please contact support@mattermost.com";const a="mailto:support@mattermost.com?cc="+this.props.user.email+"&subject="+encodeURIComponent("Mattermost Contact Us request")+"&body="+encodeURIComponent(t);return h.a.createElement("div",{className:"form-group has-error"},h.a.createElement("br",null),h.a.createElement("label",{className:"control-label"},h.a.createElement(C.a,{id:"warn_metric_ack_modal.mailto.message",defaultMessage:"Support could not be reached. Please {link}.",values:{link:h.a.createElement(G,{url:a,messageId:Object(w.b)("warn_metric_ack_modal.mailto.link"),forceAck:!0,defaultMessage:"email us",onClickHandler:this.onContactUsClick})}})))}),this.state={saving:!1,serverError:null,gettingTrial:!1,gettingTrialError:null}}componentDidMount(){L.s()}render(){let e,t;this.props.warnMetricStatus.id===f.X.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?e=h.a.createElement(C.a,{id:"warn_metric_ack_modal.number_of_users.header.title",defaultMessage:"Scaling with Mattermost"}):this.props.warnMetricStatus.id===f.X.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(e=h.a.createElement(C.a,{id:"warn_metric_ack_modal.number_of_posts.header.title",defaultMessage:"Improve Performance"}));this.props.warnMetricStatus.id===f.X.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?t=h.a.createElement(C.a,{id:"warn_metric_ack_modal.number_of_active_users.description",defaultMessage:"Mattermost strongly recommends that deployments of over {limit}} users take advantage of features such as user management, server clustering, and performance monitoring. Contact us to learn more and let us know how we can help.",values:{limit:this.props.warnMetricStatus.limit}}):this.props.warnMetricStatus.id===f.X.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(t=h.a.createElement(C.a,{id:"warn_metric_ack_modal.number_of_posts.description",defaultMessage:"Your Mattermost system has a large number of messages. The default Mattermost database search starts to show performance degradation at around 2.5 million posts. With over 5 million posts, Elasticsearch can help avoid significant performance issues, such as timeouts, with search and at-mentions. Contact us to learn more and let us know how we can help.",values:{limit:this.props.warnMetricStatus.limit}}));const a=h.a.createElement("div",{style:F,className:"help__format-text"},h.a.createElement(C.a,{id:"warn_metric_ack_modal.subtext",defaultMessage:"By clicking Acknowledge, you will be sharing your information with Mattermost Inc. {link}",values:{link:h.a.createElement(U.a,{url:"https://mattermost.com/pl/default-admin-advisory",messageId:Object(w.b)("warn_metric_ack_modal.learn_more.link"),defaultMessage:"Learn more"})}})),n=this.renderContactUsError(),s=h.a.createElement(j.a.Footer,null,h.a.createElement("button",{className:"btn btn-primary save-button","data-dismiss":"modal",disabled:this.state.saving,autoFocus:!0,onClick:this.onContactUsClick},h.a.createElement(D.a,{loading:this.state.saving,text:k.ob("admin.warn_metric.sending-email","Sending email")},h.a.createElement(C.a,{id:"warn_metric_ack_modal.contact_support",defaultMessage:"Acknowledge"}))));return h.a.createElement(j.a,{dialogClassName:"a11y__modal",show:this.props.show,keyboard:!1,onHide:this.onHide,onExited:this.onHide,role:"dialog","aria-labelledby":"warnMetricAckHeaderModalLabel"},h.a.createElement(j.a.Header,{closeButton:!0},h.a.createElement(j.a.Title,{componentClass:"h1",id:"warnMetricAckHeaderModalLabel"},e)),h.a.createElement(j.a.Body,null,h.a.createElement("div",null,t,h.a.createElement("br",null),n,h.a.createElement("br",null),a)),s)}}q(B,"propTypes",{user:b.a.any.isRequired,telemetryId:b.a.string,show:b.a.bool.isRequired,closeParentComponent:b.a.func,stats:b.a.any,warnMetricStatus:b.a.any.isRequired,actions:b.a.shape({closeModal:b.a.func.isRequired,getStandardAnalytics:b.a.func.isRequired,sendWarnMetricAck:b.a.func.isRequired}).isRequired});const G=({defaultMessage:e,messageId:t,onClickHandler:a,url:n,forceAck:s})=>h.a.createElement("a",{href:n,rel:"noopener noreferrer",target:"_blank","data-forceAck":s,onClick:e=>{a(e)}},h.a.createElement(C.a,{id:t,defaultMessage:e}));G.propTypes={defaultMessage:b.a.string.isRequired,messageId:b.a.string.isRequired,onClickHandler:b.a.func.isRequired,url:b.a.string.isRequired,forceAck:b.a.bool.isRequired};var V=Object(n.connect)((function(e,t){const a=Object(l.getConfig)(e);return{stats:e.entities.admin.analytics,user:Object(I.getCurrentUser)(e),telemetryId:a.DiagnosticId,show:Object(A.a)(e,f.y.WARN_METRIC_ACK),closeParentComponent:t.closeParentComponent}}),(function(e){return{actions:Object(s.bindActionCreators)({closeModal:R.a,getStandardAnalytics:m.getStandardAnalytics,sendWarnMetricAck:m.sendWarnMetricAck},e)}}))(B),W=a(1447);function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Y extends h.a.PureComponent{constructor(...e){super(...e),z(this,"handleClose",e=>{e.preventDefault(),this.props.handleClose&&this.props.handleClose()})}componentDidMount(){this.props.actions.incrementAnnouncementBarCount(),this.props.isTallBanner?document.body.classList.add("announcement-banner-tall--fixed"):document.body.classList.add("announcement-bar--fixed")}componentWillUnmount(){1!==this.props.announcementBarCount||this.props.isTallBanner?1===this.props.announcementBarCount&&this.props.isTallBanner&&document.body.classList.remove("announcement-banner-tall--fixed"):document.body.classList.remove("announcement-bar--fixed"),this.props.actions.decrementAnnouncementBarCount()}render(){if(!this.props.message)return null;let e="announcement-bar";const t={},a={};let n;this.props.color&&this.props.textColor?(t.backgroundColor=this.props.color,t.color=this.props.textColor,a.color=this.props.textColor):this.props.type===f.i.DEVELOPER?e="announcement-bar announcement-bar-developer":this.props.type===f.i.CRITICAL?e="announcement-bar announcement-bar-critical":this.props.type===f.i.SUCCESS?e="announcement-bar announcement-bar-success":this.props.type===f.i.ADVISOR?e="announcement-bar announcement-bar-advisor":this.props.type===f.i.ADVISOR_ACK?e="announcement-bar announcement-bar-advisor-ack":this.props.type===f.i.CRITICAL_LIGHT&&(e="announcement-bar announcement-bar-critical-light"),this.props.isTallBanner&&(e+=" tall"),this.props.showCloseButton&&(n=h.a.createElement("a",{href:"#",className:"announcement-bar__close",style:a,onClick:this.handleClose},this.props.isTallBanner?"":"×"));let s=this.props.message;"string"==typeof s&&(s=h.a.createElement(O.b,{id:this.props.message}));const i=h.a.createElement(P.a,{id:"announcement-bar__tooltip"},s);return h.a.createElement("div",{className:e,style:t},h.a.createElement(N.a,{delayShow:f.l.OVERLAY_TIME_DELAY,placement:"bottom",overlay:i},h.a.createElement("span",null,this.props.showLinkAsButton&&(this.props.showCloseButton?h.a.createElement("div",{className:"content__icon"},""):h.a.createElement("div",{className:"content__icon"},"")),s,!this.props.showLinkAsButton&&h.a.createElement("span",{className:"announcement-bar__link"},this.props.showModal&&h.a.createElement(C.a,{id:this.props.modalButtonText,defaultMessage:this.props.modalButtonDefaultText},e=>h.a.createElement(W.a,{accessibilityLabel:e,className:"color--link--adminack",dialogType:V,onClick:()=>Object(x.e)("admin","click_warn_metric_learn_more"),modalId:f.y.WARN_METRIC_ACK,dialogProps:{warnMetricStatus:this.props.warnMetricStatus,closeParentComponent:this.props.handleClose}},e))),this.props.showLinkAsButton&&h.a.createElement("button",{onClick:this.props.showModal,className:"upgrade-button"},h.a.createElement(C.a,{id:this.props.modalButtonText,defaultMessage:this.props.modalButtonDefaultText})))),n)}}z(Y,"propTypes",{showCloseButton:b.a.bool,color:b.a.string,textColor:b.a.string,type:b.a.string,message:b.a.node.isRequired,handleClose:b.a.func,announcementBarCount:b.a.number.isRequired,showModal:b.a.bool,modalButtonText:b.a.string,modalButtonDefaultText:b.a.string,showLinkAsButton:b.a.bool,warnMetricStatus:b.a.object,isTallBanner:b.a.bool,actions:b.a.shape({incrementAnnouncementBarCount:b.a.func.isRequired,decrementAnnouncementBarCount:b.a.func.isRequired}).isRequired}),z(Y,"defaultProps",{showCloseButton:!1,color:"",textColor:"",type:f.i.CRITICAL,handleClose:null,onButtonClick:null,showLinkAsButton:!1,isTallBanner:!1});var K=Object(n.connect)((function(e){return{announcementBarCount:Object(M.a)(e)}}),(function(e){return{actions:Object(s.bindActionCreators)({incrementAnnouncementBarCount:S,decrementAnnouncementBarCount:T},e)}}))(Y),Z=(a(185),a(1312));function J(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function X(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Q extends h.a.PureComponent{constructor(e){super(e),X(this,"handleDismiss",()=>{this.props.allowDismissal&&(Object(x.e)("signup","click_dismiss_bar"),localStorage.setItem("__announcement__"+this.props.text,!0),this.setState({dismissed:!0}),this.props.onDismissal&&this.props.onDismissal())}),this.state={dismissed:!0}}static getDerivedStateFromProps(e){return{dismissed:localStorage.getItem("__announcement__"+e.text)}}render(){if(this.state.dismissed)return null;const e=this.props,{allowDismissal:t,text:a}=e,n=J(e,["allowDismissal","text"]);return h.a.createElement(K,Object.assign({},n,{showCloseButton:t,handleClose:this.handleDismiss,message:h.a.createElement(Z.a,{message:a,options:{singleline:!0,mentionHighlight:!1}})}))}}X(Q,"propTypes",{allowDismissal:b.a.bool.isRequired,text:b.a.string.isRequired,onDismissal:b.a.func});var $=a.p+"files/9054075a1cdd8c2a0ed11da3e9632fd0.svg",ee=a.p+"files/5212bbecd561ec97c98cbb4e71471ee3.svg";function te(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ae extends h.a.PureComponent{constructor(...e){super(...e),te(this,"dismissExpiringLicense",()=>{this.props.actions.dismissNotice(f.h.LICENSE_EXPIRING)}),te(this,"dismissNumberOfActiveUsersWarnMetric",()=>{this.props.actions.dismissNotice(f.h.WARN_METRIC_STATUS_NUMBER_OF_USERS)}),te(this,"dismissNumberOfPostsWarnMetric",()=>{this.props.actions.dismissNotice(f.h.WARN_METRIC_STATUS_NUMBER_OF_POSTS)}),te(this,"dismissNumberOfActiveUsersWarnMetricAck",()=>{this.props.actions.dismissNotice(f.h.WARN_METRIC_STATUS_NUMBER_OF_USERS_ACK)}),te(this,"dismissNumberOfPostsWarnMetricAck",()=>{this.props.actions.dismissNotice(f.h.WARN_METRIC_STATUS_NUMBER_OF_POSTS_ACK)}),te(this,"getNoticeForWarnMetric",e=>{if(!e||e.id!==f.X.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500&&e.id!==f.X.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M)return null;var t="",a="",n=!1,s=null,i=null,r=!1;return e.acked?(t=h.a.createElement(h.a.Fragment,null,h.a.createElement("img",{className:"advisor-icon",src:$}),h.a.createElement(C.a,{id:"announcement_bar.warn_metric_status_ack.text",defaultMessage:"Thank you for contacting Mattermost. We will follow up with you soon."})),e.id===f.X.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?(s=this.dismissNumberOfActiveUsersWarnMetricAck,i=this.props.dismissedNumberOfActiveUsersWarnMetricStatusAck):e.id===f.X.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(s=this.dismissNumberOfPostsWarnMetricAck,i=this.props.dismissedNumberOfPostsWarnMetricStatusAck),a=f.i.ADVISOR_ACK,n=!1,r=!0):(e.id===f.X.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?(t=h.a.createElement(h.a.Fragment,null,h.a.createElement("img",{className:"advisor-icon",src:ee}),h.a.createElement(O.b,{id:"announcement_bar.number_active_users_warn_metric_status.text",defaultMessage:"You now have over {limit} users. We strongly recommend using advanced features for large-scale servers.",values:{limit:e.limit}})),s=this.dismissNumberOfActiveUsersWarnMetric,i=this.props.dismissedNumberOfActiveUsersWarnMetricStatus):e.id===f.X.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(t=h.a.createElement(h.a.Fragment,null,h.a.createElement("img",{className:"advisor-icon",src:ee}),h.a.createElement(O.b,{id:"announcement_bar.number_of_posts_warn_metric_status.text",defaultMessage:"You now have over {limit} posts. We strongly recommend using advanced features for large-scale servers.",values:{limit:e.limit}})),s=this.dismissNumberOfPostsWarnMetric,i=this.props.dismissedNumberOfPostsWarnMetricStatus),a=f.i.ADVISOR,n=!0,r=!1),{Message:t,DismissFunc:s,IsDismissed:i,Type:a,ShowModal:n,CanCloseBar:r}})}render(){if(this.props.canViewSystemErrors){var e;const n="".concat("https://mattermost.com/renew/","?id=").concat(this.props.license.Id,"&user_count=").concat(this.props.totalUsers);if(E(this.props.license))return h.a.createElement(K,{type:f.i.CRITICAL,message:h.a.createElement(O.b,{id:f.h.LICENSE_EXPIRED,defaultMessage:"Enterprise license is expired and some features may be disabled. [Please renew](!{link}).",values:{link:n}})});if("true"===(a=this.props.license).IsLicensed&&parseInt(a.ExpiresAt,10)-Date.now()<0)return h.a.createElement(K,{type:f.i.CRITICAL,message:h.a.createElement(O.b,{id:f.h.LICENSE_EXPIRED,defaultMessage:"Enterprise license is expired and some features may be disabled. [Please renew](!{link}).",values:{link:n}})});if(function(e){return"true"===e.IsLicensed&&parseInt(e.ExpiresAt,10)-Date.now()<=5184e6}(this.props.license)&&!this.props.dismissedExpiringLicense)return h.a.createElement(K,{showCloseButton:!0,handleClose:this.dismissExpiringLicense,type:f.i.ANNOUNCEMENT,message:h.a.createElement(O.b,{id:f.h.LICENSE_EXPIRING,defaultMessage:"Enterprise license expires on {date, date, long}. [Please renew](!{link}).",values:{date:new Date(parseInt(this.props.license.ExpiresAt,10)),link:n}})});if("false"===(null===(e=this.props.license)||void 0===e?void 0:e.IsLicensed)&&this.props.warnMetricsStatus)for(const e of Object.values(this.props.warnMetricsStatus)){var t=this.getNoticeForWarnMetric(e);if(t&&!t.IsDismissed)return h.a.createElement(K,{showCloseButton:t.CanCloseBar,handleClose:t.DismissFunc,type:t.Type,showModal:t.ShowModal,modalButtonText:Object(w.b)("announcement_bar.error.warn_metric_status.link"),modalButtonDefaultText:"Learn more",warnMetricStatus:e,message:t.Message})}}else if(E(this.props.license))return h.a.createElement(K,{type:f.i.CRITICAL,message:h.a.createElement(C.a,{id:f.h.LICENSE_PAST_GRACE,defaultMessage:"Enterprise license is expired and some features may be disabled. Please contact your System Administrator for details."})});var a;const{formatMessage:n}=this.props.intl;if("true"!==this.props.config.SendEmailNotifications&&"true"===this.props.config.EnablePreviewModeBanner){const e=n({id:f.h.PREVIEW_MODE,defaultMessage:"Preview Mode: Email notifications have not been configured"});return h.a.createElement(Q,{allowDismissal:!0,text:e,type:f.i.ANNOUNCEMENT})}if(this.props.canViewSystemErrors&&""===this.props.config.SiteURL){let e,t;"true"===this.props.config.EnableSignUpWithGitLab?(e=Object(w.b)("announcement_bar.error.site_url_gitlab.full"),t="Please configure your [site URL](https://docs.mattermost.com/administration/config-settings.html#site-url) either on the [System Console](/admin_console/environment/web_server) or, if you're using GitLab Mattermost, in gitlab.rb."):(e=Object(w.b)("announcement_bar.error.site_url.full"),t="Please configure your [site URL](https://docs.mattermost.com/administration/config-settings.html#site-url) on the [System Console](/admin_console/environment/web_server).");const a=n({id:e,defaultMessage:t},{siteURL:this.props.siteURL});return h.a.createElement(Q,{allowDismissal:!0,text:a,type:f.i.ANNOUNCEMENT})}return null}}te(ae,"propTypes",{config:b.a.object,intl:v.a.isRequired,license:b.a.object,user:b.a.object,canViewSystemErrors:b.a.bool.isRequired,totalUsers:b.a.number,dismissedExpiringLicense:b.a.bool,dismissedNumberOfActiveUsersWarnMetricStatus:b.a.bool,dismissedNumberOfActiveUsersWarnMetricStatusAck:b.a.bool,dismissedNumberOfPostsWarnMetricStatus:b.a.bool,dismissedNumberOfPostsWarnMetricStatusAck:b.a.bool,siteURL:b.a.string.isRequired,warnMetricsStatus:b.a.object,actions:b.a.shape({dismissNotice:b.a.func.isRequired}).isRequired});var ne=Object(y.c)(ae);var se=Object(n.connect)((function(e){return{siteURL:Object(_.e)(e),dismissedExpiringLicense:Boolean(e.views.notice.hasBeenDismissed[f.h.LICENSE_EXPIRING]),dismissedNumberOfActiveUsersWarnMetricStatus:Boolean(e.views.notice.hasBeenDismissed[f.h.WARN_METRIC_STATUS_NUMBER_OF_USERS]),dismissedNumberOfActiveUsersWarnMetricStatusAck:Boolean(e.views.notice.hasBeenDismissed[f.h.WARN_METRIC_STATUS_NUMBER_OF_USERS_ACK]),dismissedNumberOfPostsWarnMetricStatus:Boolean(e.views.notice.hasBeenDismissed[f.h.WARN_METRIC_STATUS_NUMBER_OF_POSTS]),dismissedNumberOfPostsWarnMetricStatusAck:Boolean(e.views.notice.hasBeenDismissed[f.h.WARN_METRIC_STATUS_NUMBER_OF_POSTS_ACK])}}),(function(e){return{actions:Object(s.bindActionCreators)({dismissNotice:u.a},e)}}))(ne),ie=a(1713);function re(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class oe extends h.a.PureComponent{constructor(e){super(e),re(this,"reloadPage",()=>{window.location.reload()}),this.state={serverVersionOnAppLoad:e.serverVersion}}static getDerivedStateFromProps(e,t){return!t.serverVersionOnAppLoad&&e.serverVersion?{serverVersionOnAppLoad:e.serverVersion}:null}render(){const{serverVersionOnAppLoad:e}=this.state,{serverVersion:t}=this.props;return e?Object(ie.a)(e,t)?null:h.a.createElement(K,{type:f.i.ANNOUNCEMENT,message:h.a.createElement(h.a.Fragment,null,h.a.createElement(C.a,{id:"version_bar.new",defaultMessage:"A new version of Mattermost is available."})," ",h.a.createElement("a",{onClick:this.reloadPage},h.a.createElement(C.a,{id:"version_bar.refresh",defaultMessage:"Refresh the app now"})),".")}):null}}re(oe,"propTypes",{serverVersion:b.a.string.isRequired});var le=Object(n.connect)((function(e){return{serverVersion:e.entities.general.serverVersion}}))(oe),ce=a(85),de=a(22),me=a(1321),ue=a(1344),pe=a(1605);function he(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ge extends h.a.PureComponent{constructor(...e){super(...e),he(this,"handleButtonClick",()=>{}),he(this,"handleClose",async()=>{Object(x.e)(f.P.CLOUD_ADMIN,"click_close_banner_user_limit_reached"),await this.props.actions.savePreferences(this.props.currentUser.id,[{category:f.F.CLOUD_UPGRADE_BANNER,user_id:this.props.currentUser.id,name:f.j.HIDE,value:"true"}])}),he(this,"shouldShowBanner",()=>{const{userLimit:e,analytics:t,userIsAdmin:a,isCloud:n,subscription:s}=this.props;return null!==s&&("true"!==(null==s?void 0:s.is_paid_tier)&&(!!n&&(!!a&&!(!e||e>t.TOTAL_USERS||!e))))}),he(this,"isDismissable",()=>{const{userLimit:e,analytics:t}=this.props;let a=!0;return e<t.TOTAL_USERS&&(a=!1),a}),he(this,"showModal",()=>{this.isDismissable()?Object(x.e)(f.P.CLOUD_ADMIN,"click_upgrade_banner_user_limit_reached"):Object(x.e)(f.P.CLOUD_ADMIN,"click_upgrade_banner_user_limit_exceeded"),this.props.actions.openModal({modalId:f.y.CLOUD_PURCHASE,dialogType:pe.a})})}async componentDidMount(){Object(ue.isEmpty)(this.props.analytics)&&await this.props.actions.getStandardAnalytics(),Object(ue.isEmpty)(this.props.subscription)&&await this.props.actions.getCloudSubscription(),Object(ue.isEmpty)(this.props.subscription)||Object(ue.isEmpty)(this.props.analytics)||!this.shouldShowBanner()||(this.isDismissable()?Object(x.e)(f.P.CLOUD_ADMIN,"bannerview_user_limit_reached"):Object(x.e)(f.P.CLOUD_ADMIN,"bannerview_user_limit_exceeded"))}render(){const{userLimit:e,analytics:t,preferences:a}=this.props;if(Object(ue.isEmpty)(this.props.analytics))return null;if(!this.shouldShowBanner())return null;if(e===t.TOTAL_USERS&&a.some(e=>e.name===f.j.HIDE&&"true"===e.value))return null;const n=this.isDismissable();return h.a.createElement(K,{type:n?f.i.ADVISOR:f.i.CRITICAL_LIGHT,showCloseButton:n,handleClose:this.handleClose,showModal:this.showModal,modalButtonText:Object(w.b)("admin.billing.subscription.upgradeMattermostCloud.upgradeButton"),modalButtonDefaultText:"Upgrade Mattermost Cloud",message:n?Object(w.b)("upgrade.cloud_banner_reached"):Object(w.b)("upgrade.cloud_banner_over"),showLinkAsButton:!0,isTallBanner:!0})}}he(ge,"propTypes",{userLimit:b.a.number.isRequired,userIsAdmin:b.a.bool.isRequired,currentUser:b.a.any.isRequired,preferences:b.a.arrayOf(b.a.any).isRequired,isCloud:b.a.bool.isRequired,analytics:b.a.any,subscription:b.a.any,actions:b.a.shape({savePreferences:b.a.func.isRequired,getStandardAnalytics:b.a.func.isRequired,getCloudSubscription:b.a.func.isRequired,openModal:b.a.func.isRequired}).isRequired});var be=Object(n.connect)((function(e){const t=Object(de.makeGetCategory)();return{userLimit:parseInt(Object(l.getConfig)(e).ExperimentalCloudUserLimit,10),analytics:e.entities.admin.analytics,userIsAdmin:Object(r.isCurrentUserSystemAdmin)(e),currentUser:Object(r.getCurrentUser)(e),isCloud:"true"===Object(l.getLicense)(e).Cloud,subscription:e.entities.cloud.subscription,preferences:t(e,f.F.CLOUD_UPGRADE_BANNER)}}),(function(e){return{actions:Object(s.bindActionCreators)({savePreferences:ce.savePreferences,getStandardAnalytics:m.getStandardAnalytics,openModal:R.b,getCloudSubscription:me.getCloudSubscription},e)}}))(ge),fe=a(98),_e=a(1725);function Ce(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ye extends h.a.PureComponent{constructor(...e){super(...e),Ce(this,"isMostRecentPaymentFailed",()=>{var e,t;return"failed"===(null===(e=this.props.subscription)||void 0===e||null===(t=e.last_invoice)||void 0===t?void 0:t.status)}),Ce(this,"shouldShowBanner",()=>{const{userIsAdmin:e,isCloud:t,subscription:a}=this.props;return null!==a&&("true"===(null==a?void 0:a.is_paid_tier)&&(!!t&&(!!e&&!(!Object(_e.a)(this.props.customer)&&!this.isMostRecentPaymentFailed()))))}),Ce(this,"updatePaymentInfo",()=>{fe.a.push("/admin_console/billing/payment_info")})}async componentDidMount(){Object(ue.isEmpty)(this.props.subscription)&&await this.props.actions.getCloudSubscription(),Object(ue.isEmpty)(this.props.customer)&&await this.props.actions.getCloudCustomer()}render(){return Object(ue.isEmpty)(this.props.customer)||Object(ue.isEmpty)(this.props.subscription)?null:this.shouldShowBanner()?h.a.createElement(K,{type:f.i.CRITICAL_LIGHT,showCloseButton:!1,showModal:this.updatePaymentInfo,modalButtonText:Object(w.b)("admin.billing.subscription.updatePaymentInfo"),modalButtonDefaultText:"Update payment info",message:this.isMostRecentPaymentFailed()?Object(w.b)("admin.billing.subscription.mostRecentPaymentFailed"):Object(w.b)("admin.billing.subscription.creditCardExpired"),showLinkAsButton:!0,isTallBanner:!0}):null}}Ce(ye,"propTypes",{userIsAdmin:b.a.bool.isRequired,isCloud:b.a.bool.isRequired,subscription:b.a.any,customer:b.a.any,actions:b.a.shape({getCloudSubscription:b.a.func.isRequired,getCloudCustomer:b.a.func.isRequired}).isRequired});var Ee,ve,we,Oe=Object(n.connect)((function(e){return{userIsAdmin:Object(r.isCurrentUserSystemAdmin)(e),isCloud:"true"===Object(l.getLicense)(e).Cloud,subscription:e.entities.cloud.subscription,customer:e.entities.cloud.customer}}),(function(e){return{actions:Object(s.bindActionCreators)({savePreferences:ce.savePreferences,getStandardAnalytics:m.getStandardAnalytics,openModal:R.b,getCloudSubscription:me.getCloudSubscription,getCloudCustomer:me.getCloudCustomer},e)}}))(ye);class Se extends h.a.PureComponent{render(){let e=null;"true"===this.props.config.EnableBanner&&this.props.config.BannerText.trim()&&(e=h.a.createElement(Q,{color:this.props.config.BannerColor,textColor:this.props.config.BannerTextColor,allowDismissal:"true"===this.props.config.AllowBannerDismissal,text:this.props.config.BannerText}));let t=null;this.props.latestError&&(t=h.a.createElement(K,{type:this.props.latestError.error.type,message:this.props.latestError.error.message,showCloseButton:!0,handleClose:this.props.actions.dismissError}));let a=null,n=null;return"true"===this.props.license.Cloud&&(a=h.a.createElement(be,null),n=h.a.createElement(Oe,null)),h.a.createElement(h.a.Fragment,null,e,t,a,n,h.a.createElement(le,null),h.a.createElement(se,{config:this.props.config,license:this.props.license,canViewSystemErrors:this.props.canViewSystemErrors,totalUsers:this.props.totalUsers,user:this.props.user,warnMetricsStatus:this.props.warnMetricsStatus}))}}Ee=Se,ve="propTypes",we={license:b.a.object,config:b.a.object,user:b.a.shape({email:b.a.string.isRequired,email_verified:b.a.bool}),canViewSystemErrors:b.a.bool.isRequired,latestError:b.a.object,totalUsers:b.a.number,warnMetricsStatus:b.a.object,actions:b.a.shape({dismissError:b.a.func.isRequired}).isRequired},ve in Ee?Object.defineProperty(Ee,ve,{value:we,enumerable:!0,configurable:!0,writable:!0}):Ee[ve]=we;t.a=Object(n.connect)((function(e){const t=Object(o.haveISystemPermission)(e,{permission:i.Permissions.MANAGE_SYSTEM}),a=Object(l.getLicense)(e),n=Object(l.getConfig)(e),s=Object(r.getCurrentUser)(e),d=Object(c.getDisplayableErrors)(e),m=Object(l.warnMetricsStatus)(e),u=e.entities.admin.analytics.TOTAL_USERS;let p=null;return d&&d.length>=1&&(p=d[0]),{license:a,config:n,user:s,canViewSystemErrors:t,latestError:p,totalUsers:u,warnMetricsStatus:m}}),(function(e){const t=d.dismissError.bind(null,0);return{actions:Object(s.bindActionCreators)({getStandardAnalytics:m.getStandardAnalytics,dismissError:t,dismissNotice:u.a},e)}}))(Se)},1364:function(e,t,a){"use strict";a(34);var n=a(264),s=a(109),i=a(127),r=a.n(i),o=a(5),l=a.n(o);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends l.a.PureComponent{render(){return this.props.hasPermission&&!this.props.invert||!this.props.hasPermission&&this.props.invert?this.props.children:null}}c(d,"propTypes",{permissions:r.a.any.isRequired,hasPermission:r.a.bool.isRequired,invert:r.a.bool,children:r.a.node.isRequired}),c(d,"defaultProps",{invert:!1});t.a=Object(n.connect)((function(e,t){for(const a of t.permissions)if(Object(s.haveISystemPermission)(e,{permission:a}))return{hasPermission:!0};return{hasPermission:!1}}))(d)},1365:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));a(185),a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1267),l=a(1358),c=a(0),d=a(1311),m=(a(99),a(14)),u=a(1283);function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const h=c.Z.KeyCodes;class g extends r.a.PureComponent{constructor(e){super(e),p(this,"toSelect",-1),p(this,"listRef",r.a.createRef()),p(this,"selectedItemRef",r.a.createRef()),p(this,"setSelected",e=>{this.setState({selected:e})}),p(this,"handleArrowPress",e=>{if(Object(m.g)(e)&&e.shiftKey)return;const t=this.props.options;if(0===t.length)return;let a;switch(e.key){case h.DOWN[0]:if(-1===this.state.selected){a=0;break}a=Math.min(this.state.selected+1,t.length-1);break;case h.UP[0]:if(-1===this.state.selected){a=0;break}a=Math.max(this.state.selected-1,0);break;default:return}e.preventDefault(),this.setState({selected:a}),this.props.onSelect(t[a])}),p(this,"defaultOptionRenderer",(e,t,a,n)=>{let s="";return t&&(s="more-modal__row--selected"),r.a.createElement("div",{ref:t?this.selectedItemRef:e.value,className:s,key:"multiselectoption"+e.value,onClick:()=>a(e),onMouseMove:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(()=>n(e))},e.label)}),p(this,"onMouseMove",e=>{const t=this.props.options.indexOf(e);-1!==t&&this.state.selected!==t&&this.setSelected(t)}),this.state={selected:-1}}componentDidMount(){document.addEventListener("keydown",this.handleArrowPress)}componentWillUnmount(){document.removeEventListener("keydown",this.handleArrowPress)}componentDidUpdate(e,t){var a;const n=this.props.options;if(n&&n.length>0&&this.state.selected>=0&&this.props.onSelect(n[this.state.selected]),t.selected===this.state.selected)return;const s=this.selectedItemRef.current||(null===(a=this.props.selectedItemRef)||void 0===a?void 0:a.current);if(this.listRef.current&&s){const e=s.getBoundingClientRect().top,t=s.getBoundingClientRect().bottom,a=this.listRef.current.getBoundingClientRect().top;t>this.listRef.current.getBoundingClientRect().bottom?s.scrollIntoView(!1):e<a&&s.scrollIntoView(!0)}}render(){const e=this.props.options;let t;if(this.props.loading)t=r.a.createElement("div",{"aria-hidden":!0},r.a.createElement(u.a,{position:"absolute",key:"loading"}));else if(null==e||0===e.length)t=r.a.createElement("div",{key:"no-users-found",className:"no-channel-message"},r.a.createElement("p",{className:"primary-message"},r.a.createElement(o.a,{id:"multiselect.list.notFound",defaultMessage:"No items found"})));else{let a;a=this.props.optionRenderer?this.props.optionRenderer:this.defaultOptionRenderer;const n=e.map((e,t)=>a(e,this.state.selected===t,this.props.onAdd,this.onMouseMove)),s=e[this.state.selected],i=this.props.ariaLabelRenderer(s);t=r.a.createElement("div",{className:"more-modal__list"},r.a.createElement("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true"},i),r.a.createElement("div",{ref:this.listRef,id:"multiSelectList",role:"presentation","aria-hidden":!0},n))}return r.a.createElement("div",{className:"multi-select__wrapper","aria-live":"polite"},t)}}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}p(g,"propTypes",{ariaLabelRenderer:s.a.any.isRequired,loading:s.a.bool,onAdd:s.a.func.isRequired,onPageChange:s.a.func,onSelect:s.a.func.isRequired,optionRenderer:s.a.func.isRequired,selectedItemRef:s.a.any,options:s.a.arrayOf(s.a.any),page:s.a.number.isRequired,perPage:s.a.number}),p(g,"defaultProps",{options:[],perPage:50,onAction:()=>null});const f=c.l.KeyCodes;class _ extends r.a.PureComponent{constructor(e){super(e),b(this,"listRef",r.a.createRef()),b(this,"reactSelectRef",r.a.createRef()),b(this,"selected",null),b(this,"handleA11yActivateEvent",()=>{this.setState({a11yActive:!0})}),b(this,"handleA11yDeactivateEvent",()=>{this.setState({a11yActive:!1})}),b(this,"nextPage",()=>{this.props.handlePageChange&&this.props.handlePageChange(this.state.page+1,this.state.page),this.listRef.current&&this.listRef.current.setSelected(0),this.setState({page:this.state.page+1})}),b(this,"prevPage",()=>{0!==this.state.page&&(this.props.handlePageChange&&this.props.handlePageChange(this.state.page-1,this.state.page),this.listRef.current&&this.listRef.current.setSelected(0),this.setState({page:this.state.page-1}))}),b(this,"resetPaging",()=>{this.setState({page:0})}),b(this,"onSelect",e=>{this.selected=e}),b(this,"onAdd",e=>{if(this.props.maxValues&&this.props.values.length>=this.props.maxValues)return;for(let t=0;t<this.props.values.length;t++)if(this.props.values[t].id===e.id)return;this.props.handleAdd(e),this.selected=null,this.reactSelectRef.current&&(this.reactSelectRef.current.select.handleInputChange({currentTarget:{value:""}}),this.reactSelectRef.current.focus());const t=this.props.submitImmediatelyOn;t&&t(e)&&this.props.handleSubmit([e])}),b(this,"onInput",(e,t)=>{t&&"input-blur"!==t.action&&"menu-close"!==t.action&&this.state.input!==e&&(this.setState({input:e}),this.listRef.current&&(""===e?this.listRef.current.setSelected(-1):this.listRef.current.setSelected(0)),this.selected=null,this.props.handleInput(e,this))}),b(this,"onInputKeyDown",e=>{switch(e.key){case f.ENTER[0]:e.preventDefault()}}),b(this,"handleEnterPress",e=>{switch(e.key){case f.ENTER[0]:if(null==this.selected)return void this.props.handleSubmit();this.onAdd(this.selected)}}),b(this,"handleOnClick",e=>{e.preventDefault(),this.props.handleSubmit()}),b(this,"onChange",(e,t)=>{if("remove-value"!==t.action&&"pop-value"!==t.action)return;const a=[...this.props.values];for(let e=0;e<a.length;e++)if(a[e].id===t.removedValue.id){a.splice(e,1);break}this.props.handleDelete(a)}),this.state={a11yActive:!1,page:0,input:""}}componentDidMount(){const e=this.reactSelectRef.current&&this.reactSelectRef.current.select.inputRef;document.addEventListener("keydown",this.handleEnterPress),e&&"function"==typeof e.addEventListener&&(e.addEventListener(c.c.ACTIVATE,this.handleA11yActivateEvent),e.addEventListener(c.c.DEACTIVATE,this.handleA11yDeactivateEvent),this.reactSelectRef.current.focus())}componentWillUnmount(){const e=this.reactSelectRef.current&&this.reactSelectRef.current.select.inputRef;e&&"function"==typeof e.addEventListener&&(e.removeEventListener(c.c.ACTIVATE,this.handleA11yActivateEvent),e.removeEventListener(c.c.DEACTIVATE,this.handleA11yDeactivateEvent)),document.removeEventListener("keydown",this.handleEnterPress)}render(){const e=Object.assign([...this.props.options]),{totalCount:t,users:a,values:n}=this.props;let s,i;this.props.numRemainingText?s=this.props.numRemainingText:null!=this.props.maxValues&&(s=r.a.createElement(o.a,{id:"multiselect.numRemaining",defaultMessage:"You can add {num, number} more. ",values:{num:this.props.maxValues-this.props.values.length}})),this.props.buttonSubmitText?i=this.props.buttonSubmitText:null!=this.props.maxValues&&(i=r.a.createElement(o.a,{id:"multiselect.go",defaultMessage:"Go"}));let c,m,u,p=[];this.props.noteText&&(u=r.a.createElement("div",{className:"multi-select__note"},r.a.createElement("div",{className:"note__icon"},r.a.createElement(o.a,{id:"generic_icons.info",defaultMessage:"Info Icon"},e=>r.a.createElement("span",{className:"fa fa-info",title:e}))),r.a.createElement("div",null,this.props.noteText)));const h={};for(let e=0;e<n.length;e++)h[n[e].id]=!0;for(let t=e.length-1;t>=0;t--)h[e[t].id]&&e.splice(t,1);if(e&&e.length>this.props.perPage){const t=this.state.page*this.props.perPage,a=t+this.props.perPage;p=e.slice(t,a),this.props.loading||(e.length>a&&(c=r.a.createElement("button",{className:"btn btn-link filter-control filter-control__next",onClick:this.nextPage},r.a.createElement(o.a,{id:"filtered_user_list.next",defaultMessage:"Next"}))),this.state.page>0&&(m=r.a.createElement("button",{className:"btn btn-link filter-control filter-control__prev",onClick:this.prevPage},r.a.createElement(o.a,{id:"filtered_user_list.prev",defaultMessage:"Previous"}))))}else p=e;let b;return a&&a.length&&t&&(b=r.a.createElement(o.a,{id:"multiselect.numMembers",defaultMessage:"{memberOptions, number} of {totalCount, number} members",values:{memberOptions:p.length,totalCount:this.props.totalCount}})),r.a.createElement("div",{className:"filtered-user-list"},r.a.createElement("div",{className:"filter-row filter-row--full"},r.a.createElement("div",{className:"multi-select__container react-select"},r.a.createElement(l.b,{id:"selectItems",ref:this.reactSelectRef,isMulti:!0,options:this.props.options,styles:E,components:{Menu:C,IndicatorsContainer:C,MultiValueLabel:y(this.props.valueRenderer)},isClearable:!1,openMenuOnFocus:!1,menuIsOpen:!1,onInputChange:this.onInput,onKeyDown:this.onInputKeyDown,onChange:this.onChange,value:this.props.values,placeholder:this.props.placeholderText,inputValue:this.state.input,getOptionValue:e=>e.id,getOptionLabel:this.props.ariaLabelRenderer,"aria-label":this.props.placeholderText,className:this.state.a11yActive?"multi-select__focused":"",classNamePrefix:"react-select-auto react-select"}),r.a.createElement(d.a,{id:"saveItems",saving:this.props.saving,disabled:this.props.saving,onClick:this.handleOnClick,defaultMessage:i,savingMessage:this.props.buttonSubmitLoadingText})),r.a.createElement("div",{id:"multiSelectHelpMemberInfo",className:"multi-select__help"},s,b),r.a.createElement("div",{id:"multiSelectMessageNote",className:"multi-select__help"},u)),r.a.createElement(g,{ref:this.listRef,options:p,optionRenderer:this.props.optionRenderer,ariaLabelRenderer:this.props.ariaLabelRenderer,page:this.state.page,perPage:this.props.perPage,onPageChange:this.props.handlePageChange,onAdd:this.onAdd,onSelect:this.onSelect,loading:this.props.loading,selectedItemRef:this.props.selectedItemRef}),r.a.createElement("div",{className:"filter-controls"},m,c))}}b(_,"propTypes",{ariaLabelRenderer:s.a.any,buttonSubmitLoadingText:s.a.oneOfType([s.a.element,s.a.string]),buttonSubmitText:s.a.oneOfType([s.a.element,s.a.string]),handleAdd:s.a.func.isRequired,handleDelete:s.a.func.isRequired,handleInput:s.a.func.isRequired,handlePageChange:s.a.func,handleSubmit:s.a.func.isRequired,loading:s.a.bool,maxValues:s.a.number,noteText:s.a.element,numRemainingText:s.a.element,optionRenderer:s.a.func.isRequired,selectedItemRef:s.a.any,options:s.a.arrayOf(s.a.any).isRequired,perPage:s.a.number.isRequired,placeholderText:s.a.string,saving:s.a.bool,submitImmediatelyOn:s.a.func,totalCount:s.a.number,users:s.a.array,valueRenderer:s.a.func.isRequired,values:s.a.arrayOf(s.a.any).isRequired}),b(_,"defaultProps",{ariaLabelRenderer:function(e){if(!e)return null;return e.label}});const C=()=>null,y=e=>t=>r.a.createElement("div",{style:{paddingLeft:"10px"}},r.a.createElement(e,t)),E={container:()=>({display:"table-cell",paddingRight:"15px",verticalAlign:"top",width:"100%"})}},1366:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));a(185);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1306);function l(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends i.PureComponent{render(){const e=this.props,{spinning:t,spinningText:a,children:n}=e,s=l(e,["spinning","spinningText","children"]);return r.a.createElement("button",Object.assign({disabled:t},s),r.a.createElement(o.a,{loading:t,text:a},n))}}c(d,"propTypes",{children:s.a.node,spinning:s.a.bool,spinningText:s.a.node.isRequired,onClick:s.a.func}),c(d,"defaultProps",{spinning:!1})},1367:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));a(185),a(193),a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(272),l=a.n(o),c=a(1392),d=a(0),m=a(17),u=a(14),p=a(1648);function h(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const b=d.Z.KeyCodes;class f extends r.a.PureComponent{constructor(e){super(e),g(this,"handleMentionKeyClick",(e,t)=>{if(this.props.isRHS!==t)return;let a="@"+e;this.props.value&&/[^\s]$/.test(this.props.value)&&(a=" "+a),this.addTextAtCaret(a,"")}),g(this,"getTextbox",()=>{if(!this.inputRef.current)return null;const e=this.inputRef.current.getInput();return e.getDOMNode?e.getDOMNode():e}),g(this,"recalculateSize",()=>{const e=this.inputRef.current.getInput();e.recalculateSize&&e.recalculateSize()}),g(this,"handleEmitClearSuggestions",(e=0)=>{setTimeout(()=>{this.clear()},e)}),g(this,"preventSuggestionListClose",()=>{this.preventSuggestionListCloseFlag=!0}),g(this,"handleFocusOut",e=>{this.preventSuggestionListCloseFlag?this.preventSuggestionListCloseFlag=!1:this.container.contains(e.relatedTarget)||m.i()&&!e.relatedTarget||(this.props.forceSuggestionsWhenBlur||this.handleEmitClearSuggestions(),this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur())}),g(this,"handleFocusIn",e=>{this.container.contains(e.relatedTarget)||this.preventSuggestionListCloseFlag||(this.setState({focused:!0}),(this.props.openOnFocus||this.props.openWhenEmpty)&&setTimeout(()=>{const e=this.getTextbox();if(e){const t=e.value.substring(0,e.selectionEnd);(this.props.openWhenEmpty||t.length>=this.props.requiredCharacters)&&this.pretext!==t&&this.handlePretextChanged(t)}}),this.props.onFocus&&this.props.onFocus())}),g(this,"handleChange",e=>{const t=this.getTextbox(),a=t.value.substring(0,t.selectionEnd).toLowerCase();this.composing||this.pretext===a||this.handlePretextChanged(a),this.props.onChange&&this.props.onChange(e)}),g(this,"handleCompositionStart",()=>{this.composing=!0,this.props.onComposition&&this.props.onComposition()}),g(this,"handleCompositionUpdate",e=>{if(!e.data)return;const t=this.getTextbox(),a=t.value.substring(0,t.selectionStart)+e.data;this.handlePretextChanged(a),this.props.onComposition&&this.props.onComposition()}),g(this,"handleCompositionEnd",()=>{this.composing=!1,this.props.onComposition&&this.props.onComposition()}),g(this,"addTextAtCaret",(e,t)=>{const a=this.getTextbox(),n=a.selectionEnd,s=this.props.value,i=a.value.substring(0,a.selectionEnd);let r,o=!1;if(i.toLowerCase().endsWith(t.toLowerCase()))r=i.substring(0,i.length-t.length);else{const a=e.substring(t.length),n=f.findOverlap(i,a);o=0===n.length,r=i.substring(0,i.length-n.length-t.length)}const l=s.substring(n);let c;if(c=o?i:r+e+" "+l,a.value=c,this.props.onChange){const e={target:a};this.props.onChange(e)}window.requestAnimationFrame(()=>{a.value===c&&u.xb(a,r.length+e.length+1)})}),g(this,"replaceText",e=>{const t=this.getTextbox();if(t.value=e,this.props.onChange){const e={target:t};this.props.onChange(e)}}),g(this,"handleCompleteWord",(e,t,a)=>{let n=e,s=!1;if(e.endsWith(p.a)&&(n=e.substring(0,e.length-p.a.length),s=!0),this.props.replaceAllInputOnSelect?this.replaceText(n):this.addTextAtCaret(n,t),this.props.onItemSelected){const e=this.state.items,t=this.state.terms;for(let a=0;a<t.length;a++)if(t[a]===n){this.props.onItemSelected(e[a]);break}}if(this.clear(),this.inputRef.current.focus(),s&&this.props.onKeyPress){let e=a;return a&&!u.cb(a,d.Z.KeyCodes.TAB)||(e=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:13}),a&&a.preventDefault()),this.props.onKeyPress(e),!0}if(!s)for(const e of this.props.providers)e.handleCompleteWord&&e.handleCompleteWord(n,t,this.handlePretextChanged);return!1}),g(this,"selectNext",()=>{this.setSelectionByDelta(1)}),g(this,"selectPrevious",()=>{this.setSelectionByDelta(-1)}),g(this,"setSelectionByDelta",e=>{let t=this.state.terms.indexOf(this.state.selection);-1!==t?(t+=e,t<0?t=0:t>this.state.terms.length-1&&(t=this.state.terms.length-1),this.setState({selection:this.state.terms[t]})):this.setState({selection:""})}),g(this,"setSelection",e=>{this.setState({selection:e})}),g(this,"clear",()=>{this.state.cleared||(this.setState({cleared:!0,matchedPretext:[],terms:[],items:[],components:[],selection:""}),this.handlePretextChanged(""))}),g(this,"hasSuggestions",()=>this.state.items.some(e=>!e.loading)),g(this,"handleKeyDown",e=>{if((this.props.openWhenEmpty||this.props.value)&&this.hasSuggestions())if(u.cb(e,b.UP))this.selectPrevious(),e.preventDefault();else if(u.cb(e,b.DOWN))this.selectNext(),e.preventDefault();else if(u.cb(e,b.ENTER)||this.props.completeOnTab&&u.cb(e,b.TAB)){let t="";for(let e=0;e<this.state.terms.length;e++)this.state.terms[e]===this.state.selection&&(t=this.state.matchedPretext[e]);if(this.pretext.toLowerCase().endsWith(t.toLowerCase())){if(this.handleCompleteWord(this.state.selection,t,e))return}else clearTimeout(this.timeoutId),this.nonDebouncedPretextChanged(this.pretext,!0);this.props.onKeyDown&&this.props.onKeyDown(e),e.preventDefault()}else u.cb(e,b.ESCAPE)?(this.clear(),this.setState({presentationType:"text"}),e.preventDefault(),e.stopPropagation()):this.props.onKeyDown&&this.props.onKeyDown(e);else this.props.onKeyDown&&this.props.onKeyDown(e)}),g(this,"handleSelect",e=>{this.props.onSelect&&this.props.onSelect(e)}),g(this,"handleReceivedSuggestions",e=>{const t=[],a=[];this.props.onSuggestionsReceived&&this.props.onSuggestionsReceived(e);for(let n=0;n<e.terms.length;n++)t.push(e.component),a.push(e.matchedPretext);const n=e.terms,s=e.items;let i=this.state.selection;return n.length>0?this.state.selection&&-1!==n.indexOf(this.state.selection)||(i=n[0]):this.state.selection&&(i=""),this.setState({cleared:!1,selection:i,terms:n,items:s,components:t,matchedPretext:a}),{selection:i,matchedPretext:e.matchedPretext}}),g(this,"handleReceivedSuggestionsAndComplete",e=>{const{selection:t,matchedPretext:a}=this.handleReceivedSuggestions(e);t&&this.handleCompleteWord(t,a)}),g(this,"nonDebouncedPretextChanged",(e,t=!1)=>{this.pretext=e;let a=!1,n=this.handleReceivedSuggestions;t&&(n=this.handleReceivedSuggestionsAndComplete);for(const t of this.props.providers)if(a=t.handlePretextChanged(e,n)||a,a){this.setState({presentationType:t.presentationType(),allowDividers:t.allowDividers()});break}a||this.clear()}),g(this,"debouncedPretextChanged",e=>{clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>this.nonDebouncedPretextChanged(e),d.Z.SEARCH_TIMEOUT_MILLISECONDS)}),g(this,"handlePretextChanged",e=>{this.pretext=e,this.debouncedPretextChanged(e)}),g(this,"blur",()=>{this.inputRef.current.blur()}),g(this,"focus",()=>{const e=this.inputRef.current.input;'""'===e.value||e.value.endsWith('""')?(e.selectionStart=e.value.length-1,e.selectionEnd=e.value.length-1):e.selectionStart=e.value.length,e.focus(),this.handleChange({target:this.inputRef.current})}),g(this,"setContainerRef",e=>{this.container&&(this.container.removeEventListener("focusin",this.handleFocusIn),this.container.removeEventListener("focusout",this.handleFocusOut)),e&&(e.addEventListener("focusin",this.handleFocusIn),e.addEventListener("focusout",this.handleFocusOut)),this.container=e}),this.suggestionReadOut=r.a.createRef(),this.composing=!1,this.pretext="",this.timeoutId="",this.preventSuggestionListCloseFlag=!1,this.state={focused:!1,cleared:!0,matchedPretext:[],items:[],terms:[],components:[],selection:"",allowDividers:!0,presentationType:"text"},this.inputRef=r.a.createRef()}componentDidMount(){this.props.listenForMentionKeyClick&&l.a.addListener("mention_key_click",this.handleMentionKeyClick),this.handlePretextChanged(this.pretext)}componentWillUnmount(){l.a.removeListener("mention_key_click",this.handleMentionKeyClick)}componentDidUpdate(e){const{value:t}=this.props;if(""!==t||this.pretext===t){if(e.contextId!==this.props.contextId){const e=this.getTextbox(),t=e.value.substring(0,e.selectionEnd).toLowerCase();this.handlePretextChanged(t)}}else this.handlePretextChanged(t)}render(){const e=this.props,{listComponent:t,dateComponent:a,listStyle:n,renderNoResults:s}=e,i=h(e,["listComponent","dateComponent","listStyle","renderNoResults"]),o=this.props.renderDividers&&this.state.allowDividers;Reflect.deleteProperty(i,"providers"),Reflect.deleteProperty(i,"onChange"),Reflect.deleteProperty(i,"onComposition"),Reflect.deleteProperty(i,"onItemSelected"),Reflect.deleteProperty(i,"completeOnTab"),Reflect.deleteProperty(i,"isRHS"),Reflect.deleteProperty(i,"requiredCharacters"),Reflect.deleteProperty(i,"openOnFocus"),Reflect.deleteProperty(i,"openWhenEmpty"),Reflect.deleteProperty(i,"onFocus"),Reflect.deleteProperty(i,"onBlur"),Reflect.deleteProperty(i,"containerClass"),Reflect.deleteProperty(i,"replaceAllInputOnSelect"),Reflect.deleteProperty(i,"renderDividers"),Reflect.deleteProperty(i,"contextId"),Reflect.deleteProperty(i,"listenForMentionKeyClick"),Reflect.deleteProperty(i,"wrapperHeight"),Reflect.deleteProperty(i,"forceSuggestionsWhenBlur"),Reflect.deleteProperty(i,"onSuggestionsReceived");const l=t,d=a;return r.a.createElement("div",{ref:this.setContainerRef,className:this.props.containerClass},r.a.createElement("div",{ref:this.suggestionReadOut,"aria-live":"polite",role:"alert",className:"sr-only"}),r.a.createElement(c.a,Object.assign({ref:this.inputRef,autoComplete:"off"},i,{onInput:this.handleChange,onCompositionStart:this.handleCompositionStart,onCompositionUpdate:this.handleCompositionUpdate,onCompositionEnd:this.handleCompositionEnd,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect})),(this.props.openWhenEmpty||this.props.value.length>=this.props.requiredCharacters)&&"text"===this.state.presentationType&&r.a.createElement("div",{style:{width:this.state.width}},r.a.createElement(l,{ariaLiveRef:this.suggestionReadOut,open:this.state.focused||this.props.forceSuggestionsWhenBlur,pretext:this.pretext,location:n,renderDividers:o,renderNoResults:s,onCompleteWord:this.handleCompleteWord,preventClose:this.preventSuggestionListClose,onItemHover:this.setSelection,cleared:this.state.cleared,matchedPretext:this.state.matchedPretext,items:this.state.items,terms:this.state.terms,selection:this.state.selection,components:this.state.components,wrapperHeight:this.props.wrapperHeight,inputRef:this.inputRef,onLoseVisibility:this.blur})),(this.props.openWhenEmpty||this.props.value.length>=this.props.requiredCharacters)&&"date"===this.state.presentationType&&r.a.createElement(d,{items:this.state.items,terms:this.state.terms,components:this.state.components,matchedPretext:this.state.matchedPretext,onCompleteWord:this.handleCompleteWord}))}static findOverlap(e,t){const a=e.toLowerCase(),n=t.toLowerCase();for(let e=n.length;e>0;e--){const t=n.substring(0,e);if(a.endsWith(t))return t}return""}}g(f,"propTypes",{listComponent:s.a.func.isRequired,inputComponent:s.a.elementType,dateComponent:s.a.func,value:s.a.string.isRequired,providers:s.a.arrayOf(s.a.object).isRequired,listStyle:s.a.string,containerClass:s.a.string,renderDividers:s.a.bool,renderNoResults:s.a.bool,completeOnTab:s.a.bool,onFocus:s.a.func,onBlur:s.a.func,onChange:s.a.func,onKeyDown:s.a.func,onKeyPress:s.a.func,onComposition:s.a.func,onSelect:s.a.func,onItemSelected:s.a.func,isRHS:s.a.bool,requiredCharacters:s.a.number,openOnFocus:s.a.bool,disabled:s.a.bool,openWhenEmpty:s.a.bool,replaceAllInputOnSelect:s.a.bool,contextId:s.a.string,listenForMentionKeyClick:s.a.bool,wrapperHeight:s.a.number,onSuggestionsReceived:s.a.func,forceSuggestionsWhenBlur:s.a.bool}),g(f,"defaultProps",{listStyle:"top",containerClass:"",renderDividers:!1,renderNoResults:!1,completeOnTab:!0,isRHS:!1,requiredCharacters:1,openOnFocus:!1,openWhenEmpty:!1,replaceAllInputOnSelect:!1,listenForMentionKeyClick:!1,forceSuggestionsWhenBlur:!1})},1375:function(e,t,a){"use strict";a.d(t,"d",(function(){return g})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return _})),a.d(t,"e",(function(){return C})),a.d(t,"f",(function(){return y}));a(58);var n=a(6),s=a(40),i=a(187),r=a(11),o=a(18),l=a(85),c=a(8),d=a(98),m=a(0);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){h(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e,t){return async(a,n)=>{const l=await a(i.removeUserFromTeam(e,t));return a(Object(o.getUser)(t)),a(i.getTeamStats(e)),a(Object(s.getChannelStats)(Object(r.getCurrentChannelId)(n()))),l}}function b(e,t){return async a=>{const{data:s,error:r}=await a(i.addUserToTeamFromInvite(e,t));if(s){const{data:e}=await a(i.getTeam(s.team_id));return a({type:n.TeamTypes.RECEIVED_MY_TEAM_MEMBER,data:p(p({},s),{},{delete_at:0,msg_count:0,mention_count:0})}),{data:e}}return{error:r}}}function f(e,t){return async a=>{const{data:s,error:r}=await a(i.addUserToTeam(e,t));if(s){const{data:e}=await a(i.getTeam(s.team_id));return a({type:n.TeamTypes.RECEIVED_MY_TEAM_MEMBER,data:p(p({},s),{},{delete_at:0,msg_count:0,mention_count:0})}),{data:e}}return{error:r}}}function _(e,t){return async(a,n)=>{const{data:o,error:l}=await a(i.addUsersToTeamGracefully(e,t));return l?{error:l}:(a(Object(s.getChannelStats)(Object(r.getCurrentChannelId)(n()))),{data:o})}}function C(e){return(t,a)=>{const n=a(),i=Object(r.getCurrentChannelId)(n);Object(r.isManuallyUnread)(n,i)||t(Object(s.viewChannel)(i)),d.a.push(e)}}function y(e){return async(t,a)=>{const n=a(),s=Object(c.getCurrentUserId)(n),i=[{user_id:s,name:"",category:m.F.TEAMS_ORDER,value:e.join(",")}];t(Object(l.savePreferences)(s,i))}}},1377:function(e,t,a){"use strict";var n=a(264),s=a(8),i=a(1735);t.a=Object(n.connect)((function(){const e=Object(s.makeGetDisplayName)();return(t,a)=>({displayName:e(t,a.userId),user:Object(s.getUser)(t,a.userId)})}))(i.a)},1378:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.archive",defaultMessage:"Archive Icon"})},s.a.createElement("path",{d:"M13.994 14.75H2.006V6.50599H3.5V13.256H12.5V6.50599H13.994V14.75ZM1.25 1.24999H14.75V5.74999H1.25V1.24999ZM6.128 7.24399H9.872C9.98 7.24399 10.07 7.27999 10.142 7.35199C10.214 7.42399 10.25 7.51399 10.25 7.62199V8.75599H5.75V7.62199C5.75 7.51399 5.786 7.42399 5.858 7.35199C5.93 7.27999 6.02 7.24399 6.128 7.24399ZM2.744 2.74399V4.25599H13.256V2.74399H2.744Z"})))}},1379:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(){const{formatMessage:e}=Object(i.a)();return s.a.createElement("i",{className:"fa fa-plus",title:e({id:"generic_icons.add",defaultMessage:"Add Icon"})})}},1380:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1308),l=a(12);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends r.a.PureComponent{render(){const e="fa fa-1x fa-angle-left"+(this.props.additionalClassName?" "+this.props.additionalClassName:"");return r.a.createElement(o.a,{className:e,title:{id:Object(l.b)("generic_icons.previous"),defaultMessage:"Previous Icon"}})}}c(d,"propTypes",{additionalClassName:s.a.oneOfType([s.a.string,s.a.oneOf([null])])}),c(d,"defaultProps",{additionalClassName:null})},1383:function(e,t,a){"use strict";a(34);var n=a(264),s=a(109),i=a(127),r=a.n(i),o=a(5),l=a.n(o);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends l.a.PureComponent{render(){return this.props.hasPermission&&!this.props.invert||!this.props.hasPermission&&this.props.invert?this.props.children:null}}c(d,"propTypes",{teamId:r.a.string,permissions:r.a.any.isRequired,hasPermission:r.a.bool.isRequired,invert:r.a.bool,children:r.a.node.isRequired}),c(d,"defaultProps",{invert:!1});t.a=Object(n.connect)((function(e,t){if(!t.teamId)return{hasPermission:!1};for(const a of t.permissions)if(Object(s.haveITeamPermission)(e,{team:t.teamId,permission:a}))return{hasPermission:!0};return{hasPermission:!1}}))(d)},1384:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var n=a(0);const s=()=>e=>e({type:n.f.TOGGLE_LHS}),i=()=>e=>e({type:n.f.OPEN_LHS}),r=()=>e=>e({type:n.f.CLOSE_LHS})},1391:function(e,t,a){"use strict";a(185);var n=a(127),s=a.n(n),i=a(5),r=a.n(i);a(1903);function o(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}const l=e=>{let{show:t=!0,children:a,className:n}=e,s=o(e,["show","children","className"]);if(!t)return null;const i=s.onClick?"button":"div";return r.a.createElement("div",{className:"Badge"},r.a.createElement(i,Object.assign({},s,{className:"Badge__box "+n}),a))};l.propTypes={show:s.a.bool,children:s.a.node.isRequired},t.a=Object(i.memo)(l)},1392:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1267),l=a(1647),c=a(1278),d=a(0),m=a(1528);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class b extends r.a.PureComponent{constructor(...e){super(...e),g(this,"updateInputFromProps",()=>{this.input&&this.input.value!==this.props.value&&(this.input.value=this.props.value)}),g(this,"getInput",()=>this.input),g(this,"setInput",e=>{this.input=e}),g(this,"onClear",e=>{e.preventDefault(),e.stopPropagation(),this.props.onClear&&this.props.onClear(),this.focus()})}componentDidUpdate(e){e.value!==this.props.value&&(this.props.delayInputUpdate?requestAnimationFrame(this.updateInputFromProps):this.updateInputFromProps())}get value(){return this.input.value}set value(e){this.input.value=e}focus(){this.input.focus()}blur(){this.input.blur()}render(){let e=this.props.clearableTooltipText;e||(e=r.a.createElement(o.a,{id:"input.clear",defaultMessage:"Clear"}));const t=r.a.createElement(l.a,{id:"InputClearTooltip"},e),a=this.props,{value:n,inputComponent:s,clearable:i}=a,u=h(a,["value","inputComponent","clearable"]);Reflect.deleteProperty(u,"delayInputUpdate"),Reflect.deleteProperty(u,"onClear"),Reflect.deleteProperty(u,"clearableTooltipText"),Reflect.deleteProperty(u,"channelId"),s!==m.a&&Reflect.deleteProperty(u,"onHeightChange");const g=r.a.createElement(s||"input",p(p({},u),{},{ref:this.setInput,defaultValue:n}));return r.a.createElement("div",null,g,i&&n&&this.props.onClear&&r.a.createElement("div",{className:"input-clear visible",onMouseDown:this.onClear},r.a.createElement(c.a,{delayShow:d.Z.OVERLAY_TIME_DELAY,placement:"bottom",overlay:t},r.a.createElement("span",{className:"input-clear-x","aria-hidden":"true"},r.a.createElement("i",{className:"icon icon-close-circle"})))))}}g(b,"propTypes",{delayInputUpdate:s.a.bool,inputComponent:s.a.elementType,value:s.a.string.isRequired,clearable:s.a.bool,clearableTooltipText:s.a.oneOfType([s.a.string,s.a.element]),onClear:s.a.func}),g(b,"defaultProps",{delayInputUpdate:!1,value:"",clearable:!1})},1397:function(e,t,a){"use strict";var n=a(98),s=a(118),i=a(89),r=a(23),o=a(0),l=a(14);const c=r.a.dispatch,d=r.a.getState;var m=new class{setItem(e,t){c(i.f(e,t))}getItem(e,t){return s.d(e,t)(d())}removeItem(e){c(i.d(e))}setGlobalItem(e,t){c(i.e(e,t))}getGlobalItem(e,t=null){return s.c(e,t)(d())}removeGlobalItem(e){c(i.c(e))}signalLogout(){if(this.isLocalStorageSupported()){const e=l.r();l.tb(o.N.ANNOUNCEMENT),sessionStorage.setItem(o.N.LOGOUT,e),localStorage.setItem(o.N.LOGOUT,e),localStorage.removeItem(o.N.LOGOUT)}}isSignallingLogout(e){return e===sessionStorage.getItem(o.N.LOGOUT)}signalLogin(){if(this.isLocalStorageSupported()){const e=l.r();sessionStorage.setItem(o.N.LOGIN,e),localStorage.setItem(o.N.LOGIN,e),localStorage.removeItem(o.N.LOGIN)}}isSignallingLogin(e){return e===sessionStorage.getItem(o.N.LOGIN)}clear(e){c(i.b(e))}isLocalStorageSupported(){if(this.hasCheckedLocalStorage)return this.localStorageSupported;this.localStorageSupported=!1;try{localStorage.setItem("__testLocal__","1"),"1"===localStorage.getItem("__testLocal__")&&(this.localStorageSupported=!0),localStorage.removeItem("__testLocal__","1")}catch(e){this.localStorageSupported=!1}try{sessionStorage.setItem("__testSession__","1"),sessionStorage.removeItem("__testSession__")}catch(e){n.a.push("/error?type="+o.p.LOCAL_STORAGE)}return this.hasCheckedLocalStorage=!0,this.localStorageSupported}hasSeenLandingPage(){return localStorage.getItem(o.N.LANDING_PAGE_SEEN)}setLandingPageSeen(e){localStorage.setItem(o.N.LANDING_PAGE_SEEN,e)}getLandingPreference(e){return localStorage.getItem(o.N.LANDING_PREFERENCE+String(e))}setLandingPreferenceToMattermostApp(e){localStorage.setItem(o.N.LANDING_PREFERENCE+String(e),o.w.MATTERMOSTAPP)}setLandingPreferenceToBrowser(e){localStorage.setItem(o.N.LANDING_PREFERENCE+String(e),o.w.BROWSER)}clearLandingPreference(e){localStorage.removeItem(o.N.LANDING_PREFERENCE+String(e))}};t.a=m},1401:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{width:"13px",height:"13px",viewBox:"0 0 16 16",role:"presentation","aria-label":t({id:"generic_icons.channel.public",defaultMessage:"Public Channel Icon"})},s.a.createElement("path",{d:"M8 -2.47955e-05C6.56 -2.47955e-05 5.216 0.367975 3.968 1.10398C2.76267 1.80798 1.808 2.76264 1.104 3.96797C0.368 5.21598 0 6.55998 0 7.99998C0 9.43998 0.368 10.784 1.104 12.032C1.808 13.2373 2.76267 14.192 3.968 14.896C5.216 15.632 6.56 16 8 16C9.44 16 10.784 15.632 12.032 14.896C13.2373 14.192 14.192 13.2373 14.896 12.032C15.632 10.784 16 9.43998 16 7.99998C16 6.55998 15.632 5.21598 14.896 3.96797C14.192 2.76264 13.2373 1.80798 12.032 1.10398C10.784 0.367975 9.44 -2.47955e-05 8 -2.47955e-05ZM14.4 8.39998C14.2507 8.59198 13.92 8.80531 13.408 9.03998C12.768 9.31731 12.032 9.53064 11.2 9.67998V6.95998C12.288 6.77864 13.168 6.53864 13.84 6.23998C13.872 6.20798 13.9253 6.18131 14 6.15998C14.0853 6.12798 14.1387 6.10131 14.16 6.07998C14.32 6.63464 14.4 7.27464 14.4 7.99998V8.39998ZM6.8 11.52C6.93867 11.52 7.14133 11.536 7.408 11.568C7.67467 11.5893 7.872 11.6 8 11.6C8.53333 11.6 8.93333 11.5733 9.2 11.52C9.008 12.2773 8.8 12.912 8.576 13.424C8.36267 13.8933 8.17067 14.192 8 14.32C7.808 14.1813 7.61067 13.8826 7.408 13.424C7.152 12.8906 6.94933 12.256 6.8 11.52ZM8 9.99998C7.63733 9.99998 7.376 9.99464 7.216 9.98398C6.93867 9.97331 6.69333 9.95198 6.48 9.91998C6.48 9.74931 6.46933 9.46664 6.448 9.07198C6.416 8.61331 6.4 8.25598 6.4 7.99998V7.11998C6.77333 7.17331 7.30667 7.19998 8 7.19998C8.69333 7.19998 9.22667 7.17331 9.6 7.11998V7.99998C9.6 8.25598 9.584 8.61331 9.552 9.07198C9.53067 9.46664 9.52 9.74931 9.52 9.91998C9.30667 9.95198 9.06133 9.97331 8.784 9.98398C8.624 9.99464 8.36267 9.99998 8 9.99998ZM9.44 5.51998C9.12 5.57331 8.64 5.59998 8 5.59998C7.36 5.59998 6.88 5.57331 6.56 5.51998C6.656 4.82664 6.8 4.18131 6.992 3.58397C7.14133 3.07198 7.31733 2.62931 7.52 2.25597C7.69067 1.93598 7.85067 1.71731 8 1.59997C8.14933 1.71731 8.30933 1.93598 8.48 2.25597C8.68267 2.62931 8.85867 3.07198 9.008 3.58397C9.2 4.18131 9.344 4.82664 9.44 5.51998ZM13.44 4.63998C12.5867 5.00264 11.7867 5.24264 11.04 5.35997C10.9653 4.71997 10.848 4.11198 10.688 3.53598C10.5387 2.95998 10.3627 2.44798 10.16 1.99998C11.5573 2.49064 12.6507 3.37064 13.44 4.63998ZM2.56 4.63998C2.976 4.02131 3.456 3.49331 4 3.05597C4.576 2.58664 5.216 2.23464 5.92 1.99998C5.52533 2.87464 5.20533 3.99464 4.96 5.35997C3.92533 5.11464 3.12533 4.87464 2.56 4.63998ZM1.92 6.07998C1.952 6.11198 2.00533 6.14398 2.08 6.17598L2.24 6.23998C2.96533 6.55998 3.84533 6.79998 4.88 6.95998C4.848 7.09864 4.82667 7.26398 4.816 7.45598C4.80533 7.56264 4.8 7.74398 4.8 7.99998C4.8 8.74664 4.82667 9.30664 4.88 9.67998C4.048 9.53064 3.31733 9.31731 2.688 9.03998C2.16533 8.80531 1.82933 8.59198 1.68 8.39998V7.99998C1.63733 7.67998 1.63733 7.34931 1.68 7.00798C1.72267 6.66664 1.80267 6.35731 1.92 6.07998ZM2.16 10.56C3.14133 10.9546 4.128 11.2213 5.12 11.36C5.248 12.2133 5.51467 13.0933 5.92 14C5.088 13.7226 4.34133 13.2853 3.68 12.688C3.02933 12.08 2.52267 11.3706 2.16 10.56ZM13.84 10.56C13.4773 11.3706 12.9653 12.08 12.304 12.688C11.6533 13.2853 10.912 13.7226 10.08 14C10.4853 13.0933 10.752 12.2133 10.88 11.36C12.1493 11.1786 13.136 10.912 13.84 10.56Z"})))}},1402:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{width:"12px",height:"13px",viewBox:"0 0 13 15",role:"presentation",title:t({id:"generic_icons.channel.private",defaultMessage:"Private Channel Icon"})},s.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},s.a.createElement("g",{transform:"translate(-116.000000, -175.000000)",fillRule:"nonzero",fill:"inherit"},s.a.createElement("g",{transform:"translate(95.000000, 0.000000)"},s.a.createElement("g",{transform:"translate(20.000000, 113.000000)"},s.a.createElement("g",{transform:"translate(1.000000, 62.000000)"},s.a.createElement("path",{d:"M12.0714286,6.5 L11.1428571,6.5 L11.1428571,4.64285714 C11.1428571,2.07814286 9.06471429,0 6.5,0 C3.93528571,0 1.85714286,2.07814286 1.85714286,4.64285714 L1.85714286,6.5 L0.928571429,6.5 C0.415071429,6.5 0,7.00792857 0,7.52142857 L0,13.9285714 C0,14.4420714 0.415071429,14.8571429 0.928571429,14.8571429 L12.0714286,14.8571429 C12.5849286,14.8571429 13,14.4420714 13,13.9285714 L13,7.52142857 C13,7.00792857 12.5849286,6.5 12.0714286,6.5 Z M6.5,1.85714286 C8.03585714,1.85714286 9.28571429,3.107 9.28571429,4.64285714 L9.28571429,6.5 L8.35714286,6.5 L4.64285714,6.5 L3.71428571,6.5 L3.71428571,4.64285714 C3.71428571,3.107 4.96414286,1.85714286 6.5,1.85714286 Z"}))))))))}},1403:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(){const{formatMessage:e}=Object(i.a)();return s.a.createElement("i",{className:"fa fa-angle-down",title:e({id:"generic_icons.dropdown",defaultMessage:"Dropdown Icon"})})}},1404:function(e,t,a){"use strict";a(70);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(14);a(2159);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends r.a.PureComponent{render(){const{name:e,url:t,size:a,withHover:n}=this.props,s=n?"":"no-hover",i=t||Object(o.Q)({display_name:e});let l;return l=i?r.a.createElement("div",{"data-testid":"teamIconImage",className:"TeamIcon__image TeamIcon__".concat(a),"aria-label":"Team Icon",style:{backgroundImage:"url('".concat(i,"')")}}):r.a.createElement("div",{"data-testid":"teamIconInitial",className:"TeamIcon__initials TeamIcon__initials__".concat(a),"aria-label":"Team Initials"},e?e.replace(/\s/g,"").substring(0,2):"??"),r.a.createElement("div",{className:"TeamIcon ".concat(s," TeamIcon__").concat(a)},r.a.createElement("div",{className:"TeamIcon__content ".concat(s)},l))}}l(c,"propTypes",{url:s.a.oneOfType([s.a.string,s.a.oneOf([null])]),name:s.a.string.isRequired,size:s.a.oneOf(["sm","md","lg"]),withHover:s.a.bool}),l(c,"defaultProps",{size:"md"}),t.a=c},1411:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return Z})),a.d(t,"a",(function(){return J})),a.d(t,"d",(function(){return Q})),a.d(t,"i",(function(){return $})),a.d(t,"c",(function(){return ee})),a.d(t,"f",(function(){return ae})),a.d(t,"g",(function(){return ne})),a.d(t,"e",(function(){return se})),a.d(t,"j",(function(){return ie})),a.d(t,"h",(function(){return re}));a(58),a(99),a(128),a(70),a(108),a(110),a(34),a(657);var n=a(91),s=a(6),i=a(9),r=a(659),o=a(40),l=a(1321),c=a(151),d=a(660),m=a(33),u=a(43),p=a(187),h=a(18),g=a(1861),b=a(19),f=a(8),_=a(21),C=a(15),y=a(11),E=a(26),v=a(109),w=a(1298),O=a(42),S=a(1281),T=a(1862),M=a(189),P=a(1296),N=a(98),I=a(1314),R=a(1282),A=a(266),j=a(80),x=a(190),L=a(23),k=a(1610),D=a(1851),U=a(0),q=a(188),H=a(14),F=a(2426),B=a(1847);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){W(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const z=L.a.dispatch,Y=L.a.getState,K={};function Z(){if(!window.WebSocket)return void console.log("Browser does not support websocket");const e=Object(C.getConfig)(Y());let t="";e.WebsocketURL?t=e.WebsocketURL:(t=new URL(Object(q.e)()),"https:"===t.protocol?t.protocol="wss:":t.protocol="ws:",/:\d+$/.test(t.host)||("wss:"===t.protocol?t.host+=":"+e.WebsocketSecurePort:t.host+=":"+e.WebsocketPort),t=t.toString()),t.length>0&&"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t+=b.Client4.getUrlVersion()+"/websocket",k.a.setEventCallback(ce),k.a.setFirstConnectCallback(oe),k.a.setReconnectCallback(()=>ee(!1)),k.a.setMissedEventCallback(()=>ee(!1)),k.a.setCloseCallback(le),k.a.initialize(t)}function J(){k.a.close()}const X={};function Q(e,t){X[e]=t}function $(e){Reflect.deleteProperty(X,e)}function ee(e=!0){e&&(J(),Z()),z({type:s.GeneralTypes.WEBSOCKET_SUCCESS,timestamp:Date.now()}),Object(D.c)(),Object.values(X).forEach(e=>{e&&"function"==typeof e&&e()});const t=Y();if(t.entities.teams.currentTeamId){const e=Object(y.getCurrentChannelId)(t),a=Object(E.getMostRecentPostIdInChannel)(t,e),n=Object(E.getPost)(t,a);z(Object(I.d)()),z(n?Object(P.p)(e,n.create_at):Object(m.getPosts)(e)),j.a(),z(p.getMyTeamUnreads())}t.websocket.lastDisconnectAt&&z(Object(h.checkForModifiedUsers)()),z(Object(T.b)()),z(Object(u.clearErrors)())}let te="";function ae(){clearInterval(te),te=setInterval(()=>{null!=Object(f.getCurrentUser)(Y())&&ee(!1)},9e5)}function ne(){clearInterval(te)}function se(e,t,a){K[e]||(K[e]={}),K[e][t]=a}function ie(e,t){const a=K[e];a&&Reflect.deleteProperty(a,t)}function re(e){Reflect.deleteProperty(K,e)}function oe(){z(Object(n.a)([{type:s.GeneralTypes.WEBSOCKET_SUCCESS,timestamp:Date.now()},Object(u.clearErrors)()]))}function le(e){e>7&&z(Object(u.logError)({type:"critical",message:U.h.WEBSOCKET_PORT_ERROR},!0)),z(Object(n.a)([{type:s.GeneralTypes.WEBSOCKET_FAILURE,timestamp:Date.now()},Object(T.a)()]))}function ce(t){switch(t.event){case U.L.POSTED:case U.L.EPHEMERAL_MESSAGE:de(t);break;case U.L.POST_EDITED:!function(e){const t=JSON.parse(e.data.post);z(Object(m.receivedPost)(t)),Object(m.getProfilesAndStatusesForPosts)([t],z,Y);const a=Object(y.getCurrentChannelId)(Y());a===e.broadcast.channel_id&&(z(Object(o.getChannelStats)(a)),window.isActive&&z(Object(o.viewChannel)(a)))}(t);break;case U.L.POST_DELETED:!function(e){const t=JSON.parse(e.data.post);z(Object(m.postDeleted)(t)),t.is_pinned&&z(Object(o.getChannelStats)(t.channel_id))}(t);break;case U.L.POST_UNREAD:!function(e){z({type:U.f.POST_UNREAD_SUCCESS,data:{lastViewedAt:e.data.last_viewed_at,channelId:e.broadcast.channel_id,msgCount:e.data.msg_count,mentionCount:e.data.mention_count}})}(t);break;case U.L.LEAVE_TEAM:!function(t){const a=Y(),i=[{type:s.UserTypes.RECEIVED_PROFILE_NOT_IN_TEAM,data:{id:t.data.team_id,user_id:t.data.user_id}},{type:s.TeamTypes.REMOVE_MEMBER_FROM_TEAM,data:{team_id:t.data.team_id,user_id:t.data.user_id}}],r=Object(y.getChannelsInTeam)(a),o=r&&r[t.data.team_id]||[];for(const e of o)i.push({type:s.ChannelTypes.REMOVE_MEMBER_FROM_CHANNEL,data:{id:e,user_id:t.data.user_id}});z(Object(n.a)(i));const l=Object(f.getCurrentUser)(a);if(l.id===t.data.user_id)z({type:s.TeamTypes.LEAVE_TEAM,data:{id:t.data.team_id}}),Object(_.getCurrentTeamId)(a)===t.data.team_id&&(e.location.pathname.startsWith("/admin_console")||Object(R.f)()),Object(H.bb)(l)&&z(Object(g.removeNotVisibleUsers)());else{const e=Object(_.getTeam)(a,t.data.team_id),i=Object(y.getChannelMembersInChannels)(a),r=Object.values(i).some(e=>e[t.data.user_id]);e&&Object(H.bb)(l)&&!r&&z(Object(n.a)([{type:s.UserTypes.PROFILE_NO_LONGER_VISIBLE,data:{user_id:t.data.user_id}},{type:s.TeamTypes.REMOVE_MEMBER_FROM_TEAM,data:{team_id:e.id,user_id:t.data.user_id}}]))}}(t);break;case U.L.UPDATE_TEAM:!function(e){z({type:s.TeamTypes.UPDATED_TEAM,data:JSON.parse(e.data.team)})}(t);break;case U.L.UPDATE_TEAM_SCHEME:z(p.getMyTeamMembers());break;case U.L.DELETE_TEAM:!function(e){const t=JSON.parse(e.data.team),a=L.a.getState(),{teams:i}=a.entities.teams;if(t&&i&&i[t.id]&&0===i[t.id].delete_at){const{currentUserId:e}=a.entities.users,{currentTeamId:i,myMembers:r}=a.entities.teams,o=Object.values(r),l=o.find(t=>t.user_id===e&&t.team_id===i);let c="";if(t&&l&&t.id===l.team_id){const e={};Object(_.getMyTeams)(a).forEach(t=>{e[t.id]=t});for(let a=0;a<o.length;a++){const n=o[a].team_id;if(e&&e[n]&&0===e[n].delete_at&&t.id!==n){c=n;break}}}if(z(Object(n.a)([{type:s.TeamTypes.RECEIVED_TEAM_DELETED,data:{id:t.id}},{type:s.TeamTypes.UPDATED_TEAM,data:t}])),c){z({type:s.TeamTypes.SELECT_TEAM,data:c});const e=Y(),t=Object(y.getRedirectChannelNameForTeam)(e,c);N.a.push("".concat(Object(_.getCurrentTeamUrl)(e),"/channels/").concat(t))}else N.a.push("/")}}(t);break;case U.L.ADDED_TO_TEAM:!async function(e){await z(p.getTeam(e.data.team_id)),await z(p.getMyTeamMembers()),await z(p.getMyTeamUnreads())}(t);break;case U.L.USER_ADDED:z(function(e){return async(t,a)=>{const n=a(),i=Object(C.getConfig)(n),r=Object(C.getLicense)(n),l="true"===i.ExperimentalTimezone,c=Object(y.getCurrentChannelId)(n);c===e.broadcast.channel_id&&(t(Object(o.getChannelStats)(c)),t({type:s.UserTypes.RECEIVED_PROFILE_IN_CHANNEL,data:{id:e.broadcast.channel_id,user_id:e.data.user_id}}),"true"===(null==r?void 0:r.IsLicensed)&&"true"===(null==r?void 0:r.LDAPGroups)&&t(Object(o.getChannelMemberCountsByGroup)(c,l)));const d=Object(_.getCurrentTeamId)(a()),m=Object(f.getCurrentUserId)(a());d===e.data.team_id&&m===e.data.user_id&&t(me(e.broadcast.channel_id)),"true"===r.Cloud&&Object(f.isCurrentUserSystemAdmin)(a())&&t(Object(w.getStandardAnalytics)())}}(t));break;case U.L.USER_REMOVED:!async function(e){const t=Y(),a=Object(y.getCurrentChannel)(t)||{},r=Object(f.getCurrentUser)(t),l=Object(C.getConfig)(t),c=Object(C.getLicense)(t),d="true"===l.ExperimentalTimezone;if(e.broadcast.user_id===r.id){z(Object(I.d)());const n=Object(O.o)(t);if(e.data.channel_id===n&&z(Object(M.b)()),e.data.channel_id===a.id)if(e.data.remover_id===e.broadcast.user_id)N.a.push(Object(_.getCurrentRelativeTeamUrl)(t)),await z({type:s.ChannelTypes.LEAVE_CHANNEL,data:{id:e.data.channel_id,user_id:e.broadcast.user_id}});else{Object(f.getUser)(t,e.data.remover_id)||z(Object(h.getUser)(e.data.remover_id)),z(Object(S.b)({modalId:U.y.REMOVED_FROM_CHANNEL,dialogType:F.a,dialogProps:{channelName:a.display_name,removerId:e.data.remover_id}})),await z({type:s.ChannelTypes.LEAVE_CHANNEL,data:{id:e.data.channel_id,user_id:e.broadcast.user_id}}),Object(R.f)()}Object(H.bb)(r)&&z(Object(g.removeNotVisibleUsers)())}else e.broadcast.channel_id===a.id&&(z(Object(o.getChannelStats)(a.id)),z({type:s.UserTypes.RECEIVED_PROFILE_NOT_IN_CHANNEL,data:{id:e.broadcast.channel_id,user_id:e.data.user_id}}),"true"===(null==c?void 0:c.IsLicensed)&&"true"===(null==c?void 0:c.LDAPGroups)&&z(Object(o.getChannelMemberCountsByGroup)(a.id,d)));if(e.broadcast.user_id!==r.id){const a=Object(y.getChannel)(t,e.broadcast.channel_id),i=Object(y.getChannelMembersInChannels)(t),o=Object.values(i).some(t=>t[e.data.user_id]);if(a&&Object(H.bb)(r)&&!o){const t=[{type:s.UserTypes.PROFILE_NO_LONGER_VISIBLE,data:{user_id:e.data.user_id}},{type:s.TeamTypes.REMOVE_MEMBER_FROM_TEAM,data:{team_id:a.team_id,user_id:e.data.user_id}}];z(Object(n.a)(t))}}const m=e.broadcast.channel_id||e.data.channel_id,u=e.broadcast.user_id||e.data.user_id,p=Object(y.getChannel)(t,m);!p||Object(v.haveISystemPermission)(t,{permission:i.Permissions.VIEW_MEMBERS})||Object(v.haveITeamPermission)(t,{permission:i.Permissions.VIEW_MEMBERS,team:p.team_id})||z(Object(n.a)([{type:s.UserTypes.RECEIVED_PROFILE_NOT_IN_TEAM,data:{id:p.team_id,user_id:u}},{type:s.TeamTypes.REMOVE_MEMBER_FROM_TEAM,data:{team_id:p.team_id,user_id:u}}]))}(t);break;case U.L.USER_UPDATED:!async function(e){const t=Y(),a=Object(f.getCurrentUser)(t),n=e.data.user,i=Object(C.getConfig)(t),r=Object(C.getLicense)(t),l=Object(H.bb)(n),c="true"===i.ExperimentalTimezone,d="true"===(null==r?void 0:r.IsLicensed)&&"true"===(null==r?void 0:r.LDAPGroups);if(l||c&&d){let e=Object(y.getMembersInCurrentChannel)(t);const a=Object(y.getCurrentChannelId)(t);let s=e&&e[n.id];s||(await z(Object(o.getChannelMember)(a,n.id)),e=Object(y.getMembersInCurrentChannel)(Y()),s=e&&e[n.id]),s&&(d&&c&&z(Object(o.getChannelMemberCountsByGroup)(a,!0)),Object(H.bb)(n)&&z(Object(o.getChannelStats)(a)))}a.id===n.id?n.update_at>a.update_at&&Object(h.getMe)()(z,Y):z({type:s.UserTypes.RECEIVED_PROFILE,data:n})}(t);break;case U.L.ROLE_ADDED:!function(e){const t=JSON.parse(e.data.role);z({type:s.RoleTypes.RECEIVED_ROLE,data:t})}(t);break;case U.L.ROLE_REMOVED:!function(e){const t=JSON.parse(e.data.role);z({type:s.RoleTypes.ROLE_DELETED,data:t})}(t);break;case U.L.CHANNEL_SCHEME_UPDATED:!function(e){z(Object(o.getMyChannelMember)(e.broadcast.channel_id))}(t);break;case U.L.MEMBERROLE_UPDATED:!function(e){const t=JSON.parse(e.data.member),a=t.roles.split(" ");z(Object(c.loadRolesIfNeeded)(a)),z({type:s.TeamTypes.RECEIVED_MY_TEAM_MEMBER,data:t})}(t);break;case U.L.ROLE_UPDATED:!function(e){const t=JSON.parse(e.data.role);z({type:s.RoleTypes.RECEIVED_ROLE,data:t})}(t);break;case U.L.CHANNEL_CREATED:z(function(e){return async(t,a)=>{const n=e.data.channel_id,s=e.data.team_id,i=a();if(Object(_.getCurrentTeamId)(i)===s){let e=Object(y.getChannel)(i,n);e||(await t(Object(o.getChannelAndMyMember)(n)),e=Object(y.getChannel)(a(),n)),t(Object(r.addChannelToInitialCategory)(e,!1))}}}(t));break;case U.L.CHANNEL_DELETED:!function(e){const t=Y(),a="true"===Object(C.getConfig)(t).ExperimentalViewArchivedChannels;if(Object(y.getCurrentChannelId)(t)===e.data.channel_id&&!a){const e=Object(_.getCurrentRelativeTeamUrl)(t),a=Object(_.getCurrentTeamId)(t),n=Object(y.getRedirectChannelNameForTeam)(t,a);N.a.push(e+"/channels/"+n)}z({type:s.ChannelTypes.RECEIVED_CHANNEL_DELETED,data:{id:e.data.channel_id,team_id:e.broadcast.team_id,deleteAt:e.data.delete_at,viewArchivedChannels:a}})}(t);break;case U.L.CHANNEL_UNARCHIVED:!function(e){const t=Y(),a="true"===Object(C.getConfig)(t).ExperimentalViewArchivedChannels;z({type:s.ChannelTypes.RECEIVED_CHANNEL_UNARCHIVED,data:{id:e.data.channel_id,team_id:e.broadcast.team_id,viewArchivedChannels:a}})}(t);break;case U.L.CHANNEL_CONVERTED:!function(e){const t=e.data.channel_id;if(t){const e=Object(y.getChannel)(Y(),t);e&&z({type:s.ChannelTypes.RECEIVED_CHANNEL,data:V(V({},e),{},{type:i.General.PRIVATE_CHANNEL})})}}(t);break;case U.L.CHANNEL_UPDATED:z(function(e){return(t,a)=>{const n=JSON.parse(e.data.channel);t({type:s.ChannelTypes.RECEIVED_CHANNEL,data:n});const i=a();n.id===Object(y.getCurrentChannelId)(i)&&N.a.replace("".concat(Object(_.getCurrentRelativeTeamUrl)(i),"/channels/").concat(n.name))}}(t));break;case U.L.CHANNEL_MEMBER_UPDATED:!function(e){const t=JSON.parse(e.data.channelMember),a=t.roles.split(" ");z(Object(c.loadRolesIfNeeded)(a)),z({type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,data:t})}(t);break;case U.L.DIRECT_ADDED:case U.L.GROUP_ADDED:z(function(e){return me(e.broadcast.channel_id)}(t));break;case U.L.PREFERENCE_CHANGED:!function(e){const t=JSON.parse(e.data.preference);z({type:s.PreferenceTypes.RECEIVED_PREFERENCES,data:[t]}),ue(t)&&Object(x.m)()}(t);break;case U.L.PREFERENCES_CHANGED:!function(e){const t=JSON.parse(e.data.preferences);z({type:s.PreferenceTypes.RECEIVED_PREFERENCES,data:t}),-1!==t.findIndex(ue)&&Object(x.m)()}(t);break;case U.L.PREFERENCES_DELETED:!function(e){const t=JSON.parse(e.data.preferences);z({type:s.PreferenceTypes.DELETED_PREFERENCES,data:t})}(t);break;case U.L.TYPING:z(function(e){return async(t,a)=>{const n=a(),s=Object(C.getConfig)(n),r=Object(f.getCurrentUserId)(n),o=e.data.user_id,l={id:e.broadcast.channel_id+e.data.parent_id,userId:o,now:Date.now()};if(t({type:i.WebsocketEvents.TYPING,data:l}),setTimeout(()=>{t({type:i.WebsocketEvents.STOP_TYPING,data:l})},parseInt(s.TimeBetweenUserTypingUpdatesMilliseconds,10)),o!==r){const e=await t(Object(h.getMissingProfilesByIds)([o]));if(e.data&&e.data.length>0)return}Object(f.getStatusForUserId)(n,o)!==i.General.ONLINE&&t(Object(h.getStatusesByIds)([o]))}}(t));break;case U.L.STATUS_CHANGED:!function(e){z({type:s.UserTypes.RECEIVED_STATUSES,data:[{user_id:e.data.user_id,status:e.data.status}]})}(t);break;case U.L.HELLO:!function(e){Object(d.setServerVersion)(e.data.server_version)(z,Y)}(t);break;case U.L.REACTION_ADDED:!function(e){const t=JSON.parse(e.data.reaction);z(Object(m.getCustomEmojiForReaction)(t.emoji_name)),z({type:s.PostTypes.RECEIVED_REACTION,data:t})}(t);break;case U.L.REACTION_REMOVED:!function(e){const t=JSON.parse(e.data.reaction);z({type:s.PostTypes.REACTION_DELETED,data:t})}(t);break;case U.L.EMOJI_ADDED:!function(e){const t=JSON.parse(e.data.emoji);z({type:s.EmojiTypes.RECEIVED_CUSTOM_EMOJI,data:t})}(t);break;case U.L.CHANNEL_VIEWED:!function(e){window.isActive&&Object(y.getCurrentChannelId)(Y())===e.data.channel_id||Object(f.getCurrentUserId)(Y())!==e.broadcast.user_id||z(Object(o.markChannelAsRead)(e.data.channel_id,"",!1))}(t);break;case U.L.PLUGIN_ENABLED:!function(e){const t=e.data.manifest;Object(D.b)(t).catch(e=>{console.error(e.message)})}(t);break;case U.L.PLUGIN_DISABLED:!function(e){const t=e.data.manifest;Object(D.d)(t)}(t);break;case U.L.USER_ROLE_UPDATED:!function(t){const a=L.a.getState().entities.users.profiles[t.data.user_id];if(a){const n=t.data.roles,i=n.split(" "),r=a.roles.includes(U.l.PERMISSIONS_SYSTEM_ADMIN)&&!n.includes(U.l.PERMISSIONS_SYSTEM_ADMIN);L.a.dispatch({type:s.UserTypes.RECEIVED_PROFILE,data:V(V({},a),{},{roles:n})}),z(Object(c.loadRolesIfNeeded)(i)),r&&e.location.pathname.startsWith("/admin_console")&&Object(R.f)()}}(t);break;case U.L.CONFIG_CHANGED:!function(e){L.a.dispatch({type:s.GeneralTypes.CLIENT_CONFIG_RECEIVED,data:e.data.config})}(t);break;case U.L.LICENSE_CHANGED:!function(e){L.a.dispatch({type:s.GeneralTypes.CLIENT_LICENSE_RECEIVED,data:e.data.license})}(t);break;case U.L.PLUGIN_STATUSES_CHANGED:!function(e){L.a.dispatch({type:s.AdminTypes.RECEIVED_PLUGIN_STATUSES,data:e.data.plugin_statuses})}(t);break;case U.L.OPEN_DIALOG:!function(e){const t=e.data&&e.data.dialog||{},a=JSON.parse(t);L.a.dispatch({type:s.IntegrationTypes.RECEIVED_DIALOG,data:a});const n=Y().entities.integrations.dialogTriggerId;if(a.trigger_id!==n)return;L.a.dispatch(Object(S.b)({modalId:U.y.INTERACTIVE_DIALOG,dialogType:B.a}))}(t);break;case U.L.RECEIVED_GROUP:!function(e){const t=JSON.parse(e.data.group);z(Object(n.a)([{type:s.GroupTypes.RECEIVED_GROUP,data:t},{type:s.GroupTypes.RECEIVED_MY_GROUPS,data:[t]}]))}(t);break;case U.L.RECEIVED_GROUP_ASSOCIATED_TO_TEAM:!function(e){L.a.dispatch({type:s.GroupTypes.RECEIVED_GROUP_ASSOCIATED_TO_TEAM,data:{teamID:e.broadcast.team_id,groups:[{id:e.data.group_id}]}})}(t);break;case U.L.RECEIVED_GROUP_NOT_ASSOCIATED_TO_TEAM:!function(e){L.a.dispatch({type:s.GroupTypes.RECEIVED_GROUP_NOT_ASSOCIATED_TO_TEAM,data:{teamID:e.broadcast.team_id,groups:[{id:e.data.group_id}]}})}(t);break;case U.L.RECEIVED_GROUP_ASSOCIATED_TO_CHANNEL:!function(e){L.a.dispatch({type:s.GroupTypes.RECEIVED_GROUP_ASSOCIATED_TO_CHANNEL,data:{channelID:e.broadcast.channel_id,groups:[{id:e.data.group_id}]}})}(t);break;case U.L.RECEIVED_GROUP_NOT_ASSOCIATED_TO_CHANNEL:!function(e){L.a.dispatch({type:s.GroupTypes.RECEIVED_GROUP_NOT_ASSOCIATED_TO_CHANNEL,data:{channelID:e.broadcast.channel_id,groups:[{id:e.data.group_id}]}})}(t);break;case U.L.WARN_METRIC_STATUS_RECEIVED:!function(e){var t=JSON.parse(e.data.warnMetricStatus);let a;t.id===U.X.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?a=U.h.WARN_METRIC_STATUS_NUMBER_OF_USERS:t.id===U.X.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(a=U.h.WARN_METRIC_STATUS_NUMBER_OF_POSTS);L.a.dispatch(Object(n.a)([{type:s.GeneralTypes.WARN_METRIC_STATUS_RECEIVED,data:t},{type:U.f.SHOW_NOTICE,data:[a]}]))}(t);break;case U.L.WARN_METRIC_STATUS_REMOVED:!function(e){L.a.dispatch({type:s.GeneralTypes.WARN_METRIC_STATUS_REMOVED,data:{id:e.data.warnMetricId}})}(t);break;case U.L.SIDEBAR_CATEGORY_CREATED:z(function(e){return(t,a)=>{const n=a();e.broadcast.team_id===Object(_.getCurrentTeamId)(n)&&t(Object(r.fetchMyCategories)(e.broadcast.team_id))}}(t));break;case U.L.SIDEBAR_CATEGORY_UPDATED:z(function(e){return(t,a)=>{const n=a();e.broadcast.team_id===Object(_.getCurrentTeamId)(n)&&t(Object(r.fetchMyCategories)(e.broadcast.team_id))}}(t));break;case U.L.SIDEBAR_CATEGORY_DELETED:z(function(e){return(t,a)=>{const n=a();e.broadcast.team_id===Object(_.getCurrentTeamId)(n)&&t(Object(r.fetchMyCategories)(e.broadcast.team_id))}}(t));break;case U.L.SIDEBAR_CATEGORY_ORDER_UPDATED:z(function(e){return Object(r.receivedCategoryOrder)(e.broadcast.team_id,e.data.order)}(t));break;case U.L.USER_ACTIVATION_STATUS_CHANGED:z((e,t)=>{const a=t();"true"===Object(C.getLicense)(a).Cloud&&Object(f.isCurrentUserSystemAdmin)(a)&&e(Object(w.getStandardAnalytics)())});break;case U.L.CLOUD_PAYMENT_STATUS_UPDATED:z(e=>e(Object(l.getCloudSubscription)()))}Object.values(K).forEach(e=>{e&&e.hasOwnProperty(t.event)&&"function"==typeof e[t.event]&&e[t.event](t)})}const de=function(e){let t,a=[],i=0;const r=()=>{t=null,a.length>0&&z(function(e){return(t,a)=>{const s=e.map(e=>JSON.parse(e.data.post)),i=s.map(m.receivedNewPost);t(Object(n.a)(i)),t(Object(m.getThreadsForPosts)(s)),Object(m.getProfilesAndStatusesForPosts)(s,t,a)}}(a)),a=[],i=0};return function(n){t&&i>4?(a.push(n)>200&&(a=[],console.log("channel broken because of too many incoming messages")),clearTimeout(t),t=setTimeout(r,e)):(i+=1,z(function(e){return(t,a)=>{const n=JSON.parse(e.data.post);t(Object(A.f)(n,e)),Object(m.getProfilesAndStatusesForPosts)([n],t,a),n.user_id!==Object(f.getCurrentUserId)(a())&&!Object(f.getIsManualStatusForUserId)(a(),n.user_id)&&e.data.set_online&&t({type:s.UserTypes.RECEIVED_STATUSES,data:[{user_id:n.user_id,status:U.U.ONLINE}]})}}(n)),clearTimeout(t),t=setTimeout(r,e))}}(100);function me(e){return async t=>{const{data:a,error:n}=await t(Object(o.getChannelAndMyMember)(e));n||t(Object(r.addChannelToInitialCategory)(a.channel))}}function ue(e){return e.category===U.l.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW&&"true"===e.value}}).call(this,a(31))},1412:function(e,t,a){"use strict";function n(e){return e.views.admin.navigationBlock.blocked}function s(e){return e.views.admin.navigationBlock.showNavigationPrompt}function i(e){return e.views.admin.navigationBlock.onNavigationConfirmed}a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i}))},1421:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(128),a(108),a(34);function n(e,t,a=""){if(!e)return[];const n=a.split(",");return[...e.filter(e=>null!==e&&n.includes(e.id)).sort((e,t)=>n.indexOf(e.id)-n.indexOf(t.id)),...e.filter(e=>null!==e&&!n.includes(e.id)).sort((e,a)=>function(e,t,a){return null!==t.display_name&&t.display_name!==a.display_name?t.display_name.localeCompare(a.display_name,e,{numeric:!0}):t.name.localeCompare(a.name,e,{numeric:!0})}(t,e,a))].filter(e=>e&&!e.delete_at>0&&null!=e.display_name)}},1422:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(185);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1270),l=a.n(o);a(1681);function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e){class t extends r.a.PureComponent{render(){const t=this.props,{id:a,show:n,icon:s,text:i}=t,o=c(t,["id","show","icon","text"]);if(!n)return null;let d=i;return s&&(d=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"icon"},s),i)),r.a.createElement("li",{className:l()("MenuItem",{"MenuItem--with-icon":s}),role:"menuitem",id:a},r.a.createElement(e,Object.assign({text:d},o)))}}return d(t,"propTypes",{show:s.a.bool,id:s.a.string,icon:s.a.node,text:s.a.node}),d(t,"defaultProps",{show:!0}),d(t,"displayName",void 0),t}},1424:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(185);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(14),l=a(1700);function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends r.a.PureComponent{constructor(e){super(e),d(this,"dimensionsAvailable",e=>e&&e.width&&e.height),d(this,"isSmallImage",(e,t)=>e<48||t<48),d(this,"handleLoad",e=>{if(this.mounted){const t=e.target,a=this.isSmallImage(t.naturalWidth,t.naturalHeight);this.setState({loaded:!0,error:!1,isSmallImage:a,imageWidth:t.naturalWidth},()=>{this.props.onImageLoaded&&t.naturalHeight&&this.props.onImageLoaded({height:t.naturalHeight,width:t.naturalWidth})})}}),d(this,"handleError",()=>{this.mounted&&(this.props.onImageLoadFail&&this.props.onImageLoadFail(),this.setState({error:!0}))}),d(this,"onEnterKeyDown",e=>{"Enter"===e.key&&this.props.onClick(e)}),d(this,"renderImageLoaderIfNeeded",()=>this.state.loaded||!this.props.showLoader||this.state.error?null:r.a.createElement("div",{style:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"}},r.a.createElement(l.a,{containerClass:"file__image-loading"}))),d(this,"renderImageWithContainerIfNeeded",()=>{const e=this.props,{fileInfo:t,src:a}=e,n=c(e,["fileInfo","src"]);Reflect.deleteProperty(n,"showLoader"),Reflect.deleteProperty(n,"onImageLoaded"),Reflect.deleteProperty(n,"onImageLoadFail"),Reflect.deleteProperty(n,"dimensions"),Reflect.deleteProperty(n,"handleSmallImageContainer");let s=Object(o.ob)("file_attachment.thumbnail","file thumbnail");t&&(s+=" ".concat(t.name).toLowerCase());const i=r.a.createElement("img",Object.assign({},n,{"aria-label":s,tabIndex:"0",onKeyDown:this.onEnterKeyDown,className:this.props.className+(this.props.handleSmallImageContainer&&this.state.isSmallImage?" small-image--inside-container":""),src:a,onError:this.handleError,onLoad:this.handleLoad}));if(this.props.handleSmallImageContainer&&this.state.isSmallImage){let e="small-image__container cursor--pointer a11y--active";return this.state.imageWidth<48&&(e+=" small-image__container--min-width"),r.a.createElement("div",{onClick:this.props.onClick,className:e,style:this.state.imageWidth>48?{width:this.state.imageWidth+2}:{}},i)}return i}),d(this,"renderImageOrPlaceholder",()=>{const{dimensions:e}=this.props;let t;this.dimensionsAvailable(e)&&!this.state.loaded&&(t=r.a.createElement("div",{className:"image-loading__container ".concat(this.props.className),style:{maxWidth:e.width}},this.renderImageLoaderIfNeeded(),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.width," ").concat(e.height),style:{maxHeight:e.height,maxWidth:e.width,verticalAlign:"middle"}})));const a=!this.dimensionsAvailable(e)||this.state.loaded;return r.a.createElement(r.a.Fragment,null,t,r.a.createElement("div",{className:"file-preview__button",style:{display:a?"initial":"none"}},this.renderImageWithContainerIfNeeded()))});const{dimensions:t}=e;this.state={loaded:!1,isSmallImage:!!this.dimensionsAvailable(t)&&this.isSmallImage(t.width,t.height)},this.heightTimeout=0}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){return this.renderImageOrPlaceholder()}}d(m,"propTypes",{src:s.a.string.isRequired,dimensions:s.a.object,fileInfo:s.a.object,showLoader:s.a.bool,onImageLoaded:s.a.func,onImageLoadFail:s.a.func,onClick:s.a.func,className:s.a.string,handleSmallImageContainer:s.a.bool})},1426:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(185);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1270),l=a.n(o);a(1567);function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends r.a.PureComponent{constructor(e){super(e),d(this,"onFocus",e=>{const{onFocus:t}=this.props;this.setState({focused:!0}),t&&t(e)}),d(this,"onBlur",e=>{const{onBlur:t}=this.props;this.setState({focused:!1}),this.validateInput(),t&&t(e)}),d(this,"onChange",e=>{const{onChange:t}=this.props;this.setState({error:""}),t&&t(e)}),d(this,"validateInput",()=>{const{value:e,required:t}=this.props;this.setState({error:""}),!t||null!=e&&""!==e||this.setState({error:"This field is required"})}),this.state={focused:!1,error:""}}renderError(e){return e?r.a.createElement("div",{className:"Input___error"},r.a.createElement("i",{className:"icon icon-alert-outline"}),r.a.createElement("span",null,e)):null}renderInfo(){return this.props.info?r.a.createElement("div",{className:"Input___info"},this.props.info):null}render(){const e=this.props,{value:t,placeholder:a,className:n,error:s,hasError:i,addon:o,name:d,textPrefix:m}=e,u=c(e,["value","placeholder","className","error","hasError","addon","name","textPrefix"]),{focused:p,error:h}=this.state,g=Boolean(p||t),b=s||h;return r.a.createElement("div",{className:"Input_container"},r.a.createElement("fieldset",{className:l()("Input_fieldset",n,{Input_fieldset___error:b||i,Input_fieldset___legend:g})},r.a.createElement("legend",{className:l()("Input_legend",{Input_legend___focus:g})},g?a:null),r.a.createElement("div",{className:"Input_wrapper"},m&&r.a.createElement("span",null,m),r.a.createElement("input",Object.assign({id:"input_".concat(d),className:l()("Input form-control",n,{Input__focus:g}),value:t,placeholder:p?"":a,name:d},u,{onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange}))),o),b?this.renderError(b):this.renderInfo())}}d(m,"propTypes",{info:s.a.string,error:s.a.string,required:s.a.bool,hasError:s.a.bool,addon:s.a.element,textPrefix:s.a.string})},1427:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 17 17",role:"img","aria-label":t({id:"generic_icons.search",defaultMessage:"Search Icon"})},s.a.createElement("path",{d:"M16.398 15.138L13.014 11.754C13.458 11.178 13.8 10.548 14.04 9.86399C14.28 9.14399 14.4 8.40599 14.4 7.64999C14.4 6.42599 14.094 5.29199 13.482 4.24799C12.882 3.22799 12.072 2.41799 11.052 1.81799C10.008 1.20599 8.874 0.899988 7.65 0.899988C6.426 0.899988 5.292 1.20599 4.248 1.81799C3.228 2.41799 2.418 3.22799 1.818 4.24799C1.206 5.29199 0.9 6.42599 0.9 7.64999C0.9 8.87399 1.206 10.008 1.818 11.052C2.418 12.072 3.228 12.882 4.248 13.482C5.292 14.094 6.426 14.4 7.65 14.4C8.406 14.4 9.138 14.274 9.846 14.022C10.53 13.794 11.16 13.458 11.736 13.014L15.138 16.398C15.306 16.566 15.516 16.65 15.768 16.65C16.02 16.65 16.23 16.56 16.398 16.38C16.566 16.212 16.65 16.008 16.65 15.768C16.65 15.528 16.566 15.318 16.398 15.138ZM2.7 7.64999C2.7 6.74999 2.922 5.92199 3.366 5.16599C3.81 4.40999 4.41 3.80999 5.166 3.36599C5.922 2.92199 6.75 2.69999 7.65 2.69999C8.55 2.69999 9.378 2.92199 10.134 3.36599C10.89 3.80999 11.49 4.40999 11.934 5.16599C12.378 5.92199 12.6 6.74999 12.6 7.64999C12.6 8.54999 12.378 9.37799 11.934 10.134C11.49 10.89 10.89 11.49 10.134 11.934C9.378 12.378 8.55 12.6 7.65 12.6C6.75 12.6 5.922 12.378 5.166 11.934C4.41 11.49 3.81 10.89 3.366 10.134C2.922 9.37799 2.7 8.54999 2.7 7.64999Z"})))}},1428:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(5),s=a.n(n),i=a(1308),r=a(12);function o(){return s.a.createElement(i.a,{className:"fa fa-check",title:{id:Object(r.b)("generic_icons.success"),defaultMessage:"Success Icon"}})}},1429:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(){const{formatMessage:e}=Object(i.a)();return s.a.createElement("i",{className:"fa fa-angle-left",title:e({id:"generic_icons.back",defaultMessage:"Back Icon"})})}},1443:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1639);function l(e){const{formatMessage:t}=Object(o.a)();return r.a.createElement("span",e,r.a.createElement("svg",{width:"13px",height:"13px",viewBox:"0 0 12 12",style:c,role:"img","aria-label":t({id:"mobile.set_status.away.icon",defaultMessage:"Away Icon"})},r.a.createElement("path",{className:"away--icon",d:"M9.081,5.712C9.267,5.712 9.417,5.863 9.417,6.048L9.417,9.086L11.864,10.499C12.025,10.592 12.08,10.797 11.987,10.958L11.482,11.832C11.39,11.993 11.184,12.048 11.023,11.955L7.904,10.154C7.788,10.087 7.727,9.961 7.737,9.836C7.736,9.827 7.736,9.818 7.736,9.809L7.736,6.048C7.736,5.863 7.886,5.712 8.072,5.712L9.081,5.712ZM4.812,11.513L4.605,11.513C2.325,11.41 0.253,10.374 0.046,9.027C-0.058,8.923 0.046,8.509 0.046,8.405C0.15,7.576 0.357,6.437 0.771,5.815C0.978,5.401 2.015,5.297 2.015,5.297C2.015,5.297 2.015,7.369 4.605,7.369L5.019,7.369C4.915,7.784 4.812,8.198 4.812,8.612C4.812,9.648 5.226,10.581 5.848,11.41C5.537,11.513 5.123,11.513 4.812,11.513ZM4.605,0.117C6.034,0.117 7.195,1.277 7.195,2.707C7.195,4.136 6.034,5.297 4.605,5.297C3.175,5.297 2.015,4.136 2.015,2.707C2.015,1.277 3.175,0.117 4.605,0.117Z"})))}const c={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421};var d=a(1731);function m(e){const{formatMessage:t}=Object(o.a)();return r.a.createElement("span",e,r.a.createElement("svg",{x:"0px",y:"0px",width:"13px",height:"13px",viewBox:"-299 391 12 12",style:u,role:"img","aria-label":t({id:"mobile.set_status.dnd.icon",defaultMessage:"Do Not Disturb Icon"})},r.a.createElement("g",null,r.a.createElement("ellipse",{className:"dnd--icon",cx:"-294.6",cy:"394",rx:"2.5",ry:"2.5"}),r.a.createElement("path",{className:"dnd--icon",d:"M-293.8,399.4c0-0.4,0.1-0.7,0.2-1c-0.3,0.1-0.6,0.2-1,0.2c-2.5,0-2.5-2-2.5-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5 c0,0.1-0.1,0.5,0,0.6c0.2,1.3,2.2,2.3,4.4,2.4c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0c0.7,0,1.4-0.1,2-0.3 C-293.3,401.5-293.8,400.5-293.8,399.4z"})),r.a.createElement("path",{className:"dnd--icon",d:"M-287,400c0,0.1-0.1,0.1-0.1,0.1l-4.9,0c-0.1,0-0.1-0.1-0.1-0.1v-1.6c0-0.1,0.1-0.1,0.1-0.1l4.9,0c0.1,0,0.1,0.1,0.1,0.1 V400z"})))}const u={enableBackground:"new -299 391 12 12"};var p=a(1732);function h(e){const{formatMessage:t}=Object(o.a)();return r.a.createElement("span",e,r.a.createElement("svg",{x:"0px",y:"0px",width:"13px",height:"13px",viewBox:"-299 391 12 12",style:g,role:"img","aria-label":t({id:"mobile.set_status.offline.icon",defaultMessage:"Offline Icon"})},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("ellipse",{className:"offline--icon",cx:"-294.5",cy:"394",rx:"2.5",ry:"2.5"}),r.a.createElement("path",{className:"offline--icon",d:"M-294.3,399.7c0-0.4,0.1-0.8,0.2-1.2c-0.1,0-0.2,0-0.4,0c-2.5,0-2.5-2-2.5-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5 c0,0.1-0.1,0.5,0,0.6c0.2,1.3,2.2,2.3,4.4,2.4h0.1h0.1c0.3,0,0.7,0,1-0.1C-293.9,401.6-294.3,400.7-294.3,399.7z"}))),r.a.createElement("g",null,r.a.createElement("path",{className:"offline--icon",d:"M-288.9,399.4l1.8-1.8c0.1-0.1,0.1-0.3,0-0.3l-0.7-0.7c-0.1-0.1-0.3-0.1-0.3,0l-1.8,1.8l-1.8-1.8c-0.1-0.1-0.3-0.1-0.3,0 l-0.7,0.7c-0.1,0.1-0.1,0.3,0,0.3l1.8,1.8l-1.8,1.8c-0.1,0.1-0.1,0.3,0,0.3l0.7,0.7c0.1,0.1,0.3,0.1,0.3,0l1.8-1.8l1.8,1.8 c0.1,0.1,0.3,0.1,0.3,0l0.7-0.7c0.1-0.1,0.1-0.3,0-0.3L-288.9,399.4z"}))))}const g={enableBackground:"new -299 391 12 12"};var b=a(1733);function f(e){const{formatMessage:t}=Object(o.a)();return r.a.createElement("span",e,r.a.createElement("svg",{x:"0px",y:"0px",width:"13px",height:"13px",viewBox:"-243 245 12 12",style:_,role:"img","aria-label":t({id:"mobile.set_status.online.icon",defaultMessage:"Online Icon"})},r.a.createElement("g",null,r.a.createElement("path",{className:"online--icon",d:"M-236,250.5C-236,250.5-236,250.5-236,250.5C-236,250.5-236,250.5-236,250.5C-236,250.5-236,250.5-236,250.5z"}),r.a.createElement("ellipse",{className:"online--icon",cx:"-238.5",cy:"248",rx:"2.5",ry:"2.5"})),r.a.createElement("path",{className:"online--icon",d:"M-238.9,253.8c0-0.4,0.1-0.9,0.2-1.3c-2.2-0.2-2.2-2-2.2-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5c0,0.1-0.1,0.5,0,0.6 c0.2,1.3,2.2,2.3,4.4,2.4c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0C-238.7,255.7-238.9,254.8-238.9,253.8z"}),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{className:"online--icon",d:"M-232.3,250.1l1.3,1.3c0,0,0,0.1,0,0.1l-4.1,4.1c0,0,0,0-0.1,0c0,0,0,0,0,0l-2.7-2.7c0,0,0-0.1,0-0.1l1.2-1.2 c0,0,0.1,0,0.1,0l1.4,1.4l2.9-2.9C-232.4,250.1-232.3,250.1-232.3,250.1z"})))))}const _={enableBackground:"new -243 245 12 12"};var C=a(1734);function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class E extends r.a.PureComponent{render(){const{button:e,status:t,type:a}=this.props;if(!t)return null;let n,s="status "+this.props.className;e&&(s=this.props.className||"");const i={className:s};return n="avatar"===a?"online"===t?f:"away"===t?l:"dnd"===t?m:h:"online"===t?C.a:"away"===t?d.a:"dnd"===t?p.a:b.a,r.a.createElement(n,i)}}y(E,"propTypes",{button:s.a.bool,status:s.a.string,className:s.a.string,type:s.a.string}),y(E,"defaultProps",{className:"",button:!1})},1444:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={};a.r(n),a.d(n,"TODAY_YESTERDAY",(function(){return S})),a.d(n,"TODAY_TITLE_CASE",(function(){return T})),a.d(n,"YESTERDAY_TITLE_CASE",(function(){return M})),a.d(n,"STANDARD_UNITS",(function(){return P}));var s=a(264),i=a(8),r=a(195),o=a(196),l=a(22),c=a(124),d=a(0),m=(a(99),a(34),a(127)),u=a.n(m),p=a(5),h=a.n(p),g=a(1267),b=a(269),f=a(159),_=a(146),C=a.n(_),y=a(1696);function E(e,t,a){return"function"==typeof e?e(t,a):e}a(185);function v(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}const w=e=>{let{value:t,children:a,"aria-label":n=t.toLocaleString()}=e,s=v(e,["value","children","aria-label"]);return h.a.createElement("time",Object.assign({},s,{"aria-label":n,dateTime:t.toISOString()}),a)};w.propTypes={value:u.a.instanceOf(Date).isRequired,children:u.a.node};var O=Object(p.memo)(w);const S={within:["day",-1],display:["day"]},T={equals:["day",0],display:h.a.createElement(g.a,{id:"date_separator.today",defaultMessage:"Today"})},M={equals:["day",-1],display:h.a.createElement(g.a,{id:"date_separator.yesterday",defaultMessage:"Yesterday"})},P={now:{within:["second",-45],display:["second",0]},second:{within:["second",-59],display:["second"]},minute:{within:["minute",-59],display:["minute"]},hour:{within:["hour",-23.75],display:["hour"]},"today-yesterday":{within:["day",-1],display:["day"]},day:{within:["day",-6],display:["day"]},week:{within:["week",-3],display:["week"]},month:{within:["month",-11],display:["month"]},quarter:{within:["quarter",-3],display:["quarter"]},year:{within:["year",-1e3],display:["year"]}};function N(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){A(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const j=Boolean(new Intl.DateTimeFormat("en-US",{hour:"numeric"}).resolvedOptions().hourCycle);function x(e,t){return null!=t?t:!("h23"===e||"h24"===e)}const L=new Map([["hour",300],["minute",15],["second",1]]);function k(e){return"string"==typeof e||"number"==typeof e?P[e]:e}class D extends p.PureComponent{constructor(e){super(e),A(this,"nextUpdate",null),this.state={now:new Date}}formatParts(e,{relative:t,date:a,time:n}){try{let i,r,o;if(null!=(null===(s=t)||void 0===s?void 0:s.message))i=t.message;else if(function(e){var t;return Boolean(null===(t=e)||void 0===t?void 0:t.unit)}(t)&&(i=this.formatRelative(e,t),"day"!==t.unit||!n))return{relative:i};if(null==i&&a&&(r=this.formatDateTime(e,a)),n){const{hourCycle:t,hour12:a=(j?void 0:x(t))}=this.props;o=this.formatDateTime(e,R({hourCycle:t,hour12:a},n))}return{relative:i,date:r,time:o}}catch(t){const{timeZone:s,hourCycle:i,hour12:r}=this.props,o=C.a.utc(e.getTime());return s&&o.tz(s),{date:a&&D.momentDate(o,R({},a)),time:n&&D.momentTime(o,R({hourCycle:i,hour12:r},n))}}var s}formatRelative(e,t){let a,{unit:n,relNearest:s,truncateEndpoints:i}=t,r=N(t,["unit","relNearest","truncateEndpoints"]);return 0===s?a=0:(a=Object(y.a)(e,this.state.now,this.props.timeZone,n,i),null!=s&&(a=Math.round(a/s)*s)),0===a&&(a=e<=this.state.now?-0:0),this.props.intl.formatRelativeTime(a,n,r)}formatDateTime(e,t){const{timeZone:a,intl:{locale:n}}=this.props;return new Intl.DateTimeFormat(n,R({timeZone:a},t)).format(e)}static momentTime(e,{hour:t,minute:a,hourCycle:n,hour12:s}){if(t&&a)return e.format(x(n,s)?"h:mm A":"HH:mm")}static momentDate(e,{weekday:t,day:a,month:n,year:s}){return t&&a&&n&&s?e.format("dddd, MMMM DD, YYYY"):a&&n&&s?e.format("MMMM DD, YYYY"):a&&n?e.format("MMMM DD"):t?e.format("dddd"):void 0}autoRange(e,t=this.props.units||this.props.ranges){var a;return null!==(a=null==t?void 0:t.map(k).find(({equals:t,within:a})=>null!=t?Object(y.b)(e,this.state.now,this.props.timeZone,...t):null!=a&&Object(y.e)(e,this.state.now,this.props.timeZone,...a)))&&void 0!==a?a:{display:[this.props.unit],updateIntervalInSeconds:this.props.updateIntervalInSeconds}}getFormats(e){const{numeric:t,style:a,useRelative:n=(()=>{const{display:n,updateIntervalInSeconds:s}=this.autoRange(e);if(n){if(Object(f.isValidElementType)(n)||!Array.isArray(n))return{message:n,updateIntervalInSeconds:s};const[e,i=this.props.relNearest,r=this.props.truncateEndpoints]=n;if(e)return{unit:e,relNearest:i,truncateEndpoints:r,numeric:t,style:a,updateIntervalInSeconds:null!=s?s:L.get(e)}}return!1}),year:s,month:i,day:r,weekday:o,hour:l,minute:c,timeZone:d,useDate:m=(()=>Object(y.e)(e,this.state.now,d,"day",-6)?{weekday:o}:Object(y.c)(e)?{day:r,month:i}:{year:s,month:i,day:r}),useTime:u={hour:l,minute:c}}=this.props,p=E(n,{value:e},this.props);return{relative:p,date:!p&&E(m,{value:e},this.props),time:E(u,{value:e},this.props)}}componentWillUnmount(){this.nextUpdate&&(clearTimeout(this.nextUpdate),this.nextUpdate=null)}maybeUpdate(e){return e&&e.updateIntervalInSeconds?setTimeout(()=>this.setState({now:new Date}),1e3*e.updateIntervalInSeconds):null}static format({relative:e,date:t,time:a}){return(e||t)&&a?h.a.createElement(g.a,{id:"timestamp.datetime",defaultMessage:"{relativeOrDate} at {time}",values:{relativeOrDate:e||t,time:a}}):e||t||a}static formatLabel(e,t){const a=C()(e);return t&&a.tz(t),a.toString()+(t?" (".concat(a.tz(),")"):"")}render(){const{value:e=this.state.now,children:t,useSemanticOutput:a=!0,timeZone:n,label:s,className:i}=this.props,r=e instanceof Date?e:new Date(e),o=this.getFormats(r),l=this.formatParts(r,o);let c=D.format(l);return a&&(c=h.a.createElement(O,{value:r,"aria-label":null!=s?s:D.formatLabel(r,n),className:i},c)),this.nextUpdate=this.maybeUpdate(o.relative),t?E(t,R({value:r,timeZone:n,formatted:c},l),o):c}}A(D,"propTypes",{hourCycle:u.a.string,useRelative:u.a.any,units:u.a.arrayOf(u.a.oneOfType([u.a.oneOfType([u.a.any,u.a.shape({display:u.a.oneOfType([u.a.node]).isRequired,updateIntervalInSeconds:u.a.number})]),u.a.any,u.a.any])),useDate:u.a.any,useTime:u.a.any,children:u.a.any,className:u.a.string,label:u.a.string,useSemanticOutput:u.a.bool,intl:u.a.any.isRequired}),A(D,"defaultProps",{numeric:"auto",style:"long",relNearest:1,year:"numeric",month:"long",day:"2-digit",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h12",timeZoneName:"short"});var U=Object(b.c)(D);t.b=Object(s.connect)((function(e,{userTimezone:t}){const a=Object(i.getCurrentUserId)(e);let n,s,m;var u;Object(c.a)(e)&&(n=null!==(u=Object(o.getUserCurrentTimezone)(null!=t?t:Object(r.getUserTimezone)(e,a)))&&void 0!==u?u:void 0);const p=Object(l.getBool)(e,d.F.CATEGORY_DISPLAY_SETTINGS,d.F.USE_MILITARY_TIME,!1);return j?s=p?"h23":"h12":m=!p,{timeZone:n,hourCycle:s,hour12:m}}))(U)},1446:function(e,t,a){"use strict";var n=a(264),s=a(15),i=(a(34),a(127)),r=a.n(i),o=a(5),l=a.n(o),c=a(265);function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends l.a.PureComponent{constructor(...e){super(...e),d(this,"isSVGImage",()=>this.props.imageMetadata?"svg"===this.props.imageMetadata.format:-1!==this.props.src.indexOf(".svg")),d(this,"shouldRenderImage",()=>this.props.enableSVGs||!this.isSVGImage())}render(){let e=Object(c.f)(this.props.src,this.props.hasImageProxy);return this.shouldRenderImage()||(e=""),this.props.children(e)}}d(m,"propTypes",{children:r.a.func.isRequired,enableSVGs:r.a.bool.isRequired,hasImageProxy:r.a.bool.isRequired,imageMetadata:r.a.object,src:r.a.string.isRequired});t.a=Object(n.connect)((function(e){const t=Object(s.getConfig)(e);return{enableSVGs:"true"===t.EnableSVGs,hasImageProxy:"true"===t.HasImageProxy}}))(m)},1447:function(e,t,a){"use strict";var n=a(264),s=a(10),i=a(1281),r=(a(185),a(127)),o=a.n(r),l=a(5),c=a.n(l),d=a(269),m=a(1289);function u(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class h extends c.a.PureComponent{show(e){e&&e.preventDefault();const{modalId:t,dialogProps:a,dialogType:n}=this.props,s={modalId:t,dialogProps:a,dialogType:n};this.props.actions.openModal(s)}render(){const e=this.props,{children:t,onClick:a,intl:{formatMessage:n}}=e,s=u(e,["children","onClick","intl"]),i=n({id:"accessibility.button.dialog",defaultMessage:"{dialogName} dialog"},{dialogName:s.accessibilityLabel});delete s.modalId,delete s.dialogType,delete s.dialogProps,delete s.accessibilityLabel,delete s.actions;let r=()=>this.show();return a&&(r=e=>{a(),this.show(e)}),c.a.createElement("button",Object.assign({},s,{className:"style--none "+s.className,"data-toggle":"modal toggle","aria-label":i,onClick:r}),t)}}p(h,"propTypes",{accessibilityLabel:o.a.string,children:o.a.node.isRequired,modalId:o.a.string.isRequired,dialogType:o.a.elementType.isRequired,dialogProps:o.a.object,intl:m.a.isRequired,onClick:o.a.func,className:o.a.string,actions:o.a.shape({openModal:o.a.func.isRequired}).isRequired}),p(h,"defaultProps",{dialogProps:{},className:""});var g=Object(d.c)(h);t.a=Object(n.connect)(null,(function(e){return{actions:Object(s.bindActionCreators)({openModal:i.b},e)}}))(g)},1448:function(e,t,a){"use strict";var n=a(264),s=a(10),i=a(18),r=a(15),o=a(8),l=(a(58),a(127)),c=a.n(l),d=a(5),m=a.n(d),u=a(1616),p=a(149),h=a.n(p),g=a(655),b=a(1267),f=a(269),_=a(23),C=a(0),y=a(14),E=a(12),v=a(1288);function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const O=m.a.lazy(()=>Promise.all([a.e(1),a.e(12)]).then(a.bind(null,2434))),S=m.a.lazy(()=>a.e(3).then(a.bind(null,2428))),T=Object(g.d)({general:{id:Object(E.b)("user.settings.modal.general"),defaultMessage:"General"},security:{id:Object(E.b)("user.settings.modal.security"),defaultMessage:"Security"},notifications:{id:Object(E.b)("user.settings.modal.notifications"),defaultMessage:"Notifications"},display:{id:Object(E.b)("user.settings.modal.display"),defaultMessage:"Display"},sidebar:{id:Object(E.b)("user.settings.modal.sidebar"),defaultMessage:"Sidebar"},advanced:{id:Object(E.b)("user.settings.modal.advanced"),defaultMessage:"Advanced"},checkEmail:{id:"user.settings.general.checkEmail",defaultMessage:"Check your email at {email} to verify the address. Cannot find the email?"},confirmTitle:{id:Object(E.b)("user.settings.modal.confirmTitle"),defaultMessage:"Discard Changes?"},confirmMsg:{id:Object(E.b)("user.settings.modal.confirmMsg"),defaultMessage:"You have unsaved changes, are you sure you want to discard them?"},confirmBtns:{id:Object(E.b)("user.settings.modal.confirmBtns"),defaultMessage:"Yes, Discard"}});class M extends m.a.PureComponent{constructor(e){super(e),w(this,"requireConfirm",void 0),w(this,"customConfirmAction",void 0),w(this,"modalBodyRef",void 0),w(this,"afterConfirm",void 0),w(this,"handleResend",e=>{this.setState({resendStatus:"sending"}),this.props.actions.sendVerificationEmail(e).then(({data:e,error:t})=>{e?this.setState({resendStatus:"success"}):t&&this.setState({resendStatus:"failure"})})}),w(this,"handleKeyDown",e=>{y.g(e)&&e.shiftKey&&y.cb(e,C.Z.KeyCodes.A)&&this.handleHide()}),w(this,"handleHide",()=>{this.requireConfirm?this.showConfirmModal(()=>this.handleHide()):this.setState({show:!1})}),w(this,"handleHidden",()=>{this.setState({active_tab:"general",active_section:""}),this.props.onHide(),this.props.onExit()}),w(this,"handleCollapse",()=>{h.a.findDOMNode(this.modalBodyRef.current).closest(".modal-dialog").classList.remove("display--content"),this.setState({active_tab:"",active_section:""})}),w(this,"handleConfirm",()=>{this.setState({showConfirmModal:!1,enforceFocus:!0}),this.requireConfirm=!1,this.customConfirmAction=null,this.afterConfirm&&(this.afterConfirm(),this.afterConfirm=null)}),w(this,"handleCancelConfirmation",()=>{this.setState({showConfirmModal:!1,enforceFocus:!0}),this.afterConfirm=null}),w(this,"showConfirmModal",e=>{e&&(this.afterConfirm=e),this.customConfirmAction?this.customConfirmAction(this.handleConfirm):this.setState({showConfirmModal:!0,enforceFocus:!1})}),w(this,"closeModal",()=>{this.requireConfirm?this.showConfirmModal(this.closeModal):this.handleHide()}),w(this,"collapseModal",()=>{this.requireConfirm?this.showConfirmModal(this.collapseModal):this.handleCollapse()}),w(this,"updateTab",(e,t)=>{!t&&this.requireConfirm?this.showConfirmModal(()=>this.updateTab(e,!0)):this.setState({active_tab:e,active_section:""})}),w(this,"updateSection",(e,t)=>{!t&&this.requireConfirm?this.showConfirmModal(()=>this.updateSection(e,!0)):this.setState({active_section:e})}),this.state={active_tab:"general",active_section:"",showConfirmModal:!1,enforceFocus:!0,show:!0,resendStatus:""},this.requireConfirm=!1,this.customConfirmAction=null,this.afterConfirm=null,this.modalBodyRef=m.a.createRef()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e,t){if(this.state.active_tab!==t.active_tab){h.a.findDOMNode(this.modalBodyRef.current).scrollTop=0}}render(){const{formatMessage:e}=this.props.intl;if(null==this.props.currentUser)return m.a.createElement("div",null);const t=[];return t.push({name:"general",uiName:e(T.general),icon:"icon fa fa-gear",iconTitle:y.ob("user.settings.general.icon","General Settings Icon")}),t.push({name:"security",uiName:e(T.security),icon:"icon fa fa-lock",iconTitle:y.ob("user.settings.security.icon","Security Settings Icon")}),t.push({name:"notifications",uiName:e(T.notifications),icon:"icon fa fa-exclamation-circle",iconTitle:y.ob("user.settings.notifications.icon","Notification Settings Icon")}),t.push({name:"display",uiName:e(T.display),icon:"icon fa fa-eye",iconTitle:y.ob("user.settings.display.icon","Display Settings Icon")}),t.push({name:"sidebar",uiName:e(T.sidebar),icon:"icon fa fa-columns",iconTitle:y.ob("user.settings.sidebar.icon","Sidebar Settings Icon")}),t.push({name:"advanced",uiName:e(T.advanced),icon:"icon fa fa-list-alt",iconTitle:y.ob("user.settings.advance.icon","Advanced Settings Icon")}),m.a.createElement(u.a,{id:"accountSettingsModal",dialogClassName:"a11y__modal settings-modal",show:this.state.show,onHide:this.handleHide,onExited:this.handleHidden,enforceFocus:this.state.enforceFocus,role:"dialog","aria-labelledby":"accountSettingsModalLabel"},m.a.createElement(u.a.Header,{id:"accountSettingsHeader",closeButton:!0},m.a.createElement(u.a.Title,{componentClass:"h1",id:"accountSettingsModalLabel"},m.a.createElement(b.a,{id:"user.settings.modal.title",defaultMessage:"Account Settings"}))),m.a.createElement(u.a.Body,{ref:this.modalBodyRef},m.a.createElement("div",{className:"settings-table"},m.a.createElement("div",{className:"settings-links"},m.a.createElement(m.a.Suspense,{fallback:null},m.a.createElement(n.Provider,{store:_.a},m.a.createElement(S,{tabs:t,activeTab:this.state.active_tab,updateTab:this.updateTab})))),m.a.createElement("div",{className:"settings-content minimize-settings"},m.a.createElement(m.a.Suspense,{fallback:null},m.a.createElement(n.Provider,{store:_.a},m.a.createElement(O,{activeTab:this.state.active_tab,activeSection:this.state.active_section,updateSection:this.updateSection,updateTab:this.updateTab,closeModal:this.closeModal,collapseModal:this.collapseModal,setEnforceFocus:e=>this.setState({enforceFocus:e}),setRequireConfirm:(e,t)=>{this.requireConfirm=e,this.customConfirmAction=t}})))))),m.a.createElement(v.a,{title:e(T.confirmTitle),message:e(T.confirmMsg),confirmButtonText:e(T.confirmBtns),show:this.state.showConfirmModal,onConfirm:this.handleConfirm,onCancel:this.handleCancelConfirmation}))}}w(M,"propTypes",{currentUser:c.a.any.isRequired,onHide:c.a.func.isRequired,onExit:c.a.func,intl:c.a.any.isRequired,actions:c.a.shape({sendVerificationEmail:c.a.func.isRequired}).isRequired}),w(M,"defaultProps",{onExit:()=>{}});var P=Object(f.c)(M);t.a=Object(n.connect)((function(e){const t=Object(r.getConfig)(e),a="true"===t.CloseUnusedDirectMessages,n="true"===t.ExperimentalChannelOrganization,s="true"===t.SendEmailNotifications,i="true"===t.RequireEmailVerification;return{currentUser:Object(o.getCurrentUser)(e),closeUnusedDirectMessages:a,experimentalChannelOrganization:n,sendEmailNotifications:s,requireEmailVerification:i}}),(function(e){return{actions:Object(s.bindActionCreators)({sendVerificationEmail:i.sendVerificationEmail},e)}}))(P)},1449:function(e,t,a){"use strict";var n=a(264),s=a(10),i=a(187),r=a(18),o=a(8),l=a(1314),c=(a(185),a(58),a(128),a(186),a(84),a(34),a(127)),d=a.n(c),m=a(5),u=a.n(m),p=a(1616),h=a(1267),g=a(19),b=a(41),f=a(14),_=a(1340),C=a(1365),y=a(1379),E=a(1329),v=a(1297),w=a(0);function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class S extends u.a.PureComponent{constructor(e){super(e),O(this,"addValue",e=>{const t=Object.assign([],this.state.values);-1===t.indexOf(e)&&t.push(e),this.setState({values:t})}),O(this,"onHide",()=>{this.setState({show:!1})}),O(this,"handleInviteError",e=>{e&&this.setState({saving:!1,inviteError:e.message})}),O(this,"handleDelete",e=>{this.setState({values:e})}),O(this,"setUsersLoadingState",e=>{this.setState({loadingUsers:e})}),O(this,"handlePageChange",(e,t)=>{e>t&&(this.setUsersLoadingState(!0),this.props.actions.getProfilesNotInChannel(this.props.channel.team_id,this.props.channel.id,this.props.channel.group_constrained,e+1,50).then(()=>{this.setUsersLoadingState(!1)}))}),O(this,"handleSubmit",e=>{const{actions:t,channel:a}=this.props;e&&e.preventDefault();const n=this.state.values.map(e=>e.id);if(0!==n.length){if(this.props.skipCommit&&this.props.onAddCallback)return this.props.onAddCallback(this.state.values),this.setState({saving:!1,inviteError:null}),void this.onHide();this.setState({saving:!0}),t.addUsersToChannel(a.id,n).then(e=>{e.error?this.handleInviteError(e.error):(this.setState({saving:!1,inviteError:null}),this.onHide())})}}),O(this,"search",e=>{const t=e.trim();clearTimeout(this.searchTimeoutId),this.setState({term:t}),this.searchTimeoutId=setTimeout(async()=>{if(!t)return;this.setUsersLoadingState(!0);const e={team_id:this.props.channel.team_id,not_in_channel_id:this.props.channel.id,group_constrained:this.props.channel.group_constrained};await this.props.actions.searchProfiles(t,e),this.setUsersLoadingState(!1)},w.Z.SEARCH_TIMEOUT_MILLISECONDS)}),O(this,"renderAriaLabel",e=>e?e.username:null),O(this,"renderOption",(e,t,a,n)=>{var s="";return t&&(s="more-modal__row--selected"),u.a.createElement("div",{key:e.id,ref:t?this.selectedItemRef:e.id,className:"more-modal__row clickable "+s,onClick:()=>a(e),onMouseMove:()=>n(e)},u.a.createElement(_.a,{src:g.Client4.getProfilePictureUrl(e.id,e.last_picture_update),size:"md",username:e.username}),u.a.createElement("div",{className:"more-modal__details"},u.a.createElement("div",{className:"more-modal__name"},Object(f.m)(e),u.a.createElement(v.a,{show:Boolean(e.is_bot),className:"badge-popoverlist"}),u.a.createElement(E.a,{show:Object(f.bb)(e),className:"popoverlist"}))),u.a.createElement("div",{className:"more-modal__actions"},u.a.createElement("div",{className:"more-modal__actions--round"},u.a.createElement(y.a,null))))}),this.searchTimeoutId=0,this.state={values:[],term:"",show:!0,saving:!1,loadingUsers:!0},this.selectedItemRef=u.a.createRef()}componentDidMount(){this.props.actions.getProfilesNotInChannel(this.props.channel.team_id,this.props.channel.id,this.props.channel.group_constrained,0).then(()=>{this.setUsersLoadingState(!1)}),this.props.actions.getTeamStats(this.props.channel.team_id)}renderValue(e){return e.data.username}render(){let e=null;this.state.inviteError&&(e=u.a.createElement("label",{className:"has-error control-label"},this.state.inviteError));const t=u.a.createElement(h.a,{id:"multiselect.numPeopleRemaining",defaultMessage:"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. ",values:{num:20-this.state.values.length}}),a=Object(f.ob)("multiselect.add","Add"),n=Object(f.ob)("multiselect.adding","Adding...");let s=Object(b.filterProfilesStartingWithTerm)(this.props.profilesNotInCurrentChannel,this.state.term).filter(e=>0===e.delete_at&&!this.props.profilesNotInCurrentTeam.includes(e)&&!this.props.excludeUsers[e.id]);if(this.props.includeUsers){const e=Object.values(this.props.includeUsers);s=[...s,...e]}const i=u.a.createElement(C.a,{key:"addUsersToChannelKey",options:s,optionRenderer:this.renderOption,selectedItemRef:this.selectedItemRef,values:this.state.values,valueRenderer:this.renderValue,ariaLabelRenderer:this.renderAriaLabel,perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,maxValues:20,numRemainingText:t,buttonSubmitText:a,buttonSubmitLoadingText:n,saving:this.state.saving,loading:this.state.loadingUsers,placeholderText:Object(f.ob)("multiselect.placeholder","Search and add members")});return u.a.createElement(p.a,{id:"addUsersToChannelModal",dialogClassName:"a11y__modal more-modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,role:"dialog","aria-labelledby":"channelInviteModalLabel"},u.a.createElement(p.a.Header,{closeButton:!0},u.a.createElement(p.a.Title,{componentClass:"h1",id:"channelInviteModalLabel"},u.a.createElement(h.a,{id:"channel_invite.addNewMembers",defaultMessage:"Add New Members to "}),u.a.createElement("span",{className:"name"},this.props.channel.display_name))),u.a.createElement(p.a.Body,{role:"application"},e,i))}}O(S,"propTypes",{profilesNotInCurrentChannel:d.a.array.isRequired,profilesNotInCurrentTeam:d.a.array.isRequired,onHide:d.a.func.isRequired,channel:d.a.object.isRequired,skipCommit:d.a.bool,onAddCallback:d.a.func,excludeUsers:d.a.object,includeUsers:d.a.object,actions:d.a.shape({addUsersToChannel:d.a.func.isRequired,getProfilesNotInChannel:d.a.func.isRequired,getTeamStats:d.a.func.isRequired,searchProfiles:d.a.func.isRequired}).isRequired}),O(S,"defaultProps",{includeUsers:{},excludeUsers:{},skipCommit:!1});t.a=Object(n.connect)((function(e,t){let a;return t.channelId&&t.teamId&&(a=Object(o.makeGetProfilesNotInChannel)()),(e,t)=>{let n=[],s=[];return a?(n=a(e,t.channelId),s=Object(o.getProfilesNotInTeam)(e,t.teamId)):(n=Object(o.getProfilesNotInCurrentChannel)(e),s=Object(o.getProfilesNotInCurrentTeam)(e)),{profilesNotInCurrentChannel:n,profilesNotInCurrentTeam:s}}}),(function(e){return{actions:Object(s.bindActionCreators)({addUsersToChannel:l.a,getProfilesNotInChannel:r.getProfilesNotInChannel,getTeamStats:i.getTeamStats,searchProfiles:r.searchProfiles},e)}}))(S)},1450:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"b",(function(){return g}));a(185),a(58),a(34);var n=a(660),s=a(18),i=a(19),r=a(0),o=a(1859),l=a(191);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(){return async e=>{const t=[e(Object(n.getClientConfig)()),e(Object(n.getLicenseConfig)())],a=await Promise.all(t);return document.cookie.indexOf("MMUSERID=")>-1&&a.push(await e(s.loadMe())),a}}const u={};function p(e,t){return u[e]=t,(e,a)=>{const n=a(),s=Object(l.a)(n),i=Object(l.b)(n,s),o={};Object.assign(o,i),i&&(Object.assign(o,t(s)),e({type:r.f.RECEIVED_TRANSLATIONS,data:{locale:s,translations:o}}))}}function h(e){Reflect.deleteProperty(u,e)}function g(e,t){return async a=>{const n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o);if(Object.values(u).forEach(t=>{Object.assign(n,t(e))}),"en"!==e)try{const e=await i.Client4.getTranslations(t);Object.assign(n,e)}catch(e){console.error(e)}a({type:r.f.RECEIVED_TRANSLATIONS,data:{locale:e,translations:n}})}}},1451:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return c}));var n=a(21),s=a(8),i=a(133);const r=e=>{const t=Object(s.getCurrentUserId)(e),a=Object(n.getCurrentTeamId)(e);return i.a.getPreviousChannelName(t,a)},o=e=>{const t=Object(s.getCurrentUserId)(e),a=Object(n.getCurrentTeamId)(e);return i.a.getPenultimateChannelName(t,a)},l=(e,t)=>{const a=Object(s.getCurrentUserId)(e),r=Object(n.getTeamByName)(e,t),o=r&&r.id;return i.a.getPreviousChannelName(a,o)},c=e=>{const t=Object(s.getCurrentUserId)(e);return i.a.getPreviousTeamId(t)}},1477:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 500 500",style:o.background,role:"img","aria-label":t({id:"generic_icons.mattermost",defaultMessage:"Mattermost Logo"})},s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{style:o.st0,d:"M396.9,47.7l2.6,53.1c43,47.5,60,114.8,38.6,178.1c-32,94.4-137.4,144.1-235.4,110.9 S51.1,253.1,83,158.7C104.5,95.2,159.2,52,222.5,40.5l34.2-40.4C150-2.8,49.3,63.4,13.3,169.9C-31,300.6,39.1,442.5,169.9,486.7 s272.6-25.8,316.9-156.6C522.7,223.9,483.1,110.3,396.9,47.7z"})),s.a.createElement("path",{style:o.st0,d:"M335.6,204.3l-1.8-74.2l-1.5-42.7l-1-37c0,0,0.2-17.8-0.4-22c-0.1-0.9-0.4-1.6-0.7-2.2 c0-0.1-0.1-0.2-0.1-0.3c0-0.1-0.1-0.2-0.1-0.2c-0.7-1.2-1.8-2.1-3.1-2.6c-1.4-0.5-2.9-0.4-4.2,0.2c0,0-0.1,0-0.1,0 c-0.2,0.1-0.3,0.1-0.4,0.2c-0.6,0.3-1.2,0.7-1.8,1.3c-3,3-13.7,17.2-13.7,17.2l-23.2,28.8l-27.1,33l-46.5,57.8 c0,0-21.3,26.6-16.6,59.4s29.1,48.7,48,55.1c18.9,6.4,48,8.5,71.6-14.7C336.4,238.4,335.6,204.3,335.6,204.3z"}))))}const o={background:{enableBackground:"new 0 0 500 500"},st0:{fillRule:"evenodd",clipRule:"evenodd"}}},1479:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{width:"12px",height:"12px",viewBox:"0 0 18 18",version:"1.1",role:"img","aria-label":t({id:"generic_icons.mention",defaultMessage:"Mention Icon"}),fill:"inherit"},s.a.createElement("path",{d:"M9 11.7C9.72 11.7 10.35 11.43 10.89 10.89C11.43 10.35 11.7 9.71999 11.7 8.99999C11.7 8.27999 11.43 7.64999 10.89 7.10999C10.35 6.56999 9.72 6.29999 9 6.29999C8.28 6.29999 7.65 6.56999 7.11 7.10999C6.57 7.64999 6.3 8.27999 6.3 8.99999C6.3 9.71999 6.57 10.35 7.11 10.89C7.65 11.43 8.28 11.7 9 11.7ZM9 -1.26362e-05C11.46 -1.26362e-05 13.56 0.869987 15.3 2.60999C16.176 3.48599 16.842 4.45199 17.298 5.50799C17.766 6.59999 18 7.76399 18 8.99999V10.26C18 10.692 17.916 11.118 17.748 11.538C17.592 11.922 17.376 12.276 17.1 12.6C16.788 12.912 16.446 13.14 16.074 13.284C15.714 13.428 15.306 13.5 14.85 13.5C13.746 13.5 12.876 13.05 12.24 12.15C11.34 13.05 10.26 13.5 9 13.5C7.716 13.5 6.666 13.05 5.85 12.15C4.95 11.25 4.5 10.2 4.5 8.99999C4.5 7.70399 4.95 6.65399 5.85 5.84999C6.666 4.94999 7.716 4.49999 9 4.49999C10.296 4.49999 11.346 4.94999 12.15 5.84999C13.05 6.74999 13.5 7.79999 13.5 8.99999V10.26C13.5 10.44 13.536 10.614 13.608 10.782C13.692 10.95 13.8 11.106 13.932 11.25C14.076 11.382 14.232 11.49 14.4 11.574C14.568 11.658 14.718 11.7 14.85 11.7C15.03 11.7 15.204 11.664 15.372 11.592C15.54 11.508 15.696 11.394 15.84 11.25C16.08 11.01 16.2 10.68 16.2 10.26V8.99999C16.2 7.01999 15.48 5.30999 14.04 3.86999C13.332 3.16199 12.564 2.63999 11.736 2.30399C10.908 1.96799 9.996 1.79999 9 1.79999C7.056 1.79999 5.346 2.48999 3.87 3.86999C3.174 4.52999 2.652 5.30399 2.304 6.19199C1.968 7.04399 1.8 7.97999 1.8 8.99999C1.8 9.98399 1.974 10.902 2.322 11.754C2.67 12.594 3.186 13.356 3.87 14.04C4.554 14.724 5.328 15.252 6.192 15.624C7.092 16.008 8.028 16.2 9 16.2H13.5V18H9C7.752 18 6.6 17.772 5.544 17.316C4.488 16.872 3.51 16.2 2.61 15.3C1.71 14.4 1.05 13.44 0.63 12.42C0.21 11.4 0 10.266 0 9.01799C0 7.75799 0.222 6.59399 0.666 5.52599C1.098 4.49399 1.746 3.52199 2.61 2.60999C4.266 0.869987 6.396 -1.26362e-05 9 -1.26362e-05Z"})))}},1485:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(5);function n(){return" "}},1486:function(e,t,a){"use strict";t.a=a.p+"files/377564d283f9bc35cce974f33e37eaf3.png"},1487:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{width:"16px",height:"10px",viewBox:"0 0 16 10",version:"1.1",role:"img",title:t({id:"generic_icons.menu",defaultMessage:"Menu Icon"})},s.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},s.a.createElement("g",{transform:"translate(-188.000000, -38.000000)",fillRule:"nonzero",fill:"inherit"},s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("g",{transform:"translate(188.000000, 38.000000)"},s.a.createElement("path",{d:"M15.5,0 C15.776,0 16,0.224 16,0.5 L16,1.5 C16,1.776 15.776,2 15.5,2 L0.5,2 C0.224,2 0,1.776 0,1.5 L0,0.5 C0,0.224 0.224,0 0.5,0 L15.5,0 Z M15.5,4 C15.776,4 16,4.224 16,4.5 L16,5.5 C16,5.776 15.776,6 15.5,6 L0.5,6 C0.224,6 0,5.776 0,5.5 L0,4.5 C0,4.224 0.224,4 0.5,4 L15.5,4 Z M15.5,8 C15.776,8 16,8.224 16,8.5 L16,9.5 C16,9.776 15.776,10 15.5,10 L0.5,10 C0.224,10 0,9.776 0,9.5 L0,8.5 C0,8.224 0.224,8 0.5,8 L15.5,8 Z"}))))))))}},1499:function(e,t,a){"use strict";var n=a(264),s=a(15),i=a(26),r=a(1337),o=(a(58),a(34),a(127)),l=a.n(o),c=a(5),d=a.n(c),m=a(1616),u=a(1330),p=a(1282),h=a(0),g=a(14),b=a(1286),f=a.n(b),_=a(149),C=a.n(_),y=a(1500);function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class v extends d.a.PureComponent{constructor(e){super(e),E(this,"handleFileInfoChanged",e=>{let t=C.a.findDOMNode(this.videoRef.current);t||(t=document.createElement("video"));const a=t.canPlayType(e.mime_type);this.setState({canPlay:"probably"===a||"maybe"===a})}),E(this,"handleLoadError",()=>{this.setState({canPlay:!1})}),E(this,"stop",()=>{if(this.videoRef.current){const e=C.a.findDOMNode(this.videoRef.current);e.pause(),e.currentTime=0}}),this.state={canPlay:!0},this.videoRef=d.a.createRef(),this.sourceRef=d.a.createRef()}componentDidMount(){this.handleFileInfoChanged(this.props.fileInfo),this.sourceRef.current&&f()(C.a.findDOMNode(this.sourceRef.current)).one("error",this.handleLoadError)}componentDidUpdate(e){this.props.fileUrl!==e.fileUrl&&this.handleFileInfoChanged(this.props.fileInfo),this.sourceRef.current&&f()(C.a.findDOMNode(this.sourceRef.current)).one("error",this.handleLoadError)}render(){if(!this.state.canPlay)return d.a.createElement(y.a,{fileInfo:this.props.fileInfo,fileUrl:this.props.fileUrl});let e=h.Z.WEB_VIDEO_WIDTH,t=h.Z.WEB_VIDEO_HEIGHT;return g.fb()&&(e=h.Z.MOBILE_VIDEO_WIDTH,t=h.Z.MOBILE_VIDEO_HEIGHT),d.a.createElement("video",{key:this.props.fileInfo.id,ref:this.videoRef,"data-setup":"{}",controls:"controls",width:e,height:t},d.a.createElement("source",{ref:this.sourceRef,src:this.props.fileUrl}))}}E(v,"propTypes",{fileInfo:l.a.object.isRequired,fileUrl:l.a.string.isRequired});var w=a(126),O=a(1307);function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class T extends d.a.PureComponent{constructor(e){super(e),S(this,"getCode",()=>{!this.state.lang||this.props.fileInfo.size>h.Z.CODE_PREVIEW_MAX_FILE_SIZE||f.a.ajax({async:!0,url:this.props.fileUrl,type:"GET",dataType:"text",error:this.handleReceivedError,success:this.handleReceivedCode})}),S(this,"handleReceivedCode",e=>{let t=e;"#document"===e.nodeName&&(t=(new XMLSerializer).serializeToString(e)),this.setState({code:t,loading:!1,success:!0})}),S(this,"handleReceivedError",()=>{this.setState({loading:!1,success:!1})}),this.state={code:"",lang:"",loading:!0,success:!0}}componentDidMount(){this.getCode()}static getDerivedStateFromProps(e,t){if(e.fileUrl!==t.prevFileUrl){const t=w.b(e.fileInfo.extension);return!t||e.fileInfo.size>h.Z.CODE_PREVIEW_MAX_FILE_SIZE?{code:"",lang:"",loading:!1,success:!1,prevFileUrl:e.fileUrl}:{code:"",lang:t,loading:!0,prevFileUrl:e.fileUrl}}return null}componentDidUpdate(e){this.props.fileUrl!==e.fileUrl&&this.getCode()}static supports(e){return Boolean(w.b(e.extension))}render(){if(this.state.loading)return d.a.createElement("div",{className:"view-image__loading"},d.a.createElement(O.a,null));if(!this.state.success)return d.a.createElement(y.a,{fileInfo:this.props.fileInfo,fileUrl:this.props.fileUrl});const e=w.c(this.state.lang),t=w.d(this.state.lang,this.state.code);return d.a.createElement("div",{className:"post-code"},d.a.createElement("span",{className:"post-code__language"},"".concat(this.props.fileInfo.name," - ").concat(e)),d.a.createElement("div",{className:"hljs"},d.a.createElement("div",{className:"post-code__line-numbers"},w.e(this.state.code)),d.a.createElement("code",{dangerouslySetInnerHTML:{__html:t}})))}}T.propTypes={fileInfo:l.a.object.isRequired,fileUrl:l.a.string.isRequired};var M=a(1700);function P({fileInfo:e,canDownloadFiles:t}){const a=!e.id;let n,s;return a?(n=e.link,s=e.link):(n=Object(u.getFileDownloadUrl)(e.id),s=e.has_preview_image?Object(u.getFilePreviewUrl)(e.id):n),t?d.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",download:!a},d.a.createElement("img",{"data-testid":"imagePreview",alt:"preview url image",src:s})):d.a.createElement("img",{src:s})}P.propTypes={fileInfo:l.a.object.isRequired,canDownloadFiles:l.a.bool.isRequired};a(185);var N=a(1372),I=a.n(N),R=a(1647),A=a(1267),j=a(1278);function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class L extends d.a.PureComponent{render(){var e="";this.props.enablePublicLink&&this.props.showPublicLink&&(e=d.a.createElement("span",null,d.a.createElement("a",{href:"#",className:"public-link text","data-title":"Public Image",onClick:this.props.onGetPublicLink},d.a.createElement(A.a,{id:"view_image_popover.publicLink",defaultMessage:"Get a public link"})),d.a.createElement("span",{className:"text"}," | ")));let t=null;if(this.props.canDownloadFiles){let a;const n={};this.props.isExternalFile?a=d.a.createElement(A.a,{id:"view_image_popover.open",defaultMessage:"Open"}):(a=d.a.createElement(A.a,{id:"view_image_popover.download",defaultMessage:"Download"}),n.download=this.props.filename),t=d.a.createElement("span",{className:"modal-bar-links"},e,d.a.createElement("a",Object.assign({href:this.props.fileURL,className:"text",target:"_blank",rel:"noopener noreferrer"},n),a))}let a=[];if(this.props.showZoomControls){let e,t,n;t=this.props.scale>h.Y.MIN_SCALE?d.a.createElement("span",{className:"modal-zoom-btn"},d.a.createElement("a",{onClick:I()(this.props.handleZoomOut,300,{maxWait:300})},d.a.createElement("i",{className:"icon icon-minus"}))):d.a.createElement("span",{className:"btn-inactive"},d.a.createElement("i",{className:"icon icon-minus"})),a.push(d.a.createElement(j.a,{delayShow:h.l.OVERLAY_TIME_DELAY,key:"zoomOut",placement:"top",overlay:d.a.createElement(R.a,{id:"zoom-out-icon-tooltip"},d.a.createElement(A.a,{id:"view_image.zoom_out",defaultMessage:"Zoom Out"}))},t)),e=this.props.scale>h.Y.DEFAULT_SCALE?d.a.createElement("span",{className:"modal-zoom-btn"},d.a.createElement("a",{onClick:this.props.handleZoomReset},d.a.createElement("i",{className:"icon icon-magnify-minus"}))):this.props.scale<h.Y.DEFAULT_SCALE?d.a.createElement("span",{className:"modal-zoom-btn"},d.a.createElement("a",{onClick:this.props.handleZoomReset},d.a.createElement("i",{className:"icon icon-magnify-plus"}))):d.a.createElement("span",{className:"btn-inactive"},d.a.createElement("i",{className:"icon icon-magnify-minus"})),a.push(d.a.createElement(j.a,{delayShow:h.l.OVERLAY_TIME_DELAY,key:"zoomReset",placement:"top",overlay:d.a.createElement(R.a,{id:"zoom-reset-icon-tooltip"},d.a.createElement(A.a,{id:"view_image.zoom_reset",defaultMessage:"Reset Zoom"}))},e)),n=this.props.scale<h.Y.MAX_SCALE?d.a.createElement("span",{className:"modal-zoom-btn"},d.a.createElement("a",{onClick:I()(this.props.handleZoomIn,300,{maxWait:300})},d.a.createElement("i",{className:"icon icon-plus"}))):d.a.createElement("span",{className:"btn-inactive"},d.a.createElement("i",{className:"icon icon-plus"})),a.push(d.a.createElement(j.a,{delayShow:h.l.OVERLAY_TIME_DELAY,key:"zoomIn",placement:"top",overlay:d.a.createElement(R.a,{id:"zoom-in-icon-tooltip"},d.a.createElement(A.a,{id:"view_image.zoom_in",defaultMessage:"Zoom In"}))},n)),a=d.a.createElement("div",{className:"modal-column"},a)}return d.a.createElement("div",{"data-testid":"fileCountFooter",ref:"imageFooter",className:"modal-button-bar"},d.a.createElement("div",{className:"modal-column text"},d.a.createElement("span",{className:"modal-bar-file-count"},d.a.createElement(A.a,{id:"view_image_popover.file",defaultMessage:"File {count, number} of {total, number}",values:{count:this.props.fileIndex+1,total:this.props.totalFiles}}))),a,d.a.createElement("div",{className:"modal-column text"},t))}}x(L,"propTypes",{fileIndex:l.a.number.isRequired,totalFiles:l.a.number.isRequired,filename:l.a.string.isRequired,fileURL:l.a.string.isRequired,showPublicLink:l.a.bool,enablePublicLink:l.a.bool.isRequired,canDownloadFiles:l.a.bool.isRequired,isExternalFile:l.a.bool.isRequired,onGetPublicLink:l.a.func,scale:l.a.number,showZoomControls:l.a.bool,handleZoomIn:l.a.func,handleZoomOut:l.a.func,handleZoomReset:l.a.func}),x(L,"defaultProps",{fileIndex:0,totalFiles:0,filename:"",fileURL:"",showPublicLink:!0});var k=L;function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){q(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const H=d.a.lazy(()=>a.e(29).then(a.bind(null,2430))),F=h.Z.KeyCodes;class B extends d.a.PureComponent{constructor(e){super(e),q(this,"handleNext",e=>{e&&e.stopPropagation();let t=this.state.imageIndex+1;t>this.props.fileInfos.length-1&&(t=0),this.showImage(t)}),q(this,"handlePrev",e=>{e&&e.stopPropagation();let t=this.state.imageIndex-1;t<0&&(t=this.props.fileInfos.length-1),this.showImage(t)}),q(this,"handleKeyPress",e=>{g.cb(e,F.RIGHT)?this.handleNext():g.cb(e,F.LEFT)&&this.handlePrev()}),q(this,"onModalShown",e=>{document.addEventListener("keyup",this.handleKeyPress),this.showImage(e.startIndex)}),q(this,"onModalHidden",()=>{document.removeEventListener("keyup",this.handleKeyPress),this.videoRef.current&&this.videoRef.current.stop()}),q(this,"showImage",e=>{this.setState({imageIndex:e});const t=window.innerHeight-100;this.setState({imageHeight:t}),this.state.loaded[e]||this.loadImage(e)}),q(this,"loadImage",e=>{const t=this.props.fileInfos[e];if(g.B(t.extension)===h.r.IMAGE&&Boolean(t.id)){let a;a=t.has_image_preview?Object(u.getFilePreviewUrl)(t.id):Object(u.getFileUrl)(t.id),g.nb(a,()=>this.handleImageLoaded(e),t=>this.handleImageProgress(e,t))}else this.handleImageLoaded(e)}),q(this,"handleImageLoaded",e=>{this.setState(t=>({loaded:U(U({},t.loaded),{},{[e]:!0})}))}),q(this,"handleImageProgress",(e,t)=>{this.setState(a=>({progress:U(U({},a.progress),{},{[e]:t})}))}),q(this,"handleGetPublicLink",()=>{this.handleModalClose(),p.j(this.props.fileInfos[this.state.imageIndex].id)}),q(this,"onMouseEnterImage",()=>{this.setState({showCloseBtn:!0})}),q(this,"onMouseLeaveImage",()=>{this.setState({showCloseBtn:!1})}),q(this,"handleZoomIn",()=>{let e=this.state.scale;e=Math.min(e+h.Y.SCALE_DELTA,h.Y.MAX_SCALE),this.setState({scale:e})}),q(this,"handleZoomOut",()=>{let e=this.state.scale;e=Math.max(e-h.Y.SCALE_DELTA,h.Y.MIN_SCALE),this.setState({scale:e})}),q(this,"handleZoomReset",()=>{this.setState({scale:h.Y.DEFAULT_SCALE})}),q(this,"handleModalClose",()=>{this.props.onModalDismissed(),this.setState({scale:h.Y.DEFAULT_SCALE})}),this.state={imageIndex:this.props.startIndex,imageHeight:"100%",loaded:g.q(!1,this.props.fileInfos.length),progress:g.q(0,this.props.fileInfos.length),showCloseBtn:!1,showZoomControls:!1,scale:h.Y.DEFAULT_SCALE},this.videoRef=d.a.createRef()}componentDidUpdate(e){!0===this.props.show&&!1===e.show?this.onModalShown(this.props):!1===this.props.show&&!0===e.show&&this.onModalHidden()}static getDerivedStateFromProps(e,t){const a={};return e.fileInfos[t.imageIndex]&&e.fileInfos[t.imageIndex].extension===h.r.PDF?a.showZoomControls=!0:a.showZoomControls=!1,e.fileInfos.length!==t.prevFileInfosCount&&(a.loaded=g.q(!1,e.fileInfos.length),a.progress=g.q(0,e.fileInfos.length),a.prevFileInfosCount=e.fileInfos.length),Object.keys(a).length?a:null}render(){if(this.props.fileInfos.length<1||this.props.fileInfos.length-1<this.state.imageIndex)return null;const e=this.props.fileInfos[this.state.imageIndex],t=!e.link,a=e.link||e.name,n=g.B(e.extension),s=e.link||Object(u.getFileUrl)(e.id),i=e.link||Object(u.getFileDownloadUrl)(e.id),r=!e.id;let o,l="a11y__modal modal-image",c="";if(this.state.loaded[this.state.imageIndex])n===h.r.IMAGE||n===h.r.SVG?o=d.a.createElement(P,{fileInfo:e,canDownloadFiles:this.props.canDownloadFiles}):n===h.r.VIDEO||n===h.r.AUDIO?o=d.a.createElement(v,{fileInfo:e,fileUrl:s}):n===h.r.PDF?(c=" modal-auto__content",o=d.a.createElement("div",{className:"pdf"},d.a.createElement(d.a.Suspense,{fallback:null},d.a.createElement(H,{fileInfo:e,fileUrl:s,scale:this.state.scale})))):T.supports(e)?(l+=" modal-code",o=d.a.createElement(T,{fileInfo:e,fileUrl:s})):o=d.a.createElement(y.a,{fileInfo:e,fileUrl:s});else{const e=g.ob("view_image.loading","Loading"),t=Math.floor(this.state.progress[this.state.imageIndex]);o=d.a.createElement(M.a,{loading:e,progress:t})}for(const t of this.props.pluginFilePreviewComponents)if(t.override(e,this.props.post)){o=d.a.createElement(t.component,{fileInfo:e,post:this.props.post,onModalDismissed:this.props.onModalDismissed});break}let p,b=null,f=null;return this.props.fileInfos.length>1&&(b=d.a.createElement("a",{id:"previewArrowLeft",ref:this.previewArrowLeft,className:"modal-prev-bar",href:"#",onClick:this.handlePrev},d.a.createElement("i",{className:"image-control image-prev"})),f=d.a.createElement("a",{id:"previewArrowRight",ref:this.previewArrowRight,className:"modal-next-bar",href:"#",onClick:this.handleNext},d.a.createElement("i",{className:"image-control image-next"}))),this.state.showCloseBtn&&(p=d.a.createElement("div",{className:"modal-close",onClick:this.handleModalClose})),d.a.createElement(m.a,{show:this.props.show,onHide:this.handleModalClose,className:"modal-image",dialogClassName:l,role:"dialog","aria-labelledby":"viewImageModalLabel"},d.a.createElement(m.a.Body,null,d.a.createElement("div",{className:"modal-image__wrapper",onClick:this.handleModalClose},d.a.createElement("div",{onMouseEnter:this.onMouseEnterImage,onMouseLeave:this.onMouseLeaveImage,onClick:e=>e.stopPropagation()},d.a.createElement(m.a.Title,{componentClass:"h1",id:"viewImageModalLabel",className:"hide"},a),p,d.a.createElement("div",{className:"modal-image__background"},d.a.createElement("div",{className:"modal-image__content".concat(c)},o)),d.a.createElement(k,{showPublicLink:t,fileIndex:this.state.imageIndex,totalFiles:this.props.fileInfos.length,filename:a,fileURL:i,enablePublicLink:this.props.enablePublicLink,canDownloadFiles:this.props.canDownloadFiles,isExternalFile:r,onGetPublicLink:this.handleGetPublicLink,scale:this.state.scale,showZoomControls:this.state.showZoomControls,handleZoomIn:this.handleZoomIn,handleZoomOut:this.handleZoomOut,handleZoomReset:this.handleZoomReset}))),b,f))}}q(B,"propTypes",{postId:l.a.string,post:l.a.object,show:l.a.bool.isRequired,onModalDismissed:l.a.func.isRequired,fileInfos:l.a.arrayOf(l.a.object).isRequired,startIndex:l.a.number,canDownloadFiles:l.a.bool,enablePublicLink:l.a.bool,pluginFilePreviewComponents:l.a.arrayOf(l.a.object)}),q(B,"defaultProps",{show:!1,fileInfos:[],startIndex:0,pluginFilePreviewComponents:[],post:{}});t.a=Object(n.connect)((function(e,t){const a=Object(s.getConfig)(e);return{canDownloadFiles:Object(r.a)(a),enablePublicLink:"true"===a.EnablePublicLink,pluginFilePreviewComponents:e.plugins.components.FilePreview,post:t.post||Object(i.getPost)(e,t.postId)}}))(B)},1500:function(e,t,a){"use strict";var n,s,i,r=a(264),o=a(15),l=a(1337),c=a(127),d=a.n(c),m=a(5),u=a.n(m),p=a(14);class h extends u.a.PureComponent{render(){const e=this.props.fileInfo,t=this.props.fileUrl,a=[];""!==e.extension&&a.push(p.ob("file_info_preview.type","File type ")+e.extension.toUpperCase()),e.size&&a.push(p.ob("file_info_preview.size","Size ")+p.p(e.size));const n=a.join(", ");let s=null;return s=this.props.canDownloadFiles?u.a.createElement("a",{className:"file-details__preview",href:t,target:"_blank",rel:"noopener noreferrer"},u.a.createElement("span",{className:"file-details__preview-helper"}),u.a.createElement("img",{alt:"file preview",src:p.A(e)})):u.a.createElement("span",{className:"file-details__preview"},u.a.createElement("span",{className:"file-details__preview-helper"}),u.a.createElement("img",{alt:"file preview",src:p.A(e)})),u.a.createElement("div",{className:"file-details__container"},s,u.a.createElement("div",{className:"file-details"},u.a.createElement("div",{className:"file-details__name"},e.name),u.a.createElement("div",{className:"file-details__info"},n)))}}n=h,s="propTypes",i={fileInfo:d.a.shape({name:d.a.string.isRequired,extension:d.a.string.isRequired,size:d.a.number.isRequired}).isRequired,fileUrl:d.a.string.isRequired,canDownloadFiles:d.a.bool.isRequired},s in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i;t.a=Object(r.connect)((function(e){const t=Object(o.getConfig)(e);return{canDownloadFiles:Object(l.a)(t)}}))(h)},1501:function(e,t,a){"use strict";a(132),a(99),a(186);var n=a(264),s=a(10),i=a(1348),r=a(1323),o=a(21),l=a(1324),c=(a(185),a(58),a(34),a(127)),d=a.n(c),m=a(5),u=a.n(m),p=a(1616),h=a(1267),g=a(9),b=a(0),f=a(14),_=a(1365),C=a(1486),y=a(1379),E=a(1485);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class O extends u.a.PureComponent{constructor(e){super(e),w(this,"handleHide",()=>{this.props.actions.setModalSearchTerm(""),this.setState({show:!1})}),w(this,"handleExit",()=>{this.props.onHide&&this.props.onHide()}),w(this,"handleResponse",e=>{let t=null;e&&e.message&&(t=e.message),this.setState({saving:!1,addError:t})}),w(this,"handleSubmit",async e=>{e&&e.preventDefault();const t=this.state.values.map(e=>e.id);if(0!==t.length){if(this.props.skipCommit)return this.props.onAddCallback&&this.props.onAddCallback(t),void this.handleHide();this.setState({saving:!0}),t.forEach(async e=>{const{error:t}=await this.props.actions.linkGroupSyncable(e,this.props.currentTeamId,g.Groups.SYNCABLE_TYPE_TEAM,{auto_add:!0});this.handleResponse(t),t||this.handleHide()})}}),w(this,"addValue",e=>{const t=Object.assign([],this.state.values),a=t.map(e=>e.id);e&&e.id&&-1===a.indexOf(e.id)&&t.push(e),this.setState({values:t})}),w(this,"setGroupsLoadingState",e=>{this.setState({loadingGroups:e})}),w(this,"handlePageChange",(e,t)=>{e>t&&(this.setGroupsLoadingState(!0),this.props.actions.getGroupsNotAssociatedToTeam(this.props.currentTeamId,this.props.searchTerm,e,51).then(()=>{this.setGroupsLoadingState(!1)}))}),w(this,"handleDelete",e=>{this.setState({values:e})}),w(this,"search",e=>{this.props.actions.setModalSearchTerm(e)}),w(this,"renderOption",(e,t,a,n)=>{const s=t?"more-modal__row--selected":"";return u.a.createElement("div",{key:e.id,ref:t?this.selectedItemRef:e.id,className:"more-modal__row clickable "+s,onClick:()=>a(e),onMouseMove:()=>n(e)},u.a.createElement("img",{className:"more-modal__image",src:C.a,alt:"group picture",width:"32",height:"32"}),u.a.createElement("div",{className:"more-modal__details"},u.a.createElement("div",{className:"more-modal__name"},e.display_name,u.a.createElement(E.a,null),"-",u.a.createElement(E.a,null),u.a.createElement("span",{className:"more-modal__name_sub"},u.a.createElement(h.a,{id:"numMembers",defaultMessage:"{num, number} {num, plural, one {member} other {members}}",values:{num:e.member_count}})))),u.a.createElement("div",{className:"more-modal__actions"},u.a.createElement("div",{className:"more-modal__actions--round"},u.a.createElement(y.a,null))))}),this.searchTimeoutId=0,this.state={values:[],show:!0,search:!1,saving:!1,addError:null,loadingGroups:!0},this.selectedItemRef=u.a.createRef()}componentDidMount(){Promise.all([this.props.actions.getGroupsNotAssociatedToTeam(this.props.currentTeamId,"",0,51),this.props.actions.getAllGroupsAssociatedToTeam(this.props.currentTeamId,!1,!0)]).then(()=>{this.setGroupsLoadingState(!1)})}componentDidUpdate(e){if(this.props.searchTerm!==e.searchTerm){clearTimeout(this.searchTimeoutId);const e=this.props.searchTerm;if(""===e)return;this.searchTimeoutId=setTimeout(async()=>{this.setGroupsLoadingState(!0),await this.props.actions.getGroupsNotAssociatedToTeam(this.props.currentTeamId,e),this.setGroupsLoadingState(!1)},b.Z.SEARCH_TIMEOUT_MILLISECONDS)}}renderValue(e){return e.data.display_name}render(){const e=u.a.createElement("div",{id:"numGroupsRemaining"},u.a.createElement(h.a,{id:"multiselect.numGroupsRemaining",defaultMessage:"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {group} other {groups}}. ",values:{num:10-this.state.values.length}})),t=Object(f.ob)("multiselect.add","Add"),a=Object(f.ob)("multiselect.adding","Adding...");let n=null;this.state.addError&&(n=u.a.createElement("div",{className:"has-error col-sm-12"},u.a.createElement("label",{className:"control-label font-weight--normal"},this.state.addError)));let s=this.props.groups;if(this.props.excludeGroups){const e=e=>!this.props.excludeGroups.find(t=>t.id===e.id);s=s.filter(e)}if(this.props.includeGroups){const e=e=>this.props.includeGroups.find(t=>t.id===e.id);s=[...s,...this.props.includeGroups.filter(e)]}return s=s.map(e=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){w(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({label:e.display_name,value:e.id},e)),u.a.createElement(p.a,{id:"addGroupsToTeamModal",dialogClassName:"a11y__modal more-modal more-direct-channels",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit},u.a.createElement(p.a.Header,{closeButton:!0},u.a.createElement(p.a.Title,{componentClass:"h1"},u.a.createElement(h.a,{id:"add_groups_to_team.title",defaultMessage:"Add New Groups to {teamName} Team",values:{teamName:u.a.createElement("strong",null,this.props.currentTeamName)}}))),u.a.createElement(p.a.Body,null,n,u.a.createElement(_.a,{key:"addGroupsToTeamKey",options:s,optionRenderer:this.renderOption,selectedItemRef:this.selectedItemRef,values:this.state.values,valueRenderer:this.renderValue,perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,maxValues:10,numRemainingText:e,buttonSubmitText:t,buttonSubmitLoadingText:a,saving:this.state.saving,loading:this.state.loadingGroups,placeholderText:Object(f.ob)("multiselect.addGroupsPlaceholder","Search and add groups")})))}}w(O,"propTypes",{currentTeamName:d.a.string.isRequired,currentTeamId:d.a.string.isRequired,searchTerm:d.a.string.isRequired,groups:d.a.array.isRequired,excludeGroups:d.a.arrayOf(d.a.object),includeGroups:d.a.arrayOf(d.a.object),onHide:d.a.func,skipCommit:d.a.bool,onAddCallback:d.a.func,actions:d.a.shape({getGroupsNotAssociatedToTeam:d.a.func.isRequired,setModalSearchTerm:d.a.func.isRequired,linkGroupSyncable:d.a.func.isRequired,getAllGroupsAssociatedToTeam:d.a.func.isRequired}).isRequired});t.a=Object(n.connect)((function(e,t){const a=e.views.search.modalSearch,n=t.team||Object(o.getCurrentTeam)(e)||{};let s=Object(r.getGroupsNotAssociatedToTeam)(e,n.id);if(a){const e=RegExp(a,"i");s=s.filter(t=>e.test(t.display_name)||e.test(t.name))}return{currentTeamName:n.display_name,currentTeamId:n.id,skipCommit:t.skipCommit,onAddCallback:t.onAddCallback,excludeGroups:t.excludeGroups,searchTerm:a,groups:s}}),(function(e){return{actions:Object(s.bindActionCreators)({getGroupsNotAssociatedToTeam:i.getGroupsNotAssociatedToTeam,setModalSearchTerm:l.b,linkGroupSyncable:i.linkGroupSyncable,getAllGroupsAssociatedToTeam:i.getAllGroupsAssociatedToTeam},e)}}))(O)},1502:function(e,t,a){"use strict";a(132),a(99),a(186);var n=a(264),s=a(10),i=a(1348),r=a(187),o=a(1323),l=a(11),c=a(1324),d=(a(185),a(58),a(34),a(127)),m=a.n(d),u=a(5),p=a.n(u),h=a(1616),g=a(1267),b=a(9),f=a(0),_=a(14),C=a(1365),y=a(1486),E=a(1379),v=a(1485);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class S extends p.a.PureComponent{constructor(e){super(e),O(this,"handleHide",()=>{this.props.actions.setModalSearchTerm(""),this.setState({show:!1})}),O(this,"handleExit",()=>{this.props.onHide&&this.props.onHide()}),O(this,"handleResponse",e=>{let t=null;e&&e.message&&(t=e.message),this.setState({saving:!1,addError:t})}),O(this,"handleSubmit",async e=>{e&&e.preventDefault();const t=this.state.values.map(e=>e.id);if(0!==t.length){if(this.props.skipCommit)return this.props.onAddCallback&&this.props.onAddCallback(t),void this.handleHide();this.setState({saving:!0}),t.forEach(async e=>{const{error:t}=await this.props.actions.linkGroupSyncable(e,this.props.currentChannelId,b.Groups.SYNCABLE_TYPE_CHANNEL,{auto_add:!0});this.handleResponse(t),t||this.handleHide()})}}),O(this,"addValue",e=>{const t=Object.assign([],this.state.values),a=t.map(e=>e.id);e&&e.id&&-1===a.indexOf(e.id)&&t.push(e),this.setState({values:t})}),O(this,"setGroupsLoadingState",e=>{this.setState({loadingGroups:e})}),O(this,"handlePageChange",(e,t)=>{e>t&&(this.setGroupsLoadingState(!0),this.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId,this.props.searchTerm,e,51,!0).then(()=>{this.setGroupsLoadingState(!1)}))}),O(this,"handleDelete",e=>{this.setState({values:e})}),O(this,"search",e=>{this.props.actions.setModalSearchTerm(e)}),O(this,"renderOption",(e,t,a,n)=>{const s=t?"more-modal__row--selected":"";return p.a.createElement("div",{key:e.id,ref:t?this.selectedItemRef:e.id,className:"more-modal__row clickable "+s,onClick:()=>a(e),onMouseMove:()=>n(e)},p.a.createElement("img",{className:"more-modal__image",src:y.a,alt:"group picture",width:"32",height:"32"}),p.a.createElement("div",{className:"more-modal__details"},p.a.createElement("div",{className:"more-modal__name"},e.display_name,p.a.createElement(v.a,null),"-",p.a.createElement(v.a,null),p.a.createElement("span",{className:"more-modal__name_sub"},p.a.createElement(g.a,{id:"numMembers",defaultMessage:"{num, number} {num, plural, one {member} other {members}}",values:{num:e.member_count}})))),p.a.createElement("div",{className:"more-modal__actions"},p.a.createElement("div",{className:"more-modal__actions--round"},p.a.createElement(E.a,null))))}),this.searchTimeoutId=0,this.state={values:[],show:!0,search:!1,saving:!1,addError:null,loadingGroups:!0},this.selectedItemRef=p.a.createRef()}componentDidMount(){Promise.all([this.props.actions.getTeam(this.props.teamID),this.props.actions.getAllGroupsAssociatedToTeam(this.props.teamID,!1,!0),this.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId,"",0,51,!0),this.props.actions.getAllGroupsAssociatedToChannel(this.props.currentChannelId,!1,!0)]).then(()=>{this.setGroupsLoadingState(!1)})}componentDidUpdate(e){if(this.props.searchTerm!==e.searchTerm){clearTimeout(this.searchTimeoutId);const e=this.props.searchTerm;if(""===e)return;this.searchTimeoutId=setTimeout(async()=>{this.setGroupsLoadingState(!0),await this.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId,e,null,null,!0),this.setGroupsLoadingState(!1)},f.Z.SEARCH_TIMEOUT_MILLISECONDS)}}renderValue(e){return e.data.display_name}render(){const e=p.a.createElement("div",{id:"numGroupsRemaining"},p.a.createElement(g.a,{id:"multiselect.numGroupsRemaining",defaultMessage:"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {group} other {groups}}. ",values:{num:10-this.state.values.length}})),t=Object(_.ob)("multiselect.add","Add"),a=Object(_.ob)("multiselect.adding","Adding...");let n=null;this.state.addError&&(n=p.a.createElement("div",{className:"has-error col-sm-12"},p.a.createElement("label",{className:"control-label font-weight--normal"},this.state.addError)));let s=this.props.groups;if(this.props.excludeGroups){const e=e=>!this.props.excludeGroups.find(t=>t.id===e.id);s=s.filter(e)}if(this.props.includeGroups){const e=e=>this.props.includeGroups.find(t=>t.id===e.id);s=[...s,...this.props.includeGroups.filter(e)]}return s=s.map(e=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){O(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({label:e.display_name,value:e.id},e)),p.a.createElement(h.a,{id:"addGroupsToChannelModal",dialogClassName:"a11y__modal more-modal more-direct-channels",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit},p.a.createElement(h.a.Header,{closeButton:!0},p.a.createElement(h.a.Title,null,p.a.createElement(g.a,{id:"add_groups_to_channel.title",defaultMessage:"Add New Groups to {channelName} Channel",values:{channelName:p.a.createElement("strong",null,this.props.currentChannelName)}}))),p.a.createElement(h.a.Body,null,n,p.a.createElement(C.a,{key:"addGroupsToChannelKey",options:s,optionRenderer:this.renderOption,selectedItemRef:this.selectedItemRef,values:this.state.values,valueRenderer:this.renderValue,perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,maxValues:10,numRemainingText:e,buttonSubmitText:t,buttonSubmitLoadingText:a,saving:this.state.saving,loading:this.state.loadingGroups,placeholderText:Object(_.ob)("multiselect.addGroupsPlaceholder","Search and add groups")})))}}O(S,"propTypes",{currentChannelName:m.a.string.isRequired,currentChannelId:m.a.string.isRequired,teamID:m.a.string.isRequired,searchTerm:m.a.string.isRequired,groups:m.a.array.isRequired,excludeGroups:m.a.arrayOf(m.a.object),includeGroups:m.a.arrayOf(m.a.object),onHide:m.a.func,skipCommit:m.a.bool,onAddCallback:m.a.func,actions:m.a.shape({getGroupsNotAssociatedToChannel:m.a.func.isRequired,setModalSearchTerm:m.a.func.isRequired,linkGroupSyncable:m.a.func.isRequired,getAllGroupsAssociatedToChannel:m.a.func.isRequired,getTeam:m.a.func.isRequired,getAllGroupsAssociatedToTeam:m.a.func.isRequired}).isRequired});t.a=Object(n.connect)((function(e,t){const a=e.views.search.modalSearch,n=t.channel||Object(l.getCurrentChannel)(e)||{};let s=Object(o.getGroupsNotAssociatedToChannel)(e,n.id,n.team_id);if(a){const e=RegExp(a,"i");s=s.filter(t=>e.test(t.display_name)||e.test(t.name))}return{currentChannelName:n.display_name,currentChannelId:n.id,skipCommit:t.skipCommit,onAddCallback:t.onAddCallback,excludeGroups:t.excludeGroups,searchTerm:a,groups:s,teamID:n.team_id}}),(function(e){return{actions:Object(s.bindActionCreators)({getGroupsNotAssociatedToChannel:i.getGroupsNotAssociatedToChannel,setModalSearchTerm:c.b,linkGroupSyncable:i.linkGroupSyncable,getAllGroupsAssociatedToChannel:i.getAllGroupsAssociatedToChannel,getTeam:r.getTeam,getAllGroupsAssociatedToTeam:i.getAllGroupsAssociatedToTeam},e)}}))(S)},1504:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>e.websocket},1523:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));a(185),a(58);var n=a(5),s=a.n(n),i=a(19),r=a(14),o=a(1329),l=a(1297),c=a(1313),d=a(1316),m=a(1317);class u extends m.a{render(){const{item:e,isSelection:t}=this.props;let a="suggestion-list__item mentions__name";t&&(a+=" suggestion--selected");const n=e.username;let d="";return(e.first_name||e.last_name)&&e.nickname?d="- ".concat(r.C(e)," (").concat(e.nickname,")"):e.nickname?d="- (".concat(e.nickname,")"):(e.first_name||e.last_name)&&(d="- ".concat(r.C(e))),s.a.createElement("div",Object.assign({className:a,onClick:this.handleClick,onMouseMove:this.handleMouseMove},m.a.baseProps),s.a.createElement(c.a,{size:"xxs",username:n,url:i.Client4.getUsersRoute()+"/"+e.id+"/image?_="+(e.last_picture_update||0)}),s.a.createElement("span",{className:"admin-setting-user--align"},"@"+n),s.a.createElement("span",{className:"admin-setting-user__fullname"}," ",d),s.a.createElement(l.a,{show:Boolean(e.is_bot)}),s.a.createElement(o.a,{show:r.bb(e)}))}}class p extends d.a{constructor(e){super(),this.autocompleteUsers=e}async handlePretextChanged(e,t){const a=e.toLowerCase();this.startNewRequest(a);const n=await this.autocompleteUsers(a);if(this.shouldCancelDispatch(a))return!1;const s=Object.assign([],n.users);return t({matchedPretext:a,terms:s.map(e=>e.username),items:s,component:u}),!0}}},1524:function(e,t,a){"use strict";var n=a(127),s=a.n(n),i=a(5),r=a.n(i);const o=({inputId:e,label:t,labelClassName:a,inputClassName:n,children:s,footer:i,helpText:o})=>r.a.createElement("div",{"data-testid":e,className:"form-group"},r.a.createElement("label",{"data-testid":e+"label",className:"control-label "+a,htmlFor:e},t),r.a.createElement("div",{className:n},s,r.a.createElement("div",{"data-testid":e+"help-text",className:"help-text"},o),i));o.propTypes={inputId:s.a.string,label:s.a.node.isRequired,labelClassName:s.a.string,inputClassName:s.a.string,children:s.a.node.isRequired,helpText:s.a.node,footer:s.a.node},t.a=o},1528:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));a(185);var n=a(127),s=a.n(n),i=a(5),r=a.n(i);function o(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends r.a.PureComponent{constructor(e){super(e),c(this,"height",void 0),c(this,"recalculateSize",()=>{if(!this.refs.reference||!this.refs.textarea)return;const e=this.refs.reference.scrollHeight,t=this.refs.textarea;if(e>0&&e!==this.height){const a=getComputedStyle(t),n=parseInt(a.borderTopWidth||"0",10)+parseInt(a.borderBottomWidth||"0",10);t.style.height=String(e+n)+"px",this.height=e,window.requestAnimationFrame(()=>{var t,n;null===(t=(n=this.props).onHeightChange)||void 0===t||t.call(n,e,parseInt(a.maxHeight||"0",10))})}}),c(this,"getDOMNode",()=>this.refs.textarea),c(this,"handleChange",e=>{this.props.onChange&&this.props.onChange(e)}),this.height=0}get value(){return this.refs.textarea.value}set value(e){this.refs.textarea.value=e}get selectionStart(){return this.refs.textarea.selectionStart}set selectionStart(e){this.refs.textarea.selectionStart=e}get selectionEnd(){return this.refs.textarea.selectionEnd}set selectionEnd(e){this.refs.textarea.selectionEnd=e}focus(){this.refs.textarea.focus()}blur(){this.refs.textarea.blur()}componentDidMount(){this.recalculateSize()}componentDidUpdate(){this.recalculateSize()}render(){const e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.props);Reflect.deleteProperty(e,"onHeightChange"),Reflect.deleteProperty(e,"providers"),Reflect.deleteProperty(e,"channelId");const{value:t,defaultValue:a,placeholder:n,disabled:s,onInput:i,id:d}=e,u=o(e,["value","defaultValue","placeholder","disabled","onInput","id"]),p={rows:0,height:0};this.height<=0?p.rows=1:p.height=this.height;let h=null;const g=n?n.toLowerCase():"";return this.props.value||this.props.defaultValue||(h=r.a.createElement("div",Object.assign({},u,{"data-testid":"".concat(d,"_placeholder"),style:m.placeholder}),n)),r.a.createElement("div",null,h,r.a.createElement("textarea",Object.assign({ref:"textarea","data-testid":d,id:d},p,u,{role:"textbox","aria-label":g,disabled:s,onChange:this.handleChange,onInput:i,value:t,defaultValue:a})),r.a.createElement("div",{style:m.container},r.a.createElement("textarea",Object.assign({ref:"reference",id:d+"-reference",style:m.reference,disabled:!0,rows:1},u,{value:t||a,"aria-hidden":!0}))))}}c(d,"propTypes",{id:s.a.string,disabled:s.a.bool,value:s.a.string,defaultValue:s.a.string,onChange:s.a.func,onHeightChange:s.a.func,onInput:s.a.func,placeholder:s.a.string});const m={container:{height:0,overflow:"hidden"},reference:{height:"auto",width:"100%"},placeholder:{overflow:"hidden",textOverflow:"ellipsis",opacity:.5,pointerEvents:"none",position:"absolute",whiteSpace:"nowrap",background:"none",borderColor:"transparent"}}},1542:function(e,t,a){"use strict";a(185);var n=a(1950);const s=a(0).Z.PayloadSources,i=Object.assign(new n.Dispatcher,{handleServerAction:function(e){e.type||console.warn("handleServerAction called with undefined action type");var t={source:s.SERVER_ACTION,action:e};this.dispatch(t)},handleViewAction:function(e){e.type||console.warn("handleViewAction called with undefined action type");var t={source:s.VIEW_ACTION,action:e};this.dispatch(t)}});t.a=i},1560:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0);function s(e){return t=>(t({type:n.f.DISMISS_NOTICE,data:e}),{data:!0})}},1561:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));a(58);function n(e){return e}function s(e){return async(e,t,a)=>({setupIntent:{id:"testid",status:"succeeded"}})}const i=e=>e?s:n,r="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i&display=swap",o="pk_test_ttEpW6dCHksKyfAFzh6MvgBj"},1563:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n,s,i,r=a(5),o=a.n(r),l=a(149),c=a.n(l),d=a(127),m=a.n(d);class u extends o.a.PureComponent{constructor(e){super(e),this.el=document.createElement("div")}componentDidMount(){const e=document.getElementById("root-portal");e&&e.appendChild(this.el)}componentWillUnmount(){const e=document.getElementById("root-portal");e&&e.removeChild(this.el)}render(){return c.a.createPortal(this.props.children,this.el)}}n=u,s="propTypes",i={children:m.a.node},s in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i},1564:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(5),s=a.n(n),i=a(1639),r=a(12);function o(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:Object(r.b)("generic_icons.close"),defaultMessage:"Close Icon"})},s.a.createElement("path",{fillRule:"nonzero",d:"M18 7.209L16.791 6 12 10.791 7.209 6 6 7.209 10.791 12 6 16.791 7.209 18 12 13.209 16.791 18 18 16.791 13.209 12z"})))}},1565:function(e,t,a){"use strict";a(185),a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1358),l=a(1270),c=a.n(l);a(2058);function d(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const h={input:e=>u(u({},e),{},{color:"var(--center-channel-color)"}),control:e=>u(u({},e),{},{border:"none",boxShadow:"none",padding:"0 2px",cursor:"pointer"}),indicatorSeparator:e=>u(u({},e),{},{display:"none"})},g=e=>r.a.createElement("div",{className:"DropdownInput__indicatorsContainer"},r.a.createElement(o.a.IndicatorsContainer,e,r.a.createElement("i",{className:"icon icon-chevron-down"}))),b=e=>r.a.createElement("div",{className:"DropdownInput__controlContainer"},r.a.createElement(o.a.Control,e)),f=e=>r.a.createElement("div",{className:c()("DropdownInput__option",{selected:e.isSelected,focused:e.isFocused})},r.a.createElement(o.a.Option,e)),_=e=>{const{value:t,placeholder:a,className:n,addon:s,name:l,textPrefix:m,legend:p,onChange:_,styles:C,options:y,error:E}=e,v=d(e,["value","placeholder","className","addon","name","textPrefix","legend","onChange","styles","options","error"]),[w,O]=Object(i.useState)(!1),S=Boolean(w||t);return r.a.createElement("div",{className:"DropdownInput Input_container"},r.a.createElement("fieldset",{className:c()("Input_fieldset",n,{Input_fieldset___error:E,Input_fieldset___legend:S})},r.a.createElement("legend",{className:c()("Input_legend",{Input_legend___focus:S})},S?p||a:null),r.a.createElement("div",{className:"Input_wrapper",onFocus:t=>{const{onFocus:a}=e;O(!0),a&&a(t)},onBlur:t=>{const{onBlur:a}=e;O(!1),a&&a(t)}},m&&r.a.createElement("span",null,m),r.a.createElement(o.b,Object.assign({id:"DropdownInput_".concat(l),options:y,placeholder:w?"":a,components:{IndicatorsContainer:g,Option:f,Control:b},className:c()("Input",n,{Input__focus:S}),classNamePrefix:"DropDown",value:t,onChange:_,styles:u(u({},h),C)},v))),s),(e=>e?r.a.createElement("div",{className:"Input___error"},r.a.createElement("i",{className:"icon icon-alert-outline"}),r.a.createElement("span",null,e)):null)(E))};_.propTypes={value:s.a.any,legend:s.a.string,error:s.a.string,onChange:s.a.func.isRequired},t.a=_},1567:function(e,t,a){},1568:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(34);var n=a(5),s=a.n(n),i=a(127),r=a.n(i);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends n.PureComponent{constructor(...e){super(...e),d(this,"scrollListener",()=>{const e=this.scrollComponent,t=window;let a;if(this.props.useWindow){var n="pageYOffset"in t?t.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;a=this.props.isReverse?n:this.calculateTopPosition(e)+(e.offsetHeight-n-window.innerHeight)}else a=this.props.isReverse?e.parentNode.scrollTop:e.scrollHeight-e.parentNode.scrollTop-e.parentNode.clientHeight;a<Number(this.props.threshold)&&(this.detachScrollListener(),"function"==typeof this.props.loadMore&&this.props.loadMore(this.pageLoaded+=1))})}componentDidMount(){this.pageLoaded=this.props.pageStart,this.attachScrollListener(),this.setScrollPosition()}componentDidUpdate(){this.attachScrollListener()}render(){const e=this.props,{children:t,element:a,hasMore:n,initialLoad:i,loader:r,loadMore:o,pageStart:d,threshold:m,useWindow:u,isReverse:p,scrollPosition:h,containerHeight:g}=e,b=c(e,["children","element","hasMore","initialLoad","loader","loadMore","pageStart","threshold","useWindow","isReverse","scrollPosition","containerHeight"]);b.ref=e=>{this.scrollComponent=e};const f=g?l(l({},b),{},{style:{height:g}}):b;return s.a.createElement(a,f,t,n&&(r||this.defaultLoader))}calculateTopPosition(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}setScrollPosition(){const{scrollPosition:e}=this.props;null!==e&&window.scrollTo(0,e)}attachScrollListener(){if(!this.props.hasMore)return;let e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.addEventListener("scroll",this.scrollListener),e.addEventListener("resize",this.scrollListener),this.props.initialLoad&&this.scrollListener()}detachScrollListener(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("scroll",this.scrollListener),e.removeEventListener("resize",this.scrollListener)}componentWillUnmount(){this.detachScrollListener()}setDefaultLoader(e){this.defaultLoader=e}}d(m,"propTypes",{children:r.a.array,element:r.a.string,hasMore:r.a.bool,initialLoad:r.a.bool,loader:r.a.object,loadMore:r.a.func.isRequired,pageStart:r.a.number,threshold:r.a.number,useWindow:r.a.bool,isReverse:r.a.bool,containerHeight:r.a.number,scrollPosition:r.a.number}),d(m,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,threshold:250,useWindow:!0,isReverse:!1,containerHeight:null,scrollPosition:null})},1605:function(e,t,a){"use strict";var n,s=a(264),i=a(10),r=a(15),o=a(1321),l=a(660),c=a(1338),d=a(1714),m=a(0),u=a(1281),p=a(1715),h=(a(58),a(127)),g=a.n(h),b=a(5),f=a.n(b),_=a(1267),C=a(1716),y=a(1562),E=a.p+"files/f32f0094939e8e78a6b887a0f8a886df.svg",v=a.p+"files/52fd1c66da2cc4e23dfa5a212c645db2.svg",w=a.p+"files/228bff4301724dfe4fdc5bfc15e84f43.svg",O=a.p+"files/561d2a7b1b180f1bc0585b0eb2fa1d00.svg",S=a.p+"files/63ee9f55a9acf5209476b0e0e97de80b.svg",T=a(148),M=a(1561),P=a(1563),N=a(1612),I=a(1717),R=a(14),A=a(1854),j=a.p+"files/14fe300f70a0993958a9522ecd37592d.svg",x=a.p+"files/7cbbc5e4d6268cc9fc562eb04f9739bc.svg",L=a(12),k=a.p+"files/a633c8db75b2a15e13d980069d2e3298.svg",D=(a(2067),a(1270)),U=a.n(D);a(2068);function q(e){const{icon:t,title:a,subtitle:n,date:s,error:i,buttonText:r,buttonHandler:o,linkText:l,linkURL:c,footer:d,className:m}=e;let u=null;r&&o&&(u=f.a.createElement("div",{className:U()("IconMessage-button",i?"error":"")},f.a.createElement("button",{id:"login_button",className:"btn btn-primary Form-btn",onClick:o},f.a.createElement(_.a,{id:r}))));let p=null;return l&&c&&(p=f.a.createElement("div",{className:"IconMessage-link"},f.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},f.a.createElement(_.a,{id:l})))),f.a.createElement("div",{id:"payment_complete_header",className:"IconMessage"},f.a.createElement("div",{className:U()("content",m||"")},f.a.createElement("img",{className:"IconMessage-img",src:t,alt:"Payment icon"}),f.a.createElement("h3",{className:"IconMessage-h3"},f.a.createElement(_.a,{id:a})),f.a.createElement("div",{className:U()("IconMessage-sub",i||"")},n?f.a.createElement(_.a,{id:n,values:{date:s}}):null),u,p,d))}function H(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}q.propTypes={icon:g.a.string.isRequired,title:g.a.string.isRequired,subtitle:g.a.string,date:g.a.string,error:g.a.bool,buttonText:g.a.string,buttonHandler:g.a.func,linkText:g.a.string,linkURL:g.a.string,footer:g.a.element,className:g.a.string},q.defaultProps={error:!1,subtitle:"",date:"",className:""},function(e){e[e.PROCESSING=0]="PROCESSING",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED"}(n||(n={}));class F extends f.a.PureComponent{constructor(e){super(e),H(this,"intervalId",void 0),H(this,"updateProgress",()=>{let{progress:e}=this.state;e>=95?clearInterval(this.intervalId):(e+=1,this.setState({progress:e>95?95:e}))}),H(this,"savePaymentMethod",async()=>{const e=new Date,{stripe:t,addPaymentMethod:a,billingDetails:s,isDevMode:i}=this.props;if(!await a(await t,s,i))return void this.setState({error:!0,state:n.FAILED});const r=(new Date).valueOf()-e.valueOf();r<5e3?setTimeout(this.completePayment,5e3-r):this.completePayment()}),H(this,"completePayment",()=>{clearInterval(this.intervalId),this.setState({state:n.SUCCESS,progress:100})}),H(this,"handleGoBack",()=>{clearInterval(this.intervalId),this.setState({progress:0,error:!1,state:n.PROCESSING}),this.props.onBack()}),this.intervalId={},this.state={progress:0,error:!1,state:n.PROCESSING}}componentDidMount(){this.savePaymentMethod(),this.intervalId=setInterval(this.updateProgress,5e3/95)}componentWillUnmount(){clearInterval(this.intervalId)}render(){const{state:e,progress:t,error:a}=this.state,s=f.a.createElement("div",{className:"ProcessPayment-progress"},f.a.createElement("div",{className:"ProcessPayment-progress-fill",style:{width:"".concat(t,"%")}}));switch(e){case n.PROCESSING:return f.a.createElement(q,{title:Object(L.b)("admin.billing.subscription.verifyPaymentInformation"),subtitle:"",icon:k,footer:s});case n.SUCCESS:return Object(T.d)(m.P.CLOUD_PURCHASING,"pageview_payment_success"),f.a.createElement(q,{title:Object(L.b)("admin.billing.subscription.upgradedSuccess"),subtitle:Object(L.b)("admin.billing.subscription.nextBillingDate"),date:Object(R.G)(),error:a,icon:j,buttonText:Object(L.b)("admin.billing.subscription.letsGo"),buttonHandler:this.props.onClose,className:"success"});case n.FAILED:return Object(T.d)(m.P.CLOUD_PURCHASING,"pageview_payment_failed"),f.a.createElement(q,{title:Object(L.b)("admin.billing.subscription.paymentVerificationFailed"),subtitle:Object(L.b)("admin.billing.subscription.paymentFailed"),icon:x,error:a,buttonText:Object(L.b)("admin.billing.subscription.goBackTryAgain"),buttonHandler:this.handleGoBack,linkText:Object(L.b)("admin.billing.subscription.privateCloudCard.contactSupport"),linkURL:"https://support.mattermost.com/hc/en-us/requests/new?ticket_form_id=360000640492"});default:return null}}}H(F,"propTypes",{billingDetails:g.a.oneOfType([g.a.any,g.a.oneOf([null])]),stripe:g.a.instanceOf(Promise).isRequired,isDevMode:g.a.bool.isRequired,addPaymentMethod:g.a.func.isRequired,onBack:g.a.func.isRequired,onClose:g.a.func.isRequired});a(2069),a(1724);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){V(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let W;class z extends f.a.PureComponent{constructor(e){super(e),V(this,"modal",f.a.createRef()),V(this,"onPaymentInput",e=>{this.setState({paymentInfoIsValid:Object(I.a)(e)}),this.setState({billingDetails:e})}),V(this,"handleSubmitClick",async()=>{this.setState({processing:!0,paymentInfoIsValid:!1})}),V(this,"purchaseScreen",()=>f.a.createElement("div",{className:this.state.processing?"processing":""},f.a.createElement("div",{className:"LHS"},f.a.createElement("div",{className:"title"},f.a.createElement(_.a,{defaultMessage:"Upgrade your Mattermost Cloud Susbcription",id:"admin.billing.subscription.upgradeCloudSubscription"})),f.a.createElement("img",{className:"image",alt:"upgrade",src:E}),f.a.createElement("div",{className:"footer-text"},f.a.createElement(_.a,{defaultMessage:"Questions?",id:"admin.billing.subscription.questions"})),f.a.createElement("a",{className:"footer-text",onClick:()=>Object(T.e)(m.P.CLOUD_PURCHASING,"click_contact_support"),href:this.props.contactSupportLink,rel:"noopener noreferrer",target:"_new"},f.a.createElement(_.a,{defaultMessage:"Contact Support",id:"admin.billing.subscription.privateCloudCard.contactSupport"}))),f.a.createElement("div",{className:"central-panel"},f.a.createElement(A.a,{className:"normal-text",onInputChange:this.onPaymentInput})),f.a.createElement("div",{className:"RHS"},f.a.createElement("div",{className:"price-container"},f.a.createElement("div",{className:"bold-text"},f.a.createElement(_.a,{defaultMessage:"Mattermost Cloud",id:"admin.billing.subscription.mattermostCloud"})),f.a.createElement("div",{className:"price-text"},"$".concat(this.state.productPrice||0),f.a.createElement("span",{className:"monthly-text"},f.a.createElement(_.a,{defaultMessage:" /user/month",id:"admin.billing.subscription.perUserPerMonth"}))),f.a.createElement("div",{className:"footer-text"},"Payment begins: ".concat(Object(R.G)())),f.a.createElement("button",{disabled:!this.state.paymentInfoIsValid,onClick:this.handleSubmitClick},f.a.createElement(_.a,{defaultMessage:"Upgrade",id:"admin.billing.subscription.upgrade"})),f.a.createElement("div",{className:"fineprint-text"},f.a.createElement("span",null,f.a.createElement(_.a,{defaultMessage:"Your total is calculated at the end of the billing cycle based on the number of enabled users. You’ll only be charged if you exceed the free tier limits. ",id:"admin.billing.subscription.disclaimer"}))," ",f.a.createElement("a",{href:m.k.BILLING_DOCS,target:"_new",rel:"noopener noreferrer"},f.a.createElement(_.a,{defaultMessage:"See how billing works.",id:"admin.billing.subscription.howItWorks"})))),f.a.createElement("div",{className:"footer-text"},"Need other billing options?"),f.a.createElement("a",{className:"footer-text",onClick:()=>{Object(T.e)(m.P.CLOUD_PURCHASING,"click_contact_sales")},href:this.props.contactSalesLink,target:"_new",rel:"noopener noreferrer"},f.a.createElement(_.a,{defaultMessage:"Contact Sales",id:"admin.billing.subscription.privateCloudCard.contactSales"})),f.a.createElement("div",{className:"logo"},f.a.createElement("img",{src:S}))))),this.state={paymentInfoIsValid:!1,productPrice:0,billingDetails:null,processing:!1}}static getDerivedStateFromProps(e,t){let a=0;if(e.products){const t=Object.keys(e.products);t.length>0&&(a=e.products[t[0]].price_per_seat)}return G(G({},t),{},{productPrice:a})}componentDidMount(){Object(T.d)(m.P.CLOUD_PURCHASING,"pageview_purchase"),this.props.actions.getCloudProducts(),this.props.actions.getClientConfig()}render(){return W||(W=Object(C.loadStripe)(M.b)),f.a.createElement(y.Elements,{options:{fonts:[{cssSrc:M.a}]},stripe:W},f.a.createElement(P.a,null,f.a.createElement(N.a,{show:Boolean(this.props.show),onClose:()=>{Object(T.e)(m.P.CLOUD_PURCHASING,"click_close_purchasing_screen"),this.props.actions.getCloudSubscription(),this.props.actions.closeModal()},ref:this.modal,ariaLabelledBy:"purchase_modal_title"},f.a.createElement("div",{className:"PurchaseModal"},this.state.processing?f.a.createElement("div",null,f.a.createElement(F,{stripe:W,billingDetails:this.state.billingDetails,addPaymentMethod:this.props.actions.completeStripeAddPaymentMethod,isDevMode:this.props.isDevMode,onClose:()=>{this.props.actions.getCloudSubscription(),this.props.actions.closeModal()},onBack:()=>{this.setState({processing:!1})}})):null,this.purchaseScreen(),f.a.createElement("div",null,f.a.createElement("img",{className:"waves",src:v}),f.a.createElement("img",{className:"blue-dots",src:w}),f.a.createElement("img",{className:"lower-blue-dots",src:O}))))))}}V(z,"propTypes",{show:g.a.bool.isRequired,isDevMode:g.a.bool.isRequired,products:g.a.any,contactSupportLink:g.a.string.isRequired,contactSalesLink:g.a.string.isRequired,actions:g.a.shape({closeModal:g.a.func.isRequired,getCloudProducts:g.a.func.isRequired,completeStripeAddPaymentMethod:g.a.func.isRequired,getClientConfig:g.a.func.isRequired,getCloudSubscription:g.a.func.isRequired}).isRequired});t.a=Object(s.connect)((function(e){return{show:Object(c.a)(e,m.y.CLOUD_PURCHASE),products:e.entities.cloud.products,isDevMode:"true"===Object(r.getConfig)(e).EnableDeveloper,contactSupportLink:Object(d.b)(e,d.a.Technical),contactSalesLink:Object(d.b)(e,d.a.Sales)}}),(function(e){return{actions:Object(i.bindActionCreators)({closeModal:()=>Object(u.a)(m.y.CLOUD_PURCHASE),getCloudProducts:o.getCloudProducts,completeStripeAddPaymentMethod:p.a,getClientConfig:l.getClientConfig,getCloudSubscription:o.getCloudSubscription},e)}}))(z)},1607:function(e,t,a){"use strict";a(185);var n,s,i,r=a(5),o=a.n(r),l=a(1958),c=a(1852),d=a(264),m=a(15),u=(a(58),a(127)),p=a.n(u),h=a(1267);class g extends o.a.PureComponent{constructor(e){super(e),this.state={katex:null}}componentDidMount(){a.e(30).then(a.t.bind(null,2429,7)).then(e=>{this.setState({katex:e})})}render(){if(null==this.state.katex||!this.props.enableLatex)return o.a.createElement("div",{className:"post-body--code tex"},this.props.content);try{const e={throwOnError:!1,displayMode:!0,maxSize:200,maxExpand:100,fleqn:!0},t=this.state.katex.renderToString(this.props.content,e);return o.a.createElement("div",{className:"post-body--code tex",dangerouslySetInnerHTML:{__html:t}})}catch(e){return o.a.createElement("div",{className:"post-body--code tex"},o.a.createElement(h.a,{id:"katex.error",defaultMessage:"Couldn't compile your Latex code. Please review the syntax and try again."}))}}}n=g,s="propTypes",i={content:p.a.string.isRequired,enableLatex:p.a.bool.isRequired},s in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,g.defaultProps={enableLatex:!1};var b=Object(d.connect)((function(e){return{enableLatex:"true"===Object(m.getConfig)(e).EnableLatex}}))(g),f=a(2014),_=a(0),C=a(1446),y=a(1424),E=a(1499),v=a.p+"files/82c53ca565ed83a033dfb4284740873d.png";function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class O extends o.a.PureComponent{constructor(e){super(e),w(this,"showModal",e=>{this.props.imageIsLink||(e.preventDefault(),this.setState({showModal:!0}))}),w(this,"hideModal",()=>{this.setState({showModal:!1})}),w(this,"handleLoadFail",()=>{this.setState({loadFailed:!0})}),w(this,"isHeaderChangeMessage",()=>this.props.postType&&this.props.postType===_.Z.PostTypes.HEADER_CHANGE),w(this,"onUpdated",e=>{this.props.src&&this.props.src!==e&&this.setState({loadFailed:!1})}),w(this,"handleImageLoaded",({height:e,width:t})=>{this.setState({loaded:!0},()=>{this.props.onImageLoaded&&this.props.onImageLoaded({height:e,width:t})})}),this.state={showModal:!1,loadFailed:!1,loaded:!1}}componentDidUpdate(e){this.onUpdated(e.src)}render(){const{imageMetadata:e,src:t,alt:a,imageIsLink:n}=this.props;if(""===t||this.state.loadFailed){let e="markdown-inline-img broken-image";return this.isHeaderChangeMessage()&&(e+=" broken-image--scaled-down"),o.a.createElement("div",{style:{display:"inline-block"}},o.a.createElement("img",{className:e,alt:a,src:v}))}return o.a.createElement(C.a,{src:t,imageMetadata:e},s=>{if(!s)return o.a.createElement("a",{className:"theme markdown__link",href:t,rel:"noopener noreferrer",target:"_blank",title:this.props.title},a);const i=(e=>{const t=e.lastIndexOf(".");return t>0?e.substring(t+1):null})(s);let r="";if(this.state.loaded)r="".concat(this.props.className,n||!i?" markdown-inline-img--hover markdown-inline-img--no-border":" markdown-inline-img--hover cursor--pointer a11y--active"),this.isHeaderChangeMessage()&&(r+=" markdown-inline-img--scaled-down");else{const e=this.isHeaderChangeMessage()?"markdown-inline-img--scaled-down-loading":"markdown-inline-img--loading";r="".concat(this.props.className," ").concat(e)}const{height:l,width:c,title:d}=this.props;return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{alt:a,className:r,src:s,height:l,width:c,title:d,dimensions:e,showLoader:!1,onClick:this.showModal,onImageLoadFail:this.handleLoadFail,onImageLoaded:this.handleImageLoaded}),!n&&i&&o.a.createElement(E.a,{show:this.state.showModal,onModalDismissed:this.hideModal,postId:this.props.postId,startIndex:0,fileInfos:[{has_preview_image:!1,link:s,extension:e.format||i,name:a}]}))})}}w(O,"defaultProps",{imageMetadata:{}}),w(O,"propTypes",{alt:p.a.string,imageMetadata:p.a.object,src:p.a.string.isRequired,height:p.a.number,width:p.a.number,title:p.a.string,className:p.a.string.isRequired,postId:p.a.string.isRequired,imageIsLink:p.a.bool.isRequired,onImageLoaded:p.a.func,postType:p.a.string});var S=a(271),T=a(100);class M extends o.a.PureComponent{render(){const e=":"+this.props.name+":";return this.props.imageUrl?o.a.createElement("span",{alt:e,className:"emoticon",title:e,style:{backgroundImage:"url("+this.props.imageUrl+")"}},e):e}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(M,"propTypes",{name:p.a.string.isRequired,imageUrl:p.a.string.isRequired});var P=Object(d.connect)((function(e,t){const a=Object(T.a)(e).get(t.name);return{imageUrl:a?Object(S.getEmojiImageUrl)(a):""}}))(M);function N(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.a=function(e,t,a={}){if(!e)return null;const n=new l.Parser,s=new l.ProcessNodeDefinitions(o.a),i=[{replaceChildren:!1,shouldProcessNode:e=>"tag"===e.type&&"input"===e.name&&"checkbox"===e.attribs.type,processNode:e=>{const t=e.attribs||{};return e.attribs.checked=Boolean(t.checked),o.a.createElement("input",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){R(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.attribs))}}];if(a.hasPluginTooltips){const e="href";i.push({replaceChildren:!0,shouldProcessNode:t=>"tag"===t.type&&"a"===t.name&&t.attribs[e],processNode:(t,a)=>o.a.createElement(f.a,{href:t.attribs[e],attributes:t.attribs},a)})}if(!("mentions"in a)||a.mentions){const e=!("mentionHighlight"in a)||a.mentionHighlight,n="disableGroupHighlight"in a&&!0===a.disableGroupHighlight,s="data-mention";i.push({replaceChildren:!0,shouldProcessNode:e=>e.attribs&&e.attribs[s],processNode:(a,i)=>{const r=a.attribs[s];return o.a.createElement(c.a,{mentionName:r,isRHS:t,hasMention:!0,disableHighlight:!e,disableGroupHighlight:n},i)}})}if(!("emoji"in a)||a.emoji){const e="data-emoticon";i.push({replaceChildren:!0,shouldProcessNode:t=>t.attribs&&t.attribs[e],processNode:t=>{const a=t.attribs[e];return o.a.createElement(P,{name:a})}})}return"images"in a&&!a.images||i.push({shouldProcessNode:e=>"tag"===e.type&&"img"===e.name,processNode:e=>{const t=e.attribs,{class:n}=t,s=N(t,["class"]);return o.a.createElement(O,Object.assign({className:n,imageMetadata:a.imagesMetadata&&a.imagesMetadata[s.src]},s,a.imageProps,{postId:a.postId,imageIsLink:(i=e.parentNode,!(!i||"tag"!==i.type||"a"!==i.name)),postType:a.postType}));var i}}),"latex"in a&&!a.latex||i.push({shouldProcessNode:e=>e.attribs&&e.attribs["data-latex"],processNode:e=>o.a.createElement(b,{content:e.attribs["data-latex"]})}),i.push({shouldProcessNode:()=>!0,processNode:s.processDefaultNode}),n.parseWithInstructions(e,(function(){return!0}),i)}},1608:function(e,t,a){"use strict";var n=a(264),s=a(10),i=a(8),r=a(21),o=a(11),l=a(1314),c=(a(58),a(34),a(187)),d=a(40),m=a(42);function u(e){return async(t,a)=>{const n=a(),s=Object(r.getCurrentTeamId)(n),i=Object(m.p)(n),l=Object(o.getCurrentChannel)(n)||{};let u;return u=!1===i.exists?l.id:i.channel_id,Promise.all([t(Object(c.getTeamMember)(s,e)),t(Object(d.getChannelMember)(u,e))])}}var p=a(1281),h=a(124),g=(a(185),a(127)),b=a.n(g),f=a(5),_=a.n(f),C=a(1647),y=a(1267),E=a(269),v=a(272),w=a.n(v),O=a(1444),S=a(1278),T=a(1448),M=a(98),P=a(1282),N=a(0),I=a(12),R=a(1289),A=a(14),j=a(1334),x=a(1616),L=a(41),k=(a(128),a(110),a(112)),D=a(15),U=a(198),q=a(109),H=a(9),F=a(111),B=a(43),G=a(23),V=a(1316),W=a(1317);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class K extends W.a{static get propTypes(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){Y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},super.propTypes)}render(){const{item:e,isSelection:t}=this.props,a=e.channel,n=a.delete_at&&0!==a.delete_at;let s="mentions__name";t&&(s+=" suggestion--selected");const i=a.display_name;let r=null;return n?r=_.a.createElement("i",{className:"icon icon--no-spacing icon-archive-outline"}):a.type===N.l.OPEN_CHANNEL?r=_.a.createElement("i",{className:"icon icon--no-spacing icon-globe"}):a.type===N.l.PRIVATE_CHANNEL&&(r=_.a.createElement("i",{className:"icon icon--no-spacing icon-lock-outline"})),_.a.createElement("div",Object.assign({onClick:this.handleClick,className:s,onMouseMove:this.handleMouseMove,ref:e=>{this.node=e}},W.a.baseProps),_.a.createElement("span",{className:"suggestion-list__icon suggestion-list__icon--large"},r),i)}}let Z="";function J(e,t){const a=!!e.channel.delete_at&&0!==e.channel.delete_at,n=!!t.channel.delete_at&&0!==t.channel.delete_at;if(a&&!n)return 1;if(!a&&n)return-1;const s=Object(U.getCurrentUserLocale)(G.a.getState()),i=e.channel,r=t.channel,o=i.display_name.toLowerCase(),l=r.display_name.toLowerCase(),c=o.startsWith(Z),d=l.startsWith(Z);return c&&d?Object(F.sortChannelsByTypeAndDisplayName)(s,i,r):c||d?c?-1:1:Object(F.sortChannelsByTypeAndDisplayName)(s,i,r)}class X extends V.a{constructor(e){super(),this.autocompleteChannelsForSearch=e}makeChannelSearchFilter(e){const t=e.toLowerCase();return e=>{const a=G.a.getState(),n=e.id,s=Object(r.getCurrentTeamId)(a),i=e.display_name;return(e.type===N.l.OPEN_CHANNEL&&Object(q.haveIChannelPermission)(a,{channel:n,team:s,permission:H.Permissions.MANAGE_PUBLIC_CHANNEL_MEMBERS})||!(e.type!==N.l.PRIVATE_CHANNEL||!Object(q.haveIChannelPermission)(a,{channel:n,team:s,permission:H.Permissions.MANAGE_PRIVATE_CHANNEL_MEMBERS})))&&i.toLowerCase().includes(t)}}handlePretextChanged(e,t){if(e){Z=e,this.startNewRequest(e);const a=G.a.getState(),n=Object(o.getChannelsInCurrentTeam)(a);this.formatChannelsAndDispatch(e,t,n),this.fetchChannels(e,t)}return!0}async fetchChannels(e,t){const a=G.a.getState(),n=Object(r.getCurrentTeamId)(a);if(!n)return;const s=this.autocompleteChannelsForSearch(n,e);let i=[];try{const{data:e}=await s;i=e}catch(e){G.a.dispatch(Object(B.logError)(e))}if(this.shouldCancelDispatch(e))return;const l=Object(o.getChannelsInCurrentTeam)(a).concat(i);this.formatChannelsAndDispatch(e,t,l)}formatChannelsAndDispatch(e,t,a){const n=[],s=G.a.getState(),i=Object(k.getMyChannelMemberships)(s);if(this.shouldCancelDispatch(e))return;const r={},o=this.makeChannelSearchFilter(e),l="true"===Object(D.getConfig)(s).ExperimentalViewArchivedChannels;for(const e of Object.keys(a)){const t=a[e];if(t&&(!r[t.id]&&o(t))){const e=Object.assign({},t),a=0!==t.delete_at,s={channel:e,name:e.name,deactivated:!1};if(!l&&a)continue;if(!i[t.id])continue;if(t.type===N.l.OPEN_CHANNEL)s.type=N.l.OPEN_CHANNEL;else{if(t.type!==N.l.PRIVATE_CHANNEL)continue;s.type=N.l.PRIVATE_CHANNEL}r[t.id]=!0,n.push(s)}}t({matchedPretext:e,terms:n.sort(J).map(e=>e.channel.name),items:n,component:K})}}var Q=a(1367),$=a(1353);function ee(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class te extends _.a.PureComponent{constructor(e){super(e),ee(this,"enableChannelProvider",()=>{this.suggestionProviders[0].disableDispatches=!1}),ee(this,"focusTextbox",()=>{if(null==this.channelSearchBox)return;const e=this.channelSearchBox.getTextbox();document.activeElement!==e&&(e.focus(),Object(A.sb)(e))}),ee(this,"onInputChange",e=>{this.setState({text:e.target.value,selectedChannelId:null})}),ee(this,"onHide",()=>{this.setState({show:!1}),this.props.onHide()}),ee(this,"setSearchBoxRef",e=>{this.channelSearchBox=e,this.focusTextbox()}),ee(this,"handleSubmitError",e=>{e&&this.setState({submitError:e.message,saving:!1})}),ee(this,"didSelectChannel",e=>{const t=e.channel,a=this.props.user.id;this.setState({text:t.display_name,selectedChannelId:t.id,checkingForMembership:!0,submitError:""}),this.props.actions.getChannelMember(t.id,a).then(()=>{this.setState({checkingForMembership:!1})})}),ee(this,"handleSubmit",e=>{e&&e.preventDefault&&e.preventDefault();const t=this.state.selectedChannelId,a=this.props.user;t&&(this.isUserMemberOfChannel(t)||this.state.saving||(this.setState({saving:!0}),this.props.actions.addChannelMember(t,a.id).then(({error:e})=>{e?this.handleSubmitError(e):this.onHide()})))}),ee(this,"isUserMemberOfChannel",e=>{const t=this.props.user,a=this.props.channelMembers;return!!e&&(!!a[e]&&Boolean(a[e][t.id]))}),this.state={show:!0,saving:!1,checkingForMembership:!1,text:"",selectedChannelId:null,submitError:""},this.suggestionProviders=[new X(e.actions.autocompleteChannelsForSearch)],this.enableChannelProvider()}render(){const e=this.props.user,t=this.state.selectedChannelId,a=this.isUserMemberOfChannel(t);let n,s=Object(L.getFullName)(e);s||(s="@".concat(e.username)),this.state.saving||(this.state.submitError?n=_.a.createElement("label",{id:"add-user-to-channel-modal__invite-error",className:"modal__error has-error control-label"},this.state.submitError):a&&(n=_.a.createElement("label",{id:"add-user-to-channel-modal__user-is-member",className:"modal__error has-error control-label"},_.a.createElement(y.a,{id:"add_user_to_channel_modal.membershipExistsError",defaultMessage:"{name} is already a member of that channel",values:{name:s}}))));const i=_.a.createElement(y.a,{id:"add_user_to_channel_modal.help",defaultMessage:"Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss."}),r=_.a.createElement(Q.a,{ref:this.setSearchBoxRef,className:"form-control focused",onChange:this.onInputChange,value:this.state.text,onItemSelected:this.didSelectChannel,listComponent:$.a,maxLength:"64",providers:this.suggestionProviders,listStyle:"bottom",completeOnTab:!1,renderDividers:!1,delayInputUpdate:!0,openWhenEmpty:!1}),o=a||this.state.checkingForMembership||Boolean(!this.state.selectedChannelId)||this.state.saving;return _.a.createElement(x.a,{dialogClassName:"a11y__modal modal--overflow",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,ref:"modal",enforceFocus:!0,role:"dialog","aria-labelledby":"addChannelModalLabel"},_.a.createElement(x.a.Header,{closeButton:!0},_.a.createElement(x.a.Title,{componentClass:"h1",id:"addChannelModalLabel"},_.a.createElement(y.a,{id:"add_user_to_channel_modal.title",defaultMessage:"Add {name} to a Channel",values:{name:s}}))),_.a.createElement("form",{role:"form",onSubmit:this.handleSubmit},_.a.createElement(x.a.Body,null,_.a.createElement("div",{className:"modal__hint"},i),_.a.createElement("div",{className:"pos-relative"},r),_.a.createElement("div",null,n,_.a.createElement("br",null))),_.a.createElement(x.a.Footer,null,_.a.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onHide},_.a.createElement(y.a,{id:"add_user_to_channel_modal.cancel",defaultMessage:"Cancel"})),_.a.createElement("button",{type:"button",id:"add-user-to-channel-modal__add-button",className:"btn btn-primary",onClick:this.handleSubmit,disabled:o},_.a.createElement(y.a,{id:"add_user_to_channel_modal.add",defaultMessage:"Add"})))))}}ee(te,"propTypes",{onHide:b.a.func.isRequired,user:b.a.object.isRequired,channelMembers:b.a.object.isRequired,actions:b.a.shape({addChannelMember:b.a.func.isRequired,getChannelMember:b.a.func.isRequired,autocompleteChannelsForSearch:b.a.func.isRequired}).isRequired});var ae=Object(n.connect)((function(e){return{channelMembers:Object(o.getChannelMembersInChannels)(e)||{}}}),(function(e){return{actions:Object(s.bindActionCreators)({addChannelMember:d.addChannelMember,getChannelMember:d.getChannelMember,autocompleteChannelsForSearch:d.autocompleteChannelsForSearch},e)}}))(te),ne=a(1308),se=a(1447),ie=a(1313),re=a(1357);function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ce extends _.a.PureComponent{static getComponentName(){return"ProfilePopover"}constructor(e){super(e),le(this,"handleShowDirectChannel",e=>{const{actions:t}=this.props;if(e.preventDefault(),!this.props.user)return;const a=this.props.user;-1===this.state.loadingDMChannel&&(this.setState({loadingDMChannel:a.id}),t.openDirectChannelToUserId(a.id).then(e=>{e.error||(A.fb()&&P.c(),this.setState({loadingDMChannel:-1}),this.props.hide&&this.props.hide(),M.a.push("".concat(this.props.teamUrl,"/messages/@").concat(a.username)))}),this.handleCloseModals())}),le(this,"handleMentionKeyClick",e=>{e.preventDefault(),this.props.user&&(this.props.hide&&this.props.hide(),w.a.emit("mention_key_click",this.props.user.username,this.props.isRHS),this.handleCloseModals())}),le(this,"handleEditAccountSettings",e=>{e.preventDefault(),this.props.user&&(this.props.hide&&this.props.hide(),this.props.actions.openModal({ModalId:N.y.USER_SETTINGS,dialogType:T.a}),this.handleCloseModals())}),le(this,"handleAddToChannel",e=>{e.preventDefault(),this.handleCloseModals()}),le(this,"handleCloseModals",()=>{const{modals:e}=this.props;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t].open&&this.props.actions.closeModal(t)}),this.state={loadingDMChannel:-1}}componentDidMount(){this.props.actions.getMembershipForCurrentEntities(this.props.userId)}render(){if(!this.props.user)return null;const e=Object.assign({},this.props);delete e.user,delete e.userId,delete e.src,delete e.status,delete e.hideStatus,delete e.isBusy,delete e.hide,delete e.isRHS,delete e.hasMention,delete e.dispatch,delete e.enableTimezone,delete e.currentUserId,delete e.currentTeamId,delete e.teamUrl,delete e.actions,delete e.isTeamAdmin,delete e.isChannelAdmin,delete e.canManageAnyChannelMembersInCurrentTeam,delete e.intl;const{formatMessage:t}=this.props.intl;var a=[];const n=this.props.overwriteIcon?this.props.overwriteIcon:this.props.src;a.push(_.a.createElement(ie.a,{size:"xxl",username:this.props.user.username,url:n,key:"user-popover-image"}));const s=A.C(this.props.user),i=this.props.overwriteIcon||this.props.overwriteName;if(!s&&!this.props.user.position||i||a.push(_.a.createElement("hr",{key:"user-popover-hr",className:"divider divider--expanded"})),s&&!i&&a.push(_.a.createElement(S.a,{delayShow:N.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:_.a.createElement(C.a,{id:"fullNameTooltip"},s),key:"user-popover-fullname"},_.a.createElement("div",{className:"overflow--ellipsis text-nowrap"},_.a.createElement("strong",null,s)))),this.props.user.is_bot&&!i&&a.push(_.a.createElement("div",{key:"bot-description",className:"overflow--ellipsis text-nowrap"},this.props.user.bot_description)),this.props.user.position&&!i){const e=this.props.user.position.substring(0,N.Z.MAX_POSITION_LENGTH);a.push(_.a.createElement(S.a,{delayShow:N.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:_.a.createElement(C.a,{id:"positionTooltip"},e),key:"user-popover-position"},_.a.createElement("div",{className:"overflow--ellipsis text-nowrap pt-1 pb-1"},e)))}const r=this.props.user.email;if(!r||this.props.user.is_bot||i||(a.push(_.a.createElement("hr",{key:"user-popover-hr2",className:"divider divider--expanded"})),a.push(_.a.createElement("div",{"data-toggle":"tooltip",title:r,key:"user-popover-email"},_.a.createElement("a",{href:"mailto:"+r,className:"text-nowrap text-lowercase user-popover__email pb-1"},r)))),a.push(_.a.createElement(j.a,{key:"profilePopoverPluggable2",pluggableName:"PopoverUserAttributes",user:this.props.user,hide:this.props.hide,status:this.props.hideStatus?null:this.props.status})),this.props.enableTimezone&&this.props.user.timezone&&!i&&a.push(_.a.createElement("div",{key:"user-popover-local-time",className:"pb-1"},_.a.createElement(y.a,{id:"user_profile.account.localTime",defaultMessage:"Local Time: "}),_.a.createElement(O.b,{useRelative:!1,useDate:!1,userTimezone:this.props.user.timezone,useTime:{hour:"numeric",minute:"numeric",timeZoneName:"short"}}))),this.props.user.id!==this.props.currentUserId||i||a.push(_.a.createElement("div",{"data-toggle":"tooltip",key:"user-popover-settings",className:"popover__row first"},_.a.createElement("a",{href:"#",onClick:this.handleEditAccountSettings},_.a.createElement(ne.a,{className:"fa fa-pencil-square-o",title:{id:Object(I.b)("generic_icons.edit"),defaultMessage:"Edit Icon"}}),_.a.createElement(y.a,{id:"user_profile.account.editSettings",defaultMessage:"Edit Account Settings"})))),i&&a.push(_.a.createElement("div",{"data-toggle":"tooltip",key:"user-popover-settings",className:"popover__row first"},_.a.createElement(y.a,{id:"user_profile.account.post_was_created",defaultMessage:"This post was created by an integration from"}),_.a.createElement("a",{onClick:this.handleMentionKeyClick}," @".concat(this.props.user.username)))),this.props.user.id!==this.props.currentUserId&&!i&&(a.push(_.a.createElement("div",{"data-toggle":"tooltip",key:"user-popover-dm",className:"popover__row first"},_.a.createElement("a",{href:"#",className:"text-nowrap user-popover__email",onClick:this.handleShowDirectChannel},_.a.createElement(ne.a,{className:"fa fa-paper-plane",title:{id:Object(I.b)("user_profile.send.dm.icon"),defaultMessage:"Send Message Icon"}}),_.a.createElement(y.a,{id:"user_profile.send.dm",defaultMessage:"Send Message"})))),this.props.canManageAnyChannelMembersInCurrentTeam&&this.props.isInCurrentTeam)){const e=t({id:"user_profile.add_user_to_channel",defaultMessage:"Add to a Channel"});a.push(_.a.createElement("div",{"data-toggle":"tooltip",className:"popover__row first",key:"user-popover-add-to-channel"},_.a.createElement("a",{href:"#",className:"text-nowrap",onClick:this.handleAddToChannel},_.a.createElement(se.a,{accessibilityLabel:e,modalId:N.y.ADD_USER_TO_CHANNEL,role:"menuitem",dialogType:ae,dialogProps:{user:this.props.user},onClick:this.props.hide},_.a.createElement(ne.a,{className:"fa fa-user-plus",title:{id:Object(I.b)("user_profile.add_user_to_channel.icon"),defaultMessage:"Add User to Channel Icon"}}),e))))}let o;a.push(_.a.createElement(j.a,{key:"profilePopoverPluggable3",pluggableName:"PopoverUserActions",user:this.props.user,hide:this.props.hide,status:this.props.hideStatus?null:this.props.status})),this.props.user.is_bot?o=_.a.createElement("span",{className:"user-popover__role"},A.ob("bots.is_bot","BOT")):A.bb(this.props.user)?o=_.a.createElement("span",{className:"user-popover__role"},A.ob("post_info.guest","GUEST")):A.hb(this.props.user.roles)?o=_.a.createElement("span",{className:"user-popover__role"},A.ob("admin.permissions.roles.system_admin.name","System Admin")):this.props.isTeamAdmin?o=_.a.createElement("span",{className:"user-popover__role"},A.ob("admin.permissions.roles.team_admin.name","Team Admin")):this.props.isChannelAdmin&&(o=_.a.createElement("span",{className:"user-popover__role"},A.ob("admin.permissions.roles.channel_admin.name","Channel Admin")));let l="@".concat(this.props.user.username);return this.props.overwriteName?(l="".concat(this.props.overwriteName),o=""):this.props.hasMention&&(l=_.a.createElement("a",{onClick:this.handleMentionKeyClick},l)),l=_.a.createElement("span",{"data-testid":"profilePopoverTitle_".concat(this.props.user.username)},_.a.createElement("span",{className:"user-popover__username"},l),o),_.a.createElement(re.a,Object.assign({},e,{title:l,id:"user-profile-popover"}),a)}}le(ce,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(a),!0).forEach((function(t){le(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({src:b.a.string.isRequired,overwriteIcon:b.a.string,user:b.a.object,status:b.a.string,hideStatus:b.a.bool,hide:b.a.func,isRHS:b.a.bool,modals:b.a.object,currentTeamId:b.a.string.isRequired,currentUserId:b.a.string.isRequired,hasMention:b.a.bool,isInCurrentTeam:b.a.bool.isRequired,teamUrl:b.a.string.isRequired,isTeamAdmin:b.a.bool.isRequired,isChannelAdmin:b.a.bool.isRequired,canManageAnyChannelMembersInCurrentTeam:b.a.bool.isRequired,overwriteName:b.a.node,actions:b.a.shape({getMembershipForCurrentEntities:b.a.func.isRequired,openDirectChannelToUserId:b.a.func.isRequired,openModal:b.a.func.isRequired,closeModal:b.a.func.isRequired}).isRequired,intl:R.a.isRequired},re.a.propTypes)),le(ce,"defaultProps",{isRHS:!1,hasMention:!1,status:N.U.OFFLINE}),delete ce.propTypes.id;var de=Object(E.c)(ce);t.a=Object(n.connect)((function(e,t){const a=t.userId,n=Object(r.getCurrentTeam)(e),s=Object(r.getTeamMember)(e,n.id,a);let l=!1;s&&s.scheme_admin&&(l=!0);const c=Object(m.p)(e);let d;if(!1===c.exists){d=(Object(o.getCurrentChannel)(e)||{}).id}else d=c.channel_id;const u=Object(o.getChannelMembersInChannels)(e)[d][a];let p=!1;return"search"!==Object(m.k)(e)&&null!=u&&u.scheme_admin&&(p=!0),{currentTeamId:n.id,currentUserId:Object(i.getCurrentUserId)(e),enableTimezone:Object(h.a)(e),isTeamAdmin:l,isChannelAdmin:p,isInCurrentTeam:Boolean(s)&&0===s.delete_at,canManageAnyChannelMembersInCurrentTeam:Object(o.canManageAnyChannelMembersInCurrentTeam)(e),status:Object(i.getStatusForUserId)(e,a),teamUrl:Object(r.getCurrentRelativeTeamUrl)(e),user:Object(i.getUser)(e,a),modals:e.views.modals.modalState}}),(function(e){return{actions:Object(s.bindActionCreators)({closeModal:p.a,openDirectChannelToUserId:l.f,openModal:p.b,getMembershipForCurrentEntities:u},e)}}))(de)},1609:function(e,t,a){"use strict";var n=a(264),s=a(60),i=a(10),r=a(22),o=a(15),l=a(109),c=a(85),d=a(9),m=a(1298),u=a(0),p=a(1560),h=a(5),g=a.n(h),b=a(1272),f=a(1713),_=a(17),C=a(280);var y=[{name:"apiv3_deprecation",adminOnly:!0,title:g.a.createElement(b.b,{id:"system_notice.title",defaultMessage:"**Notice**\\nfrom Mattermost"}),icon:C.a,body:g.a.createElement(b.b,{id:"system_notice.body.api3",defaultMessage:"If you’ve created or installed integrations in the last two years, find out how [recent changes](!https://about.mattermost.com/default-apiv3-deprecation-guide) may have affected them."}),allowForget:!0,show:(e,t)=>!(t.InstallationDate>=new Date(2018,5,16,0,0,0,0).getTime())},{name:"advanced_permissions",adminOnly:!0,title:g.a.createElement(b.b,{id:"system_notice.title",defaultMessage:"**Notice**\\nfrom Mattermost"}),icon:C.a,body:g.a.createElement(b.b,{id:"system_notice.body.permissions",defaultMessage:"Some policy and permission System Console settings have moved with the release of [advanced permissions](!https://about.mattermost.com/default-advanced-permissions) in Enterprise E10 and E20."}),allowForget:!0,show:(e,t,a)=>"false"!==a.IsLicensed&&(!(t.InstallationDate>new Date(2018,5,16,0,0,0,0).getTime())&&!("true"===a.IsLicensed&&a.IssuedAt>new Date(2018,5,16,0,0,0,0).getTime()))},{name:"ee_upgrade_advice",adminOnly:!0,title:g.a.createElement(b.b,{id:"system_notice.title",defaultMessage:"**Notice**\\nfrom Mattermost"}),icon:C.a,body:g.a.createElement(b.b,{id:"system_notice.body.ee_upgrade_advice",defaultMessage:"Enterprise Edition is recommended to ensure optimal operation and reliability. [Learn more](!https://mattermost.com/performance)."}),allowForget:!1,show:(e,t,a,n)=>!!(null==n?void 0:n.hasOwnProperty("TOTAL_USERS"))&&(!(n.TOTAL_USERS<1e4)&&("true"!==a.IsLicensed||"true"!==a.Cluster))},{name:"ie11_deprecation",title:g.a.createElement(b.b,{id:"system_notice.title",defaultMessage:"**Notice**\\nfrom Mattermost"}),icon:C.a,allowForget:!1,body:g.a.createElement(b.b,{id:"system_notice.body.ie11_deprecation",defaultMessage:"Your browser, IE11, will no longer be supported in an upcoming release. [Find out how to move to another browser in one simple step](!https://forum.mattermost.org/t/mattermost-is-dropping-support-for-internet-explorer-ie11-in-v5-16/7575)."}),show:e=>!f.b(e,"5.16.0")&&!!_.h()}],E=(a(34),a(127)),v=a.n(E),w=a(1267),O=a(12),S=a(1308),T=a(1477);function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class P extends g.a.PureComponent{constructor(...e){super(...e),M(this,"getCurrentNotice",()=>{for(const t of this.props.notices){var e;if(!this.props.dismissedNotices[t.name]&&(!this.props.preferences[t.name]&&(!t.adminOnly||this.props.isSystemAdmin)&&(null===(e=t.show)||void 0===e?void 0:e.call(t,this.props.serverVersion,this.props.config,this.props.license,this.props.analytics))))return t}return null}),M(this,"hide",(e=!1)=>{const t=this.getCurrentNotice();t&&(e||this.props.actions.savePreferences(this.props.currentUserId,[{user_id:this.props.currentUserId,category:u.F.CATEGORY_SYSTEM_NOTICE,name:t.name,value:"dismissed"}]),this.props.actions.dismissNotice(t.name))}),M(this,"hideAndRemind",()=>{this.hide(!0)}),M(this,"hideAndForget",()=>{this.hide(!1)})}componentDidMount(){this.props.isSystemAdmin&&this.props.actions.getStandardAnalytics()}componentDidUpdate(e){e.isSystemAdmin!==this.props.isSystemAdmin&&this.props.isSystemAdmin&&this.props.actions.getStandardAnalytics()}render(){const e=this.getCurrentNotice();if(null==e)return null;let t;return e.adminOnly&&(t=g.a.createElement("div",{className:"system-notice__info"},g.a.createElement(S.a,{className:"fa fa-eye",title:{id:Object(O.b)("system_notice.adminVisible.icon"),defaultMessage:"Only visible to System Admins Icon"}}),g.a.createElement(w.a,{id:"system_notice.adminVisible",defaultMessage:"Only visible to System Admins"}))),g.a.createElement("div",{className:"system-notice bg--white shadow--2"},g.a.createElement("div",{className:"system-notice__header"},g.a.createElement("div",{className:"system-notice__logo"},g.a.createElement(T.a,null)),g.a.createElement("div",{className:"system-notice__title"},e.title)),g.a.createElement("div",{className:"system-notice__body"},e.body),t,g.a.createElement("div",{className:"system-notice__footer"},g.a.createElement("button",{id:"systemnotice_remindme",className:"btn btn-transparent",onClick:this.hideAndRemind},g.a.createElement(w.a,{id:"system_notice.remind_me",defaultMessage:"Remind Me Later"})),e.allowForget&&g.a.createElement("button",{id:"systemnotice_dontshow",className:"btn btn-transparent",onClick:this.hideAndForget},g.a.createElement(w.a,{id:"system_notice.dont_show",defaultMessage:"Don't Show Again"}))))}}M(P,"propTypes",{currentUserId:v.a.string.isRequired,notices:v.a.arrayOf(v.a.any).isRequired,preferences:v.a.objectOf(v.a.any).isRequired,dismissedNotices:v.a.any.isRequired,isSystemAdmin:v.a.bool,serverVersion:v.a.string.isRequired,config:v.a.any.isRequired,license:v.a.any.isRequired,analytics:v.a.any,actions:v.a.shape({}).isRequired});t.a=Object(n.connect)((function(){const e=Object(r.makeGetCategory)(),t=Object(s.a)(e,e=>{const t={};return e.forEach(e=>{t[e.name]=e}),t});return function(e){const a=Object(o.getLicense)(e),n=Object(o.getConfig)(e),s=e.entities.general.serverVersion,i=e.entities.admin.analytics;return{currentUserId:e.entities.users.currentUserId,preferences:t(e,u.F.CATEGORY_SYSTEM_NOTICE),dismissedNotices:e.views.notice.hasBeenDismissed,isSystemAdmin:Object(l.haveISystemPermission)(e,{permission:d.Permissions.MANAGE_SYSTEM}),notices:y,config:n,license:a,serverVersion:s,analytics:i}}}),(function(e){return{actions:Object(i.bindActionCreators)({savePreferences:c.savePreferences,dismissNotice:p.a,getStandardAnalytics:m.getStandardAnalytics},e)}}))(P)},1610:function(e,t,a){"use strict";var n=new class{constructor(){this.conn=null,this.connectionUrl=null,this.sequence=1,this.eventSequence=0,this.connectFailCount=0,this.eventCallback=null,this.responseCallbacks={},this.firstConnectCallback=null,this.reconnectCallback=null,this.missedEventCallback=null,this.errorCallback=null,this.closeCallback=null}initialize(e=this.connectionUrl,t){this.conn||(null!=e?(0===this.connectFailCount&&console.log("websocket connecting to "+e),this.conn=new WebSocket(e),this.connectionUrl=e,this.conn.onopen=()=>{this.eventSequence=0,t&&this.sendMessage("authentication_challenge",{token:t}),this.connectFailCount>0?(console.log("websocket re-established connection"),this.reconnectCallback&&this.reconnectCallback()):this.firstConnectCallback&&this.firstConnectCallback(),this.connectFailCount=0},this.conn.onclose=()=>{this.conn=null,this.sequence=1,0===this.connectFailCount&&console.log("websocket closed"),this.connectFailCount++,this.closeCallback&&this.closeCallback(this.connectFailCount);let a=3e3;this.connectFailCount>7&&(a=3e3*this.connectFailCount*this.connectFailCount,a>3e5&&(a=3e5)),setTimeout(()=>{this.initialize(e,t)},a)},this.conn.onerror=e=>{this.connectFailCount<=1&&(console.log("websocket error"),console.log(e)),this.errorCallback&&this.errorCallback(e)},this.conn.onmessage=e=>{const t=JSON.parse(e.data);t.seq_reply?(t.error&&console.log(t),this.responseCallbacks[t.seq_reply]&&(this.responseCallbacks[t.seq_reply](t),Reflect.deleteProperty(this.responseCallbacks,t.seq_reply))):this.eventCallback&&(t.seq!==this.eventSequence&&this.missedEventCallback&&(console.log("missed websocket event, act_seq="+t.seq+" exp_seq="+this.eventSequence),this.missedEventCallback()),this.eventSequence=t.seq+1,this.eventCallback(t))}):console.log("websocket must have connection url"))}setEventCallback(e){this.eventCallback=e}setFirstConnectCallback(e){this.firstConnectCallback=e}setReconnectCallback(e){this.reconnectCallback=e}setMissedEventCallback(e){this.missedEventCallback=e}setErrorCallback(e){this.errorCallback=e}setCloseCallback(e){this.closeCallback=e}close(){this.connectFailCount=0,this.sequence=1,this.conn&&this.conn.readyState===WebSocket.OPEN&&(this.conn.onclose=()=>{},this.conn.close(),this.conn=null,console.log("websocket closed"))}sendMessage(e,t,a){const n={action:e,seq:this.sequence++,data:t};a&&(this.responseCallbacks[n.seq]=a),this.conn&&this.conn.readyState===WebSocket.OPEN?this.conn.send(JSON.stringify(n)):this.conn&&this.conn.readyState!==WebSocket.CLOSED||(this.conn=null,this.initialize())}userTyping(e,t,a){const n={};n.channel_id=e,n.parent_id=t,this.sendMessage("user_typing",n,a)}userUpdateActiveStatus(e,t,a){const n={user_is_active:e,manual:t};this.sendMessage("user_update_active_status",n,a)}getStatuses(e){this.sendMessage("get_statuses",null,e)}getStatusesByIds(e,t){const a={};a.user_ids=e,this.sendMessage("get_statuses_by_ids",a,t)}};t.a=n},1612:function(e,t,a){"use strict";a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(2435),l=a(269),c=a(1564),d=a(1639);function m(e){const{formatMessage:t}=Object(d.a)();return r.a.createElement("span",e,r.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.back",defaultMessage:"Back Icon"})},r.a.createElement("path",{d:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"})))}a(2057);function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class p extends r.a.PureComponent{constructor(...e){super(...e),u(this,"modal",r.a.createRef()),u(this,"enforceFocus",()=>{setTimeout(()=>{const e=document.activeElement;this.modal&&this.modal.current&&!this.modal.current.contains(e)&&this.modal.current.focus()})}),u(this,"handleKeypress",e=>{"Escape"===e.key&&this.props.show&&this.close()}),u(this,"close",()=>{this.props.onClose()})}componentDidMount(){document.addEventListener("keydown",this.handleKeypress),document.addEventListener("focus",this.enforceFocus,!0),this.enforceFocus()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeypress),document.removeEventListener("focus",this.enforceFocus,!0)}render(){return r.a.createElement(o.a,{in:this.props.show,classNames:"FullScreenModal",mountOnEnter:!0,unmountOnExit:!0,timeout:100,appear:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"FullScreenModal",ref:this.modal,tabIndex:-1,"aria-modal":!0,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,role:"dialog"},this.props.onGoBack&&r.a.createElement("button",{onClick:this.props.onGoBack,className:"back","aria-label":this.props.intl.formatMessage({id:"full_screen_modal.back",defaultMessage:"Back"})},r.a.createElement(m,{id:"backIcon"})),r.a.createElement("button",{onClick:this.close,className:"close-x","aria-label":this.props.intl.formatMessage({id:"full_screen_modal.close",defaultMessage:"Close"})},r.a.createElement(c.a,{id:"closeIcon"})),this.props.children),r.a.createElement("div",{tabIndex:0,style:{display:"none"}})))}}u(p,"propTypes",{show:s.a.bool.isRequired,onClose:s.a.func.isRequired,onGoBack:s.a.func,children:s.a.node.isRequired,ariaLabel:s.a.string,ariaLabelledBy:s.a.string,intl:s.a.any.isRequired});const h=Object(l.c)(p,{forwardRef:!0});h.displayName="injectIntl(FullScreenModal)";t.a=h},1615:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));const n=(e,t)=>e.views.channel.lastGetPosts[t],s=e=>e.views.channel.toastStatus},1640:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(185),a(58);var n=a(5),s=a.n(n),i=a(1316),r=a(1317);class o extends r.a{render(){const{item:e,isSelection:t}=this.props;let a="mentions__name";return t&&(a+=" suggestion--selected"),s.a.createElement("div",Object.assign({className:a,onClick:this.handleClick,onMouseMove:this.handleMouseMove},r.a.baseProps),e.text)}}class l extends i.a{constructor(e){super(),this.options=e}handlePretextChanged(e,t){return 0===e.length?(this.displayAllOptions(t),!0):!!e&&(this.filterOptions(e,t),!0)}async displayAllOptions(e){e({matchedPretext:"",terms:this.options.map(e=>e.text),items:this.options,component:o})}async filterOptions(e,t){const a=this.options.filter(t=>t.text.toLowerCase().indexOf(e)>=0),n=a.map(e=>e.text);t({matchedPretext:e,terms:n,items:a,component:o})}}},1641:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(185);var n=a(5),s=a.n(n),i=a(1316),r=a(1317);class o extends r.a{render(){const e=this.props.isSelection,t=this.props.item,a=t.display_name,n=t.purpose;let i="mentions__name no-flex";e&&(i+=" suggestion--selected");const o="(~"+t.name+")";return s.a.createElement("div",Object.assign({className:i,onClick:this.handleClick,onMouseMove:this.handleMouseMove},r.a.baseProps),s.a.createElement("div",{className:"mention__align"},s.a.createElement("span",null,a),s.a.createElement("span",{className:"mention__channelname"}," ",o)),s.a.createElement("div",{className:"mention__purpose"},n))}}class l extends i.a{constructor(e){super(),this.autocompleteChannels=e}handlePretextChanged(e,t){const a=e.toLowerCase();return this.startNewRequest(a),this.autocompleteChannels(a,e=>{if(this.shouldCancelDispatch(a))return;const n=Object.assign([],e);t({matchedPretext:a,terms:n.map(e=>e.display_name),items:n,component:o})}),!0}}},1642:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(185),a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1524);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends r.a.PureComponent{constructor(...e){super(...e),l(this,"handleChange",e=>{"number"===this.props.type?this.props.onChange(this.props.id,parseInt(e.target.value,10)):this.props.onChange(this.props.id,e.target.value)})}render(){const{resizable:e}=this.props;let{type:t}=this.props,a=null;if("textarea"===t){let t={};e||(t=Object.assign({},{resize:"none"})),a=r.a.createElement("textarea",{autoFocus:this.props.autoFocus,"data-testid":this.props.id+"input",id:this.props.id,style:t,className:"form-control",rows:5,placeholder:this.props.placeholder,value:this.props.value,maxLength:this.props.maxLength,onChange:this.handleChange,disabled:this.props.disabled})}else t=["input","email","tel","number","url","password"].includes(t)?t:"input",a=r.a.createElement("input",{autoFocus:this.props.autoFocus,"data-testid":this.props.id+t,id:this.props.id,className:"form-control",type:t,placeholder:this.props.placeholder,value:this.props.value,maxLength:this.props.maxLength,onChange:this.handleChange,disabled:this.props.disabled});return r.a.createElement(o.a,{label:this.props.label,labelClassName:this.props.labelClassName,inputClassName:this.props.inputClassName,helpText:this.props.helpText,inputId:this.props.id,footer:this.props.footer},a)}}l(c,"propTypes",{id:s.a.string.isRequired,label:s.a.node.isRequired,labelClassName:s.a.string,placeholder:s.a.string,helpText:s.a.node,footer:s.a.node,value:s.a.oneOfType([s.a.string,s.a.number]).isRequired,inputClassName:s.a.string,maxLength:s.a.number,resizable:s.a.bool,disabled:s.a.bool,type:s.a.oneOf(["input","textarea","number","email","tel","url","password"]),autoFocus:s.a.bool}),l(c,"validTypes",["input","textarea","number","email","tel","url","password"]),l(c,"defaultProps",{labelClassName:"",inputClassName:"",type:"input",maxLength:-1,resizable:!0})},1643:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1367),l=a(1353);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends r.a.PureComponent{constructor(e){super(e),c(this,"onChange",e=>{e&&e.target&&this.setState({input:e.target.value})}),c(this,"handleSelected",e=>{this.setState({input:""}),this.props.onSelected&&this.props.onSelected(e),requestAnimationFrame(()=>{this.suggestionRef&&this.suggestionRef.blur()})}),c(this,"setSuggestionRef",e=>{this.suggestionRef=e}),c(this,"onFocus",()=>{this.setState({focused:!0}),this.props.toggleFocus&&this.props.toggleFocus(!0)}),c(this,"onBlur",()=>{this.setState({focused:!1}),this.props.toggleFocus&&this.props.toggleFocus(!1)}),this.state={input:""}}render(){const{providers:e,placeholder:t,footer:a,label:n,labelClassName:s,helpText:i,inputClassName:l,value:c,disabled:d,listComponent:m,listStyle:u}=this.props,{focused:p}=this.state;let h,g,{input:b}=this.state;return p||(b=c),n&&(h=r.a.createElement("label",{className:"control-label "+s},n)),i&&(g=r.a.createElement("div",{className:"help-text"},i)),r.a.createElement("div",{"data-testid":"autoCompleteSelector",className:"form-group"},h,r.a.createElement("div",{className:l},r.a.createElement(o.a,{placeholder:t,ref:this.setSuggestionRef,listComponent:m,className:"form-control",containerClass:"select-suggestion-container",value:b,onChange:this.onChange,onItemSelected:this.handleSelected,onFocus:this.onFocus,onBlur:this.onBlur,providers:e,completeOnTab:!0,renderDividers:!1,renderNoResults:!0,openOnFocus:!0,openWhenEmpty:!0,replaceAllInputOnSelect:!0,disabled:d,listStyle:u}),g,a))}}c(d,"propTypes",{providers:s.a.array.isRequired,value:s.a.string.isRequired,onSelected:s.a.func,label:s.a.node,labelClassName:s.a.string,inputClassName:s.a.string,helpText:s.a.node,placeholder:s.a.string,footer:s.a.node,disabled:s.a.bool,toggleFocus:s.a.func,listComponent:s.a.elementType,listStyle:s.a.string}),c(d,"defaultProps",{value:"",id:"",labelClassName:"",inputClassName:"",listComponent:l.a,listStyle:"top"})},1648:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return _}));a(656),a(185),a(110);var n=a(5),s=a.n(n),i=a(19),r=a(21),o=a(11),l=a(23),c=a(17),d=a(14),m=a(42),u=a(1317),p=a(1316);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const b="_execute_current_command";class f extends u.a{render(){const{item:e,isSelection:t}=this.props;let a="slash-command";t&&(a+=" suggestion--selected");let n=s.a.createElement("span",null,"/");e.iconData===b&&(n=s.a.createElement("span",{className:"block mt-1"},"↵"));let i=s.a.createElement("div",{className:"slash-command__icon"},n);return""!==e.iconData&&e.iconData!==b&&(i=s.a.createElement("div",{className:"slash-command__icon",style:{backgroundColor:"transparent"}},s.a.createElement("img",{src:e.iconData}))),s.a.createElement("div",Object.assign({className:a,onClick:this.handleClick,onMouseMove:this.handleMouseMove},u.a.baseProps),i,s.a.createElement("div",{className:"slash-command__info"},s.a.createElement("div",{className:"slash-command__title"},e.suggestion.substring(1)+" "+e.hint),s.a.createElement("div",{className:"slash-command__desc"},e.description)))}}class _ extends p.a{constructor({isInRHS:e}){super(),this.isInRHS=e}handlePretextChanged(e,t){return!!e.startsWith("/")&&(c.p()?this.handleMobile(e,t):this.handleWebapp(e,t))}handleCompleteWord(e,t,a){a(e+" ")}handleMobile(e,t){const a=e.toLowerCase();return i.Client4.getCommandsList(Object(r.getCurrentTeamId)(l.a.getState())).then(e=>{let n=[];e.forEach(e=>{if(e.auto_complete&&"shortcuts"!==e.trigger&&0===("/"+e.trigger).indexOf(a)){const t="/"+e.trigger;let a="";e.auto_complete_hint&&0!==e.auto_complete_hint.length&&(a=e.auto_complete_hint),n.push({suggestion:t,hint:a,description:e.auto_complete_desc})}}),n=n.sort((e,t)=>e.suggestion.localeCompare(t.suggestion));const s=n.map(e=>e.suggestion);t({matchedPretext:a,terms:s,items:n,component:f})}).catch(()=>{}),!0}handleWebapp(e,t){const a=e.toLowerCase(),n=Object(r.getCurrentTeamId)(l.a.getState()),s=Object(m.p)(l.a.getState());let c;this.isInRHS&&(c=s.root_id?s.root_id:s.id);const u=this.isInRHS&&s.channel_id?Object(o.getChannel)(l.a.getState(),s.channel_id):Object(o.getCurrentChannel)(l.a.getState()),p=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({channel_id:null==u?void 0:u.id},c&&{root_id:c,parent_id:c});return i.Client4.getCommandAutocompleteSuggestionsList(a,n,p).then(n=>{const s=[];let i="Ctrl";d.eb()&&(i="⌘"),this.shouldAddExecuteItem(n,e)&&s.push({complete:e+b,suggestion:"/Execute Current Command",hint:"",description:"Select this option or use "+i+"+Enter to execute the current command.",iconData:b}),n.forEach(e=>{this.contains(s,"/"+e.Complete)||s.push({complete:"/"+e.Complete,suggestion:"/"+e.Suggestion,hint:e.Hint,description:e.Description,iconData:e.IconData})});const r=s.map(e=>e.complete);t({matchedPretext:a,terms:r,items:s,component:f})}).catch(()=>{}),!0}shouldAddExecuteItem(e,t){return 0!==e.length&&(" "===t[t.length-1]||-1!==e.findIndex(e=>""===e.Suggestion))}contains(e,t){return-1!==e.findIndex(e=>e.complete===t)}}},1681:function(e,t,a){},1696:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return m}));a(34);var n=a(146),s=a.n(n);const i=new Map([["year",!0],["quarter",!0],["month",!0],["week",!0],["day",!0],["hour",!1],["minute",!1],["second",!0]]);function r(e,t,a,n,s=1,r=i.get(n)||!1){const o=l(e,t,a,n,r);return s>=0?o<=s&&o>=0:o>=s&&o<=0}function o(e,t,a,n,s=1,r=i.get(n)||!1){return s===l(e,t,a,n,r)}function l(e,t,a,n,r=i.get(n)||!1){const o=s.a.utc(e.getTime()),l=s.a.utc(t.getTime());return a&&(o.tz(a),l.tz(a)),r?o.startOf(n).diff(l.startOf(n),n):o.diff(t,n,!0)}function c(e,t=new Date){return e.getDate()===t.getDate()&&function(e,t=new Date){return e.getMonth()===t.getMonth()&&d(e,t)}(e,t)}function d(e,t=new Date){return e.getFullYear()===t.getFullYear()}function m(e){return c(e)}},1698:function(e,t,a){"use strict";function n(e,t,a,n){let s;return s=e.top>a?"top":t-e.bottom>(n||a)?"bottom":"left",s}a.d(t,"a",(function(){return n}))},1700:function(e,t,a){"use strict";var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1307);const l=({loading:e,progress:t,containerClass:a})=>{let n=r.a.createElement("span",{className:"loader-percent"});return t&&(n=r.a.createElement("span",{className:"loader-percent"},"".concat(e," ").concat(t,"%"))),r.a.createElement("div",{className:a},r.a.createElement(o.a,null),n)};l.propTypes={loading:s.a.string,progress:s.a.number,containerClass:s.a.string},l.defaultProps={containerClass:"view-image__loading"},t.a=l},1710:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),s=a(14);n.p.PAGE_NOT_FOUND;const i=["/mfa/setup","/mfa/confirm"],r=["","email","ldap"];function o(e,t,a,n){if("true"===t.MFA&&"true"===a.EnableMultifactorAuthentication&&"true"===a.EnforceMultifactorAuthentication&&-1===i.indexOf(n)){if(Object(s.bb)(e)&&"true"!==a.GuestAccountsEnforceMultifactorAuthentication)return!1;if(e&&!e.mfa_active&&-1!==r.indexOf(e.auth_service))return!0}return!1}},1711:function(e,t,a){"use strict";function n(e){return e.views.announcementBar.announcementBarState.announcementBarCount}a.d(t,"a",(function(){return n}))},1712:function(e,t,a){"use strict";var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1267);const l=({url:e,messageId:t,defaultMessage:a})=>r.a.createElement("a",{href:e,rel:"noopener noreferrer",target:"_blank"},r.a.createElement(o.a,{id:t,defaultMessage:a}));l.propTypes={url:s.a.string,messageId:s.a.string,defaultMessage:s.a.string},l.defaultProps={url:"",messageId:"",defaultMessage:""},t.a=l},1713:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));a(108);function n(e,t){if(e===t)return!0;return(e||"").split(".").slice(0,-2).join(".")===(t||"").split(".").slice(0,-2).join(".")}function s(e,t){if(e===t)return!0;const a=(e||"").split(".").filter(e=>null!==/^[0-9]+$/.exec(e)),n=(t||"").split(".").filter(e=>null!==/^[0-9]+$/.exec(e));for(let e=0;e<Math.max(a.length,n.length);e++){if((a[e]||0)>(n[e]||0))return!0;if((a[e]||0)<(n[e]||0))return!1}return!0}},1714:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var n=a(15),s=a(8);let i;function r(e,t){const a=Object(n.getConfig)(e).CWSUrl,i=Object(s.getCurrentUser)(e),r="".concat(i.first_name," ").concat(i.last_name);return"".concat(a,"/cloud/contact-us?email=").concat(encodeURIComponent(i.email),"&name=").concat(encodeURIComponent(r),"&inquiry=").concat(t)}!function(e){e.Technical="technical",e.Sales="sales",e.Billing="billing"}(i||(i={}))},1715:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a(58);var n=a(1425),s=a(19),i=a(1561);function r(e,t,a){return async()=>{let r;try{r=await s.Client4.createPaymentMethod()}catch(e){return e}const o=Object(i.c)(a)(e.confirmCardSetup),l=await o(r.client_secret,{payment_method:{card:t.card,billing_details:{name:t.name,address:{line1:t.address,line2:t.address2,city:t.city,state:t.state,country:Object(n.getCode)(t.country),postal_code:t.postalCode}}}});if(!l)return!1;const{setupIntent:c,error:d}=l;if(d)return!1;if(null==c)return!1;if("succeeded"!==c.status)return!1;try{await s.Client4.confirmPaymentMethod(c.id)}catch(e){return!1}return!0}}},1717:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>null!=e&&Boolean(e.address&&e.city&&e.state&&e.country&&e.postalCode&&e.name)},1723:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(1425);const s=Object(n.getData)().sort((e,t)=>e.name>t.name?1:-1)},1724:function(e,t,a){},1725:function(e,t,a){"use strict";function n(e){if(!e)return!1;const t=e.payment_method.exp_year;if(!t)return!1;return new Date(t,e.payment_method.exp_month,1)<=new Date}a.d(t,"a",(function(){return n}))},1730:function(e,t,a){},1731:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 20 20",style:o,role:"img","aria-label":t({id:"mobile.set_status.away.icon",defaultMessage:"Away Icon"})},s.a.createElement("path",{className:"away--icon",d:"M10,0C15.519,0 20,4.481 20,10C20,15.519 15.519,20 10,20C4.481,20 0,15.519 0,10C0,4.481 4.481,0 10,0ZM10.27,3C10.949,3 11.5,3.586 11.5,4.307L11.5,9.379L15.002,12.881C15.492,13.37 15.499,14.158 15.019,14.638L14.638,15.019C14.158,15.499 13.37,15.492 12.881,15.002L8.887,11.008C8.739,10.861 8.636,10.686 8.576,10.501C8.528,10.402 8.5,10.299 8.5,10.193L8.5,4.307C8.5,3.586 9.051,3 9.73,3L10.27,3Z"})))}const o={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},1732:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 20 20",style:o,role:"img","aria-label":t({id:"mobile.set_status.dnd.icon",defaultMessage:"Do Not Disturb Icon"})},s.a.createElement("path",{className:"dnd--icon",d:"M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm5.25,8.5l-10.5,0c-0.414,0 -0.75,0.336 -0.75,0.75l0,1.5c0,0.414 0.336,0.75 0.75,0.75l10.5,0c0.414,0 0.75,-0.336 0.75,-0.75l0,-1.5c0,-0.414 -0.336,-0.75 -0.75,-0.75Z"})))}const o={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},1733:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{width:"100%",height:"100%",className:"offline--icon",viewBox:"0 0 20 20",style:o,role:"img","aria-label":t({id:"mobile.set_status.offline.icon",defaultMessage:"Offline Icon"})},s.a.createElement("path",{d:"M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm0,2c4.415,0 8,3.585 8,8c0,4.415 -3.585,8 -8,8c-4.415,0 -8,-3.585 -8,-8c0,-4.415 3.585,-8 8,-8Z"})))}const o={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},1734:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(e){const{formatMessage:t}=Object(i.a)();return s.a.createElement("span",e,s.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 20 20",style:o,role:"img","aria-label":t({id:"mobile.set_status.online.icon",defaultMessage:"Online Icon"})},s.a.createElement("path",{className:"online--icon",d:"M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm6.19,7.18c0,0.208 -0.075,0.384 -0.224,0.53l-5.782,5.64l-1.087,1.059c-0.149,0.146 -0.33,0.218 -0.543,0.218c-0.213,0 -0.394,-0.072 -0.543,-0.218l-1.086,-1.059l-2.891,-2.82c-0.149,-0.146 -0.224,-0.322 -0.224,-0.53c0,-0.208 0.075,-0.384 0.224,-0.53l1.086,-1.059c0.149,-0.146 0.33,-0.218 0.543,-0.218c0.213,0 0.394,0.072 0.543,0.218l2.348,2.298l5.24,-5.118c0.149,-0.146 0.33,-0.218 0.543,-0.218c0.213,0 0.394,0.072 0.543,0.218l1.086,1.059c0.149,0.146 0.224,0.322 0.224,0.53Z"})))}const o={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},1735:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));a(34);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(14),l=a(1278),c=a(1608),d=a(1297),m=a(1329);function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class p extends i.PureComponent{constructor(...e){super(...e),u(this,"hideProfilePopover",()=>{this.overlay&&this.overlay.hide()}),u(this,"setOverlaynRef",e=>{this.overlay=e})}render(){const{disablePopover:e,displayName:t,displayUsername:a,isBusy:n,isRHS:s,hasMention:i,hideStatus:u,overwriteName:p,overwriteIcon:h,user:g,userId:b}=this.props;let f;if(f=a?"@".concat(g.username):p||t||"...",e)return r.a.createElement("div",{className:"user-popover"},f);let _="right";s&&!Object(o.fb)()&&(_="left");let C="";return g&&(C=Object(o.R)(g.id,g.last_picture_update)),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{ref:this.setOverlaynRef,trigger:"click",placement:_,rootClose:!0,overlay:r.a.createElement(c.a,{className:"user-profile-popover",userId:b,src:C,isBusy:n,hide:this.hideProfilePopover,hideStatus:u,isRHS:s,hasMention:i,overwriteName:p,overwriteIcon:h})},r.a.createElement("button",{"aria-label":f.toLowerCase(),className:"user-popover style--none"},f)),r.a.createElement(d.a,{show:Boolean(g&&g.is_bot),className:"badge-popoverlist"}),r.a.createElement(m.a,{show:Boolean(g&&Object(o.bb)(g)),className:"badge-popoverlist"}))}}u(p,"propTypes",{disablePopover:s.a.bool,displayName:s.a.string,displayUsername:s.a.bool,hasMention:s.a.bool,hideStatus:s.a.bool,isBusy:s.a.bool,isRHS:s.a.bool,overwriteName:s.a.node,overwriteIcon:s.a.node,user:s.a.object,userId:s.a.string}),u(p,"defaultProps",{disablePopover:!1,displayUsername:!1,hasMention:!1,hideStatus:!1,isRHS:!1,overwriteImage:"",overwriteName:""})},1745:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),s=a.n(n),i=a(1639);function r(){const{formatMessage:e}=Object(i.a)();return s.a.createElement("i",{className:"fa fa-pencil",title:e({id:"generic_icons.edit",defaultMessage:"Edit Icon"})})}},1746:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));a(34),a(657);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1267),l=a(1647),c=a(0),d=a(14),m=a(1337),u=a(1294),p=a(1278),h=a(1306);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class f extends i.Component{constructor(e){super(e),b(this,"handleCancel",e=>{this.setState({removeSrc:!1,setDefaultSrc:!1}),this.props.updateSection(e)}),b(this,"handleFileSelected",()=>{this.confirmButton.current&&this.confirmButton.current.focus()}),b(this,"handleSave",e=>{e.preventDefault(),this.props.loadingPicture||(this.state.removeSrc?this.props.onRemove():this.state.setDefaultSrc?this.props.onSetDefault():this.props.onSubmit())}),b(this,"handleRemoveSrc",e=>{e.preventDefault(),this.setState({removeSrc:!0}),this.focusFirstElement()}),b(this,"handleSetDefaultSrc",e=>{e.preventDefault(),this.setState({setDefaultSrc:!0}),this.focusFirstElement()}),b(this,"handleFileChange",e=>{this.setState({removeSrc:!1,setDefaultSrc:!1}),this.props.onFileChange(e)}),b(this,"handleInputFile",()=>{this.selectInput.current.value="",this.selectInput.current.click()}),b(this,"setPicture",e=>{if(e){this.previewBlob=URL.createObjectURL(e);var t=new FileReader;t.onload=e=>{const t=m.c(e.target.result),a=m.e(t);this.setState({image:this.previewBlob,orientationStyles:a})},t.readAsArrayBuffer(e)}}),b(this,"renderImg",()=>{const e=this.props.imageContext;if(this.props.file){const t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({backgroundImage:"url("+this.state.image+")"},this.state.orientationStyles);return r.a.createElement("div",{className:"".concat(e,"-img-preview")},r.a.createElement("div",{className:"img-preview__image"},r.a.createElement("div",{alt:"".concat(e," image preview"),style:t,className:"".concat(e,"-img-preview")})))}if(this.state.setDefaultSrc)return r.a.createElement("img",{className:"".concat(e,"-img"),alt:"".concat(e," image"),src:this.props.defaultImageSrc});if(this.props.src&&!this.state.removeSrc){const t=r.a.createElement("img",{className:"".concat(e,"-img"),alt:"".concat(e," image"),src:this.props.src});if(!this.props.onRemove&&!this.props.onSetDefault)return t;let a,n;return this.props.onRemove?(a=r.a.createElement(o.a,{id:"setting_picture.remove",defaultMessage:"Remove This Icon"}),n=this.handleRemoveSrc):this.props.onSetDefault&&(a=r.a.createElement(o.a,{id:"setting_picture.remove_profile_picture",defaultMessage:"Remove Profile Picture"}),n=this.handleSetDefaultSrc),r.a.createElement("div",{className:"".concat(e,"-img__container")},r.a.createElement("div",{className:"img-preview__image","aria-hidden":!0},t),r.a.createElement(p.a,{delayShow:c.l.OVERLAY_TIME_DELAY,placement:"right",overlay:r.a.createElement(l.a,{id:"removeIcon"},r.a.createElement("div",{"aria-hidden":!0},a))},r.a.createElement("button",{"data-testid":"removeSettingPicture",className:"".concat(e,"-img__remove"),onClick:n},r.a.createElement("span",{"aria-hidden":!0},"×"),r.a.createElement("span",{className:"sr-only"},a))))}return null}),this.settingList=r.a.createRef(),this.selectInput=r.a.createRef(),this.confirmButton=r.a.createRef(),this.state={image:null,removeSrc:!1,setDefaultSrc:!1}}focusFirstElement(){this.settingList.current&&this.settingList.current.focus()}componentDidMount(){this.focusFirstElement(),this.selectInput.current&&this.selectInput.current.addEventListener("input",this.handleFileSelected)}componentDidUpdate(e){e.file!==this.props.file&&this.setPicture(this.props.file)}componentWillUnmount(){this.previewBlob&&URL.revokeObjectURL(this.previewBlob),this.selectInput.current&&this.selectInput.current.removeEventListener("input",this.handleFileSelected)}render(){const e=this.renderImg();let t,a,n="btn btn-sm",s=!1;return this.props.submitActive||this.state.removeSrc||this.state.setDefaultSrc?n+=" btn-primary":(n+=" btn-inactive disabled",s=!0),e&&(t=r.a.createElement("li",{className:"setting-list-item",role:"presentation"},e)),this.props.onSubmit&&(a=r.a.createElement("span",null,r.a.createElement("input",{"data-testid":"uploadPicture",ref:this.selectInput,className:"hidden",accept:".jpg,.png,.bmp",type:"file",onChange:this.handleFileChange,disabled:this.props.loadingPicture,"aria-hidden":!0,tabIndex:"-1"}),r.a.createElement("button",{"data-testid":"inputSettingPictureButton",className:"btn btn-sm btn-primary btn-file sel-btn",disabled:this.props.loadingPicture,onClick:this.handleInputFile,"aria-label":Object(d.ob)("setting_picture.select","Select")},r.a.createElement(o.a,{id:"setting_picture.select",defaultMessage:"Select"})),r.a.createElement("button",{tabIndex:s?"-1":"0","data-testid":"saveSettingPicture",disabled:s,ref:this.confirmButton,className:n,onClick:this.handleSave,"aria-label":this.props.loadingPicture?Object(d.ob)("setting_picture.uploading","Uploading..."):Object(d.ob)("setting_picture.save","Save")},r.a.createElement(h.a,{loading:this.props.loadingPicture,text:Object(d.ob)("setting_picture.uploading","Uploading...")},r.a.createElement(o.a,{id:"setting_picture.save",defaultMessage:"Save"}))))),r.a.createElement("section",{className:"section-max form-horizontal"},r.a.createElement("h4",{className:"col-xs-12 section-title"},this.props.title),r.a.createElement("div",{className:"col-xs-offset-3 col-xs-8"},r.a.createElement("div",{className:"setting-list",ref:this.settingList,tabIndex:"-1","aria-label":this.props.title,"aria-describedby":"setting-picture__helptext"},t,r.a.createElement("div",{id:"setting-picture__helptext",className:"setting-list-item pt-3"},this.props.helpText),r.a.createElement("div",{className:"setting-list-item"},r.a.createElement("hr",null),r.a.createElement(u.a,{errors:[this.props.clientError,this.props.serverError],type:"modal"}),a,r.a.createElement("button",{"data-testid":"cancelSettingPicture",className:"btn btn-link btn-sm theme",href:"#",onClick:this.handleCancel,"aria-label":Object(d.ob)("setting_picture.cancel","Cancel")},r.a.createElement(o.a,{id:"setting_picture.cancel",defaultMessage:"Cancel"}))))))}}b(f,"defaultProps",{imageContext:"profile"}),b(f,"propTypes",{clientError:s.a.string,serverError:s.a.string,src:s.a.string,defaultImageSrc:s.a.string,file:s.a.object,loadingPicture:s.a.bool,submitActive:s.a.bool,onRemove:s.a.func,onSetDefault:s.a.func,onSubmit:s.a.func,title:s.a.string,onFileChange:s.a.func,updateSection:s.a.func,imageContext:s.a.string,maxFileSize:s.a.number,helpText:s.a.object})},1750:function(e,t,a){},1766:function(e,t,a){},1847:function(e,t,a){"use strict";var n=a(264),s=a(10),i=a(1305),r=a(100),o=(a(58),a(34),a(5)),l=a.n(o),c=a(127),d=a.n(c),m=a(1616),u=a(1267),p=a(1902),h=a(1366),g=a(14),b=a(1314),f=a(190),_=(a(128),a(1640)),C=a(1523),y=a(1641),E=a(1642),v=a(1643),w=(a(185),a(1353));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class P extends l.a.PureComponent{constructor(e){super(e),M(this,"calculateInputRect",()=>{if(this.props.inputRef.current){const e=this.props.inputRef.current.getInput().getBoundingClientRect();return{top:e.top,bottom:e.bottom,width:e.width}}return{top:0,bottom:0,width:0}}),M(this,"onModalScroll",e=>{this.state.scroll!==e.target.scrollTop&&0!==this.latestHeight&&this.setState({scroll:e.target.scrollTop})}),M(this,"getChildHeight",()=>{if(!this.container.current)return 0;const e=this.suggestionList.current.getContent()[0];return e?e.getBoundingClientRect().height:0}),M(this,"updateInputBounds",()=>{const e=this.calculateInputRect();return e.top===this.state.inputBounds.top&&e.bottom===this.state.inputBounds.bottom&&e.width===this.state.inputBounds.width||this.setState({inputBounds:e}),e}),M(this,"updateLocation",e=>{let t=e;if(e||(t=this.state.inputBounds),!this.container.current)return;this.latestHeight=this.getChildHeight();let a=this.props.location;window.innerHeight<t.bottom+this.latestHeight&&(a="top"),t.top-this.latestHeight<0&&(a="bottom"),this.state.location!==a&&this.setState({location:a})}),M(this,"updateModalBounds",()=>{if(!this.container.current)return;const e=Object(g.u)(this.container.current,".modal-content").getBoundingClientRect();this.state.modalBounds.top===e.top&&this.state.modalBounds.bottom===e.bottom||this.setState({modalBounds:{top:e.top,bottom:e.bottom}})}),this.state={scroll:0,modalBounds:{top:0,bottom:0},inputBounds:{top:0,bottom:0,width:0},location:e.location},this.container=l.a.createRef(),this.suggestionList=l.a.createRef(),this.latestHeight=0}componentDidMount(){if(this.container.current){Object(g.u)(this.container.current,".modal-body").addEventListener("scroll",this.onModalScroll)}window.addEventListener("resize",this.updateModalBounds)}componentWillUnmount(){if(this.container.current){Object(g.u)(this.container.current,".modal-body").removeEventListener("scroll",this.onModalScroll)}window.removeEventListener("resize",this.updateModalBounds)}componentDidUpdate(e,t){if(this.props.open&&!this.props.cleared&&(e.open!==this.state.open||e.cleared!==this.state.cleared||t.scroll!==this.state.scroll||t.modalBounds.top!==this.state.modalBounds.top||t.modalBounds.bottom!==this.state.modalBounds.bottom)){const e=this.updateInputBounds();if(this.updateLocation(e),this.container.current){const t=Object(g.u)(this.container.current,".modal-body").getBoundingClientRect();if(e.bottom<t.top||e.top>t.bottom)return void this.props.onLoseVisibility()}this.updateModalBounds()}}render(){const e=T({},this.props);Reflect.deleteProperty(e,"onLoseVisibility");let t={};return t="top"===this.state.location?{bottom:this.state.modalBounds.bottom-this.state.inputBounds.top}:{top:this.state.inputBounds.bottom-this.state.modalBounds.top},l.a.createElement("div",{style:S({position:"fixed",zIndex:101,width:this.state.inputBounds.width},t),ref:this.container},l.a.createElement(w.a,Object.assign({},e,{location:this.state.location,ref:this.suggestionList})))}}M(P,"propTypes",{location:d.a.string.isRequired,open:d.a.bool.isRequired,cleared:d.a.bool.isRequired,inputRef:d.a.object.isRequired,onLoseVisibility:d.a.func.isRequired});var N=a(1524);function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class R extends l.a.PureComponent{constructor(...e){super(...e),I(this,"handleChange",e=>{this.props.onChange(this.props.id,e.target.checked)})}render(){return l.a.createElement(N.a,{label:this.props.label,labelClassName:this.props.labelClassName,inputClassName:this.props.inputClassName,helpText:this.props.helpText,inputId:this.props.id},l.a.createElement("div",{className:"checkbox"},l.a.createElement("label",null,l.a.createElement("input",{id:this.props.id,autoFocus:this.props.autoFocus,type:"checkbox",checked:this.props.value,onChange:this.handleChange}),l.a.createElement("span",null,this.props.placeholder))))}}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}I(R,"propTypes",{id:d.a.string.isRequired,label:d.a.node.isRequired,labelClassName:d.a.string,helpText:d.a.node,placeholder:d.a.string.isRequired,value:d.a.bool.isRequired,inputClassName:d.a.string,autoFocus:d.a.bool}),I(R,"defaultProps",{labelClassName:"",inputClassName:""});class j extends l.a.PureComponent{constructor(...e){super(...e),A(this,"handleChange",e=>{this.props.onChange(this.props.id,e.target.value)})}render(){return l.a.createElement(N.a,{label:this.props.label,labelClassName:this.props.labelClassName,inputClassName:this.props.inputClassName,helpText:this.props.helpText,inputId:this.props.id},this.props.options.map(({value:e,text:t})=>l.a.createElement("div",{className:"radio",key:e},l.a.createElement("label",null,l.a.createElement("input",{type:"radio",value:e,name:this.props.id,checked:e===this.props.value,onChange:this.handleChange}),t))))}}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}A(j,"propTypes",{id:d.a.string.isRequired,options:d.a.arrayOf(d.a.shape({text:d.a.string.isRequired,value:d.a.string.isRequired})),label:d.a.node.isRequired,value:d.a.string,labelClassName:d.a.string,inputClassName:d.a.string,helpText:d.a.node}),A(j,"defaultProps",{labelClassName:"",inputClassName:"",options:[]});class L extends l.a.PureComponent{constructor(e){super(e),x(this,"handleSelected",e=>{const{name:t,dataSource:a,onChange:n}=this.props;"users"===a?(n(t,e.id),this.setState({value:e.username})):"channels"===a?(n(t,e.id),this.setState({value:e.display_name})):(n(t,e.value),this.setState({value:e.text}))});let t="";if(this.providers=[],"select"===e.type&&("users"===e.dataSource?this.providers=[new C.a(e.actions.autocompleteUsers)]:"channels"===e.dataSource?this.providers=[new y.a(e.actions.autocompleteChannels)]:e.options&&(this.providers=[new _.a(e.options)]),e.value&&e.options)){const a=e.options.find(t=>t.value===e.value);t=a?a.text:""}this.state={value:t}}render(){const{name:e,subtype:t,displayName:a,value:n,placeholder:s,onChange:i,helpText:r,errorText:o,optional:c,options:d}=this.props;let{type:m,maxLength:p}=this.props,h=a;h=c?l.a.createElement(l.a.Fragment,null,a+" ",l.a.createElement("span",{className:"font-weight--normal light"},l.a.createElement(u.a,{id:"interactive_dialog.element.optional",defaultMessage:"(optional)"}))):l.a.createElement(l.a.Fragment,null,a,l.a.createElement("span",{className:"error-text"}," *"));let g=r;return o&&(g=l.a.createElement(l.a.Fragment,null,r,l.a.createElement("div",{className:"error-text mt-3"},o))),"text"===m||"textarea"===m?("text"===m?(p=p||150,m=t&&E.a.validTypes.includes(t)?t:"input"):p=p||3e3,l.a.createElement(E.a,{autoFocus:this.props.autoFocus,id:e,type:m,label:h,maxLength:p,value:n||"",placeholder:s,helpText:g,onChange:i,resizable:!1})):"select"===m?l.a.createElement(v.a,{id:e,providers:this.providers,onSelected:this.handleSelected,label:h,helpText:g,placeholder:s,value:this.state.value,listComponent:P,listStyle:"bottom"}):"bool"===m?l.a.createElement(R,{autoFocus:this.props.autoFocus,id:e,label:h,value:n||!1,helpText:g,placeholder:s,onChange:i}):"radio"===m?l.a.createElement(j,{id:e,label:h,helpText:g,options:d,value:n,onChange:i}):null}}x(L,"propTypes",{displayName:d.a.string.isRequired,name:d.a.string.isRequired,type:d.a.string.isRequired,subtype:d.a.string,placeholder:d.a.string,helpText:d.a.string,errorText:d.a.node,maxLength:d.a.number,dataSource:d.a.string,optional:d.a.bool,options:d.a.arrayOf(d.a.object),value:d.a.any,onChange:d.a.func,autoFocus:d.a.bool,actions:d.a.shape({autocompleteChannels:d.a.func.isRequired,autocompleteUsers:d.a.func.isRequired}).isRequired});var k,D,U,q=Object(n.connect)(null,(function(e){return{actions:Object(s.bindActionCreators)({autocompleteChannels:b.b,autocompleteUsers:f.b},e)}}))(L),H=a(81),F=a(188);class B extends l.a.PureComponent{render(){const e=H.a(this.props.value,{breaks:!0,sanitize:!0,gfm:!0,siteURL:Object(F.e)()},this.props.emojiMap);return l.a.createElement("span",{id:this.props.id,dangerouslySetInnerHTML:{__html:e}})}}function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){W(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}k=B,D="propTypes",U={id:d.a.string,value:d.a.string.isRequired,emojiMap:d.a.object.isRequired},D in k?Object.defineProperty(k,D,{value:U,enumerable:!0,configurable:!0,writable:!0}):k[D]=U;class z extends l.a.PureComponent{constructor(e){super(e),W(this,"handleSubmit",async e=>{e.preventDefault();const{elements:t}=this.props,a=this.state.values,n={};if(t&&t.forEach(e=>{const t=Object(p.checkDialogElementForError)(e,a[e.name]);t&&(n[e.name]=l.a.createElement(u.a,{id:t.id,defaultMessage:t.defaultMessage,values:t.values}))}),this.setState({errors:n}),0!==Object.keys(n).length)return;const{url:s,callbackId:i,state:r}=this.props,o={url:s,callback_id:i,state:r,submission:a};this.setState({submitting:!0});const{data:c}=await this.props.actions.submitInteractiveDialog(o);this.setState({submitting:!1});let d=!1;c&&(c.error&&(d=!0,this.setState({error:c.error})),c.errors&&Object.keys(c.errors).length>=0&&Object(p.checkIfErrorsMatchElements)(c.errors,t)&&(d=!0,this.setState({errors:c.errors}))),d||this.handleHide(!0)}),W(this,"onHide",()=>{this.handleHide(!1)}),W(this,"handleHide",(e=!1)=>{const{url:t,callbackId:a,state:n,notifyOnCancel:s}=this.props;if(!e&&s){const e={url:t,callback_id:a,state:n,cancelled:!0};this.props.actions.submitInteractiveDialog(e)}this.setState({show:!1})}),W(this,"onChange",(e,t)=>{const a=V(V({},this.state.values),{},{[e]:t});this.setState({values:a})});const t={};null!=e.elements&&e.elements.forEach(e=>{"bool"===e.type?t[e.name]=!0===e.default||"true"===String(e.default).toLowerCase():t[e.name]=e.default||null}),this.state={show:!0,values:t,error:null,errors:{},submitting:!1}}render(){const{title:e,introductionText:t,iconUrl:a,submitLabel:n,elements:s}=this.props;let i,r=l.a.createElement(u.a,{id:"interactive_dialog.submit",defaultMessage:"Submit"});return n&&(r=n),a&&(i=l.a.createElement("img",{id:"interactiveDialogIconUrl",alt:"modal title icon",className:"more-modal__image",width:"36",height:"36",src:a})),l.a.createElement(m.a,{id:"interactiveDialogModal",dialogClassName:"a11y__modal about-modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,backdrop:"static",role:"dialog","aria-labelledby":"interactiveDialogModalLabel"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(m.a.Header,{closeButton:!0,style:{borderBottom:null==s&&"0px"}},l.a.createElement(m.a.Title,{componentClass:"h1",id:"interactiveDialogModalLabel"},i,e)),(s||t)&&l.a.createElement(m.a.Body,null,t&&l.a.createElement(B,{id:"interactiveDialogModalIntroductionText",value:t,emojiMap:this.props.emojiMap}),s&&s.map((e,t)=>l.a.createElement(q,{autoFocus:0===t,key:"dialogelement"+e.name,displayName:e.display_name,name:e.name,type:e.type,subtype:e.subtype,helpText:e.help_text,errorText:this.state.errors[e.name],placeholder:e.placeholder,minLength:e.min_length,maxLength:e.max_length,dataSource:e.data_source,optional:e.optional,options:e.options,value:this.state.values[e.name],onChange:this.onChange}))),l.a.createElement(m.a.Footer,null,this.state.error&&l.a.createElement("div",{className:"error-text"},this.state.error),l.a.createElement("button",{id:"interactiveDialogCancel",type:"button",className:"btn btn-link cancel-button",onClick:this.onHide},l.a.createElement(u.a,{id:"interactive_dialog.cancel",defaultMessage:"Cancel"})),l.a.createElement(h.a,{id:"interactiveDialogSubmit",type:"submit",autoFocus:!s||0===s.length,className:"btn btn-primary save-button",spinning:this.state.submitting,spinningText:Object(g.ob)("interactive_dialog.submitting","Submitting...")},r))))}}W(z,"propTypes",{url:d.a.string.isRequired,callbackId:d.a.string,elements:d.a.arrayOf(d.a.object),title:d.a.string.isRequired,introductionText:d.a.string,iconUrl:d.a.string,submitLabel:d.a.string,notifyOnCancel:d.a.bool,state:d.a.string,onHide:d.a.func,actions:d.a.shape({submitInteractiveDialog:d.a.func.isRequired}).isRequired,emojiMap:d.a.object.isRequired});t.a=Object(n.connect)((function(e){const t=e.entities.integrations.dialog;return t&&t.dialog?{url:t.url,callbackId:t.dialog.callback_id,elements:t.dialog.elements,title:t.dialog.title,introductionText:t.dialog.introduction_text,iconUrl:t.dialog.icon_url,submitLabel:t.dialog.submit_label,notifyOnCancel:t.dialog.notify_on_cancel,state:t.dialog.state,emojiMap:Object(r.a)(e)}:{}}),(function(e){return{actions:Object(s.bindActionCreators)({submitInteractiveDialog:i.submitInteractiveDialog},e)}}))(z)},1848:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a.p+"files/2c5822f8df09cab9d59c37cf805af370.png",l=a.p+"files/85f92b639485f3804bb173daab1383a1.png",c=a.p+"files/9dec2b83083c1216ab4e0367f21224d2.jpg",d=a.p+"files/24f51892c8813505b11ad2c26740ee7a.png",m=a.p+"files/ad02dc088755e3884a5b5c97211665bb.png",u=a.p+"files/a37832275fd33b01dc279fc8788128da.jpg";a(2066);function p(e){const{brand:t}=e,a=function(e){switch(e){case"amex":return o;case"diners":return l;case"discover":return c;case"jcb":return d;case"mastercard":return m;case"visa":return u}return""}(t);return a?r.a.createElement("img",{className:"CardImage",src:a,alt:t}):null}p.propTypes={brand:s.a.string.isRequired}},1849:function(e,t,a){"use strict";a(186);var n=a(1286),s=a.n(n),i=a(127),r=a.n(i),o=a(5),l=a.n(o),c=a(149),d=a.n(c),m=a(1267),u=a(269),p=a(1392),h=a(0),g=a(1283),b=a(264),f=a(8),_=(a(185),a(99),a(19)),C=a(14),y=a(1340),E=a(1377),v=a(1272),w=a(1485);function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class S extends l.a.PureComponent{render(){let e=null;this.props.actions&&(e=this.props.actions.map((e,t)=>l.a.createElement(e,Object.assign({key:t.toString(),user:this.props.user,index:this.props.index,totalUsers:this.props.totalUsers},this.props.actionProps,this.props.actionUserProps))));let t,a=this.props.user.email,n="more-modal__description";this.props.extraInfo&&this.props.extraInfo.length>0?(a=l.a.createElement(v.b,{id:"admin.user_item.emailTitle",defaultMessage:"**Email:** {email}",values:{email:this.props.user.email}}),n=""):t=this.props.user.status?this.props.user.status:this.props.status,this.props.user.is_bot&&(t=null,a=null);let s=null,i=null;return this.props.userCount>=0&&(s=C.j("userListRowName"+this.props.userCount),i=C.j("userListRowEmail"+this.props.userCount)),l.a.createElement("div",{key:this.props.user.id,className:"more-modal__row"},l.a.createElement(y.a,{src:_.Client4.getProfilePictureUrl(this.props.user.id,this.props.user.last_picture_update),status:t,size:"md",userId:this.props.user.id,hasMention:!0,username:this.props.user.username}),l.a.createElement("div",{className:"more-modal__details","data-testid":"userListItemDetails"},l.a.createElement("div",{id:s,className:"more-modal__name"},l.a.createElement(E.a,{userId:this.props.user.id,hasMention:!0,displayUsername:!0}),l.a.createElement(w.a,null),this.props.user.first_name||this.props.user.last_name||this.props.user.nickname?"-":null,l.a.createElement(w.a,null),C.n(this.props.user)),l.a.createElement("div",{id:i,className:n},a),this.props.extraInfo),l.a.createElement("div",{"data-testid":"userListItemActions",className:"more-modal__actions"},e))}}O(S,"propTypes",{user:r.a.object.isRequired,status:r.a.string,extraInfo:r.a.arrayOf(r.a.object),actions:r.a.arrayOf(r.a.func),actionProps:r.a.object,actionUserProps:r.a.object,index:r.a.number,totalUsers:r.a.number,userCount:r.a.number}),O(S,"defaultProps",{extraInfo:[],actions:[],actionProps:{},actionUserProps:{}});var T=Object(b.connect)((function(e,t){const a=t.user||{};return{status:Object(f.getStatusForUserId)(e,a.id)}}))(S);function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class P extends l.a.PureComponent{constructor(e){super(e),M(this,"scrollToTop",()=>{this.containerRef.current&&(this.containerRef.current.scrollTop=0)}),this.containerRef=l.a.createRef()}render(){const e=this.props.users,t=this.props.rowComponentType;let a;return null==e?l.a.createElement(g.a,null):(a=e.length>0?e.map((a,n)=>l.a.createElement(t,{key:a.id,user:a,extraInfo:this.props.extraInfo[a.id],actions:this.props.actions,actionProps:this.props.actionProps,actionUserProps:this.props.actionUserProps[a.id],index:n,totalUsers:e.length,userCount:n>=0&&n<h.Z.TEST_ID_COUNT?n:-1,isDisabled:this.props.isDisabled})):l.a.createElement("div",{key:"no-users-found",className:"more-modal__placeholder-row","data-testid":"noUsersFound"},l.a.createElement("p",null,l.a.createElement(m.a,{id:"user_list.notFound",defaultMessage:"No users found"}))),l.a.createElement("div",{ref:this.containerRef},a))}}M(P,"propTypes",{users:r.a.arrayOf(r.a.object),extraInfo:r.a.object,actions:r.a.arrayOf(r.a.node),actionProps:r.a.object,actionUserProps:r.a.object,isDisabled:r.a.bool,rowComponentType:r.a.object}),M(P,"defaultProps",{users:[],extraInfo:{},actions:[],actionProps:{},rowComponentType:T});var N=a(1293),I=a(12);function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class A extends l.a.PureComponent{constructor(e){super(e),R(this,"nextPage",e=>{e.preventDefault(),this.setState({nextDisabled:!0}),this.nextTimeoutId=setTimeout(()=>this.setState({nextDisabled:!1}),500),this.props.nextPage(),s()(d.a.findDOMNode(this.refs.channelListScroll)).scrollTop(0)}),R(this,"previousPage",e=>{e.preventDefault(),this.props.previousPage(),s()(d.a.findDOMNode(this.refs.channelListScroll)).scrollTop(0)}),R(this,"focusSearchBar",()=>{this.props.focusOnMount&&this.refs.filter.focus()}),R(this,"handleInput",e=>{this.props.onTermChange(e.target.value),this.props.search(e.target.value)}),R(this,"renderCount",e=>{if(!e)return null;if(this.props.filter)return null;const t=e.length,a=this.props.total,n=Boolean(this.props.term);let s,i;return n?(s=-1,i=-1):(s=this.props.page*this.props.usersPerPage,i=Math.min(s+this.props.usersPerPage,a),this.props.users.length<i&&(i=this.props.users.length)),this.props.renderCount?this.props.renderCount(t,this.props.total,s,i,n):this.props.total?n?l.a.createElement(m.a,{id:"filtered_user_list.countTotal",defaultMessage:"{count, number} {count, plural, one {member} other {members}} of {total, number} total",values:{count:t,total:a}}):l.a.createElement(m.a,{id:"filtered_user_list.countTotalPage",defaultMessage:"{startCount, number} - {endCount, number} {count, plural, one {member} other {members}} of {total, number} total",values:{count:t,startCount:s+1,endCount:i,total:a}}):null}),this.nextTimeoutId=0,this.state={nextDisabled:!1}}componentDidMount(){this.focusSearchBar()}componentDidUpdate(e){this.props.page===e.page&&this.props.term===e.term||this.refs.userList.scrollToTop()}componentWillUnmount(){clearTimeout(this.nextTimeoutId)}render(){let e,t,a;const{formatMessage:n}=this.props.intl;if(this.props.term||!this.props.users)a=this.props.users;else if(!this.props.term){const n=this.props.page*this.props.usersPerPage;let s=n+this.props.usersPerPage;this.props.users.length<s&&(s=this.props.users.length),a=this.props.users.slice(n,s),s<this.props.total&&(e=l.a.createElement("button",{id:"searchableUserListNextBtn",className:"btn btn-link filter-control filter-control__next",onClick:this.nextPage,disabled:this.state.nextDisabled},l.a.createElement(m.a,{id:"filtered_user_list.next",defaultMessage:"Next"}))),this.props.page>0&&(t=l.a.createElement("button",{id:"searchableUserListPrevBtn",className:"btn btn-link filter-control filter-control__prev",onClick:this.previousPage},l.a.createElement(m.a,{id:"filtered_user_list.prev",defaultMessage:"Previous"})))}let s;if(this.props.renderFilterRow)s=this.props.renderFilterRow(this.handleInput);else{const e={id:Object(I.b)("filtered_user_list.search"),defaultMessage:"Search users"};s=l.a.createElement("div",{className:"col-xs-12"},l.a.createElement("label",{className:"hidden-label",htmlFor:"searchUsersInput"},l.a.createElement(m.a,{id:"filtered_user_list.search",defaultMessage:"Search users"})),l.a.createElement(p.a,{id:"searchUsersInput",ref:"filter",className:"form-control filter-textbox",placeholder:e,inputComponent:N.a,value:this.props.term,onInput:this.handleInput,"aria-label":n(e).toLowerCase()}))}return l.a.createElement("div",{className:"filtered-user-list"},l.a.createElement("div",{className:"filter-row"},s,l.a.createElement("div",{className:"col-sm-12"},l.a.createElement("span",{id:"searchableUserListTotal",className:"member-count pull-left","aria-live":"polite"},this.renderCount(a)))),l.a.createElement("div",{className:"more-modal__list"},l.a.createElement(P,{ref:"userList",users:a,extraInfo:this.props.extraInfo,actions:this.props.actions,actionProps:this.props.actionProps,actionUserProps:this.props.actionUserProps,rowComponentType:this.props.rowComponentType,isDisabled:this.props.isDisabled})),l.a.createElement("div",{className:"filter-controls"},t,e))}}R(A,"propTypes",{users:r.a.arrayOf(r.a.object),usersPerPage:r.a.number,total:r.a.number,extraInfo:r.a.object,nextPage:r.a.func.isRequired,previousPage:r.a.func.isRequired,search:r.a.func.isRequired,actions:r.a.arrayOf(r.a.func),actionProps:r.a.object,actionUserProps:r.a.object,focusOnMount:r.a.bool,renderCount:r.a.func,filter:r.a.string,renderFilterRow:r.a.func,page:r.a.number.isRequired,term:r.a.string.isRequired,onTermChange:r.a.func.isRequired,intl:r.a.any,isDisabled:r.a.bool,rowComponentType:r.a.func}),R(A,"defaultProps",{users:[],usersPerPage:50,extraInfo:{},actions:[],actionProps:{},actionUserProps:{},showTeamToggle:!1,focusOnMount:!1});t.a=Object(u.c)(A)},1850:function(e,t,a){"use strict";var n=a(264),s=a(15),i=a(0),r=a(1338),o=(a(185),a(127)),l=a.n(o),c=a(5),d=a.n(c),m=a(1616),u=a(1267),p=a(1272),h=a(1477),g=a(1485),b=a(1270),f=a.n(b);a(2157);function _(e){const t=e.config,a=e.license,n=d.a.createElement(u.a,{id:"about.cloudEdition",defaultMessage:"Cloud"}),s=d.a.createElement(u.a,{id:"about.enterpriseEditionSst",defaultMessage:"High trust messaging for the enterprise"}),i=d.a.createElement("div",{className:"form-group"},d.a.createElement(u.a,{id:"about.licensed",defaultMessage:"Licensed to:"})," "+a.Company);let r=t.BuildNumber;return isNaN(t.BuildNumber)||(r="ci"),d.a.createElement(m.a,{dialogClassName:f()("a11y__modal","about-modal","cloud"),show:e.show,onHide:e.doHide,onExited:()=>{e.onHide()},role:"dialog","aria-labelledby":"aboutModalLabel"},d.a.createElement(m.a.Header,{closeButton:!0},d.a.createElement(m.a.Title,{componentClass:"h1",id:"aboutModalLabel"},d.a.createElement(u.a,{id:"about.title",values:{appTitle:t.SiteName||"Mattermost"},defaultMessage:"About {appTitle}"}))),d.a.createElement(m.a.Body,null,d.a.createElement("div",{className:"about-modal__content"},d.a.createElement("div",{className:"about-modal__logo"},d.a.createElement(h.a,null)),d.a.createElement("div",null,d.a.createElement("h3",{className:"about-modal__title"},"Mattermost"," ",n),d.a.createElement("p",{className:"subtitle"},s),d.a.createElement("div",{className:"description"},d.a.createElement("div",null,d.a.createElement(u.a,{id:"about.version",defaultMessage:"Mattermost Version:"}),d.a.createElement("span",{id:"versionString"}," "+r))),i,d.a.createElement("div",{className:"about-footer"},d.a.createElement(p.b,{id:"about.notice",defaultMessage:"Mattermost is made possible by the open source software used in our [server](!https://about.mattermost.com/platform-notice-txt/), [desktop](!https://about.mattermost.com/desktop-notice-txt/) and [mobile](!https://about.mattermost.com/mobile-notice-txt/) apps."}),d.a.createElement("div",{className:"copy-right"},d.a.createElement(u.a,{id:"about.copyright",defaultMessage:"Copyright 2015 - {currentYear} Mattermost, Inc. All rights reserved",values:{currentYear:(new Date).getFullYear()}})))),d.a.createElement("div",null))))}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}_.propTypes={onHide:l.a.func.isRequired,config:l.a.any.isRequired,license:l.a.any.isRequired,show:l.a.bool.isRequired,doHide:l.a.func.isRequired};class y extends d.a.PureComponent{constructor(e){super(e),C(this,"doHide",()=>{this.setState({show:!1})}),C(this,"handleExit",()=>{this.props.onHide()}),this.state={show:!0}}render(){const e=this.props.config,t=this.props.license;if("true"===t.Cloud)return d.a.createElement(_,Object.assign({},this.props,this.state,{doHide:this.doHide}));let a,n=d.a.createElement(u.a,{id:"about.teamEditiont0",defaultMessage:"Team Edition"}),s=d.a.createElement(u.a,{id:"about.teamEditionSt",defaultMessage:"All your team communication in one place, instantly searchable and accessible anywhere."}),r=d.a.createElement("div",null,d.a.createElement(u.a,{id:"about.teamEditionLearn",defaultMessage:"Join the Mattermost community at "}),d.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.mattermost.org/"},"mattermost.org"));"true"===e.BuildEnterpriseReady&&(n=d.a.createElement(u.a,{id:"about.teamEditiont1",defaultMessage:"Enterprise Edition"}),s=d.a.createElement(u.a,{id:"about.enterpriseEditionSt",defaultMessage:"Modern communication from behind your firewall."}),r=d.a.createElement("div",null,d.a.createElement(u.a,{id:"about.enterpriseEditionLearn",defaultMessage:"Learn more about Enterprise Edition at "}),d.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://about.mattermost.com/"},"about.mattermost.com")),"true"===t.IsLicensed&&(n=d.a.createElement(u.a,{id:"about.enterpriseEditione1",defaultMessage:"Enterprise Edition"}),a=d.a.createElement("div",{className:"form-group"},d.a.createElement(u.a,{id:"about.licensed",defaultMessage:"Licensed to:"}),d.a.createElement(g.a,null),t.Company)));const o=d.a.createElement("a",{target:"_blank",id:"tosLink",rel:"noopener noreferrer",href:i.d.TERMS_OF_SERVICE},d.a.createElement(u.a,{id:"about.tos",defaultMessage:"Terms of Service"})),l=d.a.createElement("a",{target:"_blank",id:"privacyLink",rel:"noopener noreferrer",href:i.d.PRIVACY_POLICY},d.a.createElement(u.a,{id:"about.privacy",defaultMessage:"Privacy Policy"}));let c=d.a.createElement("div",null,d.a.createElement(u.a,{id:"about.buildnumber",defaultMessage:"Build Number:"}),d.a.createElement("span",{id:"buildnumberString"}," "+e.BuildNumber));isNaN(e.BuildNumber)&&(c=null);let b=e.BuildNumber;return isNaN(e.BuildNumber)||(b="ci"),d.a.createElement(m.a,{dialogClassName:"a11y__modal about-modal",show:this.state.show,onHide:this.doHide,onExited:this.handleExit,role:"dialog","aria-labelledby":"aboutModalLabel"},d.a.createElement(m.a.Header,{closeButton:!0},d.a.createElement(m.a.Title,{componentClass:"h1",id:"aboutModalLabel"},d.a.createElement(u.a,{id:"about.title",values:{appTitle:e.SiteName||"Mattermost"},defaultMessage:"About {appTitle}"}))),d.a.createElement(m.a.Body,null,d.a.createElement("div",{className:"about-modal__content"},d.a.createElement("div",{className:"about-modal__logo"},d.a.createElement(h.a,null)),d.a.createElement("div",null,d.a.createElement("h3",{className:"about-modal__title"},"Mattermost"," ",n),d.a.createElement("p",{className:"about-modal__subtitle pb-2"},s),d.a.createElement("div",{className:"form-group less"},d.a.createElement("div",null,d.a.createElement(u.a,{id:"about.version",defaultMessage:"Mattermost Version:"}),d.a.createElement("span",{id:"versionString"}," "+b)),d.a.createElement("div",null,d.a.createElement(u.a,{id:"about.dbversion",defaultMessage:"Database Schema Version:"}),d.a.createElement("span",{id:"dbversionString"}," "+e.Version)),c,d.a.createElement("div",null,d.a.createElement(u.a,{id:"about.database",defaultMessage:"Database:"})," "+e.SQLDriverName)),a)),d.a.createElement("div",{className:"about-modal__footer"},r,d.a.createElement("div",{className:"form-group"},d.a.createElement("div",{className:"about-modal__copyright"},d.a.createElement(u.a,{id:"about.copyright",defaultMessage:"Copyright 2015 - {currentYear} Mattermost, Inc. All rights reserved",values:{currentYear:(new Date).getFullYear()}})),d.a.createElement("div",{className:"about-modal__links"},o," - ",l))),d.a.createElement("div",{className:"about-modal__notice form-group pt-3"},d.a.createElement("p",null,d.a.createElement(p.b,{id:"about.notice",defaultMessage:"Mattermost is made possible by the open source software used in our [server](!https://about.mattermost.com/platform-notice-txt/), [desktop](!https://about.mattermost.com/desktop-notice-txt/) and [mobile](!https://about.mattermost.com/mobile-notice-txt/) apps."}))),d.a.createElement("div",{className:"about-modal__hash"},d.a.createElement("p",null,d.a.createElement(u.a,{id:"about.hash",defaultMessage:"Build Hash:"}),d.a.createElement(g.a,null),e.BuildHash,d.a.createElement("br",null),d.a.createElement(u.a,{id:"about.hashee",defaultMessage:"EE Build Hash:"}),d.a.createElement(g.a,null),e.BuildHashEnterprise,d.a.createElement("br",null),d.a.createElement(u.a,{id:"about.hashwebapp",defaultMessage:"Webapp Build Hash:"}),d.a.createElement(g.a,null),this.props.webappBuildHash||"3ce36ea771e3e5ed4e07d7e304faab2139dbff9b\n"),d.a.createElement("p",null,d.a.createElement(u.a,{id:"about.date",defaultMessage:"Build Date:"}),d.a.createElement(g.a,null),e.BuildDate))))}}C(y,"defaultProps",{show:!1}),C(y,"propTypes",{onHide:l.a.func.isRequired,config:l.a.object.isRequired,license:l.a.object.isRequired,webappBuildHash:l.a.string});t.a=Object(n.connect)((function(e){const t=i.y.ABOUT;return{config:Object(s.getConfig)(e),license:Object(s.getLicense)(e),show:Object(r.a)(e,t)}}))(y)},1851:function(e,t,a){"use strict";a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return P})),a.d(t,"d",(function(){return N})),a.d(t,"c",(function(){return I}));a(58),a(128),a(70),a(34);var n=a(1863),s=a.n(n),i=a(19),r=a(23),o=a(0),l=a(188),c=(a(84),a(5)),d=a.n(c),m=a(290),u=a.n(m),p=a(1411),h=a(189),g=a(1450),b=a(1287),f=a(14);function _(e,t,a,n=Object(f.r)()){return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:e,data:{id:n,pluginId:t,component:a}}),n}const C=e=>e&&!d.a.isValidElement(e)&&"string"!=typeof e?d.a.createElement(e):e;class y{constructor(e){this.id=e}registerRootComponent(e){return _("Root",this.id,e)}registerPopoverUserAttributesComponent(e){return _("PopoverUserAttributes",this.id,e)}registerPopoverUserActionsComponent(e){return _("PopoverUserActions",this.id,e)}registerLeftSidebarHeaderComponent(e){return _("LeftSidebarHeader",this.id,e)}registerBottomTeamSidebarComponent(e){return _("BottomTeamSidebar",this.id,e)}registerPostMessageAttachmentComponent(e){return _("PostMessageAttachment",this.id,e)}registerLinkTooltipComponent(e){return _("LinkTooltip",this.id,e)}registerChannelHeaderButtonAction(e,t,a,n){const s=Object(f.r)(),i={id:s,pluginId:this.id,icon:C(e),action:t,dropdownText:C(a),tooltipText:n};return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"ChannelHeaderButton",data:i}),r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"MobileChannelHeaderButton",data:i}),s}registerCallButtonAction(e,t,a,n){const s=Object(f.r)(),i={id:s,pluginId:this.id,icon:C(e),action:t,dropdownText:C(a),tooltipText:n};return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"CallButton",data:i}),r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"MobileChannelHeaderButton",data:i}),s}registerPostTypeComponent(e,t){const a=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_POST_COMPONENT,data:{id:a,pluginId:this.id,type:e,component:t}}),a}registerPostCardTypeComponent(e,t){const a=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_POST_CARD_COMPONENT,data:{id:a,pluginId:this.id,type:e,component:t}}),a}registerPostWillRenderEmbedComponent(e,t,a){const n=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"PostWillRenderEmbedComponent",data:{id:n,pluginId:this.id,component:t,match:e,toggleable:a}}),n}registerMainMenuAction(e,t,a){const n=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"MainMenu",data:{id:n,pluginId:this.id,text:C(e),action:t,mobileIcon:C(a)}}),n}registerChannelHeaderMenuAction(e,t){const a=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"ChannelHeader",data:{id:a,pluginId:this.id,text:C(e),action:t}}),a}registerPostDropdownMenuAction(e,t,a){const n=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"PostDropdownMenu",data:{id:n,pluginId:this.id,text:C(e),action:t,filter:a}}),n}registerPostDropdownSubMenuAction(e,t,a){const n=Object(f.r)();return{id:n,rootRegisterMenuItem:function e(t,a,n,s,i,l){return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"PostDropdownMenu",data:{id:a,parentMenuId:n,pluginId:t,text:C(s),subMenu:[],action:i,filter:l}}),function(s,i,r){if(n)throw new Error("Submenus are currently limited to a single level.");return e(t,Object(f.r)(),a,s,i,r)}}(this.id,n,null,e,t,a)}}registerPostDropdownMenuComponent(e){return _("PostDropdownMenuItem",this.id,e)}registerFileUploadMethod(e,t,a){const n=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"FileUploadMethod",data:{id:n,pluginId:this.id,text:a,action:t,icon:e}}),n}registerFilesWillUploadHook(e){const t=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"FilesWillUploadHook",data:{id:t,pluginId:this.id,hook:e}}),t}unregisterComponent(e){r.a.dispatch({type:o.f.REMOVED_PLUGIN_COMPONENT,id:e})}unregisterPostTypeComponent(e){r.a.dispatch({type:o.f.REMOVED_PLUGIN_POST_COMPONENT,id:e})}registerReducer(e){u.a.register("plugins-"+this.id,e)}registerWebSocketEventHandler(e,t){Object(p.e)(this.id,e,t)}unregisterWebSocketEventHandler(e){Object(p.j)(this.id,e)}registerReconnectHandler(e){Object(p.d)(this.id,e)}unregisterReconnectHandler(){Object(p.i)(this.id)}registerMessageWillBePostedHook(e){const t=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"MessageWillBePosted",data:{id:t,pluginId:this.id,hook:e}}),t}registerSlashCommandWillBePostedHook(e){const t=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"SlashCommandWillBePosted",data:{id:t,pluginId:this.id,hook:e}}),t}registerMessageWillFormatHook(e){const t=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"MessageWillFormat",data:{id:t,pluginId:this.id,hook:e}}),t}registerFilePreviewComponent(e,t){const a=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"FilePreview",data:{id:a,pluginId:this.id,override:e,component:t}}),a}registerTranslations(e){r.a.dispatch(Object(g.c)(this.id,e))}registerAdminConsolePlugin(e){r.a.dispatch(Object(b.B)(this.id,e))}registerAdminConsoleCustomSetting(e,t,{showTitle:a}={}){r.a.dispatch(Object(b.A)(this.id,e,t,{showTitle:a}))}unregisterAdminConsolePlugin(){r.a.dispatch(Object(b.P)(this.id))}registerRightHandSidebarComponent(e,t){const a=Object(f.r)();return r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"RightHandSidebarComponent",data:{id:a,pluginId:this.id,component:e,title:t}}),{id:a,showRHSPlugin:Object(h.p)(a),hideRHSPlugin:Object(h.c)(a),toggleRHSPlugin:Object(h.s)(a)}}registerNeedsTeamRoute(e,t){const a=Object(f.r)();let n=e.trim();return"/"===n[0]&&(n=n.substring(1)),n=this.id+"/"+n,r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"NeedsTeamComponent",data:{id:a,pluginId:this.id,component:t,route:n}}),a}registerCustomRoute(e,t){const a=Object(f.r)();let n=e.trim();return"/"===n[0]&&(n=n.substring(1)),n=this.id+"/"+n,r.a.dispatch({type:o.f.RECEIVED_PLUGIN_COMPONENT,name:"CustomRouteComponent",data:{id:a,pluginId:this.id,component:t,route:n}}),a}}var E=a(42);const v=e=>t=>{t(w(e.id)),t({type:o.f.REMOVED_WEBAPP_PLUGIN,data:e})},w=e=>(t,a)=>{const n=a(),s=n.plugins.components.RightHandSidebarComponent||[],i=Object(E.h)(n);s.find(t=>t.id===i&&t.pluginId===e)&&t(Object(h.c)(i))};async function O(){if("true"!==r.a.getState().entities.general.config.PluginsEnabled)return;const{data:e,error:t}=await S()(r.a.dispatch);t?console.error(t):null!=e&&0!==e.length&&await Promise.all(e.map(e=>P(e).catch(e=>{console.error(e.message)})))}function S(){return async e=>{let t;try{t=await i.Client4.getWebappPlugins()}catch(e){return{error:e}}return e({type:o.f.RECEIVED_WEBAPP_PLUGINS,data:t}),{data:t}}}window.regeneratorRuntime=s.a,window.plugins={},window.registerPlugin=function(e,t){window.plugins[e]=t};const T={},M=e=>"plugin "+e.id+", version "+e.version;function P(e){return new Promise((t,a)=>{const n=T[e.id];if(n&&n.webapp.bundle_path===e.webapp.bundle_path)return void t();n&&r.a.dispatch(v(e));let s=e.webapp.bundle_path;s.includes("/static/")&&!s.includes("/static/plugins/")&&(s=s.replace("/static/","/static/plugins/")),console.log("Loading "+M(e));const i=document.createElement("script");i.id="plugin_"+e.id,i.type="text/javascript",i.src=Object(l.e)()+s,i.onload=function(){!function(e){const t=window.plugins[e.id],a=new y(e.id);t&&t.initialize&&t.initialize(a,r.a)}(e),console.log("Loaded "+M(e)),t()},i.onerror=function(){a(new Error("Unable to load bundle for "+M(e)))},document.getElementsByTagName("head")[0].appendChild(i),T[e.id]=e})}function N(e){if(!T[e.id])return;console.log("Removing "+M(e)),delete T[e.id],r.a.dispatch(v(e));const t=window.plugins[e.id];t&&t.uninitialize?t.uninitialize():t&&t.deinitialize&&t.deinitialize(),Object(p.h)(e.id),Object(p.i)(e.id),r.a.dispatch(Object(b.P)(e.id)),Object(g.d)(e.id);const a=document.getElementById("plugin_"+e.id);a&&(a.parentNode.removeChild(a),console.log("Removed "+M(e)))}async function I(){if("true"!==r.a.getState().entities.general.config.PluginsEnabled)return;const e=r.a.getState().plugins.plugins,{error:t}=await S()(r.a.dispatch);if(t)return void console.error(t);const a=r.a.getState().plugins.plugins;Object.values(a).forEach(t=>{const a=e[t.id];a&&a.version===t.version||P(t).catch(e=>{console.error(e.message)})}),Object.keys(e).forEach(t=>{if(!a.hasOwnProperty(t)){N(e[t])}})}},1852:function(e,t,a){"use strict";var n=a(264),s=a(22),i=a(8),r=a(1323),o=(a(70),a(127)),l=a.n(o),c=a(5),d=a.n(c),m=a(1526),u=a(19),p=a(41),h=a(1608),g=a(1698);function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class f extends d.a.PureComponent{constructor(e){super(e),b(this,"handleClick",e=>{const t=this.overlayRef.current.getBoundingClientRect(),a=Object(g.a)(t,window.innerHeight,300);this.setState({target:e.target,show:!this.state.show,placement:a})}),b(this,"hideOverlay",()=>{this.setState({show:!1})}),this.state={show:!1},this.overlayRef=d.a.createRef()}getUserFromMentionName(){const{usersByUsername:e,mentionName:t}=this.props;let a=t.toLowerCase();for(;a.length>0;){if(e.hasOwnProperty(a))return e[a];if(!/[._-]$/.test(a))break;a=a.substring(0,a.length-1)}return""}getGroupFromMentionName(){const{groupsByName:e,mentionName:t}=this.props,a=t.toLowerCase().replace(/[._-]*$/,"");return(null==e?void 0:e[a])||{}}render(){const e=this.getUserFromMentionName();if(!this.props.disableGroupHighlight&&!e){const e=this.getGroupFromMentionName();if(e.allow_reference)return d.a.createElement("span",{className:"group-mention-link"},"@"+e.name)}if(!e)return d.a.createElement(d.a.Fragment,null,this.props.children);const t=this.props.mentionName.substring(e.username.length);let a="mention-link";return this.props.disableHighlight||e.id!==this.props.currentUserId||(a+=" mention--highlight"),d.a.createElement("span",null,d.a.createElement(m.a,{placement:this.state.placement,show:this.state.show,target:this.state.target,rootClose:!0,onHide:this.hideOverlay},d.a.createElement(h.a,{className:"user-profile-popover",userId:e.id,src:u.Client4.getProfilePictureUrl(e.id,e.last_picture_update),isRHS:this.props.isRHS,hasMention:this.props.hasMention,hide:this.hideOverlay})),d.a.createElement("a",{className:a,onClick:this.handleClick,ref:this.overlayRef},"@"+Object(p.displayUsername)(e,this.props.teammateNameDisplay)),t)}}b(f,"propTypes",{children:l.a.node,currentUserId:l.a.string.isRequired,hasMention:l.a.bool,disableHighlight:l.a.bool,disableGroupHighlight:l.a.bool,isRHS:l.a.bool,mentionName:l.a.string.isRequired,teammateNameDisplay:l.a.string.isRequired,usersByUsername:l.a.object.isRequired,groupsByName:l.a.object.isRequired}),b(f,"defaultProps",{isRHS:!1,hasMention:!1,disableHighlight:!1,disableGroupHighlight:!1});t.a=Object(n.connect)((function(e){return{currentUserId:Object(i.getCurrentUserId)(e),teammateNameDisplay:Object(s.getTeammateNameDisplaySetting)(e),usersByUsername:Object(i.getUsersByUsername)(e),groupsByName:Object(r.getAllGroupsForReferenceByName)(e)}}))(f)},1853:function(e,t,a){"use strict";var n,s,i,r=a(264),o=a(10),l=a(1281),c=(a(185),a(127)),d=a.n(c),m=a(5),u=a.n(m);function p(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}class h extends u.a.PureComponent{render(){const e=this.props,{modals:t}=e,a=p(e,["modals"]),{modalState:n}=t;if(!t)return u.a.createElement("div",null);const s=[];for(const e in n)if(n.hasOwnProperty(e)){const t=n[e];if(t.open){const n=u.a.createElement(t.dialogType,Object.assign({},t.dialogProps,{onHide:a.actions.closeModal.bind(this,e),key:"".concat(e,"_modal")}));s.push(n)}}return u.a.createElement("div",null,s)}}n=h,s="propTypes",i={modals:d.a.object.isRequired,actions:d.a.shape({closeModal:d.a.func.isRequired}).isRequired},s in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i;t.a=Object(r.connect)((function(e){return{modals:e.views.modals}}),(function(e){return{actions:Object(o.bindActionCreators)({closeModal:l.a},e)}}))(h)},1854:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1425),l=a(1267),c=a(1565),d=a(1426),m=a(14),u=a(1723),p=a(1855),h=(a(185),a(1562));a(2065),a(1567);function g(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const f={hidePostalCode:!0,style:{base:{fontFamily:"Open Sans",fontSize:"14px",opacity:"0.5",fontSmoothing:"antialiased"}}};class _ extends r.a.PureComponent{constructor(e){super(e),b(this,"onFocus",()=>{const{onFocus:e}=this.props;this.setState({focused:!0}),e&&e()}),b(this,"onBlur",()=>{const{onBlur:e}=this.props;this.setState({focused:!1}),this.validateInput(),e&&e()}),b(this,"onChange",e=>{this.setState({error:"",empty:e.empty,complete:e.complete})}),b(this,"validateInput",()=>{const{required:e}=this.props,{empty:t,complete:a}=this.state;let n="";this.setState({error:""}),e&&t?n="This field is required":a||(n="Please enter a valid credit card"),this.setState({error:n})}),this.state={focused:!1,error:"",empty:!0,complete:!1}}renderError(e){if(!e)return null;let t;return"This field is required"===e?t=r.a.createElement(l.a,{id:"payment.field_required",defaultMessage:"This field is required"}):"Please enter a valid credit card"===e&&(t=r.a.createElement(l.a,{id:"payment.invalid_card_number",defaultMessage:"Please enter a valid credit card"})),r.a.createElement("div",{className:"Input___error"},r.a.createElement("i",{className:"icon icon-alert-outline"}),t)}getCard(){var e;return null===(e=this.props.elements)||void 0===e?void 0:e.getElement(h.CardElement)}render(){const e=this.props,{className:t,error:a}=e,n=g(e,["className","error"]),{empty:s,focused:i,error:o}=this.state;let c=t?"Input_fieldset ".concat(t):"Input_fieldset",d=t?"Input_fieldset Input_fieldset___error ".concat(t):"Input_fieldset Input_fieldset___error";const m=Boolean(i||!s);c=m?c+" Input_fieldset___legend":c,d=m?d+" Input_fieldset___legend":d;const u=a||o;return r.a.createElement("div",{className:"Input_container"},r.a.createElement("fieldset",{className:u?d:c},r.a.createElement("legend",{className:m?"Input_legend Input_legend___focus":"Input_legend"},r.a.createElement(l.a,{id:"payment.card_number",defaultMessage:"Card Number"})),r.a.createElement(h.CardElement,Object.assign({},n,{options:f,onBlur:this.onBlur,onFocus:this.onFocus,onChange:this.onChange}))),this.renderError(u))}}b(_,"propTypes",{elements:s.a.oneOfType([s.a.any,s.a.oneOf([null])]),error:s.a.string,required:s.a.bool,forwardedRef:s.a.any});const C=e=>r.a.createElement(h.ElementsConsumer,null,({elements:t})=>r.a.createElement(_,Object.assign({ref:e.forwardedRef,elements:t},e)));C.propTypes={error:s.a.string,required:s.a.bool,forwardedRef:s.a.any};var y=C,E=a(1848);a(1724);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){O(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class S extends r.a.PureComponent{constructor(e){super(e),O(this,"cardRef",void 0),O(this,"resetState",()=>{this.setState(this.getResetState())}),O(this,"getResetState",(e=this.props)=>{const{initialBillingDetails:t,paymentMethod:a}=e,n=t||{};return{address:n.address,address2:n.address2,city:n.city,state:n.state,country:Object(o.getName)(n.country||"")||Object(o.getName)("US")||"",postalCode:n.postalCode,name:n.name,changePaymentMethod:null==a}}),O(this,"handleInputChange",e=>{const t=e.target,a={[t.name]:t.value};this.setState(a);const{onInputChange:n}=this.props;var s;n&&n(w(w(w({},this.state),a),{},{card:null===(s=this.cardRef.current)||void 0===s?void 0:s.getCard()}))}),O(this,"handleStateChange",e=>{const t={state:e};var a;(this.setState(t),this.props.onInputChange)&&this.props.onInputChange(w(w(w({},this.state),t),{},{card:null===(a=this.cardRef.current)||void 0===a?void 0:a.getCard()}))}),O(this,"handleCountryChange",e=>{const t={country:e.value};var a;(this.setState(t),this.props.onInputChange)&&this.props.onInputChange(w(w(w({},this.state),t),{},{card:null===(a=this.cardRef.current)||void 0===a?void 0:a.getCard()}))}),O(this,"onBlur",()=>{const{onInputBlur:e}=this.props;var t;e&&e(w(w({},this.state),{},{card:null===(t=this.cardRef.current)||void 0===t?void 0:t.getCard()}))}),O(this,"changePaymentMethod",e=>{e.preventDefault(),this.setState({changePaymentMethod:!0})}),this.cardRef=r.a.createRef(),this.state=this.getResetState(e)}componentDidUpdate(e){null!=e.paymentMethod||null==this.props.paymentMethod?void 0===e.initialBillingDetails&&void 0!==this.props.initialBillingDetails&&this.resetState():this.resetState()}render(){const{className:e,paymentMethod:t,buttonFooter:a}=this.props,{changePaymentMethod:n}=this.state;let s;if(n)s=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-row"},r.a.createElement(y,{forwardedRef:this.cardRef,required:!0,onBlur:this.onBlur})),r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{name:"name",type:"text",value:this.state.name,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:m.ob("payment_form.name_on_card","Name on Card"),required:!0})),r.a.createElement("div",{className:"section-title"},r.a.createElement(l.a,{id:"payment_form.billing_address",defaultMessage:"Billing address"})),r.a.createElement(c.a,{onChange:this.handleCountryChange,value:this.state.country?{value:this.state.country,label:this.state.country}:void 0,options:u.a.map(e=>({value:e.name,label:e.name})),legend:m.ob("payment_form.country","Country"),placeholder:m.ob("payment_form.country","Country"),name:"billing_dropdown"}),r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{name:"address",type:"text",value:this.state.address,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:m.ob("payment_form.address","Address"),required:!0})),r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{name:"address2",type:"text",value:this.state.address2,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:m.ob("payment_form.address_2","Address 2")})),r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{name:"city",type:"text",value:this.state.city,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:m.ob("payment_form.city","City"),required:!0})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-row-third-1 selector"},r.a.createElement(p.a,{country:this.state.country,state:this.state.state,onChange:this.handleStateChange,onBlur:this.onBlur})),r.a.createElement("div",{className:"form-row-third-2"},r.a.createElement(d.a,{name:"postalCode",type:"text",value:this.state.postalCode,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:m.ob("payment_form.zipcode","Zip/Postal Code"),required:!0}))),n?a:null);else{let e=null;if(t){let a=r.a.createElement(l.a,{id:"payment_form.no_credit_card",defaultMessage:"No credit card added"});t.last_four&&(a=r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{brand:t.card_brand}),"Card ending in ".concat(t.last_four),r.a.createElement("br",null),"Expires ".concat(t.exp_month,"/").concat(t.exp_year)));let n=r.a.createElement("i",null,r.a.createElement(l.a,{id:"payment_form.no_billing_address",defaultMessage:"No billing address added"}));this.state.state&&(n=r.a.createElement(r.a.Fragment,null,this.state.address,this.state.address2,r.a.createElement("br",null),"".concat(this.state.city,", ").concat(this.state.state,", ").concat(this.state.country),r.a.createElement("br",null),this.state.postalCode)),e=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"PaymentForm-saved-card"},a),r.a.createElement("div",{className:"PaymentForm-saved-address"},n))}s=r.a.createElement("div",{id:"console_payment_saved",className:"PaymentForm-saved"},r.a.createElement("div",{className:"PaymentForm-saved-title"},r.a.createElement(l.a,{id:"payment_form.saved_payment_method",defaultMessage:"Saved Payment Method"})),e,r.a.createElement("button",{className:"Form-btn-link PaymentForm-change",onClick:this.changePaymentMethod},r.a.createElement(l.a,{id:"payment_form.change_payment_method",defaultMessage:"Change Payment Method"})))}return r.a.createElement("form",{id:"payment_form",className:"PaymentForm ".concat(e)},r.a.createElement("div",{className:"section-title"},r.a.createElement(l.a,{id:"payment_form.credit_card",defaultMessage:"Credit Card"})),s)}}O(S,"propTypes",{className:s.a.string,initialBillingDetails:s.a.any,paymentMethod:s.a.any,onInputChange:s.a.func,onInputBlur:s.a.func,buttonFooter:s.a.element}),O(S,"defaultProps",{showSaveCard:!1,className:""})},1855:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1639),l=a(1425),c=a(1565),d=a(1426);const m=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"DC",name:"District of Columbia"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"PR",name:"Puerto Rico"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],u=[{code:"AB",name:"Alberta"},{code:"BC",name:"British Columbia"},{code:"MB",name:"Manitoba"},{code:"NB",name:"New Brunswick"},{code:"NL",name:"Newfoundland and Labrador"},{code:"NT",name:"Northwest Territories"},{code:"NS",name:"Nova Scotia"},{code:"NU",name:"Nunavut"},{code:"ON",name:"Ontario"},{code:"PE",name:"Prince Edward Island"},{code:"QC",name:"Quebec"},{code:"SK",name:"Saskatchewan"},{code:"YT",name:"Yukon Territory"}];function p(e){const{formatMessage:t}=Object(o.a)(),a=t=>{e.onChange(t.value)};let n=[];return e.country===Object(l.getName)("US")?n=m:e.country===Object(l.getName)("CA")&&(n=u),n.length>0?r.a.createElement(c.a,{onChange:a,value:e.state?{value:e.state,label:e.state}:void 0,options:n.map(e=>({value:e.code,label:e.name})),legend:t({id:"admin.billing.subscription.stateprovince",defaultMessage:"State/Province"}),placeholder:t({id:"admin.billing.subscription.stateprovince",defaultMessage:"State/Province"}),name:"billing_dropdown"}):r.a.createElement(d.a,{name:"state",type:"text",value:e.state,onChange:t=>{e.onChange(t.target.value)},onBlur:e.onBlur,placeholder:t({id:"admin.billing.subscription.stateprovince",defaultMessage:"State/Province"}),required:!0})}p.propTypes={country:s.a.string.isRequired,state:s.a.string.isRequired,onChange:s.a.func.isRequired,onBlur:s.a.func}},1859:function(e){e.exports=JSON.parse('{"about.buildnumber":"Build Number:","about.cloudEdition":"Cloud","about.copyright":"Copyright 2015 - {currentYear} Mattermost, Inc. All rights reserved","about.database":"Database:","about.date":"Build Date:","about.dbversion":"Database Schema Version:","about.enterpriseEditione1":"Enterprise Edition","about.enterpriseEditionLearn":"Learn more about Enterprise Edition at ","about.enterpriseEditionSst":"High trust messaging for the enterprise","about.enterpriseEditionSt":"Modern communication from behind your firewall.","about.hash":"Build Hash:","about.hashee":"EE Build Hash:","about.hashwebapp":"Webapp Build Hash:","about.licensed":"Licensed to:","about.notice":"Mattermost is made possible by the open source software used in our [server](!https://about.mattermost.com/platform-notice-txt/), [desktop](!https://about.mattermost.com/desktop-notice-txt/) and [mobile](!https://about.mattermost.com/mobile-notice-txt/) apps.","about.privacy":"Privacy Policy","about.teamEditionLearn":"Join the Mattermost community at ","about.teamEditionSt":"All your team communication in one place, instantly searchable and accessible anywhere.","about.teamEditiont0":"Team Edition","about.teamEditiont1":"Enterprise Edition","about.title":"About {appTitle}","about.tos":"Terms of Service","about.version":"Mattermost Version:","access_history.title":"Access History","accessibility.button.attachment":"attachment","accessibility.button.dialog":"{dialogName} dialog","accessibility.button.Info":"Info","accessibility.button.Search":"Search","accessibility.sections.centerContent":"message list main region","accessibility.sections.centerFooter":"message input complimentary region","accessibility.sections.channelHeader":"channel header region","accessibility.sections.lhsHeader":"team menu region","accessibility.sections.lhsList":"channel sidebar region","accessibility.sections.rhs":"{regionTitle} complimentary region","accessibility.sections.rhsContent":"message details complimentary region","accessibility.sections.rhsFooter":"reply input region","accessibility.sidebar.types.mention":"mention","accessibility.sidebar.types.mentions":"mentions","accessibility.sidebar.types.private":"private channel","accessibility.sidebar.types.public":"public channel","accessibility.sidebar.types.unread":"unread","activity_log_modal.android":"Android","activity_log_modal.androidNativeApp":"Android Native App","activity_log_modal.androidNativeClassicApp":"Android Native Classic App","activity_log_modal.desktop":"Native Desktop App","activity_log_modal.iphoneNativeApp":"iPhone Native App","activity_log_modal.iphoneNativeClassicApp":"iPhone Native Classic App","activity_log.activeSessions":"Active Sessions","activity_log.browser":"Browser: {browser}","activity_log.firstTime":"First time active: {date}, {time}","activity_log.lastActivity":"Last activity: {date}, {time}","activity_log.logout":"Log Out","activity_log.moreInfo":"More info","activity_log.os":"OS: {os}","activity_log.sessionId":"Session ID: {id}","activity_log.sessionsDescription":"Sessions are created when you log in through a new browser on a device. Sessions let you use Mattermost without having to log in again for a time period specified by the System Admin. To end the session sooner, use the \'Log Out\' button.","add_channels_to_scheme.title":"Add Channels to **Channel Selection** List","add_command.autocomplete":"Autocomplete","add_command.autocomplete.help":"(Optional) Show your slash command on the autocomplete list when someone types / in the input box.","add_command.autocompleteDescription":"Autocomplete Description","add_command.autocompleteDescription.help":"(Optional) Describe your slash command for the autocomplete list.","add_command.autocompleteDescription.placeholder":"Example: \\"Returns search results for patient records\\"","add_command.autocompleteHint":"Autocomplete Hint","add_command.autocompleteHint.help":"(Optional) Specify the arguments associated with your slash command.","add_command.autocompleteHint.placeholder":"Example: [Patient Name]","add_command.cancel":"Cancel","add_command.description":"Description","add_command.description.help":"Describe your incoming webhook.","add_command.displayName":"Title","add_command.displayName.help":"Specify a title, of up to 64 characters, for the slash command settings page.","add_command.doneHelp":"Your slash command is set up. The following token will be sent in the outgoing payload. Please use it to verify the request came from your Mattermost team (details at [Slash Commands](!https://docs.mattermost.com/developer/slash-commands.html)).","add_command.iconUrl":"Response Icon","add_command.iconUrl.help":"(Optional) Enter the URL of a .png or .jpg file to use as the icon when posting responses to this slash command. The file must be at least 128 pixels by 128 pixels. If left blank, your profile picture is used.","add_command.iconUrl.placeholder":"https://www.example.com/myicon.png","add_command.method":"Request Method","add_command.method.get":"GET","add_command.method.help":"Specify the type of request, either POST or GET, sent to the endpoint that Mattermost hits to reach your application.","add_command.method.post":"POST","add_command.save":"Save","add_command.saving":"Saving...","add_command.token":"**Token**: {token}","add_command.trigger":"Command Trigger Word","add_command.trigger.help":"Specify a trigger word that is not a built-in command, does not contain spaces, and does not begin with the slash character.","add_command.trigger.helpExamples":"Examples: client, employee, patient, weather","add_command.trigger.helpReserved":"Reserved: {link}","add_command.trigger.helpReservedLinkText":"See built-in slash commands","add_command.trigger.placeholder":"Command trigger e.g. \\"hello\\" not including the slash","add_command.triggerInvalidLength":"A trigger word must contain between {min} and {max} characters","add_command.triggerInvalidSlash":"A trigger word cannot begin with a /","add_command.triggerInvalidSpace":"A trigger word must not contain spaces","add_command.triggerRequired":"A trigger word is required","add_command.url":"Request URL","add_command.url.help":"Specify the callback URL to receive the HTTP POST or GET event request when the slash command is run.","add_command.url.placeholder":"Must start with http:// or https://","add_command.urlRequired":"A request URL is required","add_command.username":"Response Username","add_command.username.help":"(Optional) Specify the name to use when posting responses for this slash command. Usernames can be up to 22 characters, and contain lowercase letters, numbers, and the symbols \\"-\\", \\"_\\", and \\".\\". If left blank, your Mattermost username is used.","add_command.username.placeholder":"Username","add_emoji.cancel":"Cancel","add_emoji.customNameTaken":"This name is already in use by a custom emoji. Please choose another name.","add_emoji.failedToAdd":"Something when wrong when adding the custom emoji.","add_emoji.header":"Add","add_emoji.image":"Image","add_emoji.image.button":"Select","add_emoji.image.help":"Specify a .gif, .png, or .jpg file for your emoji. The file can be up to 1 MB. The dimensions are resized automatically to 128 pixels by 128 pixels while maintaining the aspect ratio.","add_emoji.imageRequired":"An image is required for the emoji","add_emoji.imageTooLarge":"Unable to create emoji. Image must be less than 1 MB in size.","add_emoji.name":"Name","add_emoji.name.help":"Specify an emoji name that\'s up to 64 characters. It can contain lowercase letters, numbers, and the symbols \'-\' and \'_\'.","add_emoji.nameInvalid":"An emoji\'s name can only contain lowercase letters, numbers, and the symbols \'-\' and \'_\'.","add_emoji.nameRequired":"A name is required for the emoji","add_emoji.nameTaken":"This name is already in use by a system emoji. Please choose another name.","add_emoji.preview":"Preview","add_emoji.preview.sentence":"This is a sentence with {image} in it.","add_emoji.save":"Save","add_emoji.saving":"Saving...","add_groups_to_channel.title":"Add New Groups to {channelName} Channel","add_groups_to_team.title":"Add New Groups to {teamName} Team","add_incoming_webhook.cancel":"Cancel","add_incoming_webhook.channel":"Channel","add_incoming_webhook.channel.help":"This is the default public or private channel that receives the webhook payloads.  When setting up the webhook, you must belong to the private channel.","add_incoming_webhook.channelLocked":"Lock to this channel","add_incoming_webhook.channelLocked.help":"If set, the incoming webhook can post only to the selected channel.","add_incoming_webhook.channelRequired":"A valid channel is required","add_incoming_webhook.description":"Description","add_incoming_webhook.description.help":"Describe your incoming webhook.","add_incoming_webhook.displayName":"Title","add_incoming_webhook.displayName.help":"Specify a title, of up to 64 characters, for the webhook settings page.","add_incoming_webhook.doneHelp":"Your incoming webhook is set up. Please send data to the following URL (details at [Incoming Webhooks](!https://docs.mattermost.com/developer/webhooks-incoming.html)).","add_incoming_webhook.icon_url":"Profile Picture","add_incoming_webhook.icon_url.help":"Enter the URL of a .png or .jpg file for the profile picture of this integration when posting. The file should be at least 128 pixels by 128 pixels. If left blank, the profile picture specified by the webhook creator is used.","add_incoming_webhook.save":"Save","add_incoming_webhook.saving":"Saving...","add_incoming_webhook.url":"**URL**: {url}","add_incoming_webhook.username":"Username","add_incoming_webhook.username.help":"Specify the username this integration will post as. Usernames must be in lowercase, be up to 22 characters, and can contain numbers and the symbols \\"-\\", \\"_\\", and \\".\\" . If left blank, the name specified by the webhook creator is used.","add_oauth_app.callbackUrls.help":"Specify the URIs to which the service redirects users after accepting or denying them authorization to your application, and handles authorization codes or access tokens. It must start with http:// or https://.","add_oauth_app.callbackUrlsRequired":"One or more callback URLs are required","add_oauth_app.clientId":"**Client ID**: {id}","add_oauth_app.clientSecret":"**Client Secret**: {secret}","add_oauth_app.description.help":"Describe your OAuth 2.0 application.","add_oauth_app.descriptionRequired":"Description for the OAuth 2.0 application is required.","add_oauth_app.doneHelp":"Your OAuth 2.0 application is set up. Please use the following Client ID and Client Secret when requesting authorization for your application (details at [oAuth 2.0 Applications](!https://docs.mattermost.com/developer/oauth-2-0-applications.html)).","add_oauth_app.doneUrlHelp":"Here are your authorized redirect URLs.","add_oauth_app.header":"Add","add_oauth_app.homepage.help":"This is the URL for the homepage of the OAuth 2.0 application. Depending on your server configuration, use HTTP or HTTPS in your URL.","add_oauth_app.homepageRequired":"Homepage for the OAuth 2.0 application is required.","add_oauth_app.icon.help":"(Optional) Specify the URL of the image for your OAuth 2.0 application. Use either HTTP or HTTPS in the URL.","add_oauth_app.name.help":"Specify the display name of your OAuth 2.0 application. You can use up to 64 characters.","add_oauth_app.nameRequired":"Name for the OAuth 2.0 application is required.","add_oauth_app.trusted.help":"If true, the OAuth 2.0 application is considered trusted by the Mattermost server and does not require the user to accept authorization. If false, a window opens to ask the user to accept or deny the authorization.","add_oauth_app.url":"**URL(s)**: {url}","add_outgoing_webhook.callbackUrls":"Callback URLs (One Per Line)","add_outgoing_webhook.callbackUrls.help":"Specify the URL that messages will be sent to. If the URL is private, add it as a {link}.","add_outgoing_webhook.callbackUrls.helpLinkText":"trusted internal connection","add_outgoing_webhook.callbackUrlsRequired":"One or more callback URLs are required","add_outgoing_webhook.cancel":"Cancel","add_outgoing_webhook.channel":"Channel","add_outgoing_webhook.channel.help":"This field is optional if you specify at least one trigger word. Specify the public channel that delivers the payload to the webhook.","add_outgoing_webhook.content_Type":"Content Type","add_outgoing_webhook.contentType.help1":"Specify the content type by which to send the request.","add_outgoing_webhook.contentType.help2":"For the server to encode the parameters in a URL format in the request body, select application/x-www-form-urlencoded.","add_outgoing_webhook.contentType.help3":"For the server to format the request body as JSON, select application/json.","add_outgoing_webhook.description":"Description","add_outgoing_webhook.description.help":"Describe your outgoing webhook.","add_outgoing_webhook.displayName":"Title","add_outgoing_webhook.displayName.help":"Specify a title for the webhook settings page. The title can contain up to 64 characters.","add_outgoing_webhook.doneHelp":"Your outgoing webhook is set up. The following token will be sent in the outgoing payload. Please use it to verify the request came from your Mattermost team (details at  [Outgoing Webhooks](!https://docs.mattermost.com/developer/webhooks-outgoing.html)).","add_outgoing_webhook.icon_url":"Profile Picture","add_outgoing_webhook.icon_url.help":"Enter the URL of a .png or .jpg file for this integration to use as the profile picture when posting. The file should be at least 128 pixels by 128 pixels. If left blank, the profile picture specified by the webhook creator is used.","add_outgoing_webhook.save":"Save","add_outgoing_webhook.saving":"Saving...","add_outgoing_webhook.token":"**Token**: {token}","add_outgoing_webhook.token.message":"Make sure to add this bot account to teams and channels you want it to interact in. See [documentation](https://mattermost.com/pl/default-bot-accounts) to learn more.","add_outgoing_webhook.triggerWords":"Trigger Words (One Per Line)","add_outgoing_webhook.triggerWords.help":"Specify the trigger words that send an HTTP POST request to your application.  If you select only channel, this is optional. The trigger can be for the channel, the outgoing webhook, or both but when you set it for both, the message must match both values.","add_outgoing_webhook.triggerWordsOrChannelRequired":"A valid channel or a list of trigger words is required","add_outgoing_webhook.triggerWordsTriggerWhen":"Trigger When","add_outgoing_webhook.triggerWordsTriggerWhen.help":"Specify when to trigger the outgoing webhook.","add_outgoing_webhook.triggerWordsTriggerWhenFullWord":"First word matches a trigger word exactly","add_outgoing_webhook.triggerWordsTriggerWhenStartsWith":"First word starts with a trigger word","add_outgoing_webhook.username":"Username","add_outgoing_webhook.username.help":"Specify the username this integration will post as. Usernames can be up to 22 characters, and contain lowercase letters, numbers and the symbols \\"-\\", \\"_\\", and \\".\\". If left blank, the name specified by the webhook creator is used.","add_teams_to_scheme.confirmation.accept":"Yes, Move Team","add_teams_to_scheme.confirmation.message":"This team is already selected in another team scheme, are you sure you want to move it to this team scheme?","add_teams_to_scheme.confirmation.title":"Team Override Scheme Change?","add_teams_to_scheme.title":"Add Teams to **Team Selection** List","add_user_to_channel_modal.add":"Add","add_user_to_channel_modal.cancel":"Cancel","add_user_to_channel_modal.help":"Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.","add_user_to_channel_modal.membershipExistsError":"{name} is already a member of that channel","add_user_to_channel_modal.title":"Add {name} to a Channel","add_users_to_role.title":"Add users to {roleName}","add_users_to_team.title":"Add New Members to {teamName} Team","admin.advance.cluster":"High Availability","admin.advance.metrics":"Performance Monitoring","admin.audits.reload":"Reload User Activity Logs","admin.authentication.email":"Email Authentication","admin.authentication.gitlab":"GitLab","admin.authentication.guest_access":"Guest Access (Beta)","admin.authentication.ldap":"AD/LDAP","admin.authentication.mfa":"Multi-factor Authentication","admin.authentication.oauth":"OAuth 2.0","admin.authentication.saml":"SAML 2.0","admin.authentication.signup":"Signup","admin.banner.heading":"Note:","admin.billing.company_info_display.companyDetails":"Company Details","admin.billing.company_info_display.noCompanyInfo":"There is currently no company information on file.","admin.billing.company_info_display.provideDetails":"Provide your company name and address","admin.billing.company_info_edit.cancel":"Cancel","admin.billing.company_info_edit.company_address":"Company Address","admin.billing.company_info_edit.companyDetails":"Company Details","admin.billing.company_info_edit.sameAsBillingAddress":"Same as Billing Address","admin.billing.company_info_edit.save":"Save info","admin.billing.company_info_edit.title":"Edit Company Information","admin.billing.company_info.add":"Add Company Information","admin.billing.company_info.address":"Address","admin.billing.company_info.address_2":"Address 2","admin.billing.company_info.billingAddress":"Billing Address","admin.billing.company_info.city":"City","admin.billing.company_info.companyAddress":"Company Address","admin.billing.company_info.companyName":"Company name","admin.billing.company_info.country":"Country","admin.billing.company_info.employees":"{employees} employees","admin.billing.company_info.numEmployees":"Number of employees (optional)","admin.billing.company_info.title":"Company Information","admin.billing.company_info.zipcode":"Zip/Postal Code","admin.billing.history.allPaymentsShowHere":"All of your monthly payments will show here","admin.billing.history.date":"Date","admin.billing.history.description":"Description","admin.billing.history.noBillingHistory":"In the future, this is where your billing history will show.","admin.billing.history.pageInfo":"{startRecord} - {endRecord} of {totalRecords}","admin.billing.history.paid":"Paid","admin.billing.history.paymentFailed":"Payment failed","admin.billing.history.pending":"Pending","admin.billing.history.seeHowBillingWorks":"See how billing works","admin.billing.history.status":"Status","admin.billing.history.title":"Billing History","admin.billing.history.total":"Total","admin.billing.history.transactions":"Transactions","admin.billing.history.usersAndRates":"{fullUsers} users at full rate, {partialUsers} users with partial charges","admin.billing.payment_info_display.allCardsAccepted":"All major credit cards are accepted.","admin.billing.payment_info_display.noPaymentInfo":"There are currently no credit cards on file.","admin.billing.payment_info_display.savedPaymentDetails":"Your saved payment details","admin.billing.payment_info_edit.cancel":"Cancel","admin.billing.payment_info_edit.creditCardWarningDescription":"Credit cards are kept on file for future payments. You’ll only be charged if you move in to the paid tier of Mattermost Cloud and exceed the free tier limits. ","admin.billing.payment_info_edit.creditCardWarningTitle":"NOTE: Your card will not be charged at this time","admin.billing.payment_info_edit.formError":"There are errors in the form above","admin.billing.payment_info_edit.save":"Save credit card","admin.billing.payment_info_edit.serverError":"Something went wrong while saving payment infomation","admin.billing.payment_info_edit.title":"Edit Payment Information","admin.billing.payment_info.add":"Add a Credit Card","admin.billing.payment_info.billingAddress":"Billing Address","admin.billing.payment_info.cardBrandAndDigits":"{brand} ending in {digits}","admin.billing.payment_info.cardExpiry":"Expires {month}/{year}","admin.billing.payment_info.creditCardAboutToExpire":"Your credit card is about to expire","admin.billing.payment_info.creditCardAboutToExpire.description":"Please update your payment information to avoid any disruption.","admin.billing.payment_info.title":"Payment Information","admin.billing.subscription.creditCardExpired":"Your credit card has expired. Update your payment information to avoid disruption.","admin.billing.subscription.creditCardHasExpired":"Your credit card has expired","admin.billing.subscription.creditCardHasExpired.description.avoidAnyDisruption":" to avoid any disruption.","admin.billing.subscription.creditCardHasExpired.description.updatePaymentInformation":"update your payment information","admin.billing.subscription.creditCardHasExpired.please":"Please ","admin.billing.subscription.disclaimer":"Your total is calculated at the end of the billing cycle based on the number of enabled users. You’ll only be charged if you exceed the free tier limits.","admin.billing.subscription.goBackTryAgain":"Go back and try again","admin.billing.subscription.howItWorks":"See how billing works","admin.billing.subscription.letsGo":"Lets go!","admin.billing.subscription.mattermostCloud":"Mattermost Cloud","admin.billing.subscription.mostRecentPaymentFailed":"Your most recent payment failed","admin.billing.subscription.nextBillingDate":"Starting {date} you will be charged based on the number of enabled users","admin.billing.subscription.paymentFailed":"Payment failed. Please try again or contact support.","admin.billing.subscription.paymentVerificationFailed":"Sorry, the payment verification failed","admin.billing.subscription.perUserPerMonth":" /user/month","admin.billing.subscription.planDetails.currentPlan":"Current Plan","admin.billing.subscription.planDetails.endDate":"End Date: ","admin.billing.subscription.planDetails.features.10GBstoragePerUser":"10 GB storage per user","admin.billing.subscription.planDetails.features.99uptime":"99.0% uptime","admin.billing.subscription.planDetails.features.guestAccounts":"Guest Accounts","admin.billing.subscription.planDetails.features.mfaAuthentication":"Google, Gitlab, O365 & MFA Authentication","admin.billing.subscription.planDetails.features.selfServiceDocumentation":"Self-Service documentation and forum support","admin.billing.subscription.planDetails.features.unlimitedIntegrations":"Unlimited Integrations","admin.billing.subscription.planDetails.features.unlimitedTeamsAndChannels":"Unlimited teams, channels, and search history","admin.billing.subscription.planDetails.freeForTenUsers":"Always free for up to 10 users","admin.billing.subscription.planDetails.howBillingWorks":"See how billing works","admin.billing.subscription.planDetails.numberOfSeats":"{numberOfSeats} seats","admin.billing.subscription.planDetails.numberOfSeatsRegistered":"({userCount} currently registered)","admin.billing.subscription.planDetails.perUserPerMonth":"/user/month","admin.billing.subscription.planDetails.prolongedOverages":"Prolonged overages may result in additional charges.","admin.billing.subscription.planDetails.seatCountOverages":"Seat count overages","admin.billing.subscription.planDetails.startDate":"Start Date: ","admin.billing.subscription.planDetails.tiers.free":"Free","admin.billing.subscription.planDetails.upToXUsers":"up to {userLimit} users","admin.billing.subscription.planDetails.userCount":"{userCount} users","admin.billing.subscription.planDetails.userCountWithLimit":"{userCount} / {userLimit} users","admin.billing.subscription.privateCloudCard.contactSales":"Contact Sales","admin.billing.subscription.privateCloudCard.contactSupport":"Contact Support","admin.billing.subscription.privateCloudCard.description":"If you need software with dedicated, single-tenant architecture, Mattermost Private Cloud (Beta) is the solution for high-trust collaboration.","admin.billing.subscription.privateCloudCard.title":"Looking for a high-trust private cloud?","admin.billing.subscription.questions":"Questions?","admin.billing.subscription.stateprovince":"State/Province","admin.billing.subscription.title":"Subscriptions","admin.billing.subscription.updatePaymentInfo":"","admin.billing.subscription.upgrade":"Upgrade","admin.billing.subscription.upgradeCloudSubscription":"Upgrade your Mattermost Cloud Subscription","admin.billing.subscription.upgradedSuccess":"Great! You\'re now upgraded","admin.billing.subscription.upgradeMattermostCloud.description":"The free tier is **limited to 10 users.** Get access to more users, teams and other great features","admin.billing.subscription.upgradeMattermostCloud.title":"Need more users?","admin.billing.subscription.upgradeMattermostCloud.upgradeButton":"Upgrade Mattermost Cloud","admin.billing.subscription.verifyPaymentInformation":"Verifying your payment information","admin.billing.subscriptions.billing_summary.lastInvoice.downloadInvoice":"Download Invoice","admin.billing.subscriptions.billing_summary.lastInvoice.failed":"Failed","admin.billing.subscriptions.billing_summary.lastInvoice.paid":"Paid","admin.billing.subscriptions.billing_summary.lastInvoice.partialCharges":"Partial charges","admin.billing.subscriptions.billing_summary.lastInvoice.pending":"Pending","admin.billing.subscriptions.billing_summary.lastInvoice.seeBillingHistory":"See Billing History","admin.billing.subscriptions.billing_summary.lastInvoice.taxes":"Taxes","admin.billing.subscriptions.billing_summary.lastInvoice.title":"Last Invoice","admin.billing.subscriptions.billing_summary.lastInvoice.total":"Total","admin.billing.subscriptions.billing_summary.lastInvoice.userCount":" x {users} users","admin.billing.subscriptions.billing_summary.lastInvoice.userCountPartial":"{users} users","admin.billing.subscriptions.billing_summary.lastInvoice.whatArePartialCharges":"What are partial charges?","admin.billing.subscriptions.billing_summary.lastInvoice.whatArePartialCharges.message":"Users who have not been enabled for the full duration of the month are charged at a prorated monthly rate.","admin.billing.subscriptions.billing_summary.noBillingHistory.description":"In the future, this is where your most recent bill summary will show.","admin.billing.subscriptions.billing_summary.noBillingHistory.link":"See how billing works","admin.billing.subscriptions.billing_summary.noBillingHistory.title":"No billing history yet","admin.bleve.bulkIndexingTitle":"Bulk Indexing:","admin.bleve.createJob.help":"All users, channels and posts in the database will be indexed from oldest to newest. Bleve is available during indexing but search results may be incomplete until the indexing job is complete.","admin.bleve.createJob.title":"Index Now","admin.bleve.enableAutocompleteDescription":"When true, Bleve will be used for all autocompletion queries on users and channels using the latest index. Autocompletion results may be incomplete until a bulk index of the existing users and channels database is finished. When false, database autocomplete is used.","admin.bleve.enableAutocompleteTitle":"Enable Bleve for autocomplete queries:","admin.bleve.enableIndexingDescription":"When true, indexing of new posts occurs automatically. Search queries will use database search until \\"Enable Bleve for search queries\\" is enabled. {documentationLink}","admin.bleve.enableIndexingDescription.documentationLinkText":"Learn more about Bleve in our documentation.","admin.bleve.enableIndexingTitle":"Enable Bleve Indexing:","admin.bleve.enableSearchingDescription":"When true, Bleve will be used for all search queries using the latest index. Search results may be incomplete until a bulk index of the existing post database is finished. When false, database search is used.","admin.bleve.enableSearchingTitle":"Enable Bleve for search queries:","admin.bleve.indexDirDescription":"Directory path to use for store bleve indexes.","admin.bleve.indexDirTitle":"Index Directory:","admin.bleve.percentComplete":"{percent}% Complete","admin.bleve.purgeIndexesButton":"Purge Index","admin.bleve.purgeIndexesButton.error":"Failed to purge indexes: {error}","admin.bleve.purgeIndexesButton.label":"Purge Indexes:","admin.bleve.purgeIndexesButton.success":"Indexes purged successfully.","admin.bleve.purgeIndexesHelpText":"Purging will entirely remove the content of the Bleve index directory. Search results may be incomplete until a bulk index of the existing database is rebuilt.","admin.bleve.title":"Bleve","admin.channel_list.archived":"Archived","admin.channel_list.group_sync":"Group Sync","admin.channel_list.manual_invites":"Manual Invites","admin.channel_list.private":"Private","admin.channel_list.public":"Public","admin.channel_settings.channel_detail.archive_confirm.button":"Save and Archive Channel","admin.channel_settings.channel_detail.archive_confirm.message":"Saving will archive the channel from the team and make its contents inaccessible for all users. Are you sure you wish to save and archive this channel?","admin.channel_settings.channel_detail.archive_confirm.title":"Save and Archive Channel","admin.channel_settings.channel_detail.channel_configuration":"Channel Configuration","admin.channel_settings.channel_detail.channelName":"**Name**","admin.channel_settings.channel_detail.channelTeam":"**Team**","admin.channel_settings.channel_detail.groupsDescription":"Select groups to be added to this channel.","admin.channel_settings.channel_detail.groupsTitle":"Groups","admin.channel_settings.channel_detail.manageDescription":"Choose between inviting members manually or syncing members automatically from groups.","admin.channel_settings.channel_detail.manageTitle":"Channel Management","admin.channel_settings.channel_detail.membersDescription":"A list of users who are currently in the channel right now","admin.channel_settings.channel_detail.membersTitle":"Members","admin.channel_settings.channel_detail.profileDescription":"Summary of the channel, including the channel name.","admin.channel_settings.channel_detail.profileTitle":"Channel Profile","admin.channel_settings.channel_detail.syncedGroupsDescription":"Add and remove channel members based on their group membership.","admin.channel_settings.channel_detail.syncedGroupsTitle":"Synced Groups","admin.channel_settings.channel_details.add_group":"Add Group","admin.channel_settings.channel_details.archiveChannel":"Archive Channel","admin.channel_settings.channel_details.isDefaultDescr":"This default channel cannot be converted into a private channel.","admin.channel_settings.channel_details.isPublic":"Public channel or private channel","admin.channel_settings.channel_details.isPublicDescr":"If `public` the channel is discoverable and any user can join, or if `private` invitations are required. Toggle to convert public channels to private. When Group Sync is enabled, private channels cannot be converted to public.","admin.channel_settings.channel_details.syncGroupMembers":"Sync Group Members","admin.channel_settings.channel_details.syncGroupMembersDescr":"When enabled, adding and removing users from groups will add or remove them from this channel. The only way of inviting members to this channel is by adding the groups they belong to. [Learn More](!https://www.mattermost.com/pl/default-ldap-group-constrained-team-channel.html)","admin.channel_settings.channel_details.unarchiveChannel":"Unarchive Channel","admin.channel_settings.channel_list.managementHeader":"Management","admin.channel_settings.channel_list.nameHeader":"Name","admin.channel_settings.channel_list.no_channels_found":"No channels found","admin.channel_settings.channel_list.search_channels_errored":"Something went wrong. Try again","admin.channel_settings.channel_list.teamHeader":"Team","admin.channel_settings.channel_moderation.channelMentions":"Channel Mentions","admin.channel_settings.channel_moderation.channelMentions.disabledBoth":"Channel mentions for members and guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.channelMentions.disabledBothDueToCreatePosts":"Guests and members can not use channel mentions without the ability to create posts.","admin.channel_settings.channel_moderation.channelMentions.disabledGuest":"Channel mentions for guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.channelMentions.disabledGuestsDueToCreatePosts":"Guests can not use channel mentions without the ability to create posts.","admin.channel_settings.channel_moderation.channelMentions.disabledMember":"Channel mentions for members are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.channelMentions.disabledMemberDueToCreatePosts":"Members can not use channel mentions without the ability to create posts.","admin.channel_settings.channel_moderation.channelMentionsDesc":"The ability for members and guests to use @all, @here and @channel.","admin.channel_settings.channel_moderation.channelMentionsDescMembers":"The ability for members to use @all, @here and @channel.","admin.channel_settings.channel_moderation.createPosts":"Create Posts","admin.channel_settings.channel_moderation.createPosts.disabledBoth":"Create posts for members and guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.createPosts.disabledGuest":"Create posts for guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.createPosts.disabledMember":"Create posts for members are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.createPostsDesc":"The ability for members and guests to create posts in the channel.","admin.channel_settings.channel_moderation.createPostsDescMembers":"The ability for members to create posts in the channel.","admin.channel_settings.channel_moderation.guests":"Guests","admin.channel_settings.channel_moderation.manageMembers":"Manage Members","admin.channel_settings.channel_moderation.manageMembers.disabledBoth":"Manage members for members and guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.manageMembers.disabledGuest":"Manage members for guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.manageMembers.disabledMember":"Manage members for members are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.manageMembersDesc":"The ability for members to add and remove people.","admin.channel_settings.channel_moderation.members":"Members","admin.channel_settings.channel_moderation.permissions":"Permissions","admin.channel_settings.channel_moderation.postReactions":"Post Reactions","admin.channel_settings.channel_moderation.postReactions.disabledBoth":"Post reactions for members and guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.postReactions.disabledGuest":"Post reactions for guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.postReactions.disabledMember":"Post reactions for members are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.postReactionsDesc":"The ability for members and guests to post reactions.","admin.channel_settings.channel_moderation.postReactionsDescMembers":"The ability for members to post reactions.","admin.channel_settings.channel_moderation.subtitle":"Manage the actions available to channel members and guests.","admin.channel_settings.channel_moderation.subtitleMembers":"Manage the actions available to channel members.","admin.channel_settings.channel_moderation.title":"Channel Moderation","admin.channel_settings.channel_row.configure":"Edit","admin.channel_settings.description":"Manage channel settings.","admin.channel_settings.groupsPageTitle":"{siteName} Channels","admin.channel_settings.title":"Channels","admin.cluster.ClusterName":"Cluster Name:","admin.cluster.ClusterNameDesc":"The cluster to join by name.  Only nodes with the same cluster name will join together.  This is to support Blue-Green deployments or staging pointing to the same database.","admin.cluster.ClusterNameEx":"E.g.: \\"Production\\" or \\"Staging\\"","admin.cluster.enableDescription":"When true, Mattermost will run in High Availability mode. Please see [documentation](!http://docs.mattermost.com/deployment/cluster.html) to learn more about configuring High Availability for Mattermost.","admin.cluster.EnableExperimentalGossipEncryption":"Enable Experimental Gossip encryption:","admin.cluster.EnableExperimentalGossipEncryptionDesc":"When true, all communication through the gossip protocol will be encrypted.","admin.cluster.enableTitle":"Enable High Availability Mode:","admin.cluster.GossipPort":"Gossip Port:","admin.cluster.GossipPortDesc":"The port used for the gossip protocol.  Both UDP and TCP should be allowed on this port.","admin.cluster.GossipPortEx":"E.g.: \\"8074\\"","admin.cluster.loadedFrom":"This configuration file was loaded from Node ID {clusterId}. Please see the Troubleshooting Guide in our [documentation](!http://docs.mattermost.com/deployment/cluster.html) if you are accessing the System Console through a load balancer and experiencing issues.","admin.cluster.noteDescription":"Changing properties in this section will require a server restart before taking effect.","admin.cluster.OverrideHostname":"Override Hostname:","admin.cluster.OverrideHostnameDesc":"The default value of \'<blank>\' will attempt to get the Hostname from the OS or use the IP Address.  You can override the hostname of this server with this property.  It is not recommended to override the Hostname unless needed. This property can also be set to a specific IP Address if needed.","admin.cluster.OverrideHostnameEx":"E.g.: \\"app-server-01\\"","admin.cluster.should_not_change":"WARNING: These settings may not sync with the other servers in the cluster. High Availability inter-node communication will not start until you modify the config.json to be identical on all servers and restart Mattermost. Please see the [documentation](!http://docs.mattermost.com/deployment/cluster.html) on how to add or remove a server from the cluster. If you are accessing the System Console through a load balancer and experiencing issues, please see the Troubleshooting Guide in our [documentation](!http://docs.mattermost.com/deployment/cluster.html).","admin.cluster.status_table.config_hash":"Config File MD5","admin.cluster.status_table.hostname":"Hostname","admin.cluster.status_table.reload":" Reload Cluster Status","admin.cluster.status_table.status":"Status","admin.cluster.status_table.url":"Gossip Address","admin.cluster.status_table.version":"Version","admin.cluster.StreamingPort":"Streaming Port:","admin.cluster.StreamingPortDesc":"The port used for streaming data between servers.","admin.cluster.StreamingPortEx":"E.g.: \\"8075\\"","admin.cluster.unknown":"unknown","admin.cluster.UseExperimentalGossip":"Use Experimental Gossip:","admin.cluster.UseExperimentalGossipDesc":"When true, the server will attempt to communicate via the gossip protocol over the gossip port.  When false the server will attempt to communicate over the streaming port. When false the gossip port and protocol are still used to determine cluster health.","admin.cluster.UseIpAddress":"Use IP Address:","admin.cluster.UseIpAddressDesc":"When true, the cluster will attempt to communicate via IP Address vs using the hostname.","admin.compliance_reports.desc":"Job Name:","admin.compliance_reports.desc_placeholder":"E.g. \\"Audit 445 for HR\\"","admin.compliance_reports.emails":"Emails:","admin.compliance_reports.emails_placeholder":"E.g. \\"bill@example.com, bob@example.com\\"","admin.compliance_reports.from":"From:","admin.compliance_reports.from_placeholder":"E.g. \\"2016-03-11\\"","admin.compliance_reports.keywords":"Keywords:","admin.compliance_reports.keywords_placeholder":"E.g. \\"shorting stock\\"","admin.compliance_reports.reload":"Reload Completed Compliance Reports","admin.compliance_reports.run":"Run Compliance Report","admin.compliance_reports.title":"Compliance Reports","admin.compliance_reports.to":"To:","admin.compliance_reports.to_placeholder":"E.g. \\"2016-03-15\\"","admin.compliance_table.desc":"Description","admin.compliance_table.download":"Download","admin.compliance_table.failed":"Failed","admin.compliance_table.files":"Files","admin.compliance_table.params":"Params","admin.compliance_table.pending":"Pending","admin.compliance_table.records":"Records","admin.compliance_table.status":"Status","admin.compliance_table.success":"Success","admin.compliance_table.timestamp":"Timestamp","admin.compliance_table.type":"Type","admin.compliance_table.userId":"Requested By","admin.compliance.complianceMonitoring":"Compliance Monitoring","admin.compliance.directoryDescription":"Directory to which compliance reports are written. If blank, will be set to ./data/.","admin.compliance.directoryExample":"E.g.: \\"./data/\\"","admin.compliance.directoryTitle":"Compliance Report Directory:","admin.compliance.enableDailyDesc":"When true, Mattermost will generate a daily compliance report.","admin.compliance.enableDailyTitle":"Enable Daily Report:","admin.compliance.enableDesc":"When true, Mattermost allows compliance reporting from the **Compliance and Auditing** tab. See [documentation](!https://docs.mattermost.com/administration/compliance.html) to learn more.","admin.compliance.enableTitle":"Enable Compliance Reporting:","admin.compliance.newComplianceExportBanner":"This feature is replaced by a new [Compliance Export]({siteURL}/admin_console/compliance/export) feature, and will be removed in a future release. We recommend migrating to the new system.","admin.complianceExport.createJob.help":"Initiates a Compliance Export job immediately.","admin.complianceExport.createJob.title":"Run Compliance Export Job Now","admin.complianceExport.exportFormat.actiance":"Actiance XML","admin.complianceExport.exportFormat.csv":"CSV","admin.complianceExport.exportFormat.description":"Format of the compliance export. Corresponds to the system that you want to import the data into.\\n \\nFor Actiance XML, compliance export files are written to the \\"exports\\" subdirectory of the configured [Local Storage Directory]({siteURL}/admin_console/environment/file_storage). For Global Relay EML, they are emailed to the configured email address.","admin.complianceExport.exportFormat.globalrelay":"Global Relay EML","admin.complianceExport.exportFormat.title":"Export Format:","admin.complianceExport.exportJobStartTime.description":"Set the start time of the daily scheduled compliance export job. Choose a time when fewer people are using your system. Must be a 24-hour time stamp in the form HH:MM.","admin.complianceExport.exportJobStartTime.example":"E.g.: \\"02:00\\"","admin.complianceExport.exportJobStartTime.title":"Compliance Export time:","admin.complianceExport.globalRelayCustomerType.a10.description":"A10/Type 10","admin.complianceExport.globalRelayCustomerType.a9.description":"A9/Type 9","admin.complianceExport.globalRelayCustomerType.description":"Type of Global Relay customer account your organization has.","admin.complianceExport.globalRelayCustomerType.title":"Global Relay Customer Account:","admin.complianceExport.globalRelayEmailAddress.description":"The email address your Global Relay server monitors for incoming compliance exports.","admin.complianceExport.globalRelayEmailAddress.example":"E.g.: \\"globalrelay@mattermost.com\\"","admin.complianceExport.globalRelayEmailAddress.title":"Global Relay Email Address:","admin.complianceExport.globalRelaySmtpPassword.description":"The password associated with the SMTP username.","admin.complianceExport.globalRelaySmtpPassword.example":"E.g.: \\"globalRelayPassword\\"","admin.complianceExport.globalRelaySmtpPassword.title":"Global Relay SMTP Password:","admin.complianceExport.globalRelaySmtpUsername.description":"The username for authenticating to the Global Relay SMTP server.","admin.complianceExport.globalRelaySmtpUsername.example":"E.g.: \\"globalRelayUser\\"","admin.complianceExport.globalRelaySmtpUsername.title":"Global Relay SMTP Username:","admin.complianceExport.messagesExportedCount":"{count} messages exported.","admin.complianceExport.title":"Compliance Export (Beta)","admin.complianceExport.warningCount":"{count} warning(s) encountered, see warning.txt for details","admin.complianceExport.warningCount.globalrelay":"{count} warning(s) encountered, see log for details","admin.complianceMonitoring.userActivityLogsTitle":"User Activity Logs","admin.connectionSecurityNone":"None","admin.connectionSecurityNoneDescription":"Mattermost will connect over an insecure connection.","admin.connectionSecurityStart":"STARTTLS","admin.connectionSecurityStartDescription":"Takes an existing insecure connection and attempts to upgrade it to a secure connection using TLS.","admin.connectionSecurityTitle":"Connection Security:","admin.connectionSecurityTls":"TLS","admin.connectionSecurityTlsDescription":"Encrypts the communication between Mattermost and your server.","admin.customization.androidAppDownloadLinkDesc":"Add a link to download the Android app. Users who access the site on a mobile web browser will be prompted with a page giving them the option to download the app. Leave this field blank to prevent the page from appearing.","admin.customization.androidAppDownloadLinkTitle":"Android App Download Link:","admin.customization.announcement.allowBannerDismissalDesc":"When true, users can dismiss the banner until its next update. When false, the banner is permanently visible until it is turned off by the System Admin.","admin.customization.announcement.allowBannerDismissalTitle":"Allow Banner Dismissal:","admin.customization.announcement.bannerColorTitle":"Banner Color:","admin.customization.announcement.bannerTextColorTitle":"Banner Text Color:","admin.customization.announcement.bannerTextDesc":"Text that will appear in the announcement banner.","admin.customization.announcement.bannerTextTitle":"Banner Text:","admin.customization.announcement.enableBannerDesc":"Enable an announcement banner across all teams.","admin.customization.announcement.enableBannerTitle":"Enable Announcement Banner:","admin.customization.appDownloadLinkDesc":"Add a link to a download page for the Mattermost apps. When a link is present, an option to \\"Download Mattermost Apps\\" will be added in the Main Menu so users can find the download page. Leave this field blank to hide the option from the Main Menu.","admin.customization.appDownloadLinkTitle":"Mattermost Apps Download Page Link:","admin.customization.customUrlSchemes":"Custom URL Schemes:","admin.customization.customUrlSchemesDesc":"Allows message text to link if it begins with any of the comma-separated URL schemes listed. By default, the following schemes will create links: \\"http\\", \\"https\\", \\"ftp\\", \\"tel\\", and \\"mailto\\".","admin.customization.customUrlSchemesPlaceholder":"E.g.: \\"git,smtp\\"","admin.customization.enableCustomEmojiDesc":"Enable users to create custom emoji for use in messages. When enabled, Custom Emoji settings can be accessed by switching to a team and clicking the three dots above the channel sidebar, and selecting \\"Custom Emoji\\".","admin.customization.enableCustomEmojiTitle":"Enable Custom Emoji:","admin.customization.enableEmojiPickerDesc":"The emoji picker allows users to select emoji to add as reactions or use in messages. Enabling the emoji picker with a large number of custom emoji may slow down performance.","admin.customization.enableEmojiPickerTitle":"Enable Emoji Picker:","admin.customization.enableGifPickerDesc":"Allow users to select GIFs from the emoji picker via a Gfycat integration.","admin.customization.enableGifPickerTitle":"Enable GIF Picker:","admin.customization.enableLatexDesc":"Enable rendering of Latex code. If false, Latex code will be highlighted only.","admin.customization.enableLatexTitle":"Enable Latex Rendering:","admin.customization.enableLinkPreviewsDesc":"Display a preview of website content, image links and YouTube links below the message when available. The server must be connected to the internet and have access through the firewall (if applicable) to the websites from which previews are expected. Users can disable these previews from Account Settings > Display > Website Link Previews.","admin.customization.enableLinkPreviewsTitle":"Enable Link Previews:","admin.customization.enableSVGsDesc":"Enable previews for SVG file attachments and allow them to appear in messages.","admin.customization.enableSVGsTitle":"Enable SVGs:","admin.customization.gfycatApiKey":"Gfycat API Key:","admin.customization.gfycatApiKeyDescription":"Request an API key at [https://developers.gfycat.com/signup/#](!https://developers.gfycat.com/signup/#). Enter the client ID you receive via email to this field. When blank, uses the default API key provided by Gfycat.","admin.customization.gfycatApiSecret":"Gfycat API Secret:","admin.customization.gfycatApiSecretDescription":"The API secret generated by Gfycat for your API key. When blank, uses the default API secret provided by Gfycat.","admin.customization.iosAppDownloadLinkDesc":"Add a link to download the iOS app. Users who access the site on a mobile web browser will be prompted with a page giving them the option to download the app. Leave this field blank to prevent the page from appearing.","admin.customization.iosAppDownloadLinkTitle":"iOS App Download Link:","admin.data_grid.empty":"No items found","admin.data_grid.loading":"Loading","admin.data_grid.paginatorCount":"{startCount, number} - {endCount, number} of {total, number}","admin.data_retention.confirmChangesModal.clarification":"Once deleted, messages and files cannot be retrieved.","admin.data_retention.confirmChangesModal.confirm":"Confirm Settings","admin.data_retention.confirmChangesModal.description":"Are you sure you want to apply the following data retention policy:","admin.data_retention.confirmChangesModal.description.itemFileDeletion":"All files will be permanently deleted after {days} days.","admin.data_retention.confirmChangesModal.description.itemFileIndefinite":"All files will be retained indefinitely.","admin.data_retention.confirmChangesModal.description.itemMessageDeletion":"All messages will be permanently deleted after {days} days.","admin.data_retention.confirmChangesModal.description.itemMessageIndefinite":"All messages will be retained indefinitely.","admin.data_retention.confirmChangesModal.title":"Confirm data retention policy","admin.data_retention.createJob.help":"Initiates a Data Retention deletion job immediately.","admin.data_retention.createJob.title":"Run Deletion Job Now","admin.data_retention.deletionJobStartTime.description":"Set the start time of the daily scheduled data retention job. Choose a time when fewer people are using your system. Must be a 24-hour time stamp in the form HH:MM.","admin.data_retention.deletionJobStartTime.example":"E.g.: \\"02:00\\"","admin.data_retention.deletionJobStartTime.title":"Data Deletion Time:","admin.data_retention.enableFileDeletion.description":"Set how long Mattermost keeps file uploads in channels and direct messages.","admin.data_retention.enableFileDeletion.title":"File Retention:","admin.data_retention.enableMessageDeletion.description":"Set how long Mattermost keeps messages in channels and direct messages.","admin.data_retention.enableMessageDeletion.title":"Message Retention:","admin.data_retention.fileRetentionDays.description":"Set how many days file uploads are kept in Mattermost. Files older than the duration you set will be deleted nightly. The minimum time is one day.","admin.data_retention.fileRetentionDays.example":"E.g.: \\"60\\"","admin.data_retention.keepFilesForTime":"Keep files for a set amount of time","admin.data_retention.keepFilesIndefinitely":"Keep all files indefinitely","admin.data_retention.keepMessageForTime":"Keep messages for a set amount of time","admin.data_retention.keepMessagesIndefinitely":"Keep all messages indefinitely","admin.data_retention.messageRetentionDays.description":"Set how many days messages are kept in Mattermost. Messages, including file attachments older than the duration you set will be deleted nightly. The minimum time is one day.","admin.data_retention.messageRetentionDays.example":"E.g.: \\"60\\"","admin.data_retention.note.description":"Caution: Once a message or a file is deleted, the action is irreversible. Please be careful when setting up a custom data retention policy. See {documentationLink} to learn more.","admin.data_retention.note.description.documentationLinkText":"documentation","admin.data_retention.title":"Data Retention Policy","admin.database.title":"Database","admin.developer.title":"Developer Settings","admin.elasticsearch.bulkIndexingTitle":"Bulk Indexing:","admin.elasticsearch.connectionUrlDescription":"The address of the Elasticsearch server. {documentationLink}","admin.elasticsearch.connectionUrlExample":"E.g.: \\"https://elasticsearch.example.org:9200\\"","admin.elasticsearch.connectionUrlExample.documentationLinkText":"Please see documentation with server setup instructions.","admin.elasticsearch.connectionUrlTitle":"Server Connection Address:","admin.elasticsearch.createJob.help":"All users, channels and posts in the database will be indexed from oldest to newest. Elasticsearch is available during indexing but search results may be incomplete until the indexing job is complete.","admin.elasticsearch.createJob.title":"Index Now","admin.elasticsearch.elasticsearch_test_button":"Test Connection","admin.elasticsearch.enableAutocompleteDescription":"Requires a successful connection to the Elasticsearch server. When true, Elasticsearch will be used for all autocompletion queries on users and channels using the latest index. Autocompletion results may be incomplete until a bulk index of the existing users and channels database is finished. When false, database autocomplete is used.","admin.elasticsearch.enableAutocompleteTitle":"Enable Elasticsearch for autocomplete queries:","admin.elasticsearch.enableIndexingDescription":"When true, indexing of new posts occurs automatically. Search queries will use database search until \\"Enable Elasticsearch for search queries\\" is enabled. {documentationLink}","admin.elasticsearch.enableIndexingDescription.documentationLinkText":"Learn more about Elasticsearch in our documentation.","admin.elasticsearch.enableIndexingTitle":"Enable Elasticsearch Indexing:","admin.elasticsearch.enableSearchingDescription":"Requires a successful connection to the Elasticsearch server. When true, Elasticsearch will be used for all search queries using the latest index. Search results may be incomplete until a bulk index of the existing post database is finished. When false, database search is used.","admin.elasticsearch.enableSearchingTitle":"Enable Elasticsearch for search queries:","admin.elasticsearch.password":"E.g.: \\"yourpassword\\"","admin.elasticsearch.passwordDescription":"(Optional) The password to authenticate to the Elasticsearch server.","admin.elasticsearch.passwordTitle":"Server Password:","admin.elasticsearch.percentComplete":"{percent}% Complete","admin.elasticsearch.purgeIndexesButton":"Purge Indexes","admin.elasticsearch.purgeIndexesButton.error":"Failed to purge indexes: {error}","admin.elasticsearch.purgeIndexesButton.label":"Purge Indexes:","admin.elasticsearch.purgeIndexesButton.success":"Indexes purged successfully.","admin.elasticsearch.purgeIndexesHelpText":"Purging will entirely remove the indexes on the Elasticsearch server. Search results may be incomplete until a bulk index of the existing database is rebuilt.","admin.elasticsearch.skipTLSVerificationDescription":"When true, Mattermost will not require the Elasticsearch certificate to be signed by a trusted Certificate Authority.","admin.elasticsearch.skipTLSVerificationTitle":"Skip TLS Verification:","admin.elasticsearch.sniffDescription":"When true, sniffing finds and connects to all data nodes in your cluster automatically.","admin.elasticsearch.sniffTitle":"Enable Cluster Sniffing:","admin.elasticsearch.testConfigSuccess":"Test successful. Configuration saved.","admin.elasticsearch.testHelpText":"Tests if the Mattermost server can connect to the Elasticsearch server specified. Testing the connection only saves the configuration if the test is successful. See log file for more detailed error messages.","admin.elasticsearch.title":"Elasticsearch","admin.elasticsearch.usernameDescription":"(Optional) The username to authenticate to the Elasticsearch server.","admin.elasticsearch.usernameExample":"E.g.: \\"elastic\\"","admin.elasticsearch.usernameTitle":"Server Username:","admin.email.agreeHPNS":" I understand and accept the Mattermost Hosted Push Notification Service [Terms of Service](!https://about.mattermost.com/hpns-terms/) and [Privacy Policy](!https://about.mattermost.com/hpns-privacy/).","admin.email.allowEmailSignInDescription":"When true, Mattermost allows users to sign in using their email and password.","admin.email.allowEmailSignInTitle":"Enable sign-in with email: ","admin.email.allowSignupDescription":"When true, Mattermost allows account creation using email and password. This value should be false only when you want to limit sign up to a single sign-on service like AD/LDAP, SAML or GitLab.","admin.email.allowSignupTitle":"Enable account creation with email: ","admin.email.allowUsernameSignInDescription":"When true, users with email login can sign in using their username and password. This setting does not affect AD/LDAP login.","admin.email.allowUsernameSignInTitle":"Enable sign-in with username: ","admin.email.easHelp":"Learn more about compiling and deploying your own mobile apps from an [Enterprise App Store](!https://about.mattermost.com/default-enterprise-app-store).","admin.email.mhpns":"Use HPNS connection with uptime SLA to send notifications to iOS and Android apps","admin.email.mhpnsHelp":"Download [Mattermost iOS app](!https://about.mattermost.com/mattermost-ios-app/) from iTunes. Download [Mattermost Android app](!https://about.mattermost.com/mattermost-android-app/) from Google Play. Learn more about [HPNS](!https://about.mattermost.com/default-hpns/).","admin.email.mtpns":"Use TPNS connection to send notifications to iOS and Android apps","admin.email.mtpnsHelp":"Download [Mattermost iOS app](!https://about.mattermost.com/mattermost-ios-app/) from iTunes. Download [Mattermost Android app](!https://about.mattermost.com/mattermost-android-app/) from Google Play. Learn more about [TPNS](!https://about.mattermost.com/default-tpns/).","admin.email.pushOff":"Do not send push notifications","admin.email.pushOffHelp":"Please see [documentation on push notifications](!https://about.mattermost.com/default-mobile-push-notifications/) to learn more about setup options.","admin.email.pushServerEx":"E.g.: \\"https://push-test.mattermost.com\\"","admin.email.pushServerTitle":"Push Notification Server:","admin.email.pushTitle":"Enable Push Notifications: ","admin.email.requireVerificationDescription":"Typically set to true in production. When true, Mattermost requires email verification after account creation prior to allowing login. Developers may set this field to false to skip sending verification emails for faster development.","admin.email.requireVerificationTitle":"Require Email Verification: ","admin.email.selfPush":"Manually enter Push Notification Service location","admin.environment.fileStorage":"File Storage","admin.environment.imageProxy":"Image Proxy","admin.environment.notifications":"Notifications","admin.environment.notifications.contents.full":"Send full message contents","admin.environment.notifications.contents.generic":"Send generic description with only sender name","admin.environment.notifications.contents.help":"**Send full message contents** - Sender name and channel are included in email notifications. Typically used for compliance reasons if Mattermost contains confidential information and policy dictates it cannot be stored in email.\\n  **Send generic description with only sender name** - Only the name of the person who sent the message, with no information about channel name or message contents are included in email notifications. Typically used for compliance reasons if Mattermost contains confidential information and policy dictates it cannot be stored in email.","admin.environment.notifications.contents.label":"Email Notification Contents:","admin.environment.notifications.enable.help":"Typically set to true in production. When true, Mattermost attempts to send email notifications. When false, email invitations and user account setting change emails are still sent as long as the SMTP server is configured. Developers may set this field to false to skip email setup for faster development.","admin.environment.notifications.enable.label":"Enable Email Notifications:","admin.environment.notifications.enableConfirmNotificationsToChannel.help":"When true, users will be prompted to confirm when posting @channel, @all and group mentions in channels with over five members. When false, no confirmation is required.","admin.environment.notifications.enableConfirmNotificationsToChannel.label":"Show @channel and @all and group mention confirmation dialog:","admin.environment.notifications.enableEmailBatching.help":"When true, users will have email notifications for multiple direct messages and mentions combined into a single email. Batching will occur at a default interval of 15 minutes, configurable in Account Settings > Notifications.","admin.environment.notifications.enableEmailBatching.label":"Enable Email Batching:","admin.environment.notifications.enablePreviewModeBanner.help":"When true, the Preview Mode banner is displayed so users are aware that email notifications are disabled. When false, the Preview Mode banner is not displayed to users.","admin.environment.notifications.enablePreviewModeBanner.label":"Enable Preview Mode Banner:","admin.environment.notifications.feedbackEmail.help":"Email address displayed on email account used when sending notification emails from Mattermost.","admin.environment.notifications.feedbackEmail.label":"Notification From Address:","admin.environment.notifications.feedbackEmail.placeholder":"Ex: \\"mattermost@yourcompany.com\\", \\"admin@yourcompany.com\\"","admin.environment.notifications.feedbackOrganization.help":"Organization name and address displayed on email notifications from Mattermost, such as \\"© ABC Corporation, 565 Knight Way, Palo Alto, California, 94305, USA\\". If the field is left empty, the organization name and address will not be displayed.","admin.environment.notifications.feedbackOrganization.label":"Notification Footer Mailing Address:","admin.environment.notifications.feedbackOrganization.placeholder":"Ex: \\"© ABC Corporation, 565 Knight Way, Palo Alto, California, 94305, USA\\"","admin.environment.notifications.notificationDisplay.help":"Display name on email account used when sending notification emails from Mattermost.","admin.environment.notifications.notificationDisplay.label":"Notification Display Name:","admin.environment.notifications.notificationDisplay.placeholder":"Ex: \\"Mattermost Notification\\", \\"System\\", \\"No-Reply\\"","admin.environment.notifications.pushContents.full":"Full message content sent in the notification payload","admin.environment.notifications.pushContents.generic":"Generic description with sender and channel names","admin.environment.notifications.pushContents.genericNoChannel":"Generic description with only sender name","admin.environment.notifications.pushContents.help":"**Generic description with only sender name** - Includes only the name of the person who sent the message in push notifications, with no information about channel name or message contents.\\n **Generic description with sender and channel names** - Includes the name of the person who sent the message and the channel it was sent in, but not the message contents.\\n **Full message content sent in the notification payload** - Includes the message contents in the push notification payload that is relayed through Apple\'s Push Notification Service (APNS) or Google\'s Firebase Cloud Messaging (FCM). It is **highly recommended** this option only be used with an \\"https\\" protocol to encrypt the connection and protect confidential information sent in messages.","admin.environment.notifications.pushContents.idLoaded":"Full message content fetched from the server on receipt","admin.environment.notifications.pushContents.label":"Push Notification Contents:","admin.environment.notifications.pushContents.withIdLoaded.help":"**Generic description with only sender name** - Includes only the name of the person who sent the message in push notifications, with no information about channel name or message contents.\\n **Generic description with sender and channel names** - Includes the name of the person who sent the message and the channel it was sent in, but not the message contents.\\n **Full message content sent in the notification payload** - Includes the message contents in the push notification payload that is relayed through Apple\'s Push Notification Service (APNS) or Google\'s Firebase Cloud Messaging (FCM). It is **highly recommended** this option only be used with an \\"https\\" protocol to encrypt the connection and protect confidential information sent in messages.\\n**Full message content fetched from the server on receipt** - The notification payload relayed through APNS or FCM contains no message content, instead it contains a unique message ID used to fetch message content from the server when a push notification is received by a device. If the server cannot be reached, a generic notification will be displayed.","admin.environment.notifications.replyToAddress.help":"Email address used in the Reply-To header when sending notification emails from Mattermost.","admin.environment.notifications.replyToAddress.label":"Notification Reply-To Address:","admin.environment.notifications.replyToAddress.placeholder":"Ex: \\"mattermost@yourcompany.com\\", \\"admin@yourcompany.com\\"","admin.environment.pushNotificationServer":"Push Notification Server","admin.environment.smtp":"SMTP","admin.environment.smtp.connectionSecurity.option.none":"None","admin.environment.smtp.connectionSecurity.option.starttls":"STARTTLS","admin.environment.smtp.connectionSecurity.option.tls":"TLS (Recommended)","admin.environment.smtp.connectionSecurity.title":"Connection Security:","admin.environment.smtp.connectionSmtpTest":"Test Connection","admin.environment.smtp.enableSecurityFixAlert.description":"When true, System Administrators are notified by email if a relevant security fix alert has been announced in the last 12 hours. Requires email to be enabled.","admin.environment.smtp.enableSecurityFixAlert.title":"Enable Security Alerts:","admin.environment.smtp.skipServerCertificateVerification.description":"When true, Mattermost will not verify the email server certificate.","admin.environment.smtp.skipServerCertificateVerification.title":"Skip Server Certificate Verification:","admin.environment.smtp.smtpAuth.description":"When true, SMTP Authentication is enabled.","admin.environment.smtp.smtpAuth.title":"Enable SMTP Authentication:","admin.environment.smtp.smtpFail":"Connection unsuccessful: {error}","admin.environment.smtp.smtpPassword.description":"Obtain this credential from administrator setting up your email server.","admin.environment.smtp.smtpPassword.placeholder":"Ex: \\"yourpassword\\", \\"jcuS8PuvcpGhpgHhlcpT1Mx42pnqMxQY\\"","admin.environment.smtp.smtpPassword.title":"SMTP Server Password:","admin.environment.smtp.smtpPort.description":"Port of SMTP email server.","admin.environment.smtp.smtpPort.placeholder":"Ex: \\"25\\", \\"465\\", \\"587\\"","admin.environment.smtp.smtpPort.title":"SMTP Server Port:","admin.environment.smtp.smtpServer.description":"Location of SMTP email server.","admin.environment.smtp.smtpServer.placeholder":"Ex: \\"smtp.yourcompany.com\\", \\"email-smtp.us-east-1.amazonaws.com\\"","admin.environment.smtp.smtpServer.title":"SMTP Server:","admin.environment.smtp.smtpSuccess":"No errors were reported while sending an email. Please check your inbox to make sure.","admin.environment.smtp.smtpUsername.description":"Obtain this credential from administrator setting up your email server.","admin.environment.smtp.smtpUsername.placeholder":"Ex: \\"admin@yourcompany.com\\", \\"AKIADTOVBGERKLCBV\\"","admin.environment.smtp.smtpUsername.title":"SMTP Server Username:","admin.environment.smtp.testing":"Testing...","admin.environment.webServer":"Web Server","admin.experimental.allowCustomThemes.desc":"Enables the **Display > Theme > Custom Theme** section in Account Settings.","admin.experimental.allowCustomThemes.title":"Allow Custom Themes:","admin.experimental.clientSideCertCheck.desc":"When **primary**, after the client side certificate is verified, user’s email is retrieved from the certificate and is used to log in without a password. When **secondary**, after the client side certificate is verified, user’s email is retrieved from the certificate and matched against the one supplied by the user. If they match, the user logs in with regular email/password credentials.","admin.experimental.clientSideCertCheck.title":"Client-Side Certification Login Method:","admin.experimental.clientSideCertEnable.desc":"Enables client-side certification for your Mattermost server. See [documentation](!https://docs.mattermost.com/deployment/certificate-based-authentication.html) to learn more.","admin.experimental.clientSideCertEnable.title":"Enable Client-Side Certification:","admin.experimental.closeUnusedDirectMessages.desc":"When true, direct message conversations with no activity for 7 days will be hidden from the sidebar. When false, conversations remain in the sidebar until they are manually closed.","admin.experimental.closeUnusedDirectMessages.title":"Autoclose Direct Messages in Sidebar:","admin.experimental.defaultTheme.desc":"Set a default theme that applies to all new users on the system.","admin.experimental.defaultTheme.title":"Default Theme:","admin.experimental.emailBatchingBufferSize.desc":"Specify the maximum number of notifications batched into a single email.","admin.experimental.emailBatchingBufferSize.example":"E.g.: \\"256\\"","admin.experimental.emailBatchingBufferSize.title":"Email Batching Buffer Size:","admin.experimental.emailBatchingInterval.desc":"Specify the maximum frequency, in seconds, which the batching job checks for new notifications. Longer batching intervals will increase performance.","admin.experimental.emailBatchingInterval.example":"E.g.: \\"30\\"","admin.experimental.emailBatchingInterval.title":"Email Batching Interval:","admin.experimental.emailSettingsLoginButtonBorderColor.desc":"Specify the color of the email login button border for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.emailSettingsLoginButtonBorderColor.title":"Email Login Button Border Color:","admin.experimental.emailSettingsLoginButtonColor.desc":"Specify the color of the email login button for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.emailSettingsLoginButtonColor.title":"Email Login Button Color:","admin.experimental.emailSettingsLoginButtonTextColor.desc":"Specify the color of the email login button text for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.emailSettingsLoginButtonTextColor.title":"Email Login Button Text Color:","admin.experimental.enableChannelViewedMessages.desc":"This setting determines whether `channel_viewed` WebSocket events are sent, which synchronize unread notifications across clients and devices. Disabling the setting in larger deployments may improve server performance.","admin.experimental.enableChannelViewedMessages.title":"Enable Channel Viewed WebSocket Messages:","admin.experimental.enablePreviewFeatures.desc":"When true, preview features can be enabled from **Account Settings > Advanced > Preview pre-release features**. When false, disables and hides preview features from **Account Settings > Advanced > Preview pre-release features**.","admin.experimental.enablePreviewFeatures.title":"Enable Preview Features:","admin.experimental.enableThemeSelection.desc":"Enables the **Display > Theme** tab in Account Settings so users can select their theme.","admin.experimental.enableThemeSelection.title":"Enable Theme Selection:","admin.experimental.enableTutorial.desc":"When true, users are prompted with a tutorial when they open Mattermost for the first time after account creation. When false, the tutorial is disabled, and users are placed in Town Square when they open Mattermost for the first time after account creation.","admin.experimental.enableTutorial.title":"Enable Tutorial:","admin.experimental.enableUserDeactivation.desc":"When true, users may deactivate their own account from **Account Settings > Advanced**. If a user deactivates their own account, they will get an email notification confirming they were deactivated. When false, users may not deactivate their own account.","admin.experimental.enableUserDeactivation.title":"Enable Account Deactivation:","admin.experimental.enableUserTypingMessages.desc":"This setting determines whether \\"user is typing...\\" messages are displayed below the message box. Disabling the setting in larger deployments may improve server performance.","admin.experimental.enableUserTypingMessages.title":"Enable User Typing Messages:","admin.experimental.enableXToLeaveChannelsFromLHS.desc":"When true, users can leave Public and Private Channels by clicking the “x” beside the channel name. When false, users must use the **Leave Channel** option from the channel menu to leave channels.","admin.experimental.enableXToLeaveChannelsFromLHS.title":"Enable X to Leave Channels from Left-Hand Sidebar:","admin.experimental.experimentalChannelOrganization.desc":"Enables channel sidebar organization options in **Account Settings > Sidebar > Channel grouping and sorting** including options for grouping unread channels, sorting channels by most recent post and combining all channel types into a single list. These settings are not available if **Account Settings > Sidebar > Experimental Sidebar Features** are enabled.","admin.experimental.experimentalChannelOrganization.title":"Channel Grouping and Sorting","admin.experimental.experimentalChannelSidebarOrganization.always_on":"Always On","admin.experimental.experimentalChannelSidebarOrganization.default_off":"Enabled (Default Off)","admin.experimental.experimentalChannelSidebarOrganization.default_on":"Enabled (Default On)","admin.experimental.experimentalChannelSidebarOrganization.desc":"When enabled, users can access experimental channel sidebar features, including collapsible sections and unreads filtering. If default on, this enabled the new sidebar features by default for all users on this server. Users can disable the features in **Account Settings > Sidebar > Experimental Sidebar Features**. If default off, users must enable the experimental sidebar features in Account Settings. [Learn more](!https://about.mattermost.com/default-sidebar/) or [give us feedback](!https://about.mattermost.com/default-sidebar-survey/)","admin.experimental.experimentalChannelSidebarOrganization.disabled":"Disabled","admin.experimental.experimentalChannelSidebarOrganization.title":"Experimental Sidebar Features","admin.experimental.experimentalDataPrefetch.desc":"When true, messages in unread channels are preloaded to reduce channel loading time. When false, messages are not loaded from the server until users switch channels.","admin.experimental.experimentalDataPrefetch.title":"Preload messages in unread channels","admin.experimental.experimentalEnableAuthenticationTransfer.desc":"When true, users can change their sign-in method to any that is enabled on the server, either via Account Settings or the APIs. When false, Users cannot change their sign-in method, regardless of which authentication options are enabled.","admin.experimental.experimentalEnableAuthenticationTransfer.title":"Allow Authentication Transfer:","admin.experimental.experimentalEnableAutomaticReplies.desc":"When true, users can enable Automatic Replies in **Account Settings > Notifications**. Users set a custom message that will be automatically sent in response to Direct Messages. When false, disables the Automatic Direct Message Replies feature and hides it from Account Settings.","admin.experimental.experimentalEnableAutomaticReplies.title":"Enable Automatic Replies:","admin.experimental.experimentalEnableDefaultChannelLeaveJoinMessages.desc":"This setting determines whether team leave/join system messages are posted in the default town-square channel.","admin.experimental.experimentalEnableDefaultChannelLeaveJoinMessages.title":"Enable Default Channel Leave/Join System Messages:","admin.experimental.experimentalEnableHardenedMode.desc":"Enables a hardened mode for Mattermost that makes user experience trade-offs in the interest of security. See [documentation](!https://docs.mattermost.com/administration/config-settings.html#enable-hardened-mode-experimental) to learn more.","admin.experimental.experimentalEnableHardenedMode.title":"Enable Hardened Mode:","admin.experimental.experimentalFeatures":"Experimental Features","admin.experimental.experimentalHideTownSquareinLHS.desc":"When true, hides Town Square in the left-hand sidebar if there are no unread messages in the channel. When false, Town Square is always visible in the left-hand sidebar even if all messages have been read.","admin.experimental.experimentalHideTownSquareinLHS.title":"Town Square is Hidden in Left-Hand Sidebar:","admin.experimental.experimentalPrimaryTeam.desc":"The primary team of which users on the server are members. When a primary team is set, the options to join other teams or leave the primary team are disabled.","admin.experimental.experimentalPrimaryTeam.example":"E.g.: \\"teamname\\"","admin.experimental.experimentalPrimaryTeam.title":"Primary Team:","admin.experimental.experimentalTimezone.desc":"Select the timezone used for timestamps in the user interface and email notifications. When true, the Timezone setting is visible in the Account Settings and a time zone is automatically assigned in the next active session. When false, the Timezone setting is hidden in the Account Settings.","admin.experimental.experimentalTimezone.title":"Timezone:","admin.experimental.experimentalTownSquareIsReadOnly.desc":"When true, only System Admins can post in Town Square. Other members are not able to post, reply, upload files, emoji react or pin messages to Town Square, nor are they able to change the channel name, header or purpose. When false, anyone can post in Town Square.","admin.experimental.experimentalTownSquareIsReadOnly.title":"Town Square is Read-Only:","admin.experimental.experimentalUseNewSAMLLibrary.desc":"Enable an updated SAML Library, which does not require the XML Security Library (xmlsec1) to be installed. Warning: Not all providers have been tested. If you experience issues, please contact support: [https://about.mattermost.com/support/](!https://about.mattermost.com/support/). Changing this setting requires a server restart before taking effect.","admin.experimental.experimentalUseNewSAMLLibrary.title":"Use Improved SAML Library (Beta):","admin.experimental.ldapSettingsLoginButtonBorderColor.desc":"Specify the color of the AD/LDAP login button border for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.ldapSettingsLoginButtonBorderColor.title":"AD/LDAP Login Button Border Color:","admin.experimental.ldapSettingsLoginButtonColor.desc":"Specify the color of the AD/LDAP login button for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.ldapSettingsLoginButtonColor.title":"AD/LDAP Login Button Color:","admin.experimental.ldapSettingsLoginButtonTextColor.desc":"Specify the color of the AD/LDAP login button text for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.ldapSettingsLoginButtonTextColor.title":"AD/LDAP Login Button Text Color:","admin.experimental.linkMetadataTimeoutMilliseconds.desc":"The number of milliseconds to wait for metadata from a third-party link. Used with Post Metadata.","admin.experimental.linkMetadataTimeoutMilliseconds.example":"E.g.: \\"5000\\"","admin.experimental.linkMetadataTimeoutMilliseconds.title":"Link Metadata Timeout:","admin.experimental.samlSettingsLoginButtonBorderColor.desc":"Specify the color of the SAML login button border for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.samlSettingsLoginButtonBorderColor.title":"SAML login Button Border Color:","admin.experimental.samlSettingsLoginButtonColor.desc":"Specify the color of the SAML login button for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.samlSettingsLoginButtonColor.title":"SAML Login Button Color:","admin.experimental.samlSettingsLoginButtonTextColor.desc":"Specify the color of the SAML login button text for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.samlSettingsLoginButtonTextColor.title":"SAML login Button Text Color:","admin.experimental.timeBetweenUserTypingUpdatesMilliseconds.desc":"The number of milliseconds to wait between emitting user typing websocket events.","admin.experimental.timeBetweenUserTypingUpdatesMilliseconds.example":"E.g.: \\"5000\\"","admin.experimental.timeBetweenUserTypingUpdatesMilliseconds.title":"User Typing Timeout:","admin.experimental.useChannelInEmailNotifications.desc":"When true, channel and team name appears in email notification subject lines. Useful for servers using only one team. When false, only team name appears in email notification subject line.","admin.experimental.useChannelInEmailNotifications.title":"Use Channel Name in Email Notifications:","admin.experimental.userStatusAwayTimeout.desc":"This setting defines the number of seconds after which the user’s status indicator changes to \\"Away\\", when they are away from Mattermost.","admin.experimental.userStatusAwayTimeout.example":"E.g.: \\"300\\"","admin.experimental.userStatusAwayTimeout.title":"User Status Away Timeout:","admin.false":"false","admin.feature_flags.flag":"Flag","admin.feature_flags.flag_value":"Value","admin.feature_flags.introBanner":"Feature flag values displayed here show the status of features enabled on this server. The values here are only for use debugging by the Mattermost support team.","admin.feature_flags.title":"Feature Flags","admin.field_names.allowBannerDismissal":"Allow banner dismissal","admin.field_names.bannerColor":"Banner color","admin.field_names.bannerText":"Banner text","admin.field_names.bannerTextColor":"Banner text color","admin.field_names.enableBanner":"Enable Announcement banner","admin.field_names.enableCommands":"Enable Custom Slash Commands","admin.field_names.enableConfirmNotificationsToChannel":"Show @channel and @all confirmation dialog","admin.field_names.enableIncomingWebhooks":"Enable Incoming Webhooks","admin.field_names.enableOAuthServiceProvider":"Enable OAuth 2.0 Service Provider","admin.field_names.enableOutgoingWebhooks":"Enable Outgoing Webhooks","admin.field_names.enablePostIconOverride":"Enable integrations to override profile picture icons","admin.field_names.enablePostUsernameOverride":"Enable integrations to override usernames","admin.field_names.enableUserAccessTokens":"Enable Personal Access Tokens","admin.field_names.enableUserCreation":"Enable Account Creation","admin.field_names.maxChannelsPerTeam":"Max Channels Per Team","admin.field_names.maxNotificationsPerChannel":"Max Notifications Per Channel","admin.field_names.maxUsersPerTeam":"Max Users Per Team","admin.field_names.postEditTimeLimit":"Edit post time limit","admin.field_names.restrictCreationToDomains":"Restrict account creation to specified email domains","admin.field_names.restrictDirectMessage":"Enable users to open Direct Message channels with","admin.field_names.teammateNameDisplay":"Teammate Name Display","admin.file_upload.chooseFile":"Choose File","admin.file_upload.noFile":"No file uploaded","admin.file_upload.uploadFile":"Upload","admin.file.enableFileAttachments":"Allow File Sharing:","admin.file.enableFileAttachmentsDesc":"When false, disables file sharing on the server. All file and image uploads on messages are forbidden across clients and devices, including mobile.","admin.file.enableMobileDownloadDesc":"When false, disables file downloads on mobile apps. Users can still download files from a mobile web browser.","admin.file.enableMobileDownloadTitle":"Allow File Downloads on Mobile:","admin.file.enableMobileUploadDesc":"When false, disables file uploads on mobile apps. If Allow File Sharing is set to true, users can still upload files from a mobile web browser.","admin.file.enableMobileUploadTitle":"Allow File Uploads on Mobile:","admin.filter.all_teams":"All Teams","admin.filter.apply":"Apply","admin.filter.count_more":"+{count, number} more","admin.filter.filters":"Filters","admin.filter.no_results":"No items match","admin.filter.reset":"Reset filters","admin.filter.reset_teams":"Reset to all teams","admin.filter.showing_all_teams":"Showing all teams","admin.filter.title":"Filter by","admin.general.localization.availableLocalesDescription":"Set which languages are available for users in Account Settings (leave this field blank to have all supported languages available). If you\'re manually adding new languages, the **Default Client Language** must be added before saving this setting.\\n \\nWould like to help with translations? Join the [Mattermost Translation Server](!http://translate.mattermost.com/) to contribute.","admin.general.localization.availableLocalesNoResults":"No results found","admin.general.localization.availableLocalesNotPresent":"The default client language must be included in the available list","admin.general.localization.availableLocalesTitle":"Available Languages:","admin.general.localization.clientLocaleDescription":"Default language for newly created users and pages where the user hasn\'t logged in.","admin.general.localization.clientLocaleTitle":"Default Client Language:","admin.general.localization.serverLocaleDescription":"Default language for system messages. Changing this will require a server restart before taking effect.","admin.general.localization.serverLocaleTitle":"Default Server Language:","admin.general.log":"Logging","admin.gitlab.authTitle":"Auth Endpoint:","admin.gitlab.clientIdDescription":"Obtain this value via the instructions above for logging into GitLab.","admin.gitlab.clientIdExample":"E.g.: \\"jcuS8PuvcpGhpgHhlcpT1Mx42pnqMxQY\\"","admin.gitlab.clientIdTitle":"Application ID:","admin.gitlab.clientSecretDescription":"Obtain this value via the instructions above for logging into GitLab.","admin.gitlab.clientSecretExample":"E.g.: \\"jcuS8PuvcpGhpgHhlcpT1Mx42pnqMxQY\\"","admin.gitlab.clientSecretTitle":"Application Secret Key:","admin.gitlab.enableDescription":"When true, Mattermost allows team creation and account signup using GitLab OAuth.\\n \\n1. Log in to your GitLab account and go to Profile Settings -> Applications.\\n2. Enter Redirect URIs \\"\'<your-mattermost-url>\'/login/gitlab/complete\\" (example: http://localhost:8065/login/gitlab/complete) and \\"\'<your-mattermost-url>\'/signup/gitlab/complete\\".\\n3. Then use \\"Application Secret Key\\" and \\"Application ID\\" fields from GitLab to complete the options below.\\n4. Complete the Endpoint URLs below.","admin.gitlab.EnableMarkdownDesc":"1. Log in to your GitLab account and go to Profile Settings -> Applications.\\n2. Enter Redirect URIs \\"\'<your-mattermost-url>\'/login/gitlab/complete\\" (example: http://localhost:8065/login/gitlab/complete) and \\"\'<your-mattermost-url>\'/signup/gitlab/complete\\".\\n3. Then use \\"Application Secret Key\\" and \\"Application ID\\" fields from GitLab to complete the options below.\\n4. Complete the Endpoint URLs below.","admin.gitlab.enableTitle":"Enable authentication with GitLab: ","admin.gitlab.siteUrl":"GitLab Site URL: ","admin.gitlab.siteUrlDescription":"Enter the URL of your GitLab instance, e.g. https://example.com:3000. If your GitLab instance is not set up with SSL, start the URL with http:// instead of https://.","admin.gitlab.siteUrlExample":"E.g.: https://","admin.gitlab.tokenTitle":"Token Endpoint:","admin.gitlab.userTitle":"User API Endpoint:","admin.google.authTitle":"Auth Endpoint:","admin.google.clientIdDescription":"The Client ID you received when registering your application with Google.","admin.google.clientIdExample":"E.g.: \\"7602141235235-url0fhs1mayfasbmop5qlfns8dh4.apps.googleusercontent.com\\"","admin.google.clientIdTitle":"Client ID:","admin.google.clientSecretDescription":"The Client Secret you received when registering your application with Google.","admin.google.clientSecretExample":"E.g.: \\"H8sz0Az-dDs2p15-7QzD231\\"","admin.google.clientSecretTitle":"Client Secret:","admin.google.EnableMarkdownDesc":"1. [Log in](!https://accounts.google.com/login) to your Google account.\\n2. Go to [https://console.developers.google.com](!https://console.developers.google.com), click **Credentials** in the left hand sidebar and enter \\"Mattermost - your-company-name\\" as the **Project Name**, then click **Create**.\\n3. Click the **OAuth consent screen** header and enter \\"Mattermost\\" as the **Product name shown to users**, then click **Save**.\\n4. Under the **Credentials** header, click **Create credentials**, choose **OAuth client ID** and select **Web Application**.\\n5. Under **Restrictions** and **Authorized redirect URIs** enter **your-mattermost-url/signup/google/complete** (example: http://localhost:8065/signup/google/complete). Click **Create**.\\n6. Paste the **Client ID** and **Client Secret** to the fields below, then click **Save**.\\n7. Go to the [Google People API](!https://console.developers.google.com/apis/library/people.googleapis.com) and click *Enable*.","admin.google.tokenTitle":"Token Endpoint:","admin.google.userTitle":"User API Endpoint:","admin.group_settings.filters.isConfigured":"Is Configured","admin.group_settings.filters.isLinked":"Is Linked","admin.group_settings.filters.isUnconfigured":"Is Not Configured","admin.group_settings.filters.isUnlinked":"Is Not Linked","admin.group_settings.group_detail.duplicateMentionNameError":"Group mention is already taken.","admin.group_settings.group_detail.group_configuration":"Group Configuration","admin.group_settings.group_detail.groupProfileDescription":"The name for this group.","admin.group_settings.group_detail.groupProfileTitle":"Group Profile","admin.group_settings.group_detail.groupTeamsAndChannelsDescription":"Set default teams and channels for group members. Teams added will include default channels, town-square, and off-topic. Adding a channel without setting the team will add the implied team to the listing below.","admin.group_settings.group_detail.groupTeamsAndChannelsTitle":"Team and Channel Membership","admin.group_settings.group_detail.groupUsersDescription":"Listing of users in Mattermost associated with this group.","admin.group_settings.group_detail.groupUsersTitle":"Users","admin.group_settings.group_detail.introBanner":"Configure default teams and channels and view users belonging to this group.","admin.group_settings.group_detail.invalid_length":"Name must be 1 to 64 lowercase alphanumeric characters.","admin.group_settings.group_detail.invalidOrReservedMentionNameError":"Only letters (a-z), numbers (0-9), periods, dashes and underscores are allowed.","admin.group_settings.group_details.add_channel":"Add Channel","admin.group_settings.group_details.add_team":"Add Team","admin.group_settings.group_details.add_team_or_channel":"Add Team or Channel","admin.group_settings.group_details.group_mention.name":"Group Mention:","admin.group_settings.group_details.group_profile.name":"Name:","admin.group_settings.group_details.group_teams_and_channels_row.privateChannel":"Channel (Private)","admin.group_settings.group_details.group_teams_and_channels_row.privateTeam":"Team (Private)","admin.group_settings.group_details.group_teams_and_channels_row.publicChannel":"Channel","admin.group_settings.group_details.group_teams_and_channels_row.publicTeam":"Team","admin.group_settings.group_details.group_teams_and_channels_row.remove":"Remove","admin.group_settings.group_details.group_teams_and_channels_row.remove.confirm_body":"Removing this membership will prevent future users in this group from being added to the {name} {displayType}.","admin.group_settings.group_details.group_teams_and_channels_row.remove.confirm_button":"Yes, Remove","admin.group_settings.group_details.group_teams_and_channels_row.remove.confirm_header":"Remove Membership from the {name} {displayType}?","admin.group_settings.group_details.group_teams_and_channels.no-teams-or-channels-speicified":"No teams or channels specified yet","admin.group_settings.group_details.group_users.email":"Email:","admin.group_settings.group_details.group_users.no-users-found":"No users found","admin.group_settings.group_details.menuAriaLabel":"Add Team or Channel Menu","admin.group_settings.group_profile.group_teams_and_channels.assignedRoles":"Assigned Roles","admin.group_settings.group_profile.group_teams_and_channels.name":"Name","admin.group_settings.group_profile.group_teams_and_channels.type":"Type","admin.group_settings.group_profile.group_users.ldapConnector":"AD/LDAP Connector is configured to sync and manage this group and its users. [Click here to view]({siteURL}/admin_console/authentication/ldap)","admin.group_settings.group_row.configure":"Configure","admin.group_settings.group_row.edit":"Edit","admin.group_settings.group_row.link_failed":"Link failed","admin.group_settings.group_row.linked":"Linked","admin.group_settings.group_row.linking":"Linking","admin.group_settings.group_row.not_linked":"Not Linked","admin.group_settings.group_row.unlink_failed":"Unlink failed","admin.group_settings.group_row.unlinking":"Unlinking","admin.group_settings.groups_list.link_selected":"Link Selected Groups","admin.group_settings.groups_list.mappingHeader":"Mattermost Linking","admin.group_settings.groups_list.nameHeader":"Name","admin.group_settings.groups_list.no_groups_found":"No groups found","admin.group_settings.groups_list.paginatorCount":"{startCount, number} - {endCount, number} of {total, number}","admin.group_settings.groups_list.unlink_selected":"Unlink Selected Groups","admin.group_settings.groupsPageTitle":"Groups","admin.group_settings.introBanner":"Groups are a way to organize users and apply actions to all users within that group.\\nFor more information on Groups, please see [documentation](!https://www.mattermost.com/default-ad-ldap-groups).","admin.group_settings.ldapGroupsDescription":"Connect AD/LDAP and create groups in Mattermost. To get started, configure group attributes on the [AD/LDAP]({siteURL}/admin_console/authentication/ldap) configuration page.","admin.group_settings.ldapGroupsTitle":"AD/LDAP Groups","admin.group_settings.need_groupname":"You must specify a group mention.","admin.group_teams_and_channels_row.channelAdmin":"Channel Admin","admin.group_teams_and_channels_row.member":"Member","admin.group_teams_and_channels_row.teamAdmin":"Team Admin","admin.guest_access.disableConfirmButton":"Save and Disable Guest Access","admin.guest_access.disableConfirmMessage":"Disabling guest access will revoke all current Guest Account sessions. Guests will no longer be able to login and new guests cannot be invited into Mattermost. Guest users will be marked as inactive in user lists. Enabling this feature will not reinstate previous guest accounts. Are you sure you wish to remove these users?","admin.guest_access.disableConfirmTitle":"Save and Disable Guest Access?","admin.guest_access.disableConfirmWarning":"All current guest account sessions will be revoked, and marked as inactive","admin.guest_access.enableDescription":"When true, external guest can be invited to channels within teams. Please see [Permissions Schemes](../user_management/permissions/system_scheme) for which roles can invite guests.","admin.guest_access.enableTitle":"Enable Guest Access: ","admin.guest_access.mfaDescription":"When true, [multi-factor authentication](!https://docs.mattermost.com/deployment/auth.html) for guests is required for login. New guest users will be required to configure MFA on signup. Logged in guest users without MFA configured are redirected to the MFA setup page until configuration is complete.\\n \\nIf your system has guest users with login methods other than AD/LDAP and email, MFA must be enforced with the authentication provider outside of Mattermost.","admin.guest_access.mfaDescriptionMFANotEnabled":"[Multi-factor authentication](./mfa) is currently not enabled.","admin.guest_access.mfaDescriptionMFANotEnforced":"[Multi-factor authentication](./mfa) is currently not enforced.","admin.guest_access.mfaTitle":"Enforce Multi-factor Authentication: ","admin.guest_access.whitelistedDomainsDescription":"(Optional) Guest accounts can be created at the system level from this list of allowed guest domains.","admin.guest_access.whitelistedDomainsExample":"E.g.: \\"company.com, othercorp.org\\"","admin.guest_access.whitelistedDomainsTitle":"Whitelisted Guest Domains:","admin.image.amazonS3BucketDescription":"Name you selected for your S3 bucket in AWS.","admin.image.amazonS3BucketExample":"E.g.: \\"mattermost-media\\"","admin.image.amazonS3BucketTitle":"Amazon S3 Bucket:","admin.image.amazonS3EndpointDescription":"Hostname of your S3 Compatible Storage provider. Defaults to \\"s3.amazonaws.com\\".","admin.image.amazonS3EndpointExample":"E.g.: \\"s3.amazonaws.com\\"","admin.image.amazonS3EndpointTitle":"Amazon S3 Endpoint:","admin.image.amazonS3IdDescription":"(Optional) Only required if you do not want to authenticate to S3 using an [IAM role](!https://about.mattermost.com/default-iam-role). Enter the Access Key ID provided by your Amazon EC2 administrator.","admin.image.amazonS3IdExample":"E.g.: \\"AKIADTOVBGERKLCBV\\"","admin.image.amazonS3IdTitle":"Amazon S3 Access Key ID:","admin.image.amazonS3PathPrefixDescription":"Prefix you selected for your S3 bucket in AWS.","admin.image.amazonS3PathPrefixExample":"E.g.: \\"subdir1\\" or you can leave it empty.","admin.image.amazonS3PathPrefixTitle":"Amazon S3 Path Prefix:","admin.image.amazonS3RegionDescription":"AWS region you selected when creating your S3 bucket. If no region is set, Mattermost attempts to get the appropriate region from AWS, or sets it to \'us-east-1\' if none found.","admin.image.amazonS3RegionExample":"E.g.: \\"us-east-1\\"","admin.image.amazonS3RegionTitle":"Amazon S3 Region:","admin.image.amazonS3SecretDescription":"(Optional) The secret access key associated with your Amazon S3 Access Key ID.","admin.image.amazonS3SecretExample":"E.g.: \\"jcuS8PuvcpGhpgHhlcpT1Mx42pnqMxQY\\"","admin.image.amazonS3SecretTitle":"Amazon S3 Secret Access Key:","admin.image.amazonS3SSEDescription":"When true, encrypt files in Amazon S3 using server-side encryption with Amazon S3-managed keys. See [documentation](!https://about.mattermost.com/default-server-side-encryption) to learn more.","admin.image.amazonS3SSETitle":"Enable Server-Side Encryption for Amazon S3:","admin.image.amazonS3SSLDescription":"When false, allow insecure connections to Amazon S3. Defaults to secure connections only.","admin.image.amazonS3SSLTitle":"Enable Secure Amazon S3 Connections:","admin.image.amazonS3TraceDescription":"(Development Mode) When true, log additional debugging information to the system logs.","admin.image.amazonS3TraceTitle":"Enable Amazon S3 Debugging:","admin.image.enableProxy":"Enable Image Proxy:","admin.image.enableProxyDescription":"When true, enables an image proxy for loading all Markdown images.","admin.image.localDescription":"Directory to which files and images are written. If blank, defaults to ./data/.","admin.image.localExample":"E.g.: \\"./data/\\"","admin.image.localTitle":"Local Storage Directory:","admin.image.maxFileSizeDescription":"Maximum file size for message attachments in megabytes. Caution: Verify server memory can support your setting choice. Large file sizes increase the risk of server crashes and failed uploads due to network interruptions.","admin.image.maxFileSizeExample":"50","admin.image.maxFileSizeTitle":"Maximum File Size:","admin.image.proxyOptions":"Remote Image Proxy Options:","admin.image.proxyOptionsDescription":"Additional options such as the URL signing key. Refer to your image proxy documentation to learn more about what options are supported.","admin.image.proxyType":"Image Proxy Type:","admin.image.proxyTypeDescription":"Configure an image proxy to load all Markdown images through a proxy. The image proxy prevents users from making insecure image requests, provides caching for increased performance, and automates image adjustments such as resizing. See [documentation](!https://about.mattermost.com/default-image-proxy-documentation) to learn more.","admin.image.proxyURL":"Remote Image Proxy URL:","admin.image.proxyURLDescription":"URL of your remote image proxy server.","admin.image.publicLinkDescription":"32-character salt added to signing of public image links. Randomly generated on install. Click \\"Regenerate\\" to create new salt.","admin.image.publicLinkTitle":"Public Link Salt:","admin.image.shareDescription":"Allow users to share public links to files and images.","admin.image.shareTitle":"Enable Public File Links: ","admin.image.storeAmazonS3":"Amazon S3","admin.image.storeDescription":"Storage system where files and image attachments are saved.\\n \\nSelecting \\"Amazon S3\\" enables fields to enter your Amazon credentials and bucket details.\\n \\nSelecting \\"Local File System\\" enables the field to specify a local file directory.","admin.image.storeLocal":"Local File System","admin.image.storeTitle":"File Storage System:","admin.integrations.botAccounts":"Bot Accounts","admin.integrations.botAccounts.title":"Bot Accounts","admin.integrations.cors":"CORS","admin.integrations.gif":"GIF (Beta)","admin.integrations.integrationManagement":"Integration Management","admin.integrations.integrationManagement.title":"Integration Management","admin.jobTable.cancelButton":"Cancel","admin.jobTable.downloadLink":"Download","admin.jobTable.headerExtraInfo":"Details","admin.jobTable.headerFiles":"Files","admin.jobTable.headerFinishAt":"Finish Time","admin.jobTable.headerRunTime":"Run Time","admin.jobTable.headerStatus":"Status","admin.jobTable.jobId":"Job ID: ","admin.jobTable.lastActivityAt":"Last Activity: ","admin.jobTable.runLengthMinutes":" minutes","admin.jobTable.runLengthSeconds":" seconds","admin.jobTable.statusCanceled":"Canceled","admin.jobTable.statusCanceling":"Canceling...","admin.jobTable.statusError":"Error","admin.jobTable.statusInProgress":"In Progress","admin.jobTable.statusPending":"Pending","admin.jobTable.statusSuccess":"Success","admin.jobTable.statusWarning":"Warning","admin.ldap_feature_discovery.call_to_action.primary":"Start trial","admin.ldap_feature_discovery.call_to_action.secondary":"Learn more","admin.ldap_feature_discovery.copy":"When you connect Mattermost with your organization\'s Active Directory/LDAP, users can log in without having to create new usernames and passwords.","admin.ldap_feature_discovery.title":"Integrate Active Directory/LDAP with Mattermost Enterprise E10","admin.ldap.adminFilterEx":"E.g.: \\"(objectClass=user)\\"","admin.ldap.adminFilterFilterDesc":"(Optional) Enter an AD/LDAP filter to use for designating System Admins. The users selected by the query will have access to your Mattermost server as System Admins. By default, System Admins have complete access to the Mattermost System Console.\\n \\nExisting members that are identified by this attribute will be promoted from member to System Admin upon next login. The next login is based upon Session lengths set in **System Console > Session Lengths**. It is highly recommend to manually demote users to members in **System Console > User Management** to ensure access is restricted immediately.\\n \\nNote: If this filter is removed/changed, System Admins that were promoted via this filter will be demoted to members and will not retain access to the System Console. When this filter is not in use, System Admins can be manually promoted/demoted in **System Console > User Management**.","admin.ldap.adminFilterTitle":"Admin Filter:","admin.ldap.baseDesc":"The Base DN is the Distinguished Name of the location where Mattermost should start its search for user and group objects in the AD/LDAP tree.","admin.ldap.baseEx":"E.g.: \\"ou=Unit Name,dc=corp,dc=example,dc=com\\"","admin.ldap.baseTitle":"BaseDN:","admin.ldap.bindPwdDesc":"Password of the user given in \\"Bind Username\\".","admin.ldap.bindPwdTitle":"Bind Password:","admin.ldap.bindUserDesc":"The username used to perform the AD/LDAP search. This should typically be an account created specifically for use with Mattermost. It should have access limited to read the portion of the AD/LDAP tree specified in the BaseDN field.","admin.ldap.bindUserTitle":"Bind Username:","admin.ldap.emailAttrDesc":"The attribute in the AD/LDAP server used to populate the email address field in Mattermost.","admin.ldap.emailAttrEx":"E.g.: \\"mail\\" or \\"userPrincipalName\\"","admin.ldap.emailAttrTitle":"Email Attribute:","admin.ldap.enableAdminFilterTitle":"Enable Admin Filter","admin.ldap.enableDesc":"When true, Mattermost allows login using AD/LDAP","admin.ldap.enableSyncDesc":"When true, Mattermost periodically synchronizes users from AD/LDAP. When false, user attributes are updated from AD/LDAP during user login only.","admin.ldap.enableSyncTitle":"Enable Synchronization with AD/LDAP:","admin.ldap.enableTitle":"Enable sign-in with AD/LDAP:","admin.ldap.firstnameAttrDesc":"(Optional) The attribute in the AD/LDAP server used to populate the first name of users in Mattermost. When set, users cannot edit their first name, since it is synchronized with the LDAP server. When left blank, users can set their first name in Account Settings.","admin.ldap.firstnameAttrEx":"E.g.: \\"givenName\\"","admin.ldap.firstnameAttrTitle":"First Name Attribute:","admin.ldap.groupDisplayNameAttributeDesc":"The attribute in the AD/LDAP server used to populate the group display names.","admin.ldap.groupDisplayNameAttributeEx":"E.g.: \\"cn\\"","admin.ldap.groupDisplayNameAttributeTitle":"Group Display Name Attribute:","admin.ldap.groupFilterEx":"E.g.: \\"(objectClass=group)\\"","admin.ldap.groupFilterFilterDesc":"(Optional) Enter an AD/LDAP filter to use when searching for group objects. Only the groups selected by the query will be available to Mattermost. From [User Management > Groups]({siteURL}/admin_console/user_management/groups), select which AD/LDAP groups should be linked and configured.","admin.ldap.groupFilterTitle":"Group Filter:","admin.ldap.groupIdAttributeDesc":"The attribute in the AD/LDAP server used as a unique identifier for Groups. This should be a AD/LDAP attribute with a value that does not change such as `entryUUID` for LDAP or `objectGUID` for Active Directory.","admin.ldap.groupIdAttributeEx":"E.g.: \\"objectGUID\\" or \\"entryUUID\\"","admin.ldap.groupIdAttributeTitle":"Group ID Attribute:","admin.ldap.guestFilterEx":"E.g.: \\"(objectClass=user)\\"","admin.ldap.guestFilterFilterDesc":"(Optional) Requires Guest Access to be enabled before being applied. Enter an AD/LDAP filter to use when searching for guest objects. Only the users selected by the query will be able to access Mattermost as Guests. Guests are prevented from accessing teams or channels upon logging in until they are assigned a team and at least one channel.\\n \\nNote: If this filter is removed/changed, active guests will not be promoted to a member and will retain their Guest role. Guests can be promoted in **System Console > User Management**.\\n \\n \\nExisting members that are identified by this attribute as a guest will be demoted from a member to a guest when they are asked to login next. The next login is based upon Session lengths set in **System Console > Session Lengths**. It is highly recommend to manually demote users to guests in **System Console > User Management ** to ensure access is restricted immediately.","admin.ldap.guestFilterTitle":"Guest Filter:","admin.ldap.idAttrDesc":"The attribute in the AD/LDAP server used as a unique identifier in Mattermost. It should be an AD/LDAP attribute with a value that does not change such as `uid` for LDAP or `objectGUID` for Active Directory. If a user\'s ID Attribute changes, it will create a new Mattermost account unassociated with their old one.\\n \\nIf you need to change this field after users have already logged in, use the [mattermost ldap idmigrate](!https://about.mattermost.com/default-mattermost-ldap-idmigrate) CLI tool.","admin.ldap.idAttrEx":"E.g.: \\"objectGUID\\" or \\"uid\\"","admin.ldap.idAttrTitle":"ID Attribute: ","admin.ldap.jobExtraInfo.addedGroupMembers":"Added {groupMemberAddCount, number} group members.","admin.ldap.jobExtraInfo.deactivatedUsers":"Deactivated {deleteCount, number} users.","admin.ldap.jobExtraInfo.deletedGroupMembers":"Deleted {groupMemberDeleteCount, number} group members.","admin.ldap.jobExtraInfo.deletedGroups":"Deleted {groupDeleteCount, number} groups.","admin.ldap.jobExtraInfo.updatedUsers":"Updated {updateCount, number} users.","admin.ldap.lastnameAttrDesc":"(Optional) The attribute in the AD/LDAP server used to populate the last name of users in Mattermost. When set, users cannot edit their last name, since it is synchronized with the LDAP server. When left blank, users can set their last name in Account Settings.","admin.ldap.lastnameAttrEx":"E.g.: \\"sn\\"","admin.ldap.lastnameAttrTitle":"Last Name Attribute:","admin.ldap.ldap_test_button":"AD/LDAP Test","admin.ldap.loginAttrDesc":"The attribute in the AD/LDAP server used to log in to Mattermost. Normally this attribute is the same as the \\"Username Attribute\\" field above.\\n \\nIf your team typically uses domain/username to log in to other services with AD/LDAP, you may enter domain/username in this field to maintain consistency between sites.","admin.ldap.loginAttrTitle":"Login ID Attribute: ","admin.ldap.loginIdAttrEx":"E.g.: \\"sAMAccountName\\"","admin.ldap.loginNameDesc":"The placeholder text that appears in the login field on the login page. Defaults to \\"AD/LDAP Username\\".","admin.ldap.loginNameEx":"E.g.: \\"AD/LDAP Username\\"","admin.ldap.loginNameTitle":"Login Field Name:","admin.ldap.maxPageSizeEx":"E.g.: \\"2000\\"","admin.ldap.maxPageSizeHelpText":"The maximum number of users the Mattermost server will request from the AD/LDAP server at one time. 0 is unlimited.","admin.ldap.maxPageSizeTitle":"Maximum Page Size:","admin.ldap.nicknameAttrDesc":"(Optional) The attribute in the AD/LDAP server used to populate the nickname of users in Mattermost. When set, users cannot edit their nickname, since it is synchronized with the LDAP server. When left blank, users can set their nickname in Account Settings.","admin.ldap.nicknameAttrEx":"E.g.: \\"nickname\\"","admin.ldap.nicknameAttrTitle":"Nickname Attribute:","admin.ldap.pictureAttrDesc":"The attribute in the AD/LDAP server used to populate the profile picture in Mattermost.","admin.ldap.pictureAttrEx":"E.g.: \\"thumbnailPhoto\\" or \\"jpegPhoto\\"","admin.ldap.pictureAttrTitle":"Profile Picture Attribute:","admin.ldap.portDesc":"The port Mattermost will use to connect to the AD/LDAP server. Default is 389.","admin.ldap.portEx":"E.g.: \\"389\\"","admin.ldap.portTitle":"AD/LDAP Port:","admin.ldap.positionAttrDesc":"(Optional) The attribute in the AD/LDAP server used to populate the position field in Mattermost. When set, users cannot edit their position, since it is synchronized with the LDAP server. When left blank, users can set their position in Account Settings.","admin.ldap.positionAttrEx":"E.g.: \\"title\\"","admin.ldap.positionAttrTitle":"Position Attribute:","admin.ldap.privateKeyFileFileDesc":"The private key file for TLS Certificate. If using TLS client certificates as primary authentication mechanism. This will be provided by your LDAP Authentication Provider.","admin.ldap.privateKeyFileFileRemoveDesc":"Remove the private key file for TLS Certificate.","admin.ldap.privateKeyFileTitle":"Private Key:","admin.ldap.publicCertificateFileDesc":"The public certificate file for TLS Certificate. If using TLS client certificates as primary authentication mechanism.  This will be provided by your LDAP Authentication Provider.","admin.ldap.publicCertificateFileRemoveDesc":"Remove the public certificate file for TLS Certificate.","admin.ldap.publicCertificateFileTitle":"Public Certificate:","admin.ldap.queryDesc":"The timeout value for queries to the AD/LDAP server. Increase if you are getting timeout errors caused by a slow AD/LDAP server.","admin.ldap.queryEx":"E.g.: \\"60\\"","admin.ldap.queryTitle":"Query Timeout (seconds):","admin.ldap.remove.privKey":"Remove TLS Certificate Private Key","admin.ldap.remove.sp_certificate":"Remove Service Provider Certificate","admin.ldap.removing.certificate":"Removing Certificate...","admin.ldap.removing.privKey":"Removing Private Key...","admin.ldap.serverDesc":"The domain or IP address of AD/LDAP server.","admin.ldap.serverEx":"E.g.: \\"10.0.0.23\\"","admin.ldap.serverTitle":"AD/LDAP Server:","admin.ldap.skipCertificateVerification":"Skip Certificate Verification:","admin.ldap.skipCertificateVerificationDesc":"Skips the certificate verification step for TLS or STARTTLS connections. Skipping certificate verification is not recommended for production environments where TLS is required.","admin.ldap.sync_button":"AD/LDAP Synchronize Now","admin.ldap.syncIntervalHelpText":"AD/LDAP Synchronization updates Mattermost user information to reflect updates on the AD/LDAP server. For example, when a user\'s name changes on the AD/LDAP server, the change updates in Mattermost when synchronization is performed. Accounts removed from or disabled in the AD/LDAP server have their Mattermost accounts set to \\"Inactive\\" and have their account sessions revoked. Mattermost performs synchronization on the interval entered. For example, if 60 is entered, Mattermost synchronizes every 60 minutes.","admin.ldap.syncIntervalTitle":"Synchronization Interval (minutes):","admin.ldap.syncNowHelpText":"Initiates an AD/LDAP synchronization immediately. See the table below for status of each synchronization. Please review \\"System Console > Logs\\" and [documentation](!https://mattermost.com/default-ldap-docs) to troubleshoot errors.","admin.ldap.testFailure":"AD/LDAP Test Failure: {error}","admin.ldap.testHelpText":"Tests if the Mattermost server can connect to the AD/LDAP server specified. Please review \\"System Console > Logs\\" and [documentation](!https://mattermost.com/default-ldap-docs) to troubleshoot errors.","admin.ldap.testSuccess":"AD/LDAP Test Successful","admin.ldap.uploading.certificate":"Uploading Certificate...","admin.ldap.uploading.privateKey":"Uploading Private Key...","admin.ldap.userFilterDisc":"(Optional) Enter an AD/LDAP filter to use when searching for user objects. Only the users selected by the query will be able to access Mattermost. For Active Directory, the query to filter out disabled users is (&(objectCategory=Person)(!(UserAccountControl:1.2.840.113556.1.4.803:=2))).","admin.ldap.userFilterEx":"E.g.: \\"(objectClass=user)\\"","admin.ldap.userFilterTitle":"User Filter:","admin.ldap.usernameAttrDesc":"The attribute in the AD/LDAP server used to populate the username field in Mattermost. This may be the same as the Login ID Attribute.","admin.ldap.usernameAttrEx":"E.g.: \\"sAMAccountName\\"","admin.ldap.usernameAttrTitle":"Username Attribute:","admin.license.choose":"Choose File","admin.license.edition":"Edition: ","admin.license.enterprise-edition-license":"Enterprise Edition License:","admin.license.enterprise.restart":"Restart Server","admin.license.enterprise.restarting":"Restarting","admin.license.enterprise.upgrade":"Upgrade to Enterprise Edition","admin.license.enterprise.upgrade.accept-terms":"By clicking **Upgrade to Enterprise Edition**, I agree to the terms of the Mattermost Enterprise Edition License.","admin.license.enterprise.upgrading":"Upgrading {percentage}%","admin.license.key":"License Key: ","admin.license.keyRemove":"Remove Enterprise License and Downgrade Server","admin.license.noFile":"No file uploaded","admin.license.removing":"Removing License...","admin.license.title":"Edition and License","admin.license.trial-request.accept-terms":"By clicking **Start trial**, I agree to the [Mattermost Software Evaluation Agreement](!https://mattermost.com/software-evaluation-agreement/), [Privacy Policy](!https://mattermost.com/privacy-policy/), and receiving product emails.","admin.license.trial-request.error":"Trial license could not be retrieved. Visit [https://mattermost.com/trial/](https://mattermost.com/trial/) to request a license.","admin.license.trial-request.loading":"Getting trial","admin.license.trial-request.submit":"Start trial","admin.license.type":"License: ","admin.license.upgraded-restart":"You have upgraded your binary to mattermost enterprise, please restart the server to start using the new binary. You can do it right here:","admin.license.upload":"Upload","admin.license.uploadDesc":"Upload a license key for Mattermost Enterprise Edition to upgrade this server. [Visit us online](!http://mattermost.com) to learn more about the benefits of Enterprise Edition or to purchase a key.","admin.license.uploading":"Uploading License...","admin.lockTeammateNameDisplay":"Lock Teammate Name Display for all users: ","admin.lockTeammateNameDisplayHelpText":"When true, disables users\' ability to change settings under Main Menu > Account Settings > Display > Teammate Name Display.","admin.log.consoleDescription":"Typically set to false in production. Developers may set this field to true to output log messages to console based on the console level option.  If true, server writes messages to the standard output stream (stdout). Changing this setting requires a server restart before taking effect.","admin.log.consoleJsonTitle":"Output console logs as JSON:","admin.log.consoleTitle":"Output logs to console: ","admin.log.enableDiagnostics":"Enable Diagnostics and Error Reporting:","admin.log.enableDiagnosticsDescription":"Enable this feature to improve the quality and performance of Mattermost by sending error reporting and diagnostic information to Mattermost, Inc. Read our [privacy policy](!https://about.mattermost.com/default-privacy-policy/) to learn more.","admin.log.enableWebhookDebugging":"Enable Webhook Debugging:","admin.log.enableWebhookDebuggingDescription":"When true, sends webhook debug messages to the server logs. To also output the request body of incoming webhooks, set {boldedLogLevel} to \'DEBUG\'.","admin.log.fileDescription":"Typically set to true in production. When true, logged events are written to the mattermost.log file in the directory specified in the File Log Directory field. The logs are rotated at 10,000 lines and archived to a file in the same directory, and given a name with a datestamp and serial number. For example, mattermost.2017-03-31.001. Changing this setting requires a server restart before taking effect.","admin.log.fileJsonTitle":"Output file logs as JSON:","admin.log.fileLevelDescription":"This setting determines the level of detail at which log events are written to the log file. ERROR: Outputs only error messages. INFO: Outputs error messages and information around startup and initialization. DEBUG: Prints high detail for developers working on debugging issues.","admin.log.fileLevelTitle":"File Log Level:","admin.log.fileTitle":"Output logs to file: ","admin.log.jsonDescription":"When true, logged events are written in a machine readable JSON format. Otherwise they are printed as plain text. Changing this setting requires a server restart before taking effect.","admin.log.levelDescription":"This setting determines the level of detail at which log events are written to the console. ERROR: Outputs only error messages. INFO: Outputs error messages and information around startup and initialization. DEBUG: Prints high detail for developers working on debugging issues.","admin.log.levelTitle":"Console Log Level:","admin.log.locationDescription":"The location of the log files. If blank, they are stored in the ./logs directory. The path that you set must exist and Mattermost must have write permissions in it. Changing this setting requires a server restart before taking effect.","admin.log.locationPlaceholder":"Enter your file location","admin.log.locationTitle":"File Log Directory:","admin.log.logLevel":"Log Level","admin.logs.bannerDesc":"To look up users by User ID or Token ID, go to Reporting > Users and paste the ID into the search filter.","admin.logs.next":"Next","admin.logs.prev":"Previous","admin.logs.reload":"Reload","admin.logs.title":"Server Logs","admin.manage_roles.additionalRoles":"Select additional permissions for the account. [Read more about roles and permissions](!https://about.mattermost.com/default-permissions).","admin.manage_roles.allowUserAccessTokens":"Allow this account to generate [personal access tokens](!https://about.mattermost.com/default-user-access-tokens).","admin.manage_roles.allowUserAccessTokensDesc":"Removing this permission doesn\'t delete existing tokens. To delete them, go to the user\'s Manage Tokens menu.","admin.manage_roles.cancel":"Cancel","admin.manage_roles.manageRolesTitle":"Manage Roles","admin.manage_roles.postAllPublicRole":"Access to post to all Mattermost public channels.","admin.manage_roles.postAllPublicRoleTitle":"post:channels","admin.manage_roles.postAllRole":"Access to post to all Mattermost channels including direct messages.","admin.manage_roles.postAllRoleTitle":"post:all","admin.manage_roles.save":"Save","admin.manage_roles.saveError":"Unable to save roles.","admin.manage_roles.systemAdmin":"System Admin","admin.manage_roles.systemMember":"Member","admin.manage_tokens.manageTokensTitle":"Manage Personal Access Tokens","admin.manage_tokens.userAccessTokensDescription":"Personal access tokens function similarly to session tokens and can be used by integrations to [interact with this Mattermost server](!https://about.mattermost.com/default-api-authentication). Tokens are disabled if the user is deactivated. Learn more about [personal access tokens](!https://about.mattermost.com/default-user-access-tokens).","admin.manage_tokens.userAccessTokensIdLabel":"Token ID: ","admin.manage_tokens.userAccessTokensNameLabel":"Token Description: ","admin.manage_tokens.userAccessTokensNone":"No personal access tokens.","admin.member_list_group.name":"Name","admin.member_list_group.notFound":"No users found","admin.metrics.enableDescription":"When true, Mattermost will enable performance monitoring collection and profiling. Please see [documentation](!http://docs.mattermost.com/deployment/metrics.html) to learn more about configuring performance monitoring for Mattermost.","admin.metrics.enableTitle":"Enable Performance Monitoring:","admin.metrics.listenAddressDesc":"The address the server will listen on to expose performance metrics.","admin.metrics.listenAddressEx":"E.g.: \\":8067\\"","admin.metrics.listenAddressTitle":"Listen Address:","admin.mfa.bannerDesc":"[Multi-factor authentication](!https://docs.mattermost.com/deployment/auth.html) is available for accounts with AD/LDAP or email login. If other login methods are used, MFA should be configured with the authentication provider.","admin.nav.administratorsGuide":"Administrator\'s Guide","admin.nav.commercialSupport":"Commercial Support","admin.nav.menuAriaLabel":"Admin Console Menu","admin.nav.switch":"Team Selection","admin.nav.troubleshootingForum":"Troubleshooting Forum","admin.notices.enableAdminNoticesDescription":"When enabled, System Admins will receive notices about available server upgrades and relevant system administration features. [Learn more about notices](!https://about.mattermost.com/default-notices) in our documentation.","admin.notices.enableAdminNoticesTitle":"Enable Admin Notices: ","admin.notices.enableEndUserNoticesDescription":"When enabled, all users will receive notices about available client upgrades and relevant end user features to improve user experience. [Learn more about notices](!https://about.mattermost.com/default-notices) in our documentation.","admin.notices.enableEndUserNoticesTitle":"Enable End User Notices: ","admin.oauth.gitlab":"GitLab","admin.oauth.google":"Google Apps","admin.oauth.off":"Do not allow sign-in via an OAuth 2.0 provider","admin.oauth.office365":"Office 365","admin.oauth.providerDescription":"When true, Mattermost can act as an OAuth 2.0 service provider allowing Mattermost to authorize API requests from external applications. See [documentation](!https://docs.mattermost.com/developer/oauth-2-0-applications.html) to learn more.","admin.oauth.providerTitle":"Enable OAuth 2.0 Service Provider: ","admin.oauth.select":"Select OAuth 2.0 service provider:","admin.office365.authTitle":"Auth Endpoint:","admin.office365.clientIdDescription":"The Application/Client ID you received when registering your application with Microsoft.","admin.office365.clientIdExample":"E.g.: \\"adf3sfa2-ag3f-sn4n-ids0-sh1hdax192qq\\"","admin.office365.clientIdTitle":"Application ID:","admin.office365.clientSecretDescription":"The Application Secret Password you generated when registering your application with Microsoft.","admin.office365.clientSecretExample":"E.g.: \\"shAieM47sNBfgl20f8ci294\\"","admin.office365.clientSecretTitle":"Application Secret Password:","admin.office365.directoryIdDescription":"The Directory (tenant) ID you received when registering your application with Microsoft.","admin.office365.directoryIdExample":"E.g.: \\"adf3sfa2-ag3f-sn4n-ids0-sh1hdax192qq\\"","admin.office365.directoryIdTitle":"Directory (tenant) ID:","admin.office365.EnableMarkdownDesc":"1. [Log in](!https://login.microsoftonline.com/) to your Microsoft or Office 365 account. Make sure it`s the account on the same [tenant](!https://msdn.microsoft.com/en-us/library/azure/jj573650.aspx#Anchor_0) that you would like users to log in with.\\n2. Go to [https://apps.dev.microsoft.com](!https://apps.dev.microsoft.com), click **Go to app list** > **Add an app** and use \\"Mattermost - your-company-name\\" as the **Application Name**.\\n3. Under **Application Secrets**, click **Generate New Password** and paste it to the **Application Secret Password** field below.\\n4. Under **Platforms**, click **Add Platform**, choose **Web** and enter **your-mattermost-url/signup/office365/complete** (example: http://localhost:8065/signup/office365/complete) under **Redirect URIs**. Also uncheck **Allow Implicit Flow**.\\n5. Finally, click **Save** and then paste the **Application ID** below.","admin.office365.tokenTitle":"Token Endpoint:","admin.office365.userTitle":"User API Endpoint:","admin.password.lowercase":"At least one lowercase letter","admin.password.minimumLength":"Minimum Password Length:","admin.password.minimumLengthDescription":"Minimum number of characters required for a valid password. Must be a whole number greater than or equal to {min} and less than or equal to {max}.","admin.password.minimumLengthExample":"E.g.: \\"5\\"","admin.password.number":"At least one number","admin.password.preview":"Error message preview","admin.password.symbol":"At least one symbol (e.g. \\"~!@#$%^&*()\\")","admin.password.uppercase":"At least one uppercase letter","admin.permissions.documentationLinkText":"documentation","admin.permissions.group.convert_public_channel_to_private.description":"Convert public channels to private","admin.permissions.group.convert_public_channel_to_private.name":"Convert Channels","admin.permissions.group.delete_posts.description":"Delete own and others\' posts.","admin.permissions.group.delete_posts.name":"Delete Posts","admin.permissions.group.edit_posts.description":"Edit own and others\' posts.","admin.permissions.group.edit_posts.name":"Edit Posts","admin.permissions.group.guest_create_post.description":"Allow users to create posts.","admin.permissions.group.guest_create_post.name":"Create Posts","admin.permissions.group.guest_create_private_channel.description":"Create new private channels.","admin.permissions.group.guest_create_private_channel.name":"Create Channels","admin.permissions.group.guest_delete_post.description":"Author\'s own posts can be deleted.","admin.permissions.group.guest_delete_post.name":"Delete Own Posts","admin.permissions.group.guest_edit_post.description":"{editTimeLimitButton} after posting, allow users to edit their own posts.","admin.permissions.group.guest_edit_post.name":"Edit Own Posts","admin.permissions.group.guest_reactions.description":"Add and delete reactions on posts.","admin.permissions.group.guest_reactions.name":"Post Reactions","admin.permissions.group.guest_use_channel_mentions.description":"Notify channel members with @all, @channel and @here","admin.permissions.group.guest_use_channel_mentions.name":"Channel Mentions","admin.permissions.group.guest_use_group_mentions.description":"Notify group members with a group mention","admin.permissions.group.guest_use_group_mentions.name":"Group Mentions","admin.permissions.group.integrations.description":"Manage OAuth 2.0, slash commands, webhooks and emoji.","admin.permissions.group.integrations.name":"Integrations & Customizations","admin.permissions.group.manage_private_channel_members_and_read_groups.description":"Add and remove private channel members.","admin.permissions.group.manage_private_channel_members_and_read_groups.name":"Manage Channel Members","admin.permissions.group.manage_public_channel_members_and_read_groups.description":"Add and remove public channel members.","admin.permissions.group.manage_public_channel_members_and_read_groups.name":"Manage Channel Members","admin.permissions.group.manage_shared_channels.description":"Manage Shared Channels","admin.permissions.group.manage_shared_channels.name":"Manage Shared Channels","admin.permissions.group.posts.description":"Write, edit and delete posts.","admin.permissions.group.posts.name":"Manage Posts","admin.permissions.group.private_channel.description":"Create and archive channels, manage settings and members.","admin.permissions.group.private_channel.name":"Manage Private Channels","admin.permissions.group.public_channel.description":"Join, create and archive channels, manage settings and members.","admin.permissions.group.public_channel.name":"Manage Public Channels","admin.permissions.group.reactions.description":"Add and delete reactions on posts.","admin.permissions.group.reactions.name":"Post Reactions","admin.permissions.group.send_invites.description":"Add team members, send email invites and share team invite link.","admin.permissions.group.send_invites.name":"Add Team Members","admin.permissions.group.teams_team_scope.description":"Manage team members.","admin.permissions.group.teams_team_scope.name":"Teams","admin.permissions.group.teams.description":"Create teams and manage members.","admin.permissions.group.teams.name":"Teams","admin.permissions.inherited_from":"Inherited from [{name}]().","admin.permissions.introBanner":"Permission Schemes set the default permissions for Team Admins, Channel Admins and everyone else. Learn more about permission schemes in our [documentation](!https://about.mattermost.com/default-advanced-permissions).","admin.permissions.loadingMoreSchemes":"Loading...","admin.permissions.loadMoreSchemes":"Load more schemes","admin.permissions.permission.assign_system_admin_role.description":"Assign system admin role","admin.permissions.permission.assign_system_admin_role.name":"Assign system admin role","admin.permissions.permission.convert_private_channel_to_public.description":"Convert private channels to public","admin.permissions.permission.convert_private_channel_to_public.name":"Convert Channels","admin.permissions.permission.convert_public_channel_to_private.description":"Convert public channels to private","admin.permissions.permission.convert_public_channel_to_private.name":"Convert Channels","admin.permissions.permission.create_direct_channel.description":"Create direct channel","admin.permissions.permission.create_direct_channel.name":"Create direct channel","admin.permissions.permission.create_emojis.description":"Allow users to create custom emoji.","admin.permissions.permission.create_emojis.name":"Create Custom Emoji","admin.permissions.permission.create_group_channel.description":"Create group channel","admin.permissions.permission.create_group_channel.name":"Create group channel","admin.permissions.permission.create_post.description":"Allow users to create posts.","admin.permissions.permission.create_post.name":"Create Posts","admin.permissions.permission.create_private_channel.description":"Create new private channels.","admin.permissions.permission.create_private_channel.name":"Create Channels","admin.permissions.permission.create_public_channel.description":"Create new public channels.","admin.permissions.permission.create_public_channel.name":"Create Channels","admin.permissions.permission.create_team.description":"Create new teams.","admin.permissions.permission.create_team.name":"Create Teams","admin.permissions.permission.create_user_access_token.description":"Create user access token","admin.permissions.permission.create_user_access_token.name":"Create user access token","admin.permissions.permission.delete_emojis.description":"Allow users to delete custom emoji that they created.","admin.permissions.permission.delete_emojis.name":"Delete Own Custom Emoji","admin.permissions.permission.delete_others_emojis.description":"Allow users to delete custom emoji that were created by other users.","admin.permissions.permission.delete_others_emojis.name":"Delete Others\' Custom Emoji","admin.permissions.permission.delete_others_posts.description":"Posts made by other users can be deleted.","admin.permissions.permission.delete_others_posts.name":"Delete Others\' Posts","admin.permissions.permission.delete_post.description":"Author\'s own posts can be deleted.","admin.permissions.permission.delete_post.name":"Delete Own Posts","admin.permissions.permission.delete_private_channel.description":"Archive private channels.","admin.permissions.permission.delete_private_channel.name":"Archive Channels","admin.permissions.permission.delete_public_channel.description":"Archive public channels.","admin.permissions.permission.delete_public_channel.name":"Archive Channels","admin.permissions.permission.edit_other_users.description":"Edit other users","admin.permissions.permission.edit_other_users.name":"Edit other users","admin.permissions.permission.edit_others_posts.description":"Allow users to edit others\' posts.","admin.permissions.permission.edit_others_posts.name":"Edit Others\' Posts","admin.permissions.permission.edit_post.description":"{editTimeLimitButton} after posting, allow users to edit their own posts.","admin.permissions.permission.edit_post.name":"Edit Own Posts","admin.permissions.permission.import_team.description":"Import team","admin.permissions.permission.import_team.name":"Import team","admin.permissions.permission.invite_guest.description":"Invite guests to channels and send guest email invites.","admin.permissions.permission.invite_guest.name":"Invite guests","admin.permissions.permission.list_team_channels.description":"List team channels","admin.permissions.permission.list_team_channels.name":"List team channels","admin.permissions.permission.list_users_without_team.description":"List users without team","admin.permissions.permission.list_users_without_team.name":"List users without team","admin.permissions.permission.manage_channel_roles.description":"Manage channel roles","admin.permissions.permission.manage_channel_roles.name":"Manage channel roles","admin.permissions.permission.manage_incoming_webhooks.description":"Create, edit, and delete incoming webhooks.","admin.permissions.permission.manage_incoming_webhooks.name":"Manage Incoming Webhooks","admin.permissions.permission.manage_jobs.description":"Manage jobs","admin.permissions.permission.manage_jobs.name":"Manage jobs","admin.permissions.permission.manage_oauth.description":"Create, edit and delete OAuth 2.0 application tokens.","admin.permissions.permission.manage_oauth.name":"Manage OAuth Applications","admin.permissions.permission.manage_outgoing_webhooks.description":"Create, edit, and delete outgoing webhooks.","admin.permissions.permission.manage_outgoing_webhooks.name":"Manage Outgoing Webhooks","admin.permissions.permission.manage_private_channel_properties.description":"Update private channel names, headers and purposes.","admin.permissions.permission.manage_private_channel_properties.name":"Manage Channel Settings","admin.permissions.permission.manage_public_channel_properties.description":"Update public channel names, headers and purposes.","admin.permissions.permission.manage_public_channel_properties.name":"Manage Channel Settings","admin.permissions.permission.manage_roles.description":"Manage roles","admin.permissions.permission.manage_roles.name":"Manage roles","admin.permissions.permission.manage_shared_channels.description":"Share, unshare and invite another instance to sync with a shared channel","admin.permissions.permission.manage_shared_channels.name":"Manage Shared Channels","admin.permissions.permission.manage_slash_commands.description":"Create, edit and delete custom slash commands.","admin.permissions.permission.manage_slash_commands.name":"Manage Slash Commands","admin.permissions.permission.manage_system.description":"Manage system","admin.permissions.permission.manage_system.name":"Manage system","admin.permissions.permission.manage_team_roles.description":"Manage team roles","admin.permissions.permission.manage_team_roles.name":"Manage team roles","admin.permissions.permission.manage_team.description":"Manage team","admin.permissions.permission.manage_team.name":"Manage team","admin.permissions.permission.permanent_delete_user.description":"Permanent delete user","admin.permissions.permission.permanent_delete_user.name":"Permanent delete user","admin.permissions.permission.read_channel.description":"Read channel","admin.permissions.permission.read_channel.name":"Read channel","admin.permissions.permission.read_user_access_token.description":"Read user access token","admin.permissions.permission.read_user_access_token.name":"Read user access token","admin.permissions.permission.remove_user_from_team.description":"Remove user from team","admin.permissions.permission.remove_user_from_team.name":"Remove user from team","admin.permissions.permission.revoke_user_access_token.description":"Revoke user access token","admin.permissions.permission.revoke_user_access_token.name":"Revoke user access token","admin.permissions.permission.upload_file.description":"Upload file","admin.permissions.permission.upload_file.name":"Upload file","admin.permissions.permission.use_channel_mentions.description":"Notify channel members with @all, @channel and @here","admin.permissions.permission.use_channel_mentions.name":"Channel Mentions","admin.permissions.permission.use_group_mentions.description":"Notify group members with a group mention","admin.permissions.permission.use_group_mentions.name":"Group Mentions","admin.permissions.permission.view_team.description":"View team","admin.permissions.permission.view_team.name":"View team","admin.permissions.permissionSchemes":"Permission Schemes","admin.permissions.permissionSchemes.cancel":"Cancel","admin.permissions.permissionsSchemeSummary.delete":"Delete","admin.permissions.permissionsSchemeSummary.deleteConfirmButton":"Yes, Delete","admin.permissions.permissionsSchemeSummary.deleteConfirmQuestion":"The permissions in the teams using this scheme will reset to the defaults in the System Scheme. Are you sure you want to delete the {schemeName} scheme?","admin.permissions.permissionsSchemeSummary.deleteSchemeTitle":"Delete {scheme} scheme?","admin.permissions.permissionsSchemeSummary.deleting":"Deleting...","admin.permissions.permissionsSchemeSummary.edit":"Edit","admin.permissions.permissionsSchemeSummary.moreTeams":"+{number} more","admin.permissions.permissionsTree.description":"Description","admin.permissions.permissionsTree.permission":"Permission","admin.permissions.roles.all_users.name":"All Members","admin.permissions.roles.channel_admin.name":"Channel Admin","admin.permissions.roles.channel_user.name":"Channel User","admin.permissions.roles.edit":"Edit","admin.permissions.roles.system_admin.description":"Access to modifying everything.","admin.permissions.roles.system_admin.name":"System Admin","admin.permissions.roles.system_admin.type":"System Role","admin.permissions.roles.system_manager.description":"Slightly less access than system admin.","admin.permissions.roles.system_manager.name":"System Manager","admin.permissions.roles.system_manager.type":"System Role","admin.permissions.roles.system_read_only_admin.description":"Read only access for oversight.","admin.permissions.roles.system_read_only_admin.name":"Viewer","admin.permissions.roles.system_read_only_admin.type":"System Role","admin.permissions.roles.system_user_manager.description":"Enough access to help with user management.","admin.permissions.roles.system_user_manager.name":"User Manager","admin.permissions.roles.system_user_manager.type":"System Role","admin.permissions.roles.system_user.name":"System User","admin.permissions.roles.team_admin.name":"Team Admin","admin.permissions.roles.team_user.name":"Team User","admin.permissions.sysconsole_section_about.description":"The ability to install or upgrade your servers enterprise licensing.","admin.permissions.sysconsole_section_about.name":"Edition and License","admin.permissions.sysconsole_section_authentication.description":"Review the configuration around how users can signup and access Mattermost.","admin.permissions.sysconsole_section_authentication.name":"Authentication","admin.permissions.sysconsole_section_billing.description":"<Placeholder billing description>.","admin.permissions.sysconsole_section_billing.name":"Billing","admin.permissions.sysconsole_section_compliance.description":"Review compliance settings such as retention, exports and activity logs.","admin.permissions.sysconsole_section_compliance.name":"Compliance","admin.permissions.sysconsole_section_environment.description":"Review server environment configuration such as URLs, database and performance.","admin.permissions.sysconsole_section_environment.name":"Environment","admin.permissions.sysconsole_section_experimental.description":"Review the settings of experimental features","admin.permissions.sysconsole_section_experimental.name":"Experimental","admin.permissions.sysconsole_section_integrations.description":"Review integration configurations such as webhooks, bots and cross-origin requests.","admin.permissions.sysconsole_section_integrations.name":"Integrations","admin.permissions.sysconsole_section_plugins.description":"Review installed plugins and their configuration.","admin.permissions.sysconsole_section_plugins.name":"Plugins (Beta)","admin.permissions.sysconsole_section_reporting.description":"Review site statistics, team statistics and server logs.","admin.permissions.sysconsole_section_reporting.name":"Reporting","admin.permissions.sysconsole_section_site.description":"Review site specific configurations such as site name, notification defaults and file sharing.","admin.permissions.sysconsole_section_site.name":"Site Configuration","admin.permissions.sysconsole_section_user_management_channels.name":"Channels","admin.permissions.sysconsole_section_user_management_groups.name":"Groups","admin.permissions.sysconsole_section_user_management_permissions.name":"Permissions","admin.permissions.sysconsole_section_user_management_system_roles.name":"System Roles (Beta)","admin.permissions.sysconsole_section_user_management_teams.name":"Teams","admin.permissions.sysconsole_section_user_management_users.description":"Cannot reset admin passwords","admin.permissions.sysconsole_section_user_management_users.name":"Users","admin.permissions.sysconsole_section_user_management.description":"Review users, groups, teams, channels, permissions and system roles.","admin.permissions.sysconsole_section_user_management.name":"User Management","admin.permissions.system_role_permissions.change_access":"Change role access on a system console section","admin.permissions.system_role_permissions.description":"Level of access to the system console.","admin.permissions.system_role_permissions.hide_subsections":"Hide {subsectionsCount} subsections","admin.permissions.system_role_permissions.mixed_access.title":"Mixed access","admin.permissions.system_role_permissions.no_access.description":"No access to this section and it will be hidden in the navigation.","admin.permissions.system_role_permissions.no_access.title":"No access","admin.permissions.system_role_permissions.read.description":"Can view this section but can\'t edit anything in it","admin.permissions.system_role_permissions.read.title":"Read only","admin.permissions.system_role_permissions.show_subsections":"Show {subsectionsCount} subsections","admin.permissions.system_role_permissions.title":"Privileges","admin.permissions.system_role_permissions.write.description":"Can add, edit and delete anything in this section.","admin.permissions.system_role_permissions.write.title":"Can edit","admin.permissions.system_role_users.add_people":"Add People","admin.permissions.system_role_users.description":"List of people assigned to this system role.","admin.permissions.system_role_users.title":"Assigned People","admin.permissions.systemRoles":"System Roles (Beta)","admin.permissions.systemRolesBannerText":"Manage different levels of access to the system console.","admin.permissions.systemRolesBannerTitle":"Admin Roles","admin.permissions.systemScheme":"System Scheme","admin.permissions.systemScheme.allMembersDescription":"Permissions granted to all members, including administrators and newly created users.","admin.permissions.systemScheme.allMembersTitle":"All Members","admin.permissions.systemScheme.channelAdminsDescription":"Permissions granted to channel creators and any users promoted to Channel Administrator.","admin.permissions.systemScheme.channelAdminsTitle":"Channel Administrators","admin.permissions.systemScheme.GuestsDescription":"Permissions granted to guest users.","admin.permissions.systemScheme.GuestsTitle":"Guests","admin.permissions.systemScheme.introBanner":"Configure the default permissions for Team Admins, Channel Admins and other members. This scheme is inherited by all teams unless a [Team Override Scheme](!https://about.mattermost.com/default-team-override-scheme) is applied in specific teams.","admin.permissions.systemScheme.resetDefaultsButton":"Reset to Defaults","admin.permissions.systemScheme.resetDefaultsButtonModalBody":"This will reset all selections on this page to their default settings. Are you sure you want to reset?","admin.permissions.systemScheme.resetDefaultsButtonModalTitle":"Reset to Default?","admin.permissions.systemScheme.resetDefaultsConfirmationButton":"Yes, Reset","admin.permissions.systemScheme.systemAdminsDescription":"Full permissions granted to System Administrators.","admin.permissions.systemScheme.systemAdminsTitle":"System Administrators","admin.permissions.systemScheme.teamAdminsDescription":"Permissions granted to team creators and any users promoted to Team Administrator.","admin.permissions.systemScheme.teamAdminsTitle":"Team Administrators","admin.permissions.systemSchemeBannerButton":"Edit Scheme","admin.permissions.systemSchemeBannerText":"Set the default permissions inherited by all teams unless a [Team Override Scheme](!https://about.mattermost.com/default-team-override-scheme) is applied.","admin.permissions.systemSchemeBannerTitle":"System Scheme","admin.permissions.teamOverrideSchemesBannerText":"Use when specific teams need permission exceptions to the [System Scheme](!https://about.mattermost.com/default-system-scheme).","admin.permissions.teamOverrideSchemesInProgress":"Migration job in progress: Team Override Schemes are not available until the job server completes the permissions migration. Learn more in the {documentationLink}.","admin.permissions.teamOverrideSchemesNewButton":"New Team Override Scheme","admin.permissions.teamOverrideSchemesNoJobsEnabled":"Migration job on hold: Team Override Schemes are not available until the job server can execute the permissions migration. The job will be automatically started when the job server is enabled. Learn more in the {documentationLink}.","admin.permissions.teamOverrideSchemesNoSchemes":"No team override schemes created.","admin.permissions.teamOverrideSchemesTitle":"Team Override Schemes","admin.permissions.teamScheme":"Team Scheme","admin.permissions.teamScheme.addTeams":"Add Teams","admin.permissions.teamScheme.introBanner":"[Team Override Schemes](!https://about.mattermost.com/default-team-override-scheme) set the permissions for Team Admins, Channel Admins and other members in specific teams. Use a Team Override Scheme when specific teams need permission exceptions to the [System Scheme](!https://about.mattermost.com/default-system-scheme).","admin.permissions.teamScheme.noTeams":"No team selected. Please add teams to this list.","admin.permissions.teamScheme.removeTeam":"Remove","admin.permissions.teamScheme.schemeDescriptionLabel":"Scheme Description:","admin.permissions.teamScheme.schemeDescriptionPlaceholder":"Scheme Description","admin.permissions.teamScheme.schemeDetailsDescription":"Set the name and description for this scheme.","admin.permissions.teamScheme.schemeDetailsTitle":"Scheme Details","admin.permissions.teamScheme.schemeNameLabel":"Scheme Name:","admin.permissions.teamScheme.schemeNamePlaceholder":"Scheme Name","admin.permissions.teamScheme.selectTeamsDescription":"Select teams where permission exceptions are required.","admin.permissions.teamScheme.selectTeamsTitle":"Select teams to override permissions","admin.plugin.backToPlugins":"Go back to the Plugins","admin.plugin.choose":"Choose File","admin.plugin.cluster_instance":"Cluster Instance","admin.plugin.customSetting.pluginDisabledWarning":"In order to view this setting, enable the plugin and click Save.","admin.plugin.disable":"Disable","admin.plugin.disabling":"Disabling...","admin.plugin.enable":"Enable","admin.plugin.enable_plugin":"Enable Plugin: ","admin.plugin.enable_plugin.help":"When true, this plugin is enabled.","admin.plugin.enabling":"Enabling...","admin.plugin.error.activate":"Unable to upload the plugin. It may conflict with another plugin on your server.","admin.plugin.error.extract":"Encountered an error when extracting the plugin. Review your plugin file content and try again.","admin.plugin.installedDesc":"Installed plugins on your Mattermost server.","admin.plugin.installedTitle":"Installed Plugins: ","admin.plugin.management.title":"Plugin Management","admin.plugin.multiple_versions_warning":"There are multiple versions of this plugin installed across your cluster. Re-install this plugin to ensure it works consistently.","admin.plugin.no_plugins":"No installed plugins.","admin.plugin.remove":"Remove","admin.plugin.remove_modal.desc":"Are you sure you would like to remove the plugin?","admin.plugin.remove_modal.overwrite":"Remove","admin.plugin.remove_modal.title":"Remove plugin?","admin.plugin.removing":"Removing...","admin.plugin.settingsButton":"Settings","admin.plugin.state":"State","admin.plugin.state.failed_to_start":"Failed to start","admin.plugin.state.failed_to_start.description":"This plugin failed to start. Check your system logs for errors.","admin.plugin.state.failed_to_stay_running":"Crashing","admin.plugin.state.failed_to_stay_running.description":"This plugin crashed multiple times and is no longer running. Check your system logs for errors.","admin.plugin.state.not_running":"Not running","admin.plugin.state.not_running.description":"This plugin is not enabled.","admin.plugin.state.running":"Running","admin.plugin.state.running.description":"This plugin is running.","admin.plugin.state.starting":"Starting","admin.plugin.state.starting.description":"This plugin is starting.","admin.plugin.state.stopping":"Stopping","admin.plugin.state.stopping.description":"This plugin is stopping.","admin.plugin.state.unknown":"Unknown","admin.plugin.upload":"Upload","admin.plugin.upload.overwrite_modal.desc":"A plugin with this ID already exists. Would you like to overwrite it?","admin.plugin.upload.overwrite_modal.overwrite":"Overwrite","admin.plugin.upload.overwrite_modal.title":"Overwrite existing plugin?","admin.plugin.uploadAndPluginDisabledDesc":"To enable plugins, set **Enable Plugins** to true. See [documentation](!https://about.mattermost.com/default-plugin-uploads) to learn more.","admin.plugin.uploadDesc":"Upload a plugin for your Mattermost server. See [documentation](!https://about.mattermost.com/default-plugin-uploads) to learn more.","admin.plugin.uploadDisabledDesc":"Enable plugin uploads in config.json. See [documentation](!https://about.mattermost.com/default-plugin-uploads) to learn more.","admin.plugin.uploading":"Uploading...","admin.plugin.uploadTitle":"Upload Plugin: ","admin.plugin.version_title":"Version","admin.plugins.pluginManagement":"Plugin Management","admin.plugins.settings.automaticPrepackagedPlugins":"Enable Automatic Prepackaged Plugins:","admin.plugins.settings.automaticPrepackagedPluginsDesc":"When true, the server will detect previously enabled plugins on the server and will automatically install them.","admin.plugins.settings.enable":"Enable Plugins: ","admin.plugins.settings.enableDesc":"When true, enables plugins on your Mattermost server. Use plugins to integrate with third-party systems, extend functionality, or customize the user interface of your Mattermost server. See [documentation](!https://about.mattermost.com/default-plugins) to learn more.","admin.plugins.settings.enableMarketplace":"Enable Marketplace:","admin.plugins.settings.enableMarketplaceDesc":"When true, enables System Administrators to install plugins from the [marketplace](!https://mattermost.com/pl/default-mattermost-marketplace.html).","admin.plugins.settings.enableRemoteMarketplace":"Enable Remote Marketplace:","admin.plugins.settings.enableRemoteMarketplaceDesc":"When true, marketplace fetches latest plugins from the configured Marketplace URL.","admin.plugins.settings.marketplaceUrl":"Marketplace URL:","admin.plugins.settings.marketplaceUrlDesc":"URL of the marketplace server.","admin.plugins.settings.marketplaceUrlDesc.empty":" Marketplace URL is a required field.","admin.plugins.settings.requirePluginSignature":"Require Plugin Signature:","admin.plugins.settings.requirePluginSignatureDesc":"When true, uploading plugins is disabled and may only be installed through the Marketplace. Plugins are always verified during Mattermost server startup and initialization. See [documentation](!https://mattermost.com/pl/default-plugin-signing) to learn more.","admin.privacy.showEmailDescription":"When false, hides the email address of members from everyone except System Administrators.","admin.privacy.showEmailTitle":"Show Email Address: ","admin.privacy.showFullNameDescription":"When false, hides the full name of members from everyone except System Administrators. Username is shown in place of full name.","admin.privacy.showFullNameTitle":"Show Full Name: ","admin.purge.button":"Purge All Caches","admin.purge.purgeDescription":"This will purge all the in-memory caches for things like sessions, accounts, channels, etc. Deployments using High Availability will attempt to purge all the servers in the cluster. Purging the caches may adversely impact performance.","admin.purge.purgeFail":"Purging unsuccessful: {error}","admin.rate.enableLimiterDescription":"When true, APIs are throttled at rates specified below.","admin.rate.enableLimiterTitle":"Enable Rate Limiting: ","admin.rate.httpHeaderDescription":"When filled in, vary rate limiting by HTTP header field specified (e.g. when configuring NGINX set to \\"X-Real-IP\\", when configuring AmazonELB set to \\"X-Forwarded-For\\").","admin.rate.httpHeaderExample":"E.g.: \\"X-Real-IP\\", \\"X-Forwarded-For\\"","admin.rate.httpHeaderTitle":"Vary rate limit by HTTP header:","admin.rate.maxBurst":"Maximum Burst Size:","admin.rate.maxBurstDescription":"Maximum number of requests allowed beyond the per second query limit.","admin.rate.maxBurstExample":"E.g.: \\"100\\"","admin.rate.memoryDescription":"Maximum number of users sessions connected to the system as determined by \\"Vary rate limit by remote address\\" and \\"Vary rate limit by HTTP header\\" settings below.","admin.rate.memoryExample":"E.g.: \\"10000\\"","admin.rate.memoryTitle":"Memory Store Size:","admin.rate.noteDescription":"Changing properties in this section will require a server restart before taking effect.","admin.rate.queriesDescription":"Throttles API at this number of requests per second.","admin.rate.queriesExample":"E.g.: \\"10\\"","admin.rate.queriesTitle":"Maximum Queries per Second:","admin.rate.remoteDescription":"When true, rate limit API access by IP address.","admin.rate.remoteTitle":"Vary rate limit by remote address: ","admin.rate.title":"Rate Limiting","admin.rate.varyByUser":"Vary rate limit by user: ","admin.rate.varyByUserDescription":"When true, rate limit API access by user authentication token.","admin.recycle.button":"Recycle Database Connections","admin.recycle.recycleDescription":"Deployments using multiple databases can switch from one master database to another without restarting the Mattermost server by updating \\"config.json\\" to the new desired configuration and using the {reloadConfiguration} feature to load the new settings while the server is running. The administrator should then use {featureName} feature to recycle the database connections based on the new settings.","admin.recycle.recycleDescription.featureName":"Recycle Database Connections","admin.recycle.recycleDescription.reloadConfiguration":"Environment > Web Server > Reload Configuration from Disk","admin.recycle.reloadFail":"Recycling unsuccessful: {error}","admin.regenerate":"Regenerate","admin.reload.button":"Reload Configuration From Disk","admin.reload.reloadDescription":"Deployments using multiple databases can switch from one master database to another without restarting the Mattermost server by updating \\"config.json\\" to the new desired configuration and using the {featureName} feature to load the new settings while the server is running. The administrator should then use the {recycleDatabaseConnections} feature to recycle the database connections based on the new settings.","admin.reload.reloadDescription.featureName":"Reload Configuration from Disk","admin.reload.reloadDescription.recycleDatabaseConnections":"Environment > Database > Recycle Database Connections","admin.reload.reloadFail":"Reloading unsuccessful: {error}","admin.requestButton.loading":" Loading...","admin.requestButton.requestFailure":"Test Failure: {error}","admin.requestButton.requestSuccess":"Test Successful","admin.reset_email.cancel":"Cancel","admin.reset_email.newEmail":"New Email","admin.reset_email.reset":"Reset","admin.reset_email.titleReset":"Update Email","admin.reset_password.cancel":"Cancel","admin.reset_password.curentPassword":"Current Password","admin.reset_password.missing_current":"Please enter your current password.","admin.reset_password.newPassword":"New Password","admin.reset_password.reset":"Reset","admin.reset_password.titleReset":"Reset Password","admin.reset_password.titleSwitch":"Switch Account to Email/Password","admin.revoke_token_button.delete":"Delete","admin.s3.connectionS3Test":"Test Connection","admin.s3.s3Fail":"Connection unsuccessful: {error}","admin.s3.s3Success":"Connection was successful","admin.s3.testing":"Testing...","admin.saml_feature_discovery.copy":"When you connect Mattermost with your organization\'s single sign-on provider, users can access Mattermost without having to re-enter their credentials.","admin.saml_feature_discovery.title":"Integrate SAML 2.0 with Mattermost Enterprise E20","admin.saml.adminAttrDesc":"(Optional) The attribute in the SAML Assertion for designating System Admins. The users selected by the query will have access to your Mattermost server as System Admins. By default, System Admins have complete access to the Mattermost System Console.\\n \\nExisting members that are identified by this attribute will be promoted from member to System Admin upon next login. The next login is based upon Session lengths set in **System Console > Session Lengths**. It is highly recommend to manually demote users to members in **System Console > User Management** to ensure access is restricted immediately.\\n \\nNote: If this filter is removed/changed, System Admins that were promoted via this filter will be demoted to members and will not retain access to the System Console. When this filter is not in use, System Admins can be manually promoted/demoted in **System Console > User Management**.","admin.saml.adminAttrEx":"E.g.: \\"usertype=Admin\\" or \\"isAdmin=true\\"","admin.saml.adminAttrTitle":"Admin Attribute:","admin.saml.assertionConsumerServiceURLEx":"E.g.: \\"https://\'<your-mattermost-url>\'/login/sso/saml\\"","admin.saml.assertionConsumerServiceURLPopulatedDesc":"This field is also known as the Assertion Consumer Service URL.","admin.saml.assertionConsumerServiceURLTitle":"Service Provider Login URL:","admin.saml.canonicalAlgorithmDescription.c14":"Specify the Canonicalization algorithm (Canonical XML 1.1).  Please see more information provided at http://www.w3.org/2006/12/xml-c14n11","admin.saml.canonicalAlgorithmDescription.exc":"Specify the Canonicalization algorithm (Exclusive XML Canonicalization 1.0).  Please see more information provided at http://www.w3.org/2001/10/xml-exc-c14n#","admin.saml.canonicalAlgorithmDisplay.n10":"Exclusive XML Canonicalization 1.0 (omit comments)","admin.saml.canonicalAlgorithmDisplay.n11":"Canonical XML 1.1 (omit comments)","admin.saml.canonicalAlgorithmTitle":"Canonicalization Algorithm","admin.saml.emailAttrDesc":"The attribute in the SAML Assertion that will be used to populate the email addresses of users in Mattermost.","admin.saml.emailAttrEx":"E.g.: \\"Email\\" or \\"PrimaryEmail\\"","admin.saml.emailAttrTitle":"Email Attribute:","admin.saml.enableAdminAttrTitle":"Enable Admin Attribute:","admin.saml.enableDescription":"When true, Mattermost allows login using SAML 2.0. Please see [documentation](!http://docs.mattermost.com/deployment/sso-saml.html) to learn more about configuring SAML for Mattermost.","admin.saml.enableSyncWithLdapDescription":"When true, Mattermost periodically synchronizes SAML user attributes, including user deactivation and removal, from AD/LDAP. Enable and configure synchronization settings at **Authentication > AD/LDAP**. When false, user attributes are updated from SAML during user login. See [documentation](!https://about.mattermost.com/default-saml-ldap-sync) to learn more.","admin.saml.enableSyncWithLdapIncludeAuthDescription":"When true, Mattermost will override the SAML ID attribute with the AD/LDAP ID attribute if configured or override the SAML Email attribute with the AD/LDAP Email attribute if SAML ID attribute is not present.  This will allow you automatically migrate users from Email binding to ID binding to prevent creation of new users when an email address changes for a user. Moving from true to false, will remove the override from happening.\\n \\n**Note:** SAML IDs must match the LDAP IDs to prevent disabling of user accounts.  Please review [documentation](!https://docs.mattermost.com/deployment/sso-saml-ldapsync.html) for more information.","admin.saml.enableSyncWithLdapIncludeAuthTitle":"Override SAML bind data with AD/LDAP information:","admin.saml.enableSyncWithLdapTitle":"Enable Synchronizing SAML Accounts With AD/LDAP:","admin.saml.enableTitle":"Enable Login With SAML 2.0:","admin.saml.encryptDescription":"When false, Mattermost will not decrypt SAML Assertions encrypted with your Service Provider Public Certificate. Disabling encryption is not recommended for production environments.","admin.saml.encryptTitle":"Enable Encryption:","admin.saml.firstnameAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to populate the first name of users in Mattermost.","admin.saml.firstnameAttrEx":"E.g.: \\"FirstName\\"","admin.saml.firstnameAttrTitle":"First Name Attribute:","admin.saml.getSamlMetadataFromIDPFail":"SAML Metadata URL did not connect and pull data successfully","admin.saml.getSamlMetadataFromIDPFetching":"Fetching...","admin.saml.getSamlMetadataFromIDPSuccess":"SAML Metadata retrieved successfully. Two fields and one certificate have been updated","admin.saml.getSamlMetadataFromIDPUrl":"Get SAML Metadata From IdP","admin.saml.guestAttrDesc":"(Optional) Requires Guest Access to be enabled before being applied. The attribute in the SAML Assertion that will be used to apply a guest role to users in Mattermost. Guests are prevented from accessing teams or channels upon logging in until they are assigned a team and at least one channel.\\n \\nNote: If this attribute is removed/changed from your guest user in SAML and the user is still active, they will not be promoted to a member and will retain their Guest role. Guests can be promoted in **System Console > User Management**.\\n \\n \\nExisting members that are identified by this attribute as a guest will be demoted from a member to a guest when they are asked to login next. The next login is based upon Session lengths set in **System Console > Session Lengths**. It is highly recommend to manually demote users to guests in **System Console > User Management ** to ensure access is restricted immediately.","admin.saml.guestAttrEx":"E.g.: \\"usertype=Guest\\" or \\"isGuest=true\\"","admin.saml.guestAttrTitle":"Guest Attribute:","admin.saml.idAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to bind users from SAML to users in Mattermost.","admin.saml.idAttrEx":"E.g.: \\"Id\\"","admin.saml.idAttrTitle":"Id Attribute:","admin.saml.idpCertificateFileDesc":"The public authentication certificate issued by your Identity Provider.","admin.saml.idpCertificateFileRemoveDesc":"Remove the public authentication certificate issued by your Identity Provider.","admin.saml.idpCertificateFileTitle":"Identity Provider Public Certificate:","admin.saml.idpDescriptorUrlDesc":"The issuer URL for the Identity Provider you use for SAML requests.","admin.saml.idpDescriptorUrlEx":"E.g.: \\"https://idp.example.org/SAML2/issuer\\"","admin.saml.idpDescriptorUrlTitle":"Identity Provider Issuer URL:","admin.saml.idpMetadataUrlDesc":"The URL where Mattermost sends a request to obtain metadata","admin.saml.idpMetadataUrlEx":"E.g.: \\"https://idp.example.org/SAML2/saml/metadata\\"","admin.saml.idpMetadataUrlTitle":"Identity Provider Metadata URL:","admin.saml.idpUrlDesc":"The URL where Mattermost sends a SAML request to start login sequence.","admin.saml.idpUrlEx":"E.g.: \\"https://idp.example.org/SAML2/SSO/Login\\"","admin.saml.idpUrlTitle":"SAML SSO URL:","admin.saml.ignoreGuestsLdapSyncDesc":"When true, Mattermost will ignore Guest Users who are identified by the Guest Attribute, when synchronizing with AD/LDAP for user deactivation and removal and Guest deactivation will need to be managed manually via System Console > Users.","admin.saml.ignoreGuestsLdapSyncTitle":"Ignore Guest Users when  Synchronizing with AD/LDAP","admin.saml.lastnameAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to populate the last name of users in Mattermost.","admin.saml.lastnameAttrEx":"E.g.: \\"LastName\\"","admin.saml.lastnameAttrTitle":"Last Name Attribute:","admin.saml.localeAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to populate the language of users in Mattermost.","admin.saml.localeAttrEx":"E.g.: \\"Locale\\" or \\"PrimaryLanguage\\"","admin.saml.localeAttrTitle":"Preferred Language Attribute:","admin.saml.loginButtonTextDesc":"(Optional) The text that appears in the login button on the login page. Defaults to \\"SAML\\".","admin.saml.loginButtonTextEx":"E.g.: \\"OKTA\\"","admin.saml.loginButtonTextTitle":"Login Button Text:","admin.saml.nicknameAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to populate the nickname of users in Mattermost.","admin.saml.nicknameAttrEx":"E.g.: \\"Nickname\\"","admin.saml.nicknameAttrTitle":"Nickname Attribute:","admin.saml.positionAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to populate the position of users in Mattermost.","admin.saml.positionAttrEx":"E.g.: \\"Role\\"","admin.saml.positionAttrTitle":"Position Attribute:","admin.saml.privateKeyFileFileDesc":"The private key used to decrypt SAML Assertions from the Identity Provider.","admin.saml.privateKeyFileFileRemoveDesc":"Remove the private key used to decrypt SAML Assertions from the Identity Provider.","admin.saml.privateKeyFileTitle":"Service Provider Private Key:","admin.saml.publicCertificateFileDesc":"The certificate used to generate the signature on a SAML request to the Identity Provider for a service provider initiated SAML login, when Mattermost is the Service Provider.","admin.saml.publicCertificateFileRemoveDesc":"Remove the certificate used to generate the signature on a SAML request to the Identity Provider for a service provider initiated SAML login, when Mattermost is the Service Provider.","admin.saml.publicCertificateFileTitle":"Service Provider Public Certificate:","admin.saml.remove.idp_certificate":"Remove Identity Provider Certificate","admin.saml.remove.privKey":"Remove Service Provider Private Key","admin.saml.remove.sp_certificate":"Remove Service Provider Certificate","admin.saml.removing.certificate":"Removing Certificate...","admin.saml.removing.privKey":"Removing Private Key...","admin.saml.serviceProviderIdentifierDesc":"The unique identifier for the Service Provider, usually the same as Service Provider Login URL. In ADFS, this MUST match the Relying Party Identifier.","admin.saml.serviceProviderIdentifierEx":"E.g.: \\"https://\'<your-mattermost-url>\'/login/sso/saml\\"","admin.saml.serviceProviderIdentifierTitle":"Service Provider Identifier:","admin.saml.signatureAlgorithmDescription.sha1":"Specify the Signature algorithm used to sign the request (RSAwithSHA1). Please see more information provided at http://www.w3.org/2000/09/xmldsig#rsa-sha1","admin.saml.signatureAlgorithmDescription.sha256":"Specify the Signature algorithm used to sign the request (RSAwithSHA256). Please see more information provided at http://www.w3.org/2001/04/xmldsig-more#rsa-sha256 [section 6.4.2 RSA (PKCS#1 v1.5)]","admin.saml.signatureAlgorithmDescription.sha512":"Specify the Signature algorithm used to sign the request (RSAwithSHA512). Please see more information provided at http://www.w3.org/2001/04/xmldsig-more#rsa-sha512","admin.saml.signatureAlgorithmDisplay.sha1":"RSAwithSHA1","admin.saml.signatureAlgorithmDisplay.sha256":"RSAwithSHA256","admin.saml.signatureAlgorithmDisplay.sha512":"RSAwithSHA512","admin.saml.signatureAlgorithmTitle":"Signature Algorithm","admin.saml.signRequestDescription":"When true, Mattermost will sign the SAML request using your private key. When false, Mattermost will not sign the SAML request.","admin.saml.signRequestTitle":"Sign Request:","admin.saml.uploading.certificate":"Uploading Certificate...","admin.saml.uploading.privateKey":"Uploading Private Key...","admin.saml.usernameAttrDesc":"The attribute in the SAML Assertion that will be used to populate the username field in Mattermost.","admin.saml.usernameAttrEx":"E.g.: \\"Username\\"","admin.saml.usernameAttrTitle":"Username Attribute:","admin.saml.verifyDescription":"When false, Mattermost will not verify that the signature sent from a SAML Response matches the Service Provider Login URL. Disabling verification is not recommended for production environments.","admin.saml.verifyTitle":"Verify Signature:","admin.saving":"Saving Config...","admin.security.password":"Password","admin.service.attemptDescription":"Number of login attempts allowed before a user is locked out and required to reset their password via email.","admin.service.attemptExample":"E.g.: \\"10\\"","admin.service.attemptTitle":"Maximum Login Attempts:","admin.service.cmdsDesc":"When true, custom slash commands will be allowed. See [documentation](!http://docs.mattermost.com/developer/slash-commands.html) to learn more.","admin.service.cmdsTitle":"Enable Custom Slash Commands: ","admin.service.complianceExportDesc":"When true, Mattermost will export all messages that were posted in the last 24 hours. The export task is scheduled to run once per day. See [the documentation](!https://about.mattermost.com/default-compliance-export-documentation) to learn more.","admin.service.complianceExportTitle":"Enable Compliance Export:","admin.service.corsAllowCredentialsDescription":"When true, requests that pass validation will include the Access-Control-Allow-Credentials header.","admin.service.corsAllowCredentialsLabel":"CORS Allow Credentials:","admin.service.corsDebugDescription":"When true, prints messages to the logs to help when developing an integration that uses CORS. These messages will include the structured key value pair \\"source\\":\\"cors\\".","admin.service.CorsDebugLabel":"CORS Debug:","admin.service.corsDescription":"Enable HTTP Cross origin request from a specific domain. Use \\"*\\" if you want to allow CORS from any domain or leave it blank to disable it. Should not be set to \\"*\\" in production.","admin.service.corsEx":"http://example.com","admin.service.corsExposedHeadersDescription":"Whitelist of headers that will be accessible to the requester.","admin.service.corsExposedHeadersTitle":"CORS Exposed Headers:","admin.service.corsHeadersEx":"X-My-Header","admin.service.corsTitle":"Enable cross-origin requests from:","admin.service.developerDesc":"When true, JavaScript errors are shown in a purple bar at the top of the user interface. Not recommended for use in production. ","admin.service.developerTitle":"Enable Developer Mode: ","admin.service.disableBotOwnerDeactivatedTitle":"Disable bot accounts when owner is deactivated:","admin.service.disableBotWhenOwnerIsDeactivated":"When a user is deactivated, disables all bot accounts managed by the user. To re-enable bot accounts, go to [Integrations > Bot Accounts]({siteURL}/_redirect/integrations/bots).","admin.service.enableBotAccountCreation":"When true, System Admins can create bot accounts for integrations in [Integrations > Bot Accounts]({siteURL}/_redirect/integrations/bots). Bot accounts are similar to user accounts except they cannot be used to log in. See [documentation](https://mattermost.com/pl/default-bot-accounts) to learn more.","admin.service.enableBotTitle":"Enable Bot Account Creation: ","admin.service.enforceMfaDesc":"When true, [multi-factor authentication](!https://docs.mattermost.com/deployment/auth.html) is required for login. New users will be required to configure MFA on signup. Logged in users without MFA configured are redirected to the MFA setup page until configuration is complete.\\n \\nIf your system has users with login methods other than AD/LDAP and email, MFA must be enforced with the authentication provider outside of Mattermost.","admin.service.enforceMfaTitle":"Enforce Multi-factor Authentication:","admin.service.extendSessionLengthActivity.helpText":"When true, sessions will be automatically extended when the user is active in their Mattermost client. Users sessions will only expire if they are not active in their Mattermost client for the entire duration of the session lengths defined in the fields below. When false, sessions will not extend with activity in Mattermost. User sessions will immediately expire at the end of the session length or idle timeouts defined below. ","admin.service.extendSessionLengthActivity.label":"Extend session length with activity: ","admin.service.forward80To443":"Forward port 80 to 443:","admin.service.forward80To443Description":"Forwards all insecure traffic from port 80 to secure port 443. Not recommended when using a proxy server.","admin.service.forward80To443Description.disabled":"Forwards all insecure traffic from port 80 to secure port 443. Not recommended when using a proxy server.\\n \\nThis setting cannot be enabled until your server is [listening](#ListenAddress) on port 443.","admin.service.googleDescription":"Set this key to enable the display of titles for embedded YouTube video previews. Without the key, YouTube previews will still be created based on hyperlinks appearing in messages or comments but they will not show the video title. View a [Google Developers Tutorial](!https://www.youtube.com/watch?v=Im69kzhpR3I) for instructions on how to obtain a key and add YouTube Data API v3 as a service to your key.","admin.service.googleExample":"E.g.: \\"7rAh6iwQCkV4cA1Gsg3fgGOXJAQ43QV\\"","admin.service.googleTitle":"Google API Key:","admin.service.iconDescription":"When true, webhooks, slash commands and other integrations, such as [Zapier](!https://docs.mattermost.com/integrations/zapier.html), will be allowed to change the profile picture they post with. Note: Combined with allowing integrations to override usernames, users may be able to perform phishing attacks by attempting to impersonate other users.","admin.service.iconTitle":"Enable integrations to override profile picture icons:","admin.service.insecureTlsDesc":"When true, any outgoing HTTPS requests will accept unverified, self-signed certificates. For example, outgoing webhooks to a server with a self-signed TLS certificate, using any domain, will be allowed. Note that this makes these connections susceptible to man-in-the-middle attacks.","admin.service.insecureTlsTitle":"Enable Insecure Outgoing Connections: ","admin.service.integrationAdmin":"Restrict managing integrations to Admins:","admin.service.integrationAdminDesc":"When true, webhooks and slash commands can only be created, edited and viewed by Team and System Admins, and OAuth 2.0 applications by System Admins. Integrations are available to all users after they have been created by the Admin.","admin.service.internalConnectionsDesc":"A whitelist of local network addresses that can be requested by the Mattermost server on behalf of a client. Care should be used when configuring this setting to prevent unintended access to your local network. See [documentation](!https://mattermost.com/pl/default-allow-untrusted-internal-connections) to learn more.","admin.service.internalConnectionsEx":"webhooks.internal.example.com 127.0.0.1 10.0.16.0/28","admin.service.internalConnectionsTitle":"Allow untrusted internal connections to: ","admin.service.letsEncryptCertificateCacheFile":"Let\'s Encrypt Certificate Cache File:","admin.service.letsEncryptCertificateCacheFileDescription":"Certificates retrieved and other data about the Let\'s Encrypt service will be stored in this file.","admin.service.listenAddress":"Listen Address:","admin.service.listenDescription":"The address and port to which to bind and listen. Specifying \\":8065\\" will bind to all network interfaces. Specifying \\"127.0.0.1:8065\\" will only bind to the network interface having that IP address. If you choose a port of a lower level (called \\"system ports\\" or \\"well-known ports\\", in the range of 0-1023), you must have permissions to bind to that port. On Linux you can use: \\"sudo setcap cap_net_bind_service=+ep ./bin/mattermost\\" to allow Mattermost to bind to well-known ports.","admin.service.listenExample":"E.g.: \\":8065\\"","admin.service.managedResourcePaths":"Managed Resource Paths:","admin.service.managedResourcePathsDescription":"A comma-separated list of paths on the Mattermost server that are managed by another service. See [here](!https://docs.mattermost.com/install/desktop-managed-resources.html) for more information.","admin.service.mfaDesc":"When true, users with AD/LDAP or email login can add multi-factor authentication to their account using Google Authenticator.","admin.service.mfaTitle":"Enable Multi-factor Authentication:","admin.service.minimumHashtagLengthDescription":"Minimum number of characters in a hashtag. This must be greater than or equal to 2. MySQL databases must be configured to support searching strings shorter than three characters, [see documentation](!https://dev.mysql.com/doc/refman/8.0/en/fulltext-fine-tuning.html).","admin.service.minimumHashtagLengthExample":"E.g.: \\"3\\"","admin.service.minimumHashtagLengthTitle":"Minimum Hashtag Length:","admin.service.mobileSessionDays":"Session Length Mobile (days):","admin.service.mobileSessionDaysDesc":"The number of days from the last time a user entered their credentials to the expiry of the user\'s session. After changing this setting, the new session length will take effect after the next time the user enters their credentials.","admin.service.mobileSessionDaysDesc.extendLength":"Set the number of days from the last activity in Mattermost to the expiry of the user’s session on mobile. After changing this setting, the new session length will take effect after the next time the user enters their credentials.","admin.service.outWebhooksDesc":"When true, outgoing webhooks will be allowed. See [documentation](!http://docs.mattermost.com/developer/webhooks-outgoing.html) to learn more.","admin.service.outWebhooksTitle":"Enable Outgoing Webhooks: ","admin.service.overrideDescription":"When true, webhooks, slash commands and other integrations, such as [Zapier](!https://docs.mattermost.com/integrations/zapier.html), will be allowed to change the username they are posting as. Note: Combined with allowing integrations to override profile picture icons, users may be able to perform phishing attacks by attempting to impersonate other users.","admin.service.overrideTitle":"Enable integrations to override usernames:","admin.service.readTimeout":"Read Timeout:","admin.service.readTimeoutDescription":"Maximum time allowed from when the connection is accepted to when the request body is fully read.","admin.service.sessionCache":"Session Cache (minutes):","admin.service.sessionCacheDesc":"The number of minutes to cache a session in memory.","admin.service.sessionDaysEx":"E.g.: \\"30\\"","admin.service.sessionIdleTimeout":"Session Idle Timeout (minutes):","admin.service.sessionIdleTimeoutDesc":"The number of minutes from the last time a user was active on the system to the expiry of the user\'s session. Once expired, the user will need to log in to continue. Minimum is 5 minutes, and 0 is unlimited.\\n \\nApplies to the desktop app and browsers. For mobile apps, use an EMM provider to lock the app when not in use. In High Availability mode, enable IP hash load balancing for reliable timeout measurement.","admin.service.sessionIdleTimeoutEx":"E.g.: \\"60\\"","admin.service.sessionMinutesEx":"E.g.: \\"10\\"","admin.service.siteURL":"Site URL:","admin.service.siteURLDescription":"The URL that users will use to access Mattermost. Standard ports, such as 80 and 443, can be omitted, but non-standard ports are required. For example: http://example.com:8065. This setting is required.\\n \\nMattermost may be hosted at a subpath. For example: http://example.com:8065/company/mattermost. A restart is required before the server will work correctly.","admin.service.siteURLExample":"E.g.: \\"http://example.com:8065\\"","admin.service.ssoSessionDays":"Session Length SSO (days):","admin.service.ssoSessionDaysDesc":"The number of days from the last time a user entered their credentials to the expiry of the user\'s session. If the authentication method is SAML or GitLab, the user may automatically be logged back in to Mattermost if they are already logged in to SAML or GitLab. After changing this setting, the setting will take effect after the next time the user enters their credentials.","admin.service.ssoSessionDaysDesc.extendLength":"Set the number of days from the last activity in Mattermost to the expiry of the user’s session for SSO authentication, such as SAML, GitLab and OAuth 2.0. If the authentication method is SAML or GitLab, the user may automatically be logged back in to Mattermost if they are already logged in to SAML or GitLab. After changing this setting, the setting will take effect after the next time the user enters their credentials.","admin.service.testingDescription":"When true, /test slash command is enabled to load test accounts, data and text formatting. Changing this requires a server restart before taking effect.","admin.service.testingTitle":"Enable Testing Commands: ","admin.service.testSiteURL":"Test Live URL","admin.service.testSiteURLFail":"Test unsuccessful: {error}","admin.service.testSiteURLSuccess":"Test successful. This is a valid URL.","admin.service.testSiteURLTesting":"Testing...","admin.service.tlsCertFile":"TLS Certificate File:","admin.service.tlsCertFileDescription":"The certificate file to use.","admin.service.tlsKeyFile":"TLS Key File:","admin.service.tlsKeyFileDescription":"The private key file to use.","admin.service.useLetsEncrypt":"Use Let\'s Encrypt:","admin.service.useLetsEncryptDescription":"Enable the automatic retrieval of certificates from Let\'s Encrypt. The certificate will be retrieved when a client attempts to connect from a new domain. This will work with multiple domains.","admin.service.useLetsEncryptDescription.disabled":"Enable the automatic retrieval of certificates from Let\'s Encrypt. The certificate will be retrieved when a client attempts to connect from a new domain. This will work with multiple domains.\\n \\nThis setting cannot be enabled unless the [Forward port 80 to 443](#Forward80To443) setting is set to true.","admin.service.userAccessTokensDescription":"When true, users can create [user access tokens](!https://about.mattermost.com/default-user-access-tokens) for integrations in **Account Settings > Security**. They can be used to authenticate against the API and give full access to the account.\\n\\n To manage who can create personal access tokens or to search users by token ID, go to the **User Management > Users** page.","admin.service.userAccessTokensTitle":"Enable Personal Access Tokens: ","admin.service.webhooksDescription":"When true, incoming webhooks will be allowed. To help combat phishing attacks, all posts from webhooks will be labelled by a BOT tag. See [documentation](!http://docs.mattermost.com/developer/webhooks-incoming.html) to learn more.","admin.service.webhooksTitle":"Enable Incoming Webhooks: ","admin.service.webSessionDays":"Session Length AD/LDAP and Email (days):","admin.service.webSessionDaysDesc":"The number of days from the last time a user entered their credentials to the expiry of the user\'s session. After changing this setting, the new session length will take effect after the next time the user enters their credentials.","admin.service.webSessionDaysDesc.extendLength":"Set the number of days from the last activity in Mattermost to the expiry of the user’s session when using email and AD/LDAP authentication. After changing this setting, the new session length will take effect after the next time the user enters their credentials.","admin.service.writeTimeout":"Write Timeout:","admin.service.writeTimeoutDescription":"If using HTTP (insecure), this is the maximum time allowed from the end of reading the request headers until the response is written. If using HTTPS, it is the total time from when the connection is accepted until the response is written.","admin.sessionLengths.title":"Session Lengths","admin.set_by_env":"This setting has been set through an environment variable. It cannot be changed through the System Console.","admin.sidebar.about":"About","admin.sidebar.announcement":"Announcement Banner","admin.sidebar.authentication":"Authentication","admin.sidebar.billing":"Billing & Account","admin.sidebar.billing_history":"Billing History","admin.sidebar.blevesearch":"Bleve","admin.sidebar.channels":"Channels","admin.sidebar.company_info":"Company Information","admin.sidebar.compliance":"Compliance","admin.sidebar.complianceExport":"Compliance Export (Beta)","admin.sidebar.complianceMonitoring":"Compliance Monitoring","admin.sidebar.cors":"CORS","admin.sidebar.customization":"Customization","admin.sidebar.customTermsOfService":"Custom Terms of Service (Beta)","admin.sidebar.database":"Database","admin.sidebar.dataRetentionPolicy":"Data Retention Policy","admin.sidebar.developer":"Developer","admin.sidebar.elasticsearch":"Elasticsearch","admin.sidebar.email":"Email","admin.sidebar.emoji":"Emoji","admin.sidebar.environment":"Environment","admin.sidebar.experimental":"Experimental","admin.sidebar.experimentalFeatures":"Features","admin.sidebar.fileSharingDownloads":"File Sharing and Downloads","admin.sidebar.fileStorage":"File Storage","admin.sidebar.filter":"Find settings","admin.sidebar.gif":"GIF (Beta)","admin.sidebar.gitlab":"GitLab","admin.sidebar.groups":"Groups","admin.sidebar.guest_access":"Guest Access (Beta)","admin.sidebar.highAvailability":"High Availability","admin.sidebar.imageProxy":"Image Proxy","admin.sidebar.integrations":"Integrations","admin.sidebar.ldap":"AD/LDAP","admin.sidebar.license":"Edition and License","admin.sidebar.localization":"Localization","admin.sidebar.logging":"Logging","admin.sidebar.logs":"Server Logs","admin.sidebar.metrics":"Performance Monitoring","admin.sidebar.mfa":"MFA","admin.sidebar.notices":"Notices","admin.sidebar.notifications":"Notifications","admin.sidebar.oauth":"OAuth 2.0","admin.sidebar.password":"Password","admin.sidebar.payment_info":"Payment Information","admin.sidebar.permissions":"Permissions","admin.sidebar.plugins":"Plugins (Beta)","admin.sidebar.posts":"Posts","admin.sidebar.publicLinks":"Public Links","admin.sidebar.pushNotificationServer":"Push Notification Server","admin.sidebar.rateLimiting":"Rate Limiting","admin.sidebar.reporting":"Reporting","admin.sidebar.saml":"SAML 2.0","admin.sidebar.sessionLengths":"Session Lengths","admin.sidebar.signup":"Signup","admin.sidebar.site":"Site Configuration","admin.sidebar.siteStatistics":"Site Statistics","admin.sidebar.smtp":"SMTP","admin.sidebar.subscription":"Subscription","admin.sidebar.systemRoles":"System Roles (Beta)","admin.sidebar.teams":"Teams","admin.sidebar.teamStatistics":"Team Statistics","admin.sidebar.userManagement":"User Management","admin.sidebar.users":"Users","admin.sidebar.usersAndTeams":"Users and Teams","admin.sidebar.webServer":"Web Server","admin.sidebarHeader.systemConsole":"System Console","admin.site.announcementBanner":"Announcement Banner","admin.site.customization":"Customization","admin.site.emoji":"Emoji","admin.site.fileSharingDownloads":"File Sharing and Downloads","admin.site.localization":"Localization","admin.site.notices":"Notices","admin.site.posts":"Posts","admin.site.public_links":"Public Links","admin.site.usersAndTeams":"Users and Teams","admin.sql.connMaxLifetimeDescription":"Maximum lifetime (in milliseconds) for a connection to the database.","admin.sql.connMaxLifetimeExample":"E.g.: \\"3600000\\"","admin.sql.connMaxLifetimeTitle":"Maximum Connection Lifetime:","admin.sql.dataSource":"Data Source:","admin.sql.dataSourceDescription":"Set the database source in the config.json file.","admin.sql.disableDatabaseSearchDescription":"Disables the use of the database to perform searches. Should only be used when other [search engines](!https://mattermost.com/pl/default-search-engine) are configured.","admin.sql.disableDatabaseSearchTitle":"Disable database search: ","admin.sql.driverName":"Driver Name:","admin.sql.driverNameDescription":"Set the database driver in the config.json file.","admin.sql.maxConnectionsDescription":"Maximum number of idle connections held open to the database.","admin.sql.maxConnectionsExample":"E.g.: \\"10\\"","admin.sql.maxConnectionsTitle":"Maximum Idle Connections:","admin.sql.maxOpenDescription":"Maximum number of open connections held open to the database.","admin.sql.maxOpenExample":"E.g.: \\"10\\"","admin.sql.maxOpenTitle":"Maximum Open Connections:","admin.sql.noteDescription":"Changing properties in this section will require a server restart before taking effect.","admin.sql.queryTimeoutDescription":"The number of seconds to wait for a response from the database after opening a connection and sending the query. Errors that you see in the UI or in the logs as a result of a query timeout can vary depending on the type of query.","admin.sql.queryTimeoutExample":"E.g.: \\"30\\"","admin.sql.queryTimeoutTitle":"Query Timeout:","admin.sql.traceDescription":"(Development Mode) When true, executing SQL statements are written to the log.","admin.sql.traceTitle":"SQL Statement Logging: ","admin.support.aboutDesc":"The URL for the About link on the Mattermost login and sign-up pages. If this field is empty, the About link is hidden from users.","admin.support.aboutTitle":"About Link:","admin.support.emailHelp":"Email address displayed on email notifications and during tutorial for end users to ask support questions.","admin.support.emailTitle":"Support Email:","admin.support.enableAskCommunityDesc":"When true, \\"Ask the community\\" link appears on the Mattermost user interface and Main Menu, which allows users to join the Mattermost Community to ask questions and help others troubleshoot issues. When false, the link is hidden from users.","admin.support.enableAskCommunityTitle":"Enable Ask Community Link:","admin.support.enableTermsOfServiceHelp":"When true, new users must accept the terms of service before accessing any Mattermost teams on desktop, web or mobile. Existing users must accept them after login or a page refresh.\\n \\nTo update terms of service link displayed in account creation and login pages, go to [Site Configuration > Customization](../site_config/customization).","admin.support.enableTermsOfServiceTitle":"Enable Custom Terms of Service:","admin.support.helpDesc":"The URL for the Help link on the Mattermost login page, sign-up pages, and Main Menu. If this field is empty, the Help link is hidden from users.","admin.support.helpTitle":"Help Link:","admin.support.privacyDesc":"The URL for the Privacy link on the login and sign-up pages. If this field is empty, the Privacy link is hidden from users.","admin.support.privacyTitle":"Privacy Policy Link:","admin.support.problemDesc":"The URL for the Report a Problem link in the Main Menu. If this field is empty, the link is removed from the Main Menu.","admin.support.problemTitle":"Report a Problem Link:","admin.support.termsDesc":"Link to the terms under which users may use your online service. By default, this includes the \\"Mattermost Conditions of Use (End Users)\\" explaining the terms under which Mattermost software is provided to end users. If you change the default link to add your own terms for using the service you provide, your new terms must include a link to the default terms so end users are aware of the Mattermost Conditions of Use (End User) for Mattermost software.","admin.support.termsOfServiceReAcceptanceHelp":"The number of days before Terms of Service acceptance expires, and the terms must be re-accepted.","admin.support.termsOfServiceReAcceptanceTitle":"Re-Acceptance Period:","admin.support.termsOfServiceTextHelp":"Text that will appear in your custom Terms of Service. Supports Markdown-formatted text.","admin.support.termsOfServiceTextTitle":"Custom Terms of Service Text:","admin.support.termsOfServiceTitle":"Custom Terms of Service (Beta)","admin.support.termsTitle":"Terms of Service Link:","admin.system_users.allUsers":"All Users","admin.system_users.guest":"Guest","admin.system_users.inactive":"Inactive","admin.system_users.noTeams":"No Teams","admin.system_users.revoke_all_sessions_button":"Revoke All Sessions","admin.system_users.revoke_all_sessions_modal_message":"This action revokes all sessions in the system. All users will be logged out from all devices. Are you sure you want to revoke all sessions?","admin.system_users.revoke_all_sessions_modal_title":"Revoke all sessions in the system","admin.system_users.revokeAllSessions":"Revoke All Sessions","admin.system_users.system_admin":"System Admin","admin.system_users.title":"{siteName} Users","admin.systemUserDetail.teamList.header.name":"Name","admin.systemUserDetail.teamList.header.role":"Role","admin.systemUserDetail.teamList.header.type":"Type","admin.systemUserDetail.teamList.teamRole.admin":"Team Admin","admin.systemUserDetail.teamList.teamRole.guest":"Guest","admin.systemUserDetail.teamList.teamRole.member":"Team Member","admin.systemUserDetail.teamList.teamType.anyoneCanJoin":"Anyone Can Join","admin.systemUserDetail.teamList.teamType.groupSync":"Group Sync","admin.systemUserDetail.teamList.teamType.inviteOnly":"Invite Only","admin.systemUserDetail.title":"User Configuration","admin.team_channel_settings.cancel":"Cancel","admin.team_channel_settings.channel_users_will_be_removed":"{amount, number} {amount, plural, one {User} other {Users}} will be removed from this channel. They are not in groups linked to this channel.","admin.team_channel_settings.convertAndRemoveConfirmModal.cancel":"No, cancel","admin.team_channel_settings.convertAndRemoveConfirmModal.toPrivateConfirm":"Yes, convert channel to private and remove {amount, number} {amount, plural, one {user} other {users}}","admin.team_channel_settings.convertAndRemoveConfirmModal.toPrivateTitle":"Convert channel to a private and remove {amount, number} {amount, plural, one {user} other {users}}?","admin.team_channel_settings.convertAndRemoveConfirmModal.toPublicConfirm":"Yes, convert channel to public and remove {amount, number} {amount, plural, one {user} other {users}}","admin.team_channel_settings.convertAndRemoveConfirmModal.toPublicTitle":"Convert channel to public and remove {amount, number} {amount, plural, one {user} other {users}}","admin.team_channel_settings.convertConfirmModal.cancel":"No, cancel","admin.team_channel_settings.convertConfirmModal.toPrivateConfirm":"Yes, convert to private channel","admin.team_channel_settings.convertConfirmModal.toPrivateMessage":"When you convert **{displayName}** to a private channel, history and membership are preserved. Publicly shared files remain accessible to anyone with the link. Membership in a private channel is by invitation only.  \\n \\nAre you sure you want to convert **{displayName}** to a private channel?","admin.team_channel_settings.convertConfirmModal.toPrivateTitle":"Convert {displayName} to a private channel?","admin.team_channel_settings.convertConfirmModal.toPublicConfirm":"Yes, convert to public channel","admin.team_channel_settings.convertConfirmModal.toPublicMessage":"When you convert **{displayName}** to a public channel, history and membership are preserved. Public channels are discoverable and can by joined by users on the system without invitation.  \\n \\nAre you sure you want to convert **{displayName}** to a public channel?","admin.team_channel_settings.convertConfirmModal.toPublicTitle":"Convert {displayName} to a public channel?","admin.team_channel_settings.group_list.membersHeader":"Member Count","admin.team_channel_settings.group_list.nameHeader":"Group Name","admin.team_channel_settings.group_list.no-groups":"No groups specified yet","admin.team_channel_settings.group_list.no-synced-groups":"At least one group must be specified","admin.team_channel_settings.group_list.rolesHeader":"Roles","admin.team_channel_settings.group_row.channelAdmin":"Channel Admin","admin.team_channel_settings.group_row.member":"Member","admin.team_channel_settings.group_row.memberRole":"Member Role","admin.team_channel_settings.group_row.members":"{memberCount, number} {memberCount, plural, one {member} other {members}}","admin.team_channel_settings.group_row.remove":"Remove","admin.team_channel_settings.group_row.teamAdmin":"Team Admin","admin.team_channel_settings.groupMembers.close":"Close","admin.team_channel_settings.list.paginatorCount":"{startCount, number} - {endCount, number} of {total, number}","admin.team_channel_settings.need_domains":"Please specify allowed email domains.","admin.team_channel_settings.need_groups":"You must add at least one group to manage this team by sync group members.","admin.team_channel_settings.need_groups_channel":"You must add at least one group to manage this channel by sync group members.","admin.team_channel_settings.removeConfirmModal.messageChannel":"{amount, number} {amount, plural, one {user} other {users}} will be removed. They are not in groups linked to this channel. Are you sure you wish to remove {amount, plural, one {this user} other {these users}}?","admin.team_channel_settings.removeConfirmModal.messageTeam":"{amount, number} {amount, plural, one {user} other {users}} will be removed. They are not in groups linked to this team. Are you sure you wish to remove {amount, plural, one {this user} other {these users}}?","admin.team_channel_settings.removeConfirmModal.remove":"Save and remove {amount, plural, one {user} other {users}}","admin.team_channel_settings.removeConfirmModal.title":"Save and remove {amount, number} {amount, plural, one {user} other {users}}?","admin.team_channel_settings.saving":"Saving Config...","admin.team_channel_settings.user_list.groupsHeader":"Groups","admin.team_channel_settings.user_list.nameHeader":"Name","admin.team_channel_settings.user_list.roleHeader":"Role","admin.team_channel_settings.users_will_be_removed":"{amount, number} {amount, plural, one {user} other {users}} will be removed from this team. They are not in groups linked to this team.","admin.team_channel_settings.usersToBeRemovedModal.channel_message":"The members listed below are not in any of the groups currently linked to this channel. Because this channel is set to be managed by group sync they will all be removed once saved.","admin.team_channel_settings.usersToBeRemovedModal.close":"Close","admin.team_channel_settings.usersToBeRemovedModal.message":"The members listed below are not in any of the groups currently linked to this team. Because this team is set to be managed by group sync they will all be removed once saved.","admin.team_channel_settings.usersToBeRemovedModal.title":"**{total, number} {total, plural, one {User} other {Users}}** To Be Removed","admin.team_channel_settings.view_removed_users":"View These Users","admin.team_settings.description":"Manage team settings.","admin.team_settings.groupsPageTitle":"{siteName} Teams","admin.team_settings.team_detail.group_configuration":"Team Configuration","admin.team_settings.team_detail.groupsDescription":"Group members will be added to the team.","admin.team_settings.team_detail.groupsTitle":"Groups","admin.team_settings.team_detail.manageDescription":"Choose between inviting members manually or syncing members automatically from groups.","admin.team_settings.team_detail.manageTitle":"Team Management","admin.team_settings.team_detail.membersDescription":"A list of users who are currently in the team right now","admin.team_settings.team_detail.membersTitle":"Members","admin.team_settings.team_detail.profileDescription":"Summary of the team, including team name and description.","admin.team_settings.team_detail.profileNoDescription":"No team description added.","admin.team_settings.team_detail.profileTitle":"Team Profile","admin.team_settings.team_detail.syncedGroupsDescription":"Add and remove team members based on their group membership.","admin.team_settings.team_detail.syncedGroupsTitle":"Synced Groups","admin.team_settings.team_detail.teamDescription":"**Team Description**:","admin.team_settings.team_detail.teamName":"**Team Name**:","admin.team_settings.team_details.add_group":"Add Group","admin.team_settings.team_details.add_members":"Add Members","admin.team_settings.team_details.anyoneCanJoin":"Anyone can join this team","admin.team_settings.team_details.anyoneCanJoinDescr":"This team can be discovered allowing anyone with an account to join this team.","admin.team_settings.team_details.csvDomains":"Comma Separated Email Domain List","admin.team_settings.team_details.groupDetailsToggle":"Enable Group Mentions (Beta)","admin.team_settings.team_details.groupDetailsToggleDescr":"When enabled, this group can be mentioned in other channels and teams. This may result in the group member list being visible to all users.","admin.team_settings.team_details.specificDomains":"Only specific email domains can join this team","admin.team_settings.team_details.specificDomainsDescr":"Users can only join the team if their email matches one of the specified domains","admin.team_settings.team_details.syncGroupMembers":"Sync Group Members","admin.team_settings.team_details.syncGroupMembersDescr":"When enabled, adding and removing users from groups will add or remove them from this team. The only way of inviting members to this team is by adding the groups they belong to. [Learn More](!https://www.mattermost.com/pl/default-ldap-group-constrained-team-channel.html)","admin.team_settings.team_list.mappingHeader":"Management","admin.team_settings.team_list.nameHeader":"Name","admin.team_settings.team_list.no_teams_found":"No teams found","admin.team_settings.team_list.search_teams_errored":"Something went wrong. Try again","admin.team_settings.team_row.configure":"Edit","admin.team_settings.team_row.managementMethod.anyoneCanJoin":"Anyone Can Join","admin.team_settings.team_row.managementMethod.groupSync":"Group Sync","admin.team_settings.team_row.managementMethod.inviteOnly":"Invite Only","admin.team_settings.title":"Teams","admin.team.brandDesc":"Enable custom branding to show an image of your choice, uploaded below, and some help text, written below, on the login page.","admin.team.brandDescriptionHelp":"Description of service shown in login screens and UI. When not specified, \\"All team communication in one place, searchable and accessible anywhere\\" is displayed.","admin.team.brandDescriptionTitle":"Site Description: ","admin.team.brandImageTitle":"Custom Brand Image:","admin.team.brandTextDescription":"Text that will appear below your custom brand image on your login screen. Supports Markdown-formatted text. Maximum 500 characters allowed.","admin.team.brandTextTitle":"Custom Brand Text:","admin.team.brandTitle":"Enable Custom Branding: ","admin.team.chooseImage":"Select Image","admin.team.editOthersPostsDesc":"When true, Team Administrators and System Administrators can edit other user\'s posts.  When false, only System Administrators can edit other user\'s posts.","admin.team.editOthersPostsTitle":"Allow Team Administrators to edit others posts:","admin.team.emailInvitationsDescription":"When true users can invite others to the system using email.","admin.team.emailInvitationsTitle":"Enable Email Invitations: ","admin.team.invalidateEmailInvitesDescription":"This will invalidate active email invitations that have not been accepted by the user.  By default email invitations expire after 48 hours.","admin.team.invalidateEmailInvitesFail":"Unable to invalidate pending email invites: {error}","admin.team.invalidateEmailInvitesSuccess":"Pending email invitations invalidated successfully","admin.team.invalidateEmailInvitesTitle":"Invalidate pending email invites","admin.team.maxChannelsDescription":"Maximum total number of channels per team, including both active and archived channels.","admin.team.maxChannelsExample":"E.g.: \\"100\\"","admin.team.maxChannelsTitle":"Max Channels Per Team:","admin.team.maxNotificationsPerChannelDescription":"Maximum total number of users in a channel before users typing messages, @all, @here, and @channel no longer send notifications because of performance.","admin.team.maxNotificationsPerChannelExample":"E.g.: \\"1000\\"","admin.team.maxNotificationsPerChannelTitle":"Max Notifications Per Channel:","admin.team.maxUsersDescription":"Maximum total number of users per team, including both active and inactive users.","admin.team.maxUsersExample":"E.g.: \\"25\\"","admin.team.maxUsersTitle":"Max Users Per Team:","admin.team.noBrandImage":"No brand image uploaded","admin.team.openServerDescription":"When true, anyone can signup for a user account on this server without the need to be invited.","admin.team.openServerTitle":"Enable Open Server: ","admin.team.removeBrandImage":"Remove brand image","admin.team.restrict_direct_message_any":"Any user on the Mattermost server","admin.team.restrict_direct_message_team":"Any member of the team","admin.team.restrictDescription":"New user accounts are restricted to the above specified email domain (e.g. \\"mattermost.org\\") or list of comma-separated domains (e.g. \\"corp.mattermost.com, mattermost.org\\"). New teams can only be created by users from the above domain(s). This setting affects email login for users.","admin.team.restrictDirectMessage":"Enable users to open Direct Message channels with:","admin.team.restrictDirectMessageDesc":"\'Any user on the Mattermost server\' enables users to open a Direct Message channel with any user on the server, even if they are not on any teams together. \'Any member of the team\' limits the ability in the Direct Messages \'More\' menu to only open Direct Message channels with users who are in the same team.\\n \\nNote: This setting only affects the UI, not permissions on the server.","admin.team.restrictExample":"E.g.: \\"corp.mattermost.com, mattermost.org\\"","admin.team.restrictGuestDescription":"New user accounts are restricted to the above specified email domain (e.g. \\"mattermost.org\\") or list of comma-separated domains (e.g. \\"corp.mattermost.com, mattermost.org\\"). New teams can only be created by users from the above domain(s). This setting affects email login for users. For Guest users, please add domains under Signup > Guest Access.","admin.team.restrictTitle":"Restrict new system and team members to specified email domains:","admin.team.showFullname":"Show first and last name","admin.team.showNickname":"Show nickname if one exists, otherwise show first and last name","admin.team.showUsername":"Show username (default)","admin.team.siteNameDescription":"Name of service shown in login screens and UI. When not specified, it defaults to \\"Mattermost\\".","admin.team.siteNameExample":"E.g.: \\"Mattermost\\"","admin.team.siteNameTitle":"Site Name:","admin.team.teamCreationDescription":"When false, only System Administrators can create teams.","admin.team.teamCreationTitle":"Enable Team Creation: ","admin.team.teammateNameDisplay":"Teammate Name Display:","admin.team.teammateNameDisplayDesc":"Set how to display users\' names in posts and the Direct Messages list.","admin.team.upload":"Upload","admin.team.uploadDesc":"Customize your user experience by adding a custom image to your login screen. Recommended maximum image size is less than 2 MB.","admin.team.uploaded":"Uploaded!","admin.team.uploading":"Uploading...","admin.team.userCreationDescription":"When false, the ability to create accounts is disabled. The create account button displays error when pressed.","admin.team.userCreationTitle":"Enable Account Creation: ","admin.true":"true","admin.user_grid.channel_admin":"Channel Admin","admin.user_grid.guest":"Guest","admin.user_grid.name":"Name","admin.user_grid.new":"New","admin.user_grid.notFound":"No users found","admin.user_grid.remove":"Remove","admin.user_grid.role":"Role","admin.user_grid.system_admin":"System Admin","admin.user_grid.team_admin":"Team Admin","admin.user_item.authServiceEmail":"**Sign-in Method:** Email","admin.user_item.authServiceNotEmail":"**Sign-in Method:** {service}","admin.user_item.demoteToGuest":"Demote to Guest","admin.user_item.emailTitle":"**Email:** {email}","admin.user_item.guest":"Guest","admin.user_item.inactive":"Inactive","admin.user_item.makeActive":"Activate","admin.user_item.makeInactive":"Deactivate","admin.user_item.makeMember":"Make Team Member","admin.user_item.makeTeamAdmin":"Make Team Admin","admin.user_item.manageRoles":"Manage Roles","admin.user_item.manageTeams":"Manage Teams","admin.user_item.manageTokens":"Manage Tokens","admin.user_item.member":"Member","admin.user_item.menuAriaLabel":"User Actions Menu","admin.user_item.mfaNo":"**MFA**: No","admin.user_item.mfaYes":"**MFA**: Yes","admin.user_item.promoteToUser":"Promote to User","admin.user_item.resetEmail":"Update Email","admin.user_item.resetMfa":"Remove MFA","admin.user_item.resetPwd":"Reset Password","admin.user_item.revokeSessions":"Revoke Sessions","admin.user_item.switchToEmail":"Switch to Email/Password","admin.user_item.sysAdmin":"System Admin","admin.user_item.teamAdmin":"Team Admin","admin.user_item.teamMember":"Team Member","admin.user_item.user_id":"**User ID:** {userID}","admin.user_item.userAccessTokenPostAll":"(can create post:all personal access tokens)","admin.user_item.userAccessTokenPostAllPublic":"(can create post:channels personal access tokens)","admin.user_item.userAccessTokenYes":"(can create personal access tokens)","admin.userManagement.userDetail.addTeam":"Add Team","admin.userManagement.userDetail.authenticationMethod":"Authentication Method","admin.userManagement.userDetail.email":"Email","admin.userManagement.userDetail.mfa":"MFA","admin.userManagement.userDetail.role":"Role","admin.userManagement.userDetail.teamsSubtitle":"Teams to which this user belongs","admin.userManagement.userDetail.teamsTitle":"Team Membership","admin.userManagement.userDetail.userId":"User ID:","admin.userManagement.userDetail.username":"Username","admin.viewArchivedChannelsHelpText":"(Beta) When true, allows users to view, share and search for content of channels that have been archived. Users can only view the content in channels of which they were a member before the channel was archived.","admin.viewArchivedChannelsTitle":"Allow users to view archived channels:","admin.warn_metric.sending-email":"Sending email","admin.webserverModeDisabled":"Disabled","admin.webserverModeDisabledDescription":"The Mattermost server will not serve static files.","admin.webserverModeGzip":"gzip","admin.webserverModeGzipDescription":"The Mattermost server will serve static files compressed with gzip.","admin.webserverModeHelpText":"gzip compression applies to static content files. It is recommended to enable gzip to improve performance unless your environment has specific restrictions, such as a web proxy that distributes gzip files poorly.","admin.webserverModeTitle":"Webserver Mode:","admin.webserverModeUncompressed":"Uncompressed","admin.webserverModeUncompressedDescription":"The Mattermost server will serve static files uncompressed.","analytics.chart.loading":"Loading...","analytics.chart.meaningful":"Not enough data for a meaningful representation.","analytics.system.activeUsers":"Active Users With Posts","analytics.system.channelTypes":"Channel Types","analytics.system.dailyActiveUsers":"Daily Active Users","analytics.system.info":"Use data for only the chosen team. Exclude posts in direct message channels that are not tied to a team.","analytics.system.infoAndSkippedIntensiveQueries":"Use data for only the chosen team. Exclude posts in direct message channels that are not tied to a team. \\n \\n To maximize performance, some statistics are disabled. You can [re-enable them in config.json](!https://docs.mattermost.com/administration/statistics.html).","analytics.system.monthlyActiveUsers":"Monthly Active Users","analytics.system.postTypes":"Posts, Files and Hashtags","analytics.system.privateGroups":"Private Channels","analytics.system.publicChannels":"Public Channels","analytics.system.skippedIntensiveQueries":"To maximize performance, some statistics are disabled. You can [re-enable them in config.json](!https://docs.mattermost.com/administration/statistics.html).","analytics.system.textPosts":"Posts with Text-only","analytics.system.title":"System Statistics","analytics.system.totalBotPosts":"Total Posts from Bots","analytics.system.totalChannels":"Total Channels","analytics.system.totalCommands":"Total Commands","analytics.system.totalFilePosts":"Posts with Files","analytics.system.totalHashtagPosts":"Posts with Hashtags","analytics.system.totalIncomingWebhooks":"Incoming Webhooks","analytics.system.totalMasterDbConnections":"Master DB Conns","analytics.system.totalOutgoingWebhooks":"Outgoing Webhooks","analytics.system.totalPosts":"Total Posts","analytics.system.totalReadDbConnections":"Replica DB Conns","analytics.system.totalSessions":"Total Sessions","analytics.system.totalTeams":"Total Teams","analytics.system.totalUsers":"Total Active Users","analytics.system.totalWebsockets":"WebSocket Conns","analytics.team.activeUsers":"Active Users With Posts","analytics.team.newlyCreated":"Newly Created Users","analytics.team.noTeams":"This server has no teams for which to view statistics.","analytics.team.privateGroups":"Private Channels","analytics.team.publicChannels":"Public Channels","analytics.team.recentUsers":"Recent Active Users","analytics.team.title":"Team Statistics for {team}","analytics.team.totalPosts":"Total Posts","analytics.team.totalUsers":"Total Active Users","announcement_bar.error.email_verification_required":"Check your email inbox to verify the address.","announcement_bar.error.license_expired":"Enterprise license is expired and some features may be disabled. [Please renew](!{link}).","announcement_bar.error.license_expiring":"Enterprise license expires on {date, date, long}. [Please renew](!{link}).","announcement_bar.error.past_grace":"Enterprise license is expired and some features may be disabled. Please contact your System Administrator for details.","announcement_bar.error.preview_mode":"Preview Mode: Email notifications have not been configured.","announcement_bar.error.site_url_gitlab.full":"Please configure your [site URL](https://docs.mattermost.com/administration/config-settings.html#site-url) either on the [System Console](/admin_console/environment/web_server) or, if you\'re using GitLab Mattermost, in gitlab.rb.","announcement_bar.error.site_url.full":"Please configure your [site URL](https://docs.mattermost.com/administration/config-settings.html#site-url) on the [System Console](/admin_console/environment/web_server).","announcement_bar.error.warn_metric_status.link":"Learn more","announcement_bar.notification.email_verified":"Email verified","announcement_bar.number_active_users_warn_metric_status.text":"You now have over {limit} users. We strongly recommend using advanced features for large-scale servers.","announcement_bar.number_of_posts_warn_metric_status.text":"You now have over {limit} posts. We strongly advise using advanced features to avoid degraded performance.","announcement_bar.warn_metric_status_ack.text":"Thank you for contacting Mattermost. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_posts_ack.text":"Thank you for contacting Mattermost. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_posts.text":"You now have over 2,000,000 posts. We strongly advise using advanced features to avoid degraded performance.","announcement_bar.warn_metric_status.number_of_users_ack.text":"Thank you for contacting Mattermost. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_users.text":"You now have over 500 users. We strongly recommend using advanced features for large-scale servers.","api.channel.add_guest.added":"{addedUsername} added to the channel as a guest by {username}.","api.channel.add_member.added":"{addedUsername} added to the channel by {username}.","api.channel.delete_channel.archived":"{username} archived the channel.","api.channel.guest_join_channel.post_and_forget":"{username} joined the channel as a guest.","api.channel.join_channel.post_and_forget":"{username} joined the channel.","api.channel.leave.left":"{username} left the channel.","api.channel.post_convert_channel_to_private.updated_from":"{username} converted the channel from public to private","api.channel.post_update_channel_displayname_message_and_forget.updated_from":"{username} updated the channel display name from: {old} to: {new}","api.channel.post_update_channel_header_message_and_forget.removed":"{username} removed the channel header (was: {old})","api.channel.post_update_channel_header_message_and_forget.updated_from":"{username} updated the channel header <br></br><strong>From:</strong> {old} <br></br><strong>To:</strong> {new}","api.channel.post_update_channel_header_message_and_forget.updated_to":"{username} updated the channel header to: {new}","api.channel.remove_member.removed":"{removedUsername} was removed from the channel","api.channel.restore_channel.unarchived":"{username} unarchived the channel.","api.team.add_member.added":"{addedUsername} added to the team by {username}","api.team.join_team.post_and_forget":"{username} joined the team.","api.team.leave.left":"{username} left the team.","api.team.remove_user_from_team.removed":"{removedUsername} was removed from the team.","app.channel.post_update_channel_purpose_message.removed":"{username} removed the channel purpose (was: {old})","app.channel.post_update_channel_purpose_message.updated_from":"{username} updated the channel purpose from: {old} to: {new}","app.channel.post_update_channel_purpose_message.updated_to":"{username} updated the channel purpose to: {new}","app.plugin.marketplace_plugins.app_error":"Error connecting to the marketplace server. Please check your settings in the [System Console]({siteURL}/admin_console/plugins/plugin_management).","archivedChannelMessage":"You are viewing an **archived channel**. New messages cannot be posted.","atmos/camo":"atmos/camo","audit_table.accountActive":"Account activated","audit_table.accountInactive":"Account deactivated","audit_table.action":"Action","audit_table.attemptedAllowOAuthAccess":"Attempted to allow a new OAuth service access","audit_table.attemptedLicenseAdd":"Attempted to add new license","audit_table.attemptedLogin":"Attempted to login","audit_table.attemptedOAuthToken":"Attempted to get an OAuth access token","audit_table.attemptedPassword":"Attempted to change password","audit_table.attemptedRegisterApp":"Attempted to register a new OAuth Application with ID {id}","audit_table.attemptedReset":"Attempted to reset password","audit_table.attemptedWebhookCreate":"Attempted to create a webhook","audit_table.attemptedWebhookDelete":"Attempted to delete a webhook","audit_table.authenticated":"Successfully authenticated","audit_table.by":" by {username}","audit_table.byAdmin":" by an admin","audit_table.channelCreated":"Created the {channelName} channel","audit_table.channelDeleted":"Archived the channel with the URL {url}","audit_table.establishedDM":"Established a direct message channel with {username}","audit_table.failedExpiredLicenseAdd":"Failed to add a new license as it has either expired or not yet been started","audit_table.failedInvalidLicenseAdd":"Failed to add an invalid license","audit_table.failedLogin":"FAILED login attempt","audit_table.failedOAuthAccess":"Failed to allow a new OAuth service access - the redirect URI did not match the previously registered callback","audit_table.failedPassword":"Failed to change password - tried to update user password who was logged in through OAuth","audit_table.failedWebhookCreate":"Failed to create a webhook - bad channel permissions","audit_table.failedWebhookDelete":"Failed to delete a webhook - inappropriate conditions","audit_table.headerUpdated":"Updated the {channelName} channel header","audit_table.ip":"IP Address","audit_table.licenseRemoved":"Successfully removed a license","audit_table.loginAttempt":" (Login attempt)","audit_table.loginFailure":" (Login failure)","audit_table.logout":"Logged out of your account","audit_table.member":"member","audit_table.nameUpdated":"Updated the {channelName} channel name","audit_table.oauthTokenFailed":"Failed to get an OAuth access token - {token}","audit_table.revokedAll":"Revoked all current sessions for the team","audit_table.sentEmail":"Sent an email to {email} to reset your password","audit_table.session":"Session ID","audit_table.sessionRevoked":"The session with id {sessionId} was revoked","audit_table.successfullLicenseAdd":"Successfully added new license","audit_table.successfullLogin":"Successfully logged in","audit_table.successfullOAuthAccess":"Successfully gave a new OAuth service access","audit_table.successfullOAuthToken":"Successfully added a new OAuth service","audit_table.successfullPassword":"Successfully changed password","audit_table.successfullReset":"Successfully reset password","audit_table.successfullWebhookCreate":"Successfully created a webhook","audit_table.successfullWebhookDelete":"Successfully deleted a webhook","audit_table.timestamp":"Timestamp","audit_table.updatedRol":"Updated user role(s) to ","audit_table.updateGeneral":"Updated the general settings of your account","audit_table.updateGlobalNotifications":"Updated your global notification settings","audit_table.updatePicture":"Updated your profile picture","audit_table.userAdded":"Added {username} to the {channelName} channel","audit_table.userId":"User ID","audit_table.userRemoved":"Removed {username} to the {channelName} channel","audit_table.verified":"Successfully verified your email address","authorize.access":"Allow **{appName}** access?","authorize.allow":"Allow","authorize.app":"The app **{appName}** would like the ability to access and modify your basic information.","authorize.deny":"Deny","authorize.title":"Authorize **{appName}** to Connect to Your **Mattermost** User Account","avatars.overflowUnnamedOnly":"{overflowUnnamedCount, plural, =1 {one other} other {# others}}","avatars.overflowUsers":"{overflowUnnamedCount, plural, =0 {{names}} =1 {{names} and one other} other {{names} and # others}}","backstage_list.search":"Search","backstage_navbar.backToMattermost":"Back to {siteName}","backstage_sidebar.bots":"Bot Accounts","backstage_sidebar.emoji":"Custom Emoji","backstage_sidebar.integrations":"Integrations","backstage_sidebar.integrations.commands":"Slash Commands","backstage_sidebar.integrations.incoming_webhooks":"Incoming Webhooks","backstage_sidebar.integrations.oauthApps":"OAuth 2.0 Applications","backstage_sidebar.integrations.outgoing_webhooks":"Outgoing Webhooks","billing.subscription.info.headsup":"Just a heads up","billing.subscription.info.headsup.description":"You’re nearing the user limit with the free tier of Mattermost Cloud. We’ll let you know if you hit that limit.","billing.subscription.info.mostRecentPaymentFailed":"Your most recent payment failed","billing.subscription.info.mostRecentPaymentFailed.description.avoidAnyDisruption":" to avoid any disruption.","billing.subscription.info.mostRecentPaymentFailed.description.mostRecentPaymentFailed":"It looks your most recent payment failed because the credit card on your account has expired. Please ","billing.subscription.info.mostRecentPaymentFailed.description.updatePaymentInformation":"update your payment information","bot.add.description":"Description","bot.add.description.help":"(Optional) Let others know what this bot does.","bot.add.display_name.help":"(Optional) You can choose to display your bot\'s full name rather than its username.","bot.add.post_all":"post:all","bot.add.post_all.enabled":"Enabled","bot.add.post_all.help":"Bot will have access to post to all Mattermost channels including direct messages.","bot.add.post_channels":"post:channels","bot.add.post_channels.enabled":"Enabled","bot.add.post_channels.help":"Bot will have access to post to all Mattermost public channels.","bot.add.role":"Role","bot.add.role.admin":"System Admin","bot.add.role.help":"Choose what role the bot should have.","bot.add.role.member":"Member","bot.add.username.help":"You can use lowercase letters, numbers, periods, dashes, and underscores.","bot.create_failed":"Failed to create bot","bot.create_token.close":"Close","bot.edit_failed":"Failed to edit bot","bot.manage.create_token":"Create New Token","bot.manage.disable":"Disable","bot.manage.enable":"Enable","bot.remove_profile_picture":"Remove Bot Icon","bot.token.default.description":"Default Token","bot.token.error.description":"Please enter a description.","bots.add.displayName":"Display Name","bots.add.icon":"Bot Icon","bots.add.username":"Username","bots.disabled":"Disabled","bots.image.upload":"Upload Image","bots.is_bot":"BOT","bots.manage.add":"Add Bot Account","bots.manage.add.cancel":"Cancel","bots.manage.add.create":"Create Bot Account","bots.manage.add.creating":"Creating...","bots.manage.add.invalid_last_char":"Bot usernames cannot have a period as the last character","bots.manage.add.invalid_username":"Usernames have to begin with a lowercase letter and be 3-22 characters long. You can use lowercase letters, numbers, periods, dashes, and underscores.","bots.manage.bot_accounts":"Bot Accounts","bots.manage.created.text":"Your bot account **{botname}** has been created successfully. Please use the following access token to connect to the bot (see [documentation](https://mattermost.com/pl/default-bot-accounts) for further details).","bots.manage.description":"Use bot accounts to integrate with Mattermost through plugins or the API","bots.manage.edit":"Edit","bots.manage.edit.editing":"Updating...","bots.manage.edit.title":"Update","bots.manage.empty":"No bot accounts found","bots.manage.emptySearch":"No bot accounts match **{searchTerm}**","bots.manage.header":"Bot Accounts","bots.manage.help1":"Use {botAccounts} to integrate with Mattermost through plugins or the API. Bot accounts are available to everyone on your server. ","bots.manage.help2":"Enable bot account creation in the [System Console]({siteURL}/admin_console/integrations/bot_accounts).","bots.manage.search":"Search Bot Accounts","bots.managed_by":"Managed by ","bots.token.confirm":"Delete","bots.token.confirm_text":"Are you sure you want to delete the token?","bots.token.delete":"Delete Token","call_button.menuAriaLabel":"Call type selector","center_panel.archived.closeChannel":"Close Channel","center_panel.direct.closeDirectMessage":"Close Direct Message","center_panel.direct.closeGroupMessage":"Close Group Message","change_url.close":"Close","change_url.endWithLetter":"URLs must end with a lowercase letter or number.","change_url.helpText":"You can use lowercase letters, numbers, dashes, and underscores.","change_url.invalidDirectMessage":"User IDs are not allowed in channel URLs.","change_url.invalidUrl":"Invalid URL","change_url.longer":"URLs must have at least 2 characters.","change_url.startAndEndWithLetter":"URLs must start and end with a lowercase letter or number.","change_url.startWithLetter":"URLs must start with a lowercase letter or number.","change_url.urlLabel":"Channel URL","channel_flow.alreadyExist":"A channel with that URL already exists","channel_flow.changeUrlTitle":"Change Channel URL","channel_flow.create":"Create Channel","channel_flow.handleTooShort":"Channel URL must be 2 or more lowercase alphanumeric characters","channel_flow.invalidName":"Invalid Channel Name","channel_flow.set_url_title":"Set Channel URL","channel_header.addChannelHeader":"Add a channel description","channel_header.channelHasGuests":"This channel has guests","channel_header.channelMembers":"Members","channel_header.convert":"Convert to Private Channel","channel_header.delete":"Archive Channel","channel_header.directchannel.you":"{displayname} (you) ","channel_header.editLink":"(Edit)","channel_header.flagged":"Saved posts","channel_header.groupConstrained":"Members managed by linked groups.","channel_header.groupMessageHasGuests":"This group message has guests","channel_header.leave":"Leave Channel","channel_header.manageMembers":"Manage Members","channel_header.menuAriaLabel":"Channel Menu","channel_header.mute":"Mute Channel","channel_header.pinnedPosts":"Pinned posts","channel_header.recentMentions":"Recent mentions","channel_header.rename":"Rename Channel","channel_header.search":"Search","channel_header.setHeader":"Edit Channel Header","channel_header.setPurpose":"Edit Channel Purpose","channel_header.unarchive":"Unarchive Channel","channel_header.unmute":"Unmute Channel","channel_header.userHelpGuide":"Help","channel_header.viewMembers":"View Members","channel_info.about":"About","channel_info.header":"Header:","channel_info.id":"ID: ","channel_info.notFound":"No Channel Found","channel_info.purpose":"Purpose:","channel_info.url":"URL:","channel_invite.addNewMembers":"Add New Members to ","channel_loader.posted":"Posted","channel_loader.postedImage":" posted an image","channel_loader.socketError":"Please check connection, Mattermost unreachable. If issue persists, ask administrator to [check WebSocket port](!https://about.mattermost.com/default-websocket-port-help).","channel_loader.someone":"Someone","channel_loader.something":" did something new","channel_loader.unknown_error":"We received an unexpected status code from the server.","channel_loader.uploadedFile":" uploaded a file","channel_loader.uploadedImage":" uploaded an image","channel_members_dropdown.channel_admin":"Channel Admin","channel_members_dropdown.channel_admins":"Channel Admins","channel_members_dropdown.channel_guest":"Channel Guest","channel_members_dropdown.channel_member":"Channel Member","channel_members_dropdown.channel_members":"Channel Members","channel_members_dropdown.make_channel_admin":"Make Channel Admin","channel_members_dropdown.make_channel_admins":"Make Channel Admins","channel_members_dropdown.make_channel_member":"Make Channel Member","channel_members_dropdown.make_channel_members":"Make Channel Members","channel_members_dropdown.menuAriaLabel":"Change the role of channel member","channel_members_dropdown.remove_from_channel":"Remove from Channel","channel_members_modal.addNew":" Add Members","channel_members_modal.members":" Members","channel_modal.cancel":"Cancel","channel_modal.createNew":"Create Channel","channel_modal.descriptionHelp":"Describe how this channel should be used.","channel_modal.displayNameError":"Display name must have at least 2 characters.","channel_modal.edit":"Edit","channel_modal.header":"Header","channel_modal.headerEx":"E.g.: \\"[Link Title](http://example.com)\\"","channel_modal.headerHelp":"Set text that will appear in the header of the channel beside the channel name. For example, include frequently used links by typing [Link Title](http://example.com).","channel_modal.modalTitle":"New Channel","channel_modal.name":"Name","channel_modal.nameEx":"E.g.: \\"Bugs\\", \\"Marketing\\", \\"客户支持\\"","channel_modal.optional":"(optional)","channel_modal.privateHint":" - Only invited members can join this channel","channel_modal.privateName":"Private","channel_modal.publicHint":" - Anyone can join this channel","channel_modal.publicName":"Public","channel_modal.purpose":"Purpose","channel_modal.purposeEx":"E.g.: \\"A channel to file bugs and improvements\\"","channel_modal.type":"Type","channel_notifications.allActivity":"For all activity","channel_notifications.globalDefault":"Global default ({notifyLevel})","channel_notifications.ignoreChannelMentions":"Ignore mentions for @channel, @here and @all","channel_notifications.ignoreChannelMentions.help":"When enabled, @channel, @here and @all will not trigger mentions or mention notifications in this channel.","channel_notifications.ignoreChannelMentions.off.title":"Off","channel_notifications.ignoreChannelMentions.on.title":"On","channel_notifications.levels.all":"All","channel_notifications.levels.default":"Default","channel_notifications.levels.mention":"Mention","channel_notifications.levels.none":"None","channel_notifications.muteChannel.help":"Muting turns off desktop, email and push notifications for this channel. The channel will not be marked as unread unless you\'re mentioned.","channel_notifications.muteChannel.off.title":"Off","channel_notifications.muteChannel.on.title":"On","channel_notifications.muteChannel.on.title.collapse":"Mute is enabled. Desktop, email and push notifications will not be sent for this channel.","channel_notifications.muteChannel.settings":"Mute channel","channel_notifications.never":"Never","channel_notifications.onlyMentions":"Only for mentions","channel_notifications.override":"Selecting an option other than \\"Default\\" will override the global notification settings. Desktop notifications are available on Firefox, Safari, and Chrome.","channel_notifications.overridePush":"Selecting an option other than \\"Global default\\" will override the global notification settings for mobile push notifications in account settings. Push notifications must be enabled by the System Admin.","channel_notifications.preferences":"Notification Preferences for ","channel_notifications.push":"Send mobile push notifications","channel_notifications.sendDesktop":"Send desktop notifications","channel_select.placeholder":"--- Select a channel ---","channel_switch_modal.deactivated":"Deactivated","channel_switch_modal.title":"Switch Channels","channel_toggle_button.private":"Private","channel_toggle_button.public":"Public","channelHeader.addToFavorites":"Add to Favorites","channelHeader.removeFromFavorites":"Remove from Favorites","channelHeader.unmute":"Unmute","claim.email_to_ldap.enterLdapPwd":"Enter the ID and password for your AD/LDAP account","claim.email_to_ldap.enterPwd":"Enter the password for your {site} email account","claim.email_to_ldap.ldapId":"AD/LDAP ID","claim.email_to_ldap.ldapIdError":"Please enter your AD/LDAP ID.","claim.email_to_ldap.ldapPasswordError":"Please enter your AD/LDAP password.","claim.email_to_ldap.ldapPwd":"AD/LDAP Password","claim.email_to_ldap.pwd":"Password","claim.email_to_ldap.pwdError":"Please enter your password.","claim.email_to_ldap.ssoNote":"You must already have a valid AD/LDAP account","claim.email_to_ldap.ssoType":"Upon claiming your account, you will only be able to login with AD/LDAP","claim.email_to_ldap.switchTo":"Switch Account to AD/LDAP","claim.email_to_ldap.title":"Switch Email/Password Account to AD/LDAP","claim.email_to_oauth.enterPwd":"Enter the password for your {site} account","claim.email_to_oauth.pwd":"Password","claim.email_to_oauth.pwdError":"Please enter your password.","claim.email_to_oauth.ssoNote":"You must already have a valid {type} account","claim.email_to_oauth.ssoType":"Upon claiming your account, you will only be able to login with {type} SSO","claim.email_to_oauth.switchTo":"Switch Account to {uiType}","claim.email_to_oauth.title":"Switch Email/Password Account to {uiType}","claim.ldap_to_email.confirm":"Confirm Password","claim.ldap_to_email.email":"After switching your authentication method, you will use {email} to login. Your AD/LDAP credentials will no longer allow access to Mattermost.","claim.ldap_to_email.enterLdapPwd":"{ldapPassword}:","claim.ldap_to_email.enterPwd":"New email login password:","claim.ldap_to_email.ldapPasswordError":"Please enter your AD/LDAP password.","claim.ldap_to_email.ldapPwd":"AD/LDAP Password","claim.ldap_to_email.pwd":"Password","claim.ldap_to_email.pwdError":"Please enter your password.","claim.ldap_to_email.pwdNotMatch":"Passwords do not match.","claim.ldap_to_email.switchTo":"Switch account to email/password","claim.ldap_to_email.title":"Switch AD/LDAP Account to Email/Password","claim.oauth_to_email.confirm":"Confirm Password","claim.oauth_to_email.description":"Upon changing your account type, you will only be able to login with your email and password.","claim.oauth_to_email.enterNewPwd":"Enter a new password for your {site} email account","claim.oauth_to_email.enterPwd":"Please enter a password.","claim.oauth_to_email.newPwd":"New Password","claim.oauth_to_email.pwdNotMatch":"Passwords do not match.","claim.oauth_to_email.switchTo":"Switch {type} to Email and Password","claim.oauth_to_email.title":"Switch {type} Account to Email","cloud.upgrade.notrightnow":"Not right now","combined_system_message.added_to_channel.many_expanded":"{users} and {lastUser} were **added to the channel** by {actor}.","combined_system_message.added_to_channel.one":"{firstUser} **added to the channel** by {actor}.","combined_system_message.added_to_channel.one_you":"You were **added to the channel** by {actor}.","combined_system_message.added_to_channel.two":"{firstUser} and {secondUser} **added to the channel** by {actor}.","combined_system_message.added_to_team.many_expanded":"{users} and {lastUser} were **added to the team** by {actor}.","combined_system_message.added_to_team.one":"{firstUser} **added to the team** by {actor}.","combined_system_message.added_to_team.one_you":"You were **added to the team** by {actor}.","combined_system_message.added_to_team.two":"{firstUser} and {secondUser} **added to the team** by {actor}.","combined_system_message.joined_channel.many_expanded":"{users} and {lastUser} **joined the channel**.","combined_system_message.joined_channel.one":"{firstUser} **joined the channel**.","combined_system_message.joined_channel.one_you":"You **joined the channel**.","combined_system_message.joined_channel.two":"{firstUser} and {secondUser} **joined the channel**.","combined_system_message.joined_team.many_expanded":"{users} and {lastUser} **joined the team**.","combined_system_message.joined_team.one":"{firstUser} **joined the team**.","combined_system_message.joined_team.one_you":"You **joined the team**.","combined_system_message.joined_team.two":"{firstUser} and {secondUser} **joined the team**.","combined_system_message.left_channel.many_expanded":"{users} and {lastUser} **left the channel**.","combined_system_message.left_channel.one":"{firstUser} **left the channel**.","combined_system_message.left_channel.one_you":"You **left the channel**.","combined_system_message.left_channel.two":"{firstUser} and {secondUser} **left the channel**.","combined_system_message.left_team.many_expanded":"{users} and {lastUser} **left the team**.","combined_system_message.left_team.one":"{firstUser} **left the team**.","combined_system_message.left_team.one_you":"You **left the team**.","combined_system_message.left_team.two":"{firstUser} and {secondUser} **left the team**.","combined_system_message.removed_from_channel.many_expanded":"{users} and {lastUser} were **removed from the channel**.","combined_system_message.removed_from_channel.one":"{firstUser} was **removed from the channel**.","combined_system_message.removed_from_channel.one_you":"You were **removed from the channel**.","combined_system_message.removed_from_channel.two":"{firstUser} and {secondUser} were **removed from the channel**.","combined_system_message.removed_from_team.many_expanded":"{users} and {lastUser} were **removed from the team**.","combined_system_message.removed_from_team.one":"{firstUser} was **removed from the team**.","combined_system_message.removed_from_team.one_you":"You were **removed from the team**.","combined_system_message.removed_from_team.two":"{firstUser} and {secondUser} were **removed from the team**.","combined_system_message.you":"You","confirm_modal.cancel":"Cancel","convert_channel.cancel":"No, cancel","convert_channel.confirm":"Yes, convert to private channel","convert_channel.question1":"When you convert **{display_name}** to a private channel, history and membership are preserved. Publicly shared files remain accessible to anyone with the link. Membership in a private channel is by invitation only.","convert_channel.question2":"The change is permanent and cannot be undone.","convert_channel.question3":"Are you sure you want to convert **{display_name}** to a private channel?","convert_channel.title":"Convert {display_name} to a Private Channel?","copy_url_context_menu.getChannelLink":"Copy Link","create_category_modal.create":"Create","create_category_modal.createCategory":"Create New Category","create_comment.addComment":"Add a comment...","create_comment.comment":"Add Comment","create_comment.commentTitle":"Comment","create_comment.file":"File uploading","create_comment.files":"Files uploading","create_post.comment":"Comment","create_post.deactivated":"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted.","create_post.error_message":"Your message is too long. Character count: {length}/{limit}","create_post.fileProcessing":"Processing...","create_post.icon":"Create a post","create_post.post":"Post","create_post.read_only":"This channel is read-only. Only members with permission can post here.","create_post.send_message":"Send a message","create_post.shortcutsNotSupported":"Keyboard shortcuts are not supported on your device.","create_post.tutorialTip.title":"Sending Messages","create_post.tutorialTip1":"Type here to write a message and press **Enter** to post it.","create_post.tutorialTip2":"Click the **Attachment** button to upload an image or a file.","create_post.write":"Write to {channelDisplayName}","create_team.agreement":"By proceeding to create your account and use {siteName}, you agree to our [Terms of Service]({TermsOfServiceLink}) and [Privacy Policy]({PrivacyPolicyLink}). If you do not agree, you cannot use {siteName}.","create_team.display_name.charLength":"Name must be {min} or more characters up to a maximum of {max}. You can add a longer team description later.","create_team.display_name.nameHelp":"Name your team in any language. Your team name shows in menus and headings.","create_team.display_name.next":"Next","create_team.display_name.required":"This field is required","create_team.display_name.teamName":"Team Name","create_team.team_url.back":"Back to previous step","create_team.team_url.charLength":"Name must be {min} or more characters up to a maximum of {max}","create_team.team_url.creatingTeam":"Creating team...","create_team.team_url.finish":"Finish","create_team.team_url.hint1":"Short and memorable is best","create_team.team_url.hint2":"Use lowercase letters, numbers and dashes","create_team.team_url.hint3":"Must start with a letter and can\'t end in a dash","create_team.team_url.regex":"Use only lower case letters, numbers and dashes. Must start with a letter and can\'t end in a dash.","create_team.team_url.required":"This field is required","create_team.team_url.taken":"This URL [starts with a reserved word](!https://docs.mattermost.com/help/getting-started/creating-teams.html#team-url) or is unavailable. Please try another.","create_team.team_url.teamUrl":"Team URL","create_team.team_url.unavailable":"This URL is taken or unavailable. Please try another.","create_team.team_url.webAddress":"Choose the web address of your new team:","custom_emoji.header":"Custom Emoji","date_separator.today":"Today","date_separator.yesterday":"Yesterday","deactivate_member_modal.deactivate":"Deactivate","deactivate_member_modal.desc":"This action deactivates {username}. They will be logged out and not have access to any teams or channels on this system.\\n","deactivate_member_modal.desc.confirm":" Are you sure you want to deactivate {username}?","deactivate_member_modal.desc.for_users_with_bot_accounts":"This action deactivates {username}.\\n \\n * They will be logged out and not have access to any teams or channels on this system.\\n * Bot accounts they manage will be disabled along with their integrations. To enable them again, go to [Integrations > Bot Accounts]({siteURL}/_redirect/integrations/bots). [Learn more about bot accounts](!https://mattermost.com/pl/default-bot-accounts).\\n \\n \\n","deactivate_member_modal.sso_warning":"You must also deactivate this user in the SSO provider or they will be reactivated on next login or sync.","deactivate_member_modal.title":"Deactivate {username}","default_channel.purpose":"Post messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.","delete_category_modal.delete":"Delete","delete_category_modal.deleteCategory":"Delete this category?","delete_category_modal.helpText":"Channels in **{category_name}** will move back to the Channels and Direct messages categories. You\'re not removed from any channels.","delete_channel.cancel":"Cancel","delete_channel.confirm":"Confirm ARCHIVE Channel","delete_channel.del":"Archive","delete_channel.question":"This will archive the channel from the team and remove it from the user interface. Archived channels can be unarchived if needed again. \\n \\nAre you sure you wish to archive the {display_name} channel?","delete_channel.viewArchived.question":"This will archive the channel from the team. Channel contents will still be accessible by channel members.\\n \\nAre you sure you wish to archive the **{display_name}** channel?","delete_post.cancel":"Cancel","delete_post.comment":"Comment","delete_post.confirm":"Confirm {term} Delete","delete_post.del":"Delete","delete_post.post":"Post","delete_post.question":"Are you sure you want to delete this {term}?","delete_post.warning":"This post has {count, number} {count, plural, one {comment} other {comments}} on it.","demote_to_user_modal.demote":"Demote","demote_to_user_modal.desc":"This action demotes the user {username} to a guest. It will restrict the user\'s ability to join public channels and interact with users outside of the channels they are currently members of. Are you sure you want to demote user {username} to guest?","demote_to_user_modal.title":"Demote User {username} to Guest","device_icons.android":"Android Icon","device_icons.apple":"Apple Icon","device_icons.linux":"Linux Icon","device_icons.windows":"Windows Icon","discard_changes_modal.leave":"Yes, Discard","discard_changes_modal.message":"You have unsaved changes, are you sure you want to discard them?","discard_changes_modal.title":"Discard Changes?","edit_category_modal.helpText":"Drag channels into this category to organize your sidebar.","edit_category_modal.placeholder":"Name your category","edit_channel_header_modal.cancel":"Cancel","edit_channel_header_modal.description":"Edit the text appearing next to the channel name in the channel header.","edit_channel_header_modal.error":"This channel header is too long, please enter a shorter one","edit_channel_header_modal.save":"Save","edit_channel_header_modal.title":"Edit Header for {channel}","edit_channel_header_modal.title_dm":"Edit Header","edit_channel_header.editHeader":"Edit the Channel Header...","edit_channel_header.previewHeader":"Edit Header","edit_channel_private_purpose_modal.body":"This text appears in the \\"View Info\\" modal of the private channel.","edit_channel_purpose_modal.body":"Describe how this channel should be used. This text appears in the channel list in the \\"More...\\" menu and helps others decide whether to join.","edit_channel_purpose_modal.cancel":"Cancel","edit_channel_purpose_modal.error":"This channel purpose is too long, please enter a shorter one","edit_channel_purpose_modal.save":"Save","edit_channel_purpose_modal.title1":"Edit Purpose","edit_channel_purpose_modal.title2":"Edit Purpose for ","edit_command.update":"Update","edit_command.updating":"Updating...","edit_post.cancel":"Cancel","edit_post.edit":"Edit {title}","edit_post.editPost":"Edit the post...","edit_post.save":"Save","edit_post.time_limit_button.for_n_seconds":"For {n} seconds","edit_post.time_limit_button.no_limit":"Anytime","edit_post.time_limit_modal.description":"Setting a time limit **applies to all users** who have the \\"Edit Post\\" permissions in any permission scheme.","edit_post.time_limit_modal.invalid_time_limit":"Invalid time limit","edit_post.time_limit_modal.option_label_anytime":"Anytime","edit_post.time_limit_modal.option_label_time_limit.postinput":"seconds after posting","edit_post.time_limit_modal.option_label_time_limit.preinput":"Can edit for","edit_post.time_limit_modal.save_button":"Save Edit Time","edit_post.time_limit_modal.subscript":"Set the length of time users have to edit their messages after posting.","edit_post.time_limit_modal.title":"Configure Global Edit Post Time Limit","email_verify.almost":"{siteName}: You are almost done","email_verify.failed":" Failed to send verification email.","email_verify.notVerifiedBody":"Please verify your email address. Check your inbox for an email.","email_verify.resend":"Resend Email","email_verify.sent":" Verification email sent.","emoji_list.actions":"Actions","emoji_list.add":"Add Custom Emoji","emoji_list.creator":"Creator","emoji_list.delete":"Delete","emoji_list.delete.confirm.button":"Delete","emoji_list.delete.confirm.msg":"This action permanently deletes the custom emoji. Are you sure you want to delete it?","emoji_list.delete.confirm.title":"Delete Custom Emoji","emoji_list.empty":"No Custom Emoji Found","emoji_list.header":"Custom Emoji","emoji_list.help":"Custom emoji are available to everyone on your server. Type \':\' followed by two characters in a message box to bring up the emoji selection menu.","emoji_list.help2":"Tip: If you add #, ##, or ### as the first character on a new line containing emoji, you can use larger sized emoji. To try it out, send a message such as: \'# :smile:\'.","emoji_list.image":"Image","emoji_list.name":"Name","emoji_list.search":"Search Custom Emoji","emoji_picker_item.emoji_aria_label":"{emojiName} emoji","emoji_picker.activity":"Activity","emoji_picker.close":"Close","emoji_picker.custom":"Custom","emoji_picker.emojiPicker":"Emoji Picker","emoji_picker.flags":"Flags","emoji_picker.foods":"Foods","emoji_picker.header":"Emoji Picker","emoji_picker.nature":"Nature","emoji_picker.objects":"Objects","emoji_picker.people":"People","emoji_picker.places":"Places","emoji_picker.recent":"Recently Used","emoji_picker.search":"Search emojis","emoji_picker.search_emoji":"Search for an emoji","emoji_picker.searchResults":"Search Results","emoji_picker.symbols":"Symbols","error.channel_not_found.message":"The channel you\'re requesting is private or does not exist. Please contact an Administrator to be added to the channel.","error.channel_not_found.message_guest":"Your guest account has no channels assigned. Please contact an administrator.","error.channel_not_found.title":"Channel Not Found","error.channelNotFound.guest_link":"Back","error.channelNotFound.link":"Back to {defaultChannelName}","error.generic.link":"Back to {siteName}","error.generic.link_login":"Back to Login Page","error.generic.message":"An error has occurred.","error.generic.title":"Error","error.local_storage.help1":"Enable cookies","error.local_storage.help2":"Turn off private browsing","error.local_storage.help3":"Use a supported browser (IE 11, Chrome 61+, Firefox 60+, Safari 12+, Edge 42+)","error.local_storage.message":"Mattermost was unable to load because a setting in your browser prevents the use of its local storage features. To allow Mattermost to load, try the following actions:","error.local_storage.title":"Cannot Load Mattermost","error.not_found.message":"The page you were trying to reach does not exist","error.not_found.title":"Page Not Found","error.oauth_access_denied":"You must authorize Mattermost to log in with {service}.","error.oauth_access_denied.title":"Authorization Error","error.oauth_invalid_param.title":"OAuth Parameter Error","error.oauth_missing_code":"The service provider {service} did not provide an authorization code in the redirect URL.","error.oauth_missing_code.forum":"If you reviewed the above and are still having trouble with configuration, you may post in our {link} where we\'ll be happy to help with issues during setup.","error.oauth_missing_code.forum.link":"Troubleshooting forum","error.oauth_missing_code.gitlab":"For {link} please make sure you followed the setup instructions.","error.oauth_missing_code.gitlab.link":"GitLab","error.oauth_missing_code.google":"For {link} make sure your administrator enabled the Google+ API.","error.oauth_missing_code.google.link":"Google Apps","error.oauth_missing_code.office365":"For {link} make sure the administrator of your Microsoft organization has enabled the Mattermost app.","error.oauth_missing_code.office365.link":"Office 365","error.oauth_missing_code.title":"Mattermost Needs Your Help","error.plugin_not_found.desc":"The plugin you are looking for does not exist.","error.plugin_not_found.title":"Plugin Not Found","error.team_not_found.message":"The team you\'re requesting is private or does not exist. Please contact your Administrator for an invitation.","error.team_not_found.title":"Team Not Found","file_attachment.thumbnail":"file thumbnail","file_info_preview.size":"Size ","file_info_preview.type":"File type ","file_upload.disabled":"File attachments are disabled.","file_upload.drag_folder":"Folders cannot be uploaded. Please drag all files separately.","file_upload.fileAbove":"File above {max}MB cannot be uploaded: {filename}","file_upload.filesAbove":"Files above {max}MB cannot be uploaded: {filenames}","file_upload.generic_error":"There was a problem uploading your files.","file_upload.limited":"Uploads limited to {count, number} files maximum. Please use additional posts for more files.","file_upload.menuAriaLabel":"Upload type selector","file_upload.pasted":"Image Pasted at ","file_upload.upload_files":"Upload files","file_upload.zeroBytesFile":"You are uploading an empty file: {filename}","file_upload.zeroBytesFiles":"You are uploading empty files: {filenames}","filtered_channels_list.search":"Search channels","filtered_user_list.countTotal":"{count, number} {count, plural, one {member} other {members}} of {total, number} total","filtered_user_list.countTotalPage":"{startCount, number} - {endCount, number} {count, plural, one {member} other {members}} of {total, number} total","filtered_user_list.next":"Next","filtered_user_list.prev":"Previous","filtered_user_list.search":"Search users","filtered_user_list.team":"Team:","filtered_user_list.userStatus":"User Status:","flag_post.flag":"Save","flag_post.unflag":"Remove from Saved","full_screen_modal.back":"Back","full_screen_modal.close":"Close","general_button.close":"Close","general_button.esc":"Esc","general_tab.allowedDomains":"Allow only users with a specific email domain to join this team","general_tab.allowedDomains.ariaLabel":"Allowed Domains","general_tab.allowedDomainsEdit":"Click \'Edit\' to add an email domain whitelist.","general_tab.AllowedDomainsExample":"corp.mattermost.com, mattermost.org","general_tab.AllowedDomainsInfo":"Users can only join the team if their email matches a specific domain (e.g. \\"mattermost.org\\") or list of comma-separated domains (e.g. \\"corp.mattermost.com, mattermost.org\\").","general_tab.chooseDescription":"Please choose a new description for your team","general_tab.codeDesc":"Click \'Edit\' to regenerate Invite Code.","general_tab.codeLongDesc":"The Invite Code is part of the unique team invitation link which is sent to members you’re inviting to this team. Regenerating the code creates a new invitation link and invalidates the previous link.","general_tab.codeTitle":"Invite Code","general_tab.emptyDescription":"Click \'Edit\' to add a team description.","general_tab.getTeamInviteLink":"Get Team Invite Link","general_tab.no":"No","general_tab.openInviteDesc":"When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team. Changing from \\"Yes\\" to \\"No\\" will regenerate the  invitation code, create a new invitation link and invalidate the previous link.","general_tab.openInviteTitle":"Allow any user with an account on this server to join this team","general_tab.regenerate":"Regenerate","general_tab.required":"This field is required","general_tab.teamDescription":"Team Description","general_tab.teamDescriptionInfo":"Team description provides additional information to help users select the right team. Maximum of 50 characters.","general_tab.teamIcon":"Team Icon","general_tab.teamIconEditHint":"Click \'Edit\' to upload an image.","general_tab.teamIconEditHintMobile":"Click to upload an image","general_tab.teamIconError":"An error occurred while selecting the image.","general_tab.teamIconInvalidFileType":"Only BMP, JPG or PNG images may be used for team icons","general_tab.teamIconLastUpdated":"Image last updated {date}","general_tab.teamIconTooLarge":"Unable to upload team icon. File is too large.","general_tab.teamName":"Team Name","general_tab.teamNameInfo":"Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar.","general_tab.teamNameRestrictions":"Team Name must be {min} or more characters up to a maximum of {max}. You can add a longer team description.","general_tab.title":"General Settings","general_tab.yes":"Yes","generic_icons.add":"Add Icon","generic_icons.add-mail":"Add Mail Icon","generic_icons.add-reaction":"Add Reaction Icon","generic_icons.adminOnlyIcon":"Admin View Only Icon","generic_icons.alert":"Alert Icon","generic_icons.archive":"Archive Icon","generic_icons.arrow.down":"Down Arrow Icon","generic_icons.attach":"Attachment Icon","generic_icons.back":"Back Icon","generic_icons.bot":"Bot Icon","generic_icons.breadcrumb":"Breadcrumb Icon","generic_icons.camera":"Camera Icon","generic_icons.channel.arrow-right":"Arrow right","generic_icons.channel.draft":"Channel Draft Icon","generic_icons.channel.private":"Private Channel Icon","generic_icons.channel.public":"Public Channel Icon","generic_icons.close":"Close Icon","generic_icons.collapse":"Collapse Icon","generic_icons.download":"Download Icon","generic_icons.dropdown":"Dropdown Icon","generic_icons.edit":"Edit Icon","generic_icons.elipsisHorizontalIcon":"Ellipsis Horizontal Icon","generic_icons.expand":"Expand Icon","generic_icons.fail":"Faliure Icon","generic_icons.flag":"Save Icon","generic_icons.flagged":"Saved Icon","generic_icons.info":"Info Icon","generic_icons.invite":"Invite Icon","generic_icons.invite_members":"Invite Members Icon","generic_icons.link":"Link Icon","generic_icons.loading":"Loading Icon","generic_icons.logout":"Logout Icon","generic_icons.mail":"Mail Icon","generic_icons.mattermost":"Mattermost Logo","generic_icons.member":"Member Icon","generic_icons.mention":"Mention Icon","generic_icons.menu":"Menu Icon","generic_icons.message":"Message Icon","generic_icons.muted":"Muted Icon","generic_icons.next":"Next Icon","generic_icons.pin":"Pin Icon","generic_icons.plugin":"Plugin Icon","generic_icons.plugins":"Plugins","generic_icons.previous":"Previous Icon","generic_icons.reload":"Reload Icon","generic_icons.remove":"Remove Icon","generic_icons.reply":"Reply Icon","generic_icons.search":"Search Icon","generic_icons.select":"Select Icon","generic_icons.settings":"Settings Icon","generic_icons.success":"Success Icon","generic_icons.upload":"Upload Icon","generic_icons.userGuide":"Help","generic_icons.warning":"Warning Icon","generic_modal.cancel":"Cancel","generic_modal.confirm":"Confirm","generic.done":"Done","generic.next":"Next","generic.previous":"Previous","get_app.continueToBrowser":"View in Browser","get_app.dontHaveTheDesktopApp":"Don\'t have the Desktop App?","get_app.dontHaveTheMobileApp":"Don\'t have the Mobile App?","get_app.downloadTheAppNow":"Download the app now.","get_app.ifNothingPrompts":"You can view {siteName} in the desktop app or continue in your web browser.","get_app.ifNothingPromptsMobile":"You can view {siteName} in the mobile app or continue in your web browser.","get_app.launching":"Where would you like to view this?","get_app.openingLink":"Opening link in Mattermost...","get_app.openingLinkWhiteLabel":"Opening link in the Desktop App...","get_app.openLinkInBrowser":"Or, [open this link in your browser.](!{link})","get_app.redirectedInMoments":"You will be redirected in a few moments.","get_app.rememberMyPreference":"Remember my preference","get_app.systemDialogMessage":"View in Desktop App","get_app.systemDialogMessageMobile":"View in App","get_link.clipboard":" Link copied","get_link.close":"Close","get_link.copy":"Copy Link","get_public_link_modal.help":"The link below allows anyone to see this file without being registered on this server.","get_public_link_modal.title":"Copy Public Link","gif_picker.gfycat":"Search Gfycat","group_list_modal.addGroupButton":"Add Groups","group_list_modal.removeGroupButton":"Remove Group","groups":"{team} Groups","help.attaching.downloading.description":"Download an attached file by clicking the download icon next to the file thumbnail or by opening the file previewer and clicking **Download**.","help.attaching.downloading.title":"Downloading Files","help.attaching.dragdrop.description":"Upload a file or selection of files by dragging the files from your computer into the right-hand sidebar or center pane. Dragging and dropping attaches the files to the message input box, then you can optionally type a message and press **ENTER** to post.","help.attaching.dragdrop.title":"Drag and Drop","help.attaching.icon.description":"Alternatively, upload files by clicking the grey paperclip icon inside the message input box. This opens up your system file viewer where you can navigate to the desired files and then click **Open** to upload the files to the message input box. Optionally type a message and then press **ENTER** to post.","help.attaching.icon.title":"Attachment Icon","help.attaching.limitations.description":"Mattermost supports a maximum of five attached files per post, each with a maximum file size of 50Mb.","help.attaching.limitations.title":"File Size Limitations","help.attaching.methods.description":"Attach a file by drag and drop or by clicking the attachment icon in the message input box.","help.attaching.methods.title":"Attachment Methods","help.attaching.notSupported":"Document preview (Word, Excel, PPT) is not yet supported.","help.attaching.pasting.description":"On Chrome and Edge browsers, it is also possible to upload files by pasting them from the clipboard. This is not yet supported on other browsers.","help.attaching.pasting.title":"Pasting Images","help.attaching.previewer.description":"Mattermost has a built in file previewer that is used to view media, download files and share public links. Click the thumbnail of an attached file to open it in the file previewer.","help.attaching.previewer.title":"File Previewer","help.attaching.publicLinks.description":"Public links allow you to share file attachments with people outside your Mattermost team. Open the file previewer by clicking on the thumbnail of an attachment, then click **Get Public Link**. This opens a dialog box with a link to copy. When the link is shared and opened by another user, the file will automatically download.","help.attaching.publicLinks.title":"Sharing Public Links","help.attaching.publicLinks2":"If **Get Public Link** is not visible in the file previewer and you prefer the feature enabled, you can request that your System Admin enable the feature from the System Console under **Security** > **Public Links**.","help.attaching.supported.description":"If you are trying to preview a media type that is not supported, the file previewer will open a standard media attachment icon. Supported media formats depend heavily on your browser and operating system, but the following formats are supported by Mattermost on most browsers:","help.attaching.supported.title":"Supported Media Types","help.attaching.supportedListItem1":"Images: BMP, GIF, JPG, JPEG, PNG","help.attaching.supportedListItem2":"Video: MP4","help.attaching.supportedListItem3":"Audio: MP3, M4A","help.attaching.supportedListItem4":"Documents: PDF","help.attaching.title":"Attaching Files","help.commands.builtin.description":"The following slash commands are available on all Mattermost installations:","help.commands.builtin.title":"Built-in Commands","help.commands.builtin2":"Begin by typing `/` and a list of slash command options appears above the text input box. The autocomplete suggestions help by providing a format example in black text and a short description of the slash command in grey text.","help.commands.custom.description":"Custom slash commands integrate with external applications. For example, a team might configure a custom slash command to check internal health records with `/patient joe smith` or check the weekly weather forecast in a city with `/weather toronto week`. Check with your System Admin or open the autocomplete list by typing `/` to determine if your team configured any custom slash commands.","help.commands.custom.title":"Custom Commands","help.commands.custom2":"Custom slash commands are disabled by default and can be enabled by the System Admin in the **System Console** > **Integrations** > **Webhooks and Commands**. Learn about configuring custom slash commands on the [developer slash command documentation page](!http://docs.mattermost.com/developer/slash-commands.html).","help.commands.intro1":"Slash commands perform operations in Mattermost by typing into the text input box. Enter a `/` followed by a command and some arguments to perform actions.","help.commands.intro2":"Built-in slash commands come with all Mattermost installations and custom slash commands are configurable to interact with external applications. Learn about configuring custom slash commands on the [developer slash command documentation page](!http://docs.mattermost.com/developer/slash-commands.html).","help.commands.title":"Executing Commands","help.composing.deleting.description":"Delete a message by clicking the **[...]** icon next to any message text that you\'ve composed, then click **Delete**. System and Team Admins can delete any message on their system or team.","help.composing.deleting.title":"Deleting a message","help.composing.editing.description":"Edit a message by clicking the **[...]** icon next to any message text that you\'ve composed, then click **Edit**. After making modifications to the message text, press **ENTER** to save the modifications. Message edits do not trigger new @mention notifications, desktop notifications or notification sounds.","help.composing.editing.title":"Editing a Message","help.composing.linking.description":"The **Permalink** feature creates a link to any message. Sharing this link with other users in the channel lets them view the linked message in the Message Archives. Users who are not a member of the channel where the message was posted cannot view the permalink. Get the permalink to any message by clicking the **[...]** icon next to the message text > **Permalink** > **Copy Link**.","help.composing.linking.title":"Linking to a message","help.composing.posting.description":"Write a message by typing into the text input box, then press ENTER to send it. Use SHIFT+ENTER to create a new line without sending a message. To send messages by pressing CTRL+ENTER go to **Main Menu > Account Settings > Send messages on CTRL+ENTER**.","help.composing.posting.title":"Posting a Message","help.composing.posts.description":"Posts can be considered parent messages. They are the messages that often start a thread of replies. Posts are composed and sent from the text input box at the bottom of the center pane.","help.composing.posts.title":"Posts","help.composing.replies.description1":"Reply to a message by clicking the reply icon next to any message text. This action opens the right-hand sidebar where you can see the message thread, then compose and send your reply. Replies are indented slightly in the center pane to indicate that they are child messages of a parent post.","help.composing.replies.description2":"When composing a reply in the right-hand side, click the expand/collapse icon with two arrows at the top of the sidebar to make things easier to read.","help.composing.replies.title":"Replies","help.composing.title":"Sending Messages","help.composing.types.description":"Reply to posts to keep conversations organized in threads.","help.composing.types.title":"Message Types","help.formatting.checklist":"Make a task list by including square brackets:","help.formatting.checklistExample":"- [ ] Item one\\n- [ ] Item two\\n- [x] Completed item","help.formatting.code.description":"Create a code block by indenting each line by four spaces, or by placing ``` on the line above and below your code.","help.formatting.code.title":"Code Block","help.formatting.codeBlock":"Code block","help.formatting.emojis.description":"Open the emoji autocomplete by typing `:`. A full list of emojis can be found [here](!http://www.emoji-cheat-sheet.com/). It is also possible to create your own [Custom Emoji](!http://docs.mattermost.com/help/settings/custom-emoji.html) if the emoji you want to use doesn\'t exist.","help.formatting.emojis.title":"Emojis","help.formatting.example":"Example:","help.formatting.githubTheme":"**GitHub Theme**","help.formatting.headings.description":"Make a heading by typing # and a space before your title. For smaller headings, use more #\'s.","help.formatting.headings.title":"Headings","help.formatting.headings2":"Alternatively, you can underline the text using `===` or `---` to create headings.","help.formatting.headings2Example":"Large Heading\\n-------------","help.formatting.headingsExample":"## Large Heading\\n### Smaller Heading\\n#### Even Smaller Heading","help.formatting.images.description":"Create in-line images using an `!` followed by the alt text in square brackets and the link in normal brackets. Add hover text by placing it in quotes after the link.","help.formatting.images.title":"In-line Images","help.formatting.imagesExample":"![alt text]({siteURL}/static/images/logo-email.png \\"Mattermost horizontal logo\\")\\n\\nand\\n\\n[![Atlassian](https://wac-cdn.atlassian.com/assets/img/favicons/atlassian/favicon.png)](https://travis-ci.org/mattermost/mattermost-server) [![Github](https://github.githubassets.com/favicon.ico)](https://github.com/mattermost/mattermost-server)","help.formatting.inline.description":"Create in-line monospaced font by surrounding it with backticks.","help.formatting.inline.title":"In-line Code","help.formatting.intro":"Markdown makes it easy to format messages. Type a message as you normally would, and use these rules to render it with special formatting.","help.formatting.lines.description":"Create a line by using three `*`, `_`, or `-`.","help.formatting.lines.title":"Lines","help.formatting.linkEx":"[Check out Mattermost!](https://about.mattermost.com/)","help.formatting.links.description":"Create labeled links by putting the desired text in square brackets and the associated link in normal brackets.","help.formatting.links.title":"Links","help.formatting.listExample":"* list item one\\n* list item two\\n    * item two sub-point","help.formatting.lists.description":"Create a list by using `*` or `-` as bullets. Indent a bullet point by adding two spaces in front of it.","help.formatting.lists.title":"Lists","help.formatting.monokaiTheme":"**Monokai Theme**","help.formatting.ordered":"Make it an ordered list by using numbers instead:","help.formatting.orderedExample":"1. Item one\\n2. Item two","help.formatting.quotes.description":"Create block quotes using `>`.","help.formatting.quotes.title":"Block quotes","help.formatting.quotesExample":"`> block quotes` renders as:","help.formatting.quotesRender":"> block quotes","help.formatting.renders":"Renders as:","help.formatting.solirizedDarkTheme":"**Solarized Dark Theme**","help.formatting.solirizedLightTheme":"**Solarized Light Theme**","help.formatting.style.description":"You can use either `_` or `*` around a word to make it italic. Use two to make it bold.","help.formatting.style.listItem1":"`_italics_` renders as _italics_","help.formatting.style.listItem2":"`**bold**` renders as **bold**","help.formatting.style.listItem3":"`**_bold-italic_**` renders as **_bold-italics_**","help.formatting.style.listItem4":"`~~strikethrough~~` renders as ~~strikethrough~~","help.formatting.style.title":"Text Style","help.formatting.supportedSyntax":"Supported languages are: `as`, `applescript`, `osascript`, `scpt`, `bash`, `sh`, `zsh`, `clj`, `boot`, `cl2`, `cljc`, `cljs`, `cljs.hl`, `cljscm`, `cljx`, `hic`, `coffee`, `_coffee`, `cake`, `cjsx`, `cson`, `iced`, `cpp`, `c`, `cc`, `h`, `c++`, `h++`, `hpp`, `cs`, `csharp`, `css`, `d`, `di`, `dart`, `delphi`, `dpr`, `dfm`, `pas`, `pascal`, `freepascal`, `lazarus`, `lpr`, `lfm`, `diff`, `django`, `jinja`, `dockerfile`, `docker`, `erl`, `fortran`, `fsharp`, `fs`, `gcode`, `nc`, `go`, `groovy`, `handlebars`, `hbs`, `html.hbs`, `html.handlebars`, `hs`, `hx`, `java`, `jsp`, `js`, `jsx`, `json`, `jl`, `kt`, `ktm`, `kts`, `less`, `lisp`, `lua`, `mk`, `mak`, `md`, `mkdown`, `mkd`, `matlab`, `m`, `mm`, `objc`, `obj-c`, `ml`, `perl`, `pl`, `php`, `php3`, `php4`, `php5`, `php6`, `ps`, `ps1`, `pp`, `py`, `gyp`, `r`, `ruby`, `rb`, `gemspec`, `podspec`, `thor`, `irb`, `rs`, `scala`, `scm`, `sld`, `scss`, `st`, `styl`, `sql`, `swift`, `tex`, `vbnet`, `vb`, `bas`, `vbs`, `v`, `veo`, `xml`, `html`, `xhtml`, `rss`, `atom`, `xsl`, `plist`, `yaml`","help.formatting.syntax.description":"To add syntax highlighting, type the language to be highlighted after the ``` at the beginning of the code block. Mattermost also offers four different code themes (GitHub, Solarized Dark, Solarized Light, Monokai) that can be changed in **Account Settings** > **Display** > **Theme** > **Custom Theme** > **Center Channel Styles**","help.formatting.syntax.title":"Syntax Highlighting","help.formatting.syntaxEx":"```goAA\\npackage main\\nimport \\"fmt\\"\\nfunc main() {\\n    fmt.Println(\\"Hello, 世界\\")\\n}\\n```","help.formatting.tableExample":"| Left-Aligned  | Center Aligned  | Right Aligned |\\n| :------------ |:---------------:| -----:|\\n| Left column 1 | this text       |  $100 |\\n| Left column 2 | is              |   $10 |\\n| Left column 3 | centered        |    $1 |","help.formatting.tables.description":"Create a table by placing a dashed line under the header row and separating the columns with a pipe `|`. (The columns don\'t need to line up exactly for it to work). Choose how to align table columns by including colons `:` within the header row.","help.formatting.tables.title":"Tables","help.formatting.title":"Formatting Text","help.learnMore":"Learn more about:","help.link.attaching":"Attaching Files","help.link.commands":"Executing Commands","help.link.composing":"Composing Messages and Replies","help.link.formatting":"Formatting Messages Using Markdown","help.link.mentioning":"Mentioning Teammates","help.link.messaging":"Basic Messaging","help.mentioning.channel.description":"You can mention an entire channel by typing `@channel`. All members of the channel will receive a mention notification that behaves the same way as if the members had been mentioned personally.","help.mentioning.channel.title":"@Channel","help.mentioning.channelExample":"@channel great work on interviews this week. I think we found some excellent potential candidates!","help.mentioning.mentions.description":"Use @mentions to get the attention of specific team members.","help.mentioning.mentions.title":"@Mentions","help.mentioning.recent.description":"Click `@` next to the search box to query for your most recent @mentions and words that trigger mentions. Click **Jump** next to a search result in the right-hand sidebar to jump the center pane to the channel and location of the message with the mention.","help.mentioning.recent.title":"Recent Mentions","help.mentioning.title":"Mentioning Teammates","help.mentioning.triggers.description":"In addition to being notified by @username and @channel, you can customize words that trigger mention notifications in **Account Settings** > **Notifications** > **Words that trigger mentions**. By default, you will receive mention notifications on your first name, and you can add more words by typing them into the input box separated by commas. This is useful if you want to be notified of all posts on certain topics, for example, \\"interviewing\\" or \\"marketing\\".","help.mentioning.triggers.title":"Words That Trigger Mentions","help.mentioning.username.description1":"You can mention a teammate by using the `@` symbol plus their username to send them a mention notification.","help.mentioning.username.description2":"Type `@` to bring up a list of team members who can be mentioned. To filter the list, type the first few letters of any username, first name, last name, or nickname. The **Up** and **Down** arrow keys can then be used to scroll through entries in the list, and pressing **ENTER** will select which user to mention. Once selected, the username will automatically replace the full name or nickname. The following example sends a special mention notification to **alice** that alerts her of the channel and message where she has been mentioned. If **alice** is away from Mattermost and has [email notifications](!http://docs.mattermost.com/help/getting-started/configuring-notifications.html#email-notifications) turned on, then she will receive an email alert of her mention along with the message text.","help.mentioning.username.title":"@Username","help.mentioning.usernameCont":"If the user you mentioned does not belong to the channel, a System Message will be posted to let you know. This is a temporary message only seen by the person who triggered it. To add the mentioned user to the channel, go to the dropdown menu beside the channel name and select **Add Members**.","help.mentioning.usernameExample":"@alice how did your interview go with the new candidate?","help.messaging.attach":"**Attach files** by dragging and dropping into Mattermost or clicking the attachment icon in the text input box.","help.messaging.emoji":"**Quickly add emoji** by typing \\":\\", which will open an emoji autocomplete. If the existing emoji don\'t cover what you want to express, you can also create your own [Custom Emoji](!http://docs.mattermost.com/help/settings/custom-emoji.html).","help.messaging.format":"**Format your messages** using Markdown that supports text styling, headings, links, emoticons, code blocks, block quotes, tables, lists and in-line images.","help.messaging.notify":"**Notify teammates** when they are needed by typing `@username`.","help.messaging.reply":"**Reply to messages** by clicking the reply arrow next to the message text.","help.messaging.title":"Messaging Basics","help.messaging.write":"**Write messages** using the text input box at the bottom of Mattermost. Press ENTER to send a message. Use SHIFT+ENTER to create a new line without sending a message.","inProduct_notices.adminOnlyMessage":"Visible to Admins only","input.clear":"Clear","installed_command.header":"Slash Commands","installed_commands.add":"Add Slash Command","installed_commands.delete.confirm":"This action permanently deletes the slash command and breaks any integrations using it. Are you sure you want to delete it?","installed_commands.empty":"No commands found","installed_commands.emptySearch":"No commands match **{searchTerm}**","installed_commands.header":"Slash Commands","installed_commands.help":"Use slash commands to connect external tools to Mattermost. {buildYourOwn} or visit the {appDirectory} to find self-hosted, third-party apps and integrations.","installed_commands.help.appDirectory":"App Directory","installed_commands.help.buildYourOwn":"Build Your Own","installed_commands.search":"Search Slash Commands","installed_commands.unnamed_command":"Unnamed Slash Command","installed_incoming_webhooks.add":"Add Incoming Webhook","installed_incoming_webhooks.delete.confirm":"This action permanently deletes the incoming webhook and breaks any integrations using it. Are you sure you want to delete it?","installed_incoming_webhooks.empty":"No incoming webhooks found","installed_incoming_webhooks.emptySearch":"No incoming webhooks match **{searchTerm}**","installed_incoming_webhooks.header":"Incoming Webhooks","installed_incoming_webhooks.help":"Use incoming webhooks to connect external tools to Mattermost. {buildYourOwn} or visit the {appDirectory} to find self-hosted, third-party apps and integrations.","installed_incoming_webhooks.help.appDirectory":"App Directory","installed_incoming_webhooks.help.buildYourOwn":"Build Your Own","installed_incoming_webhooks.search":"Search Incoming Webhooks","installed_incoming_webhooks.unknown_channel":"A Private Webhook","installed_integrations.callback_urls":"Callback URLs: {urls}","installed_integrations.client_id":"Client ID: **{clientId}**","installed_integrations.client_secret":"Client Secret: **{clientSecret}**","installed_integrations.content_type":"Content-Type: {contentType}","installed_integrations.creation":"Created by {creator} on {createAt, date, full}","installed_integrations.delete":"Delete","installed_integrations.edit":"Edit","installed_integrations.hideSecret":"Hide Secret","installed_integrations.regenSecret":"Regenerate Secret","installed_integrations.regenToken":"Regenerate Token","installed_integrations.showSecret":"Show Secret","installed_integrations.token":"Token: {token}","installed_integrations.triggerWhen":"Trigger When: {triggerWhen}","installed_integrations.triggerWords":"Trigger Words: {triggerWords}","installed_integrations.unnamed_oauth_app":"Unnamed OAuth 2.0 Application","installed_integrations.url":"URL: {url}","installed_oauth_apps.add":"Add OAuth 2.0 Application","installed_oauth_apps.callbackUrls":"Callback URLs (One Per Line)","installed_oauth_apps.cancel":"Cancel","installed_oauth_apps.delete.confirm":"This action permanently deletes the OAuth 2.0 application and breaks any integrations using it. Are you sure you want to delete it?","installed_oauth_apps.description":"Description","installed_oauth_apps.empty":"No OAuth 2.0 Applications found","installed_oauth_apps.emptySearch":"No OAuth 2.0 Applications match **{searchTerm}**","installed_oauth_apps.header":"OAuth 2.0 Applications","installed_oauth_apps.help":"Create {oauthApplications} to securely integrate bots and third-party apps with Mattermost. Visit the {appDirectory} to find available self-hosted apps.","installed_oauth_apps.help.appDirectory":"App Directory","installed_oauth_apps.help.oauthApplications":"OAuth 2.0 applications","installed_oauth_apps.homepage":"Homepage","installed_oauth_apps.iconUrl":"Icon URL","installed_oauth_apps.is_trusted":"Is Trusted: **{isTrusted}**","installed_oauth_apps.name":"Display Name","installed_oauth_apps.save":"Save","installed_oauth_apps.saving":"Saving...","installed_oauth_apps.search":"Search OAuth 2.0 Applications","installed_oauth_apps.trusted":"Is Trusted","installed_oauth_apps.trusted.no":"No","installed_oauth_apps.trusted.yes":"Yes","installed_outgoing_webhooks.add":"Add Outgoing Webhook","installed_outgoing_webhooks.delete.confirm":"This action permanently deletes the outgoing webhook and breaks any integrations using it. Are you sure you want to delete it?","installed_outgoing_webhooks.empty":"No outgoing webhooks found","installed_outgoing_webhooks.emptySearch":"No outgoing webhooks match **{searchTerm}**","installed_outgoing_webhooks.header":"Outgoing Webhooks","installed_outgoing_webhooks.help":"Use outgoing webhooks to connect external tools to Mattermost. {buildYourOwn} or visit the {appDirectory} to find self-hosted, third-party apps and integrations.","installed_outgoing_webhooks.help.appDirectory":"App Directory","installed_outgoing_webhooks.help.buildYourOwn":"Build your own","installed_outgoing_webhooks.search":"Search Outgoing Webhooks","installed_outgoing_webhooks.unknown_channel":"A Private Webhook","integrations.add":"Add","integrations.command.description":"Slash commands send events to external integrations","integrations.command.title":"Slash Commands","integrations.delete.confirm.button":"Delete","integrations.delete.confirm.title":"Delete Integration","integrations.done":"Done","integrations.edit":"Edit","integrations.header":"Integrations","integrations.help":"Visit the {appDirectory} to find self-hosted, third-party apps and integrations for Mattermost.","integrations.help.appDirectory":"App Directory","integrations.incomingWebhook.description":"Incoming webhooks allow external integrations to send messages","integrations.incomingWebhook.title":"Incoming Webhooks","integrations.oauthApps.description":"OAuth 2.0 allows external applications to make authorized requests to the Mattermost API","integrations.oauthApps.title":"OAuth 2.0 Applications","integrations.outgoingWebhook.description":"Outgoing webhooks allow external integrations to receive and respond to messages","integrations.outgoingWebhook.title":"Outgoing Webhooks","integrations.successful":"Setup Successful","interactive_dialog.cancel":"Cancel","interactive_dialog.element.optional":"(optional)","interactive_dialog.submit":"Submit","interactive_dialog.submitting":"Submitting...","intro_messages.addGroups":"Add groups to this private channel","intro_messages.addGroupsToTeam":"Add other groups to this team","intro_messages.anyMember":" Any member can join and read this channel.","intro_messages.beginning":"Beginning of {name}","intro_messages.creator":"This is the start of the {name} channel, created by {creator} on {date}.","intro_messages.creatorPrivate":"This is the start of the {name} private channel, created by {creator} on {date}.","intro_messages.default":"**Welcome to {display_name}!**\\n \\nPost messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.","intro_messages.DM":"This is the start of your direct message history with {teammate}.\\nDirect messages and files shared here are not shown to people outside this area.","intro_messages.GM":"This is the start of your group message history with {names}.\\nMessages and files shared here are not shown to people outside this area.","intro_messages.group_message":"This is the start of your group message history with these teammates. Messages and files shared here are not shown to people outside this area.","intro_messages.invite":"Invite others to this channel","intro_messages.inviteOthers":"Invite others to this team","intro_messages.invitePrivate":"Invite others to this private channel","intro_messages.noCreator":"This is the start of the {name} channel, created on {date}.","intro_messages.noCreatorPrivate":"This is the start of the {name} private channel, created on {date}.","intro_messages.offTopic":"This is the start of {display_name}, a channel for non-work-related conversations.","intro_messages.onlyInvited":" Only invited members can see this private channel.","intro_messages.purpose":" This channel\'s purpose is: {purpose}","intro_messages.purposePrivate":" This private channel\'s purpose is: {purpose}","intro_messages.readonly.default":"**Welcome to {display_name}!**\\n \\nMessages can only be posted by system admins. Everyone automatically becomes a permanent member of this channel when they join the team.","intro_messages.setHeader":"Set a Header","intro_messages.teammate":"This is the start of your direct message history with this teammate. Direct messages and files shared here are not shown to people outside this area.","invitation_modal.confirm.done":"Done","invitation_modal.confirm.guests_title":"**Guests** Invited to **{teamName}**","invitation_modal.confirm.members_subtitle":"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited, and **{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent","invitation_modal.confirm.members_subtitle_without_not_sent":"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited","invitation_modal.confirm.members_subtitle_without_sent":"**{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent","invitation_modal.confirm.members_subtitle_without_sent_and_not_sent":"No invitation sent","invitation_modal.confirm.members_title":"**Members** Invited to **{teamName}**","invitation_modal.confirm.not-sent-header":"Invitations Not Sent","invitation_modal.confirm.sent-header":"Successful Invites","invitation_modal.guests.add_channels.placeholder":"Search and add channels","invitation_modal.guests.add_channels.title":"Search and Add Channels","invitation_modal.guests.add_people.description":"Add existing guests or send email invites to new guests.","invitation_modal.guests.add_people.description-email-disabled":"Add existing guests.","invitation_modal.guests.add_people.title":"Invite People","invitation_modal.guests.add-channels.description":"Specify the channels the guests have access to.","invitation_modal.guests.custom-message.description":"Create a custom message to make your invite more personal.","invitation_modal.guests.custom-message.link":"Set a custom message","invitation_modal.guests.custom-message.title":"Custom message","invitation_modal.guests.invite_button":"Invite Guests","invitation_modal.guests.search-and-add.placeholder":"Add guests or email addresses","invitation_modal.guests.search-and-add.placeholder-email-disabled":"Add guests","invitation_modal.guests.title":"Invite **Guests** to {teamName}","invitation_modal.guests.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email to invite","invitation_modal.guests.users_emails_input.no_user_found_matching-email-disabled":"No one found matching **{text}**","invitation_modal.guests.users_emails_input.valid_email":"Invite **{email}** as a guest","invitation_modal.invite_guests.description":"Invite guests to one or more channels. Guests only have access to messages, files, and people in the channels they are members of.","invitation_modal.invite_guests.title":"Invite **Guests**","invitation_modal.invite_members.description":"Invite new team members with a link or by email. Team members have access to messages and files in open teams and public channels.","invitation_modal.invite_members.description-email-disabled":"Invite new team members with a link. Team members have access to messages and files in open teams and public channels.","invitation_modal.invite_members.exceeded_max_add_members_batch":"No more than **{text}** people can be invited at once","invitation_modal.invite_members.hit_cloud_user_limit":"You can only invite **{text}** more {text, plural, one {member} other {members}} on the free tier","invitation_modal.invite_members.title":"Invite **Members**","invitation_modal.invite.more":"Invite More People","invitation_modal.members.invite_button":"Invite Members","invitation_modal.members.or":"OR","invitation_modal.members.search_and_add.title":"Add or Invite People","invitation_modal.members.search-and-add.description":"Add existing members or send email invites to new members.","invitation_modal.members.search-and-add.description-email-disabled":"Add existing members to this team.","invitation_modal.members.search-and-add.placeholder":"Add members or email addresses","invitation_modal.members.search-and-add.placeholder-email-disabled":"Add members","invitation_modal.members.share_link.copy_button":"Copy Link","invitation_modal.members.share_link.description":"Share this link to invite people to this team.","invitation_modal.members.share_link.input":"team invite link","invitation_modal.members.share_link.link_copied":"Link Copied","invitation_modal.members.share_link.title":"Share This Link","invitation_modal.members.title":"Invite **Members** to {teamName}","invitation_modal.members.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email to invite","invitation_modal.members.users_emails_input.no_user_found_matching-email-disabled":"No one found matching **{text}**","invitation_modal.members.users_emails_input.valid_email":"Invite **{email}** as a team member","invitation_modal.title":"Invite people to **{teamName}**","invitation-modal.confirm.details-header":"Details","invitation-modal.confirm.not-valid-channel":"Does not match a valid channel name.","invitation-modal.confirm.not-valid-user-or-email":"Does not match a valid user or email.","invitation-modal.confirm.people-header":"People","invitation-modal.discard-changes.button":"Yes, Discard","invitation-modal.discard-changes.message":"You have unsent invitations, are you sure you want to discard them?","invitation-modal.discard-changes.title":"Discard Changes","invite.guests.added-to-channel":"An invitation email has been sent.","invite.guests.already-all-channels-member":"This person is already a member of all the channels.","invite.guests.already-some-channels-member":"This person is already a member of some of the channels.","invite.guests.new-member":"This guest has been added to the team and {count, plural, one {channel} other {channels}}.","invite.guests.unable-to-add-the-user-to-the-channels":"Unable to add the guest to the channels.","invite.members.added-to-team":"This member has been added to the team.","invite.members.already-member":"This person is already a team member.","invite.members.invite-sent":"An invitation email has been sent.","invite.members.unable-to-add-the-user-to-the-team":"Unable to add the user to the team.","invite.members.user-is-guest":"Contact your admin to make this guest a full member.","invite.members.user-is-not-guest":"This person is already a member.","invite.rate-limit-exceeded":"Invite emails rate limit exceeded.","join_team_group_constrained_denied":"You need to be a member of a linked group to join this team.","join_team_group_constrained_denied_admin":"You need to be a member of a linked group to join this team. You can add a group to this team [here]({siteURL}/admin_console/user_management/groups).","katex.error":"Couldn\'t compile your Latex code. Please review the syntax and try again.","last_users_message.added_to_channel.type":"were **added to the channel** by {actor}.","last_users_message.added_to_team.type":"were **added to the team** by {actor}.","last_users_message.first":"{firstUser} and ","last_users_message.joined_channel.type":"**joined the channel**.","last_users_message.joined_team.type":"**joined the team**.","last_users_message.left_channel.type":"**left the channel**.","last_users_message.left_team.type":"**left the team**.","last_users_message.others":"{numOthers} others ","last_users_message.removed_from_channel.type":"were **removed from the channel**.","last_users_message.removed_from_team.type":"were **removed from the team**.","leave_private_channel_modal.leave":"Yes, leave channel","leave_private_channel_modal.message":"Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.","leave_private_channel_modal.title":"Leave Private Channel {channel}","leave_team_modal_guest_only_private.desc":"**You will be removed from {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won\'t be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_guest_only_public.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} on this team.** You won\'t be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_guest.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} and {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won\'t be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_private.desc":"**You will be removed from {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels} } on this team.** If the team is private you won\'t be able to rejoin it the team without an invitation from another team member. Are you sure?","leave_team_modal_public.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels} } on this team.** Are you sure?","leave_team_modal.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} and {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** If the team is private you won\'t be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal.no":"No","leave_team_modal.title":"Leave the team?","leave_team_modal.yes":"Yes","list_modal.paginatorCount":"{startCount, number} - {endCount, number} of {total, number} total","loading_screen.loading":"Loading","local":"local","login_mfa.enterToken":"To complete the sign in process, please enter a token from your smartphone\'s authenticator","login_mfa.submit":"Submit","login_mfa.submitting":"Submitting...","login_mfa.token":"MFA Token","login.changed":" Sign-in method changed successfully","login.create":"Create one now.","login.createTeam":"Create a team","login.email":"Email","login.forgot":"I forgot my password.","login.get_terms_error":"Unable to load terms of service. If this issue persists, contact your System Administrator.","login.gitlab":"GitLab","login.google":"Google Apps","login.invalidPassword":"Your password is incorrect.","login.ldapCreate":" Enter your AD/LDAP username and password to create an account.","login.ldapUsername":"AD/LDAP Username","login.ldapUsernameLower":"AD/LDAP username","login.noAccount":"Don\'t have an account? ","login.noEmail":"Please enter your email","login.noEmailLdapUsername":"Please enter your email or {ldapUsername}","login.noEmailUsername":"Please enter your email or username","login.noEmailUsernameLdapUsername":"Please enter your email, username or {ldapUsername}","login.noLdapUsername":"Please enter your {ldapUsername}","login.noMethods":"No sign-in methods are enabled. Please contact your System Administrator.","login.noPassword":"Please enter your password","login.noUsername":"Please enter your username","login.noUsernameLdapUsername":"Please enter your username or {ldapUsername}","login.office365":"Office 365","login.or":"or","login.password":"Password","login.passwordChanged":" Password updated successfully","login.placeholderOr":" or ","login.session_expired":"Your session has expired. Please log in again.","login.session_expired.notification":"Session Expired: Please sign in to continue receiving notifications.","login.session_expired.title":"* {siteName} - Session Expired","login.signIn":"Sign in","login.signInLoading":"Signing in...","login.signInWith":"Sign in with:","login.terms_rejected":"You must agree to the terms of service before accessing {siteName}. Please contact your System Administrator for more details.","login.username":"Username","login.userNotFound":"We couldn\'t find an account matching your login credentials.","login.verified":" Email Verified","manage_channel_groups_modal.search_placeholder":"Search groups","manage_team_groups_modal.search_placeholder":"Search groups","marketplace_list.count_total_page":"{startCount, number} - {endCount, number} {total, plural, one {plugin} other {plugins}} of {total, number} total","marketplace_modal.install_plugins":"Install Plugins","marketplace_modal.installing":"Installing...","marketplace_modal.list.configure":"Configure","marketplace_modal.list.Install":"Install","marketplace_modal.list.try_again":"Try Again","marketplace_modal.list.update":"Update","marketplace_modal.list.update_available":"Update available:","marketplace_modal.list.update_confirmation.confirm_button":"Update","marketplace_modal.list.update_confirmation.message.current":"You currently have {installedVersion} installed.","marketplace_modal.list.update_confirmation.message.current_with_release_notes":"You currently have {installedVersion} installed. View the [release notes](!{releaseNotesUrl}) to learn about the changes included in this update.","marketplace_modal.list.update_confirmation.message.intro":"Are you sure you want to update the {name} plugin to {version}?","marketplace_modal.list.update_confirmation.message.warning_major_version":"This update may contain breaking changes.","marketplace_modal.list.update_confirmation.message.warning_major_version_with_release_notes":"This update may contain breaking changes. Consult the [release notes](!{releaseNotesUrl}) before upgrading.","marketplace_modal.list.update_confirmation.title":"Confirm Plugin Update","marketplace_modal.no_plugins":"There are no plugins available at this time.","marketplace_modal.no_plugins_installed":"You do not have any plugins installed.","marketplace_modal.search":"Search Plugins","marketplace_modal.tabs.all_plugins":"All Plugins","marketplace_modal.tabs.installed_plugins":"Installed","marketplace_modal.title":"Plugin Marketplace","members_popover.button.message":"message","members_popover.manageMembers":"Manage Members","members_popover.title":"Channel Members","members_popover.viewMembers":"View Members","message_submit_error.invalidCommand":"Command with a trigger of \'\'{command}\'\' not found. ","message_submit_error.sendAsMessageLink":"Click here to send as a message.","mfa.confirm.complete":"**Set up complete!**","mfa.confirm.okay":"Okay","mfa.confirm.secure":"Your account is now secure. Next time you sign in, you will be asked to enter a code from the Google Authenticator app on your phone.","mfa.setup.badCode":"Invalid code. If this issue persists, contact your System Administrator.","mfa.setup.code":"MFA Code","mfa.setup.codeError":"Please enter the code from Google Authenticator.","mfa.setup.required":"**Multi-factor authentication is required on {siteName}.**","mfa.setup.save":"Save","mfa.setup.secret":"Secret: {secret}","mfa.setup.step1":"**Step 1: **On your phone, download Google Authenticator from [iTunes](!https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8\') or [Google Play](!https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=en)","mfa.setup.step2":"**Step 2: **Use Google Authenticator to scan this QR code, or manually type in the secret key","mfa.setup.step3":"**Step 3: **Enter the code generated by Google Authenticator","mfa.setupTitle":"Multi-factor Authentication Setup","mobile.set_status.away.icon":"Away Icon","mobile.set_status.dnd.icon":"Do Not Disturb Icon","mobile.set_status.offline.icon":"Offline Icon","mobile.set_status.online.icon":"Online Icon","modal.manual_status.ask":"Do not ask me again","modal.manual_status.auto_responder.message_":"Would you like to switch your status to \\"{status}\\" and disable Automatic Replies?","modal.manual_status.auto_responder.message_away":"Would you like to switch your status to \\"Away\\" and disable Automatic Replies?","modal.manual_status.auto_responder.message_dnd":"Would you like to switch your status to \\"Do Not Disturb\\" and disable Automatic Replies?","modal.manual_status.auto_responder.message_offline":"Would you like to switch your status to \\"Offline\\" and disable Automatic Replies?","modal.manual_status.auto_responder.message_online":"Would you like to switch your status to \\"Online\\" and disable Automatic Replies?","modal.manual_status.button_":"Yes, set my status to \\"{status}\\"","modal.manual_status.button_away":"Yes, set my status to \\"Away\\"","modal.manual_status.button_dnd":"Yes, set my status to \\"Do Not Disturb\\"","modal.manual_status.button_offline":"Yes, set my status to \\"Offline\\"","modal.manual_status.button_online":"Yes, set my status to \\"Online\\"","modal.manual_status.cancel_":"No, keep it as \\"{status}\\"","modal.manual_status.cancel_away":"No, keep it as \\"Away\\"","modal.manual_status.cancel_dnd":"No, keep it as \\"Do Not Disturb\\"","modal.manual_status.cancel_offline":"No, keep it as \\"Offline\\"","modal.manual_status.cancel_ooo":"No, keep it as \\"Out of Office\\"","modal.manual_status.message_":"Would you like to switch your status to \\"{status}\\"?","modal.manual_status.message_away":"Would you like to switch your status to \\"Away\\"?","modal.manual_status.message_dnd":"Would you like to switch your status to \\"Do Not Disturb\\"?","modal.manual_status.message_offline":"Would you like to switch your status to \\"Offline\\"?","modal.manual_status.message_online":"Would you like to switch your status to \\"Online\\"?","modal.manual_status.title_":"Your Status is Set to \\"{status}\\"","modal.manual_status.title_away":"Your Status is Set to \\"Away\\"","modal.manual_status.title_dnd":"Your Status is Set to \\"Do Not Disturb\\"","modal.manual_status.title_offline":"Your Status is Set to \\"Offline\\"","modal.manual_status.title_ooo":"Your Status is Set to \\"Out of Office\\"","more_channels.create":"Create Channel","more_channels.createClick":"Click \'Create New Channel\' to make a new one","more_channels.joining":"Joining...","more_channels.next":"Next","more_channels.noMore":"No more channels to join","more_channels.prev":"Previous","more_channels.show_archived_channels":"Show: Archived Channels","more_channels.show_public_channels":"Show: Public Channels","more_channels.title":"More Channels","more_direct_channels.directchannel.deactivated":"{displayname} - Deactivated","more_direct_channels.directchannel.you":"{displayname} (you)","more_direct_channels.new_convo_note":"This will start a new conversation. If you\'re adding a lot of people, consider creating a private channel instead.","more_direct_channels.new_convo_note.full":"You\'ve reached the maximum number of people for this conversation. Consider creating a private channel instead.","more_direct_channels.title":"Direct Messages","more_public_direct_channels.channels":"Channels","more_public_direct_channels.direct_messages":"Direct Messages","more_public_direct_channels.title":"Channels and Direct Messages","msg_typing.areTyping":"{users} and {last} are typing...","msg_typing.isTyping":"{user} is typing...","multiselect.add":"Add","multiselect.addChannelsPlaceholder":"Search and add channels","multiselect.addGroupsPlaceholder":"Search and add groups","multiselect.adding":"Adding...","multiselect.addTeamsPlaceholder":"Search and add teams","multiselect.go":"Go","multiselect.list.notFound":"No items found","multiselect.loading":"Loading...","multiselect.numGroupsRemaining":"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {group} other {groups}}. ","multiselect.numMembers":"{memberOptions, number} of {totalCount, number} members","multiselect.numPeopleRemaining":"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. ","multiselect.numRemaining":"You can add {num, number} more","multiselect.placeholder":"Search and add members","multiselect.selectChannels":"Use ↑↓ to browse, ↵ to select.","multiselect.selectTeams":"Use ↑↓ to browse, ↵ to select.","navbar_dropdown.about":"About {appTitle}","navbar_dropdown.accountSettings":"Account Settings","navbar_dropdown.addGroupsToTeam":"Add Groups to Team","navbar_dropdown.console":"System Console","navbar_dropdown.create":"Create a Team","navbar_dropdown.emoji":"Custom Emoji","navbar_dropdown.help":"Help","navbar_dropdown.integrations":"Integrations","navbar_dropdown.invitePeople":"Invite People","navbar_dropdown.invitePeopleExtraText":"Add or invite people to the team","navbar_dropdown.join":"Join Another Team","navbar_dropdown.keyboardShortcuts":"Keyboard Shortcuts","navbar_dropdown.leave":"Leave Team","navbar_dropdown.leave.icon":"Leave Team Icon","navbar_dropdown.logout":"Log Out","navbar_dropdown.manageGroups":"Manage Groups","navbar_dropdown.manageMembers":"Manage Members","navbar_dropdown.marketplace":"Plugin Marketplace","navbar_dropdown.menuAriaLabel":"main menu","navbar_dropdown.nativeApps":"Download Apps","navbar_dropdown.report":"Report a Problem","navbar_dropdown.switchTo":"Switch to ","navbar_dropdown.teamSettings":"Team Settings","navbar_dropdown.viewMembers":"View Members","navbar.addGroups":"Add Groups","navbar.addMembers":"Add Members","navbar.click":"Click here","navbar.clickToAddHeader":"{clickHere} to add one.","navbar.noHeader":"No channel header yet.","navbar.preferences":"Notification Preferences","navbar.toggle2":"Toggle sidebar","navbar.viewInfo":"View Info","navbar.viewPinnedPosts":"View Pinned Posts","next_steps_view.complete_profile_step.addAPhoto":"Add a photo","next_steps_view.complete_profile_step.enterYourName":"Enter your name","next_steps_view.complete_profile_step.fullNameCannotBeBlank":"Your name cannot be blank","next_steps_view.complete_profile_step.fullNameTooBig":"Your name must be less than 129 characters","next_steps_view.complete_profile_step.nameWillBeDisplayed":"Your name will be displayed with your messages","next_steps_view.complete_profile_step.pictureError":"Photos must be in BMP, JPG or PNG format. Maximum file size is {max}.","next_steps_view.complete_profile_step.saveProfile":"Save profile","next_steps_view.complete_profile_step.yourFullName":"Your full name","next_steps_view.downloadDesktopAndMobile":"Download the Desktop and Mobile apps","next_steps_view.hereAreSomeNextSteps":"Here are some recommended next steps to help you get started","next_steps_view.invite_members_step.copy_button":"Copy Link","next_steps_view.invite_members_step.emailAddresses":"Email addresses","next_steps_view.invite_members_step.enterEmailAddresses":"Enter email addresses","next_steps_view.invite_members_step.errorSendingEmails":"There was a problem sending your invitations. Please try again.","next_steps_view.invite_members_step.finish":"Finish","next_steps_view.invite_members_step.invalidEmail":"One or more email addresses are invalid","next_steps_view.invite_members_step.invitationsSent":"{num} invitations sent","next_steps_view.invite_members_step.link_copied":"Copied","next_steps_view.invite_members_step.orShareThisLink":"Or share this link to invite members","next_steps_view.invite_members_step.send":"Send","next_steps_view.invite_members_step.sendInvitationsViaEmail":"Send invitations via email","next_steps_view.invite_members_step.shareThisLink":"Share this link to invite members","next_steps_view.invite_members_step.tooManyEmails":"Invitations are limited to 10 email addresses.","next_steps_view.invite_members_step.youCanInviteUpTo":"You can invite up to 10 team members using a space or comma between addresses","next_steps_view.mobile_tips_message":"To configure your workspace, continue on a desktop computer.","next_steps_view.nicelyDone":"Nicely done! You’re all set.","next_steps_view.notificationSetup.notficationsEnabledBody":"This is how notifications from Mattermost will appear","next_steps_view.notificationSetup.notficationsEnabledTitle":"Notifications Enabled!","next_steps_view.notificationSetup.setNotifications":"Set up notifications","next_steps_view.oneMoment":"One moment","next_steps_view.otherAreasToExplore":"A few other areas to explore","next_steps_view.seeAllTheApps":"See all the apps","next_steps_view.skipGettingStarted":"Skip Getting Started","next_steps_view.team_profile_step.enterYourNameAndURL":"Enter your team name","next_steps_view.team_profile_step.nameCannotBeBlank":"Team name cannot be blank","next_steps_view.team_profile_step.nameTooBig":"Team name must be less than 64 characters","next_steps_view.team_profile_step.nameWillBeDisplayed":"Your team name will be displayed in your sidebar","next_steps_view.team_profile_step.pictureError":"Photos must be in BMP, JPG or PNG format. Maximum file size is {max}.","next_steps_view.team_profile_step.saveTeam":"Save team","next_steps_view.team_profile_step.teamImage":"Team image","next_steps_view.team_profile_step.teamName":"Team name","next_steps_view.tips.addPlugins":"Add plugins to Mattermost","next_steps_view.tips.addPlugins.button":"Add plugins","next_steps_view.tips.addPlugins.buttons":"See shortcuts","next_steps_view.tips.addPlugins.text":"Visit the Plugins Marketplace to install and configure plugins.","next_steps_view.tips.addPlugins.texts":"Work more efficiently with Keyboard Shortcuts in Mattermost.","next_steps_view.tips.addPluginss":"Learn Keyboard Shortcuts","next_steps_view.tips.auth.ldap":"AD/LDAP","next_steps_view.tips.auth.menuAriaLabel":"Configure Authentication Menu","next_steps_view.tips.auth.oauth":"OAuth","next_steps_view.tips.auth.saml":"SAML","next_steps_view.tips.configureLogin":"Configure your login method","next_steps_view.tips.configureLogin.button":"Configure","next_steps_view.tips.configureLogin.text":"Set up OAuth, SAML or AD/LDAP authentication.","next_steps_view.tips.configureLogin.texts":"Browse or search through the team members directory","next_steps_view.tips.configureLogins":"See who else is here","next_steps_view.tips.downloadForDefault":"Download Mattermost","next_steps_view.tips.downloadForMac":"Download Mattermost for Mac","next_steps_view.tips.downloadForWindows":"Download Mattermost for Windows","next_steps_view.tips.viewMembers":"View team members","next_steps_view.tipsAndNextSteps":"Tips & Next Steps","next_steps_view.titles.completeProfile":"Complete your profile","next_steps_view.titles.inviteMembers":"Invite members to the team","next_steps_view.titles.preferenceSetup":"Set up your preferences","next_steps_view.titles.teamSetup":"Name your team","next_steps_view.welcomeToMattermost":"Welcome to Mattermost","no_results.channel_search.subtitle":"Check the spelling or try another search.","no_results.channel_search.title":"No results for {channelName}","no_results.flagged_posts.subtitle":"Saved messages are only visible to you. Mark messages for follow-up or save something for later by clicking the {icon} to save them here.","no_results.flagged_posts.title":"No Saved posts yet","no_results.mentions.subtitle":"Messages where someone mentions you or includes your trigger words are saved here.","no_results.mentions.title":"No mentions yet","no_results.pinned_posts.subtitle":"Pin important messages which are visible to the whole channel. Open the context menu on a message and choose {text} to save it here.","no_results.pinned_posts.title":"No pinned posts yet","notification.dm":"Direct Message","notify_all.confirm":"Confirm","notify_all.question":"By using @all or @channel you are about to send notifications to {totalMembers} people. Are you sure you want to do this?","notify_all.question_groups":"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people**. Are you sure you want to do this?","notify_all.question_one_group":"By using **{mention}** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?","notify_all.question_timezone":"By using @all or @channel you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.question_timezone_groups":"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.question_timezone_one_group":"By using **{mention}** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.title.confirm":"Confirm Sending Notifications to Entire Channel","notify_all.title.confirm_groups":"Confirm sending notifications to groups","numMembers":"{num, number} {num, plural, one {member} other {members}}","password_form.change":"Change my password","password_form.enter":"Enter a new password for your {siteName} account.","password_form.error":"Please enter at least {chars} characters.","password_form.pwd":"Password","password_form.title":"Password Reset","password_send.checkInbox":"Please check your inbox.","password_send.description":"To reset your password, enter the email address you used to sign up","password_send.email":"Email","password_send.error":"Please enter a valid email address.","password_send.link":"If the account exists, a password reset email will be sent to:","password_send.reset":"Reset my password","password_send.title":"Password Reset","passwordRequirements":"Password Requirements:","payment_form.address":"Address","payment_form.address_2":"Address 2","payment_form.billing_address":"Billing address","payment_form.change_payment_method":"Change Payment Method","payment_form.city":"City","payment_form.country":"Country","payment_form.credit_card":"Credit Card","payment_form.name_on_card":"Name on Card","payment_form.no_billing_address":"No billing address added","payment_form.no_credit_card":"No credit card added","payment_form.saved_payment_method":"Saved Payment Method","payment_form.zipcode":"Zip/Postal Code","payment.card_number":"Card Number","payment.field_required":"This field is required","payment.invalid_card_number":"Please enter a valid credit card","pdf_preview.max_pages":"Download to read more pages","pending_post_actions.cancel":"Cancel","pending_post_actions.retry":"Retry","permalink.error.access":"Permalink belongs to a deleted message or to a channel to which you do not have access.","permalink.error.title":"Message Not Found","picture_selector.image.ariaLabel":"Picture selector image","picture_selector.remove_picture":"Remove picture","picture_selector.select_button.ariaLabel":"Select picture","post_body.check_for_out_of_channel_groups_mentions.message":"did not get notified by this mention because they are not in the channel. They cannot be added to the channel because they are not a member of the linked groups. To add them to this channel, they must be added to the linked groups.","post_body.check_for_out_of_channel_mentions.link.and":" and ","post_body.check_for_out_of_channel_mentions.link.private":"add them to this private channel","post_body.check_for_out_of_channel_mentions.link.public":"add them to the channel","post_body.check_for_out_of_channel_mentions.message_last":"? They will have access to all message history.","post_body.check_for_out_of_channel_mentions.message.multiple":"did not get notified by this mention because they are not in the channel. Would you like to ","post_body.check_for_out_of_channel_mentions.message.one":"did not get notified by this mention because they are not in the channel. Would you like to ","post_body.check_for_out_of_channel_mentions.others":"{numOthers} others","post_body.commentedOn":"Commented on {name}\'s message: ","post_body.deleted":"(message deleted)","post_body.plusMore":" plus {count, number} other {count, plural, one {file} other {files}}","post_delete.notPosted":"Comment could not be posted","post_delete.okay":"Okay","post_delete.someone":"Someone deleted the message on which you tried to post a comment.","post_info.auto_responder":"AUTOMATIC REPLY","post_info.bot":"BOT","post_info.comment_icon.tooltip.reply":"Reply","post_info.del":"Delete","post_info.dot_menu.tooltip.more_actions":"More actions","post_info.edit":"Edit","post_info.guest":"GUEST","post_info.info.view_additional_info":"View additional info","post_info.menuAriaLabel":"Post extra options","post_info.message.show_less":"Show less","post_info.message.show_more":"Show more","post_info.message.visible":"(Only visible to you)","post_info.message.visible.compact":" (Only visible to you)","post_info.permalink":"Copy Link","post_info.pin":"Pin to Channel","post_info.reply":"Reply","post_info.submenu.icon":"submenu icon","post_info.submenu.mobile":"mobile submenu","post_info.system":"System","post_info.tooltip.add_reactions":"Add Reaction","post_info.unpin":"Unpin from Channel","post_info.unread":"Mark as Unread","post_message_view.edited":"(edited)","post_pre_header.flagged":"Saved","post_pre_header.pinned":"Pinned","post.ariaLabel.attachment":", 1 attachment","post.ariaLabel.attachmentMultiple":", {attachmentCount} attachments","post.ariaLabel.message":"At {time} {date}, {authorName} wrote, {message}","post.ariaLabel.messageIsFlagged":", message is saved","post.ariaLabel.messageIsFlaggedAndPinned":", message is saved and pinned","post.ariaLabel.messageIsPinned":", message is pinned","post.ariaLabel.reaction":", 1 reaction","post.ariaLabel.reactionMultiple":", {reactionCount} reactions","post.ariaLabel.replyMessage":"At {time} {date}, {authorName} replied, {message}","postlist.toast.history":"Viewing message history","postlist.toast.newMessages":"{count, number} new {count, plural, one {message} other {messages}}","postlist.toast.newMessagesSince":"{count, number} new {count, plural, one {message} other {messages}} {isToday, select, true {} other {since}} {date}","postlist.toast.scrollToBottom":"Jump to recents","postlist.toast.scrollToLatest":"Jump to new messages","posts_view.loadMore":"Load More messages","posts_view.newMsg":"New Messages","promote_to_user_modal.desc":"This action promotes the guest {username} to a member. It will allow the user to join public channels and interact with users outside of the channels they are currently members of. Are you sure you want to promote guest {username} to user?","promote_to_user_modal.promote":"Promote","promote_to_user_modal.title":"Promote guest {username} to user","quick_switch_modal.channels":"Channels","quick_switch_modal.channelsShortcut.mac":"- ⌘K","quick_switch_modal.channelsShortcut.windows":"- CTRL+K","quick_switch_modal.help":"Start typing then use TAB to toggle channels/teams, **▲▼** to browse, **ENTER** to select, **ESC** to dismiss.","quick_switch_modal.help_mobile":"Type to find a channel.","quick_switch_modal.help_no_team":"Type to find a channel. Use **UP/DOWN** to browse, **ENTER** to select, **ESC** to dismiss.","quick_switch_modal.switchChannels":"Switch Channels","quick_switch_modal.teams":"Teams","quick_switch_modal.teamsShortcut.mac":"- ⌘⌥K","quick_switch_modal.teamsShortcut.windows":"- CTRL+ALT+K","reaction_list.addReactionTooltip":"Add a reaction","reaction.add.ariaLabel":"Add a reaction","reaction.clickToAdd":"(click to add)","reaction.clickToRemove":"(click to remove)","reaction.container.ariaLabel":"reactions","reaction.othersReacted":"{otherUsers, number} {otherUsers, plural, one {user} other {users}}","reaction.reacted":"{users} {reactionVerb} with {emoji}","reaction.reactionVerb.user":"reacted","reaction.reactionVerb.users":"reacted","reaction.reactionVerb.you":"reacted","reaction.reactionVerb.youAndUsers":"reacted","reaction.reactWidth.ariaLabel":"react with","reaction.removeReact.ariaLabel":"remove reaction","reaction.usersAndOthersReacted":"{users} and {otherUsers, number} other {otherUsers, plural, one {user} other {users}}","reaction.usersReacted":"{users} and {lastUser}","reaction.you":"You","remove_group_confirm_button":"Yes, Remove Group and {memberCount, plural, one {Member} other {Members}}","remove_group_confirm_message":"{memberCount, number} {memberCount, plural, one {member} other {members}} associated to this group will be removed from the team. Are you sure you wish to remove this group and {memberCount} {memberCount, plural, one {member} other {members}}?","remove_group_confirm_title":"Remove Group and {memberCount, number} {memberCount, plural, one {Member} other {Members}}","remove_next_steps_modal.confirm":"Remove","remove_next_steps_modal.header":"Remove {title}?","remove_next_steps_modal.helpText":"Access {title} any time through the Main Menu","remove_next_steps_modal.mainText":"This will remove this section from your sidebar, but you can access it later in the Help section of the Main Menu.","removed_channel.channelName":"the channel","removed_channel.from":"Removed from ","removed_channel.okay":"Okay","removed_channel.remover":"{remover} removed you from {channel}","removed_channel.someone":"Someone","rename_category_modal.rename":"Rename","rename_category_modal.renameCategory":"Rename Category","rename_channel.cancel":"Cancel","rename_channel.defaultError":" - Cannot be changed for the default channel","rename_channel.displayName":"Display Name","rename_channel.displayNameHolder":"Enter display name","rename_channel.maxLength":"This field must be less than {maxLength, number} characters","rename_channel.minLength":"Display name must have at least {minLength, number} characters.","rename_channel.save":"Save","rename_channel.title":"Rename Channel","rename_channel.url":"URL","revoke_user_sessions_modal.desc":"This action revokes all sessions for {username}. They will be logged out from all devices. Are you sure you want to revoke all sessions for {username}?","revoke_user_sessions_modal.revoke":"Revoke","revoke_user_sessions_modal.title":"Revoke Sessions for {username}","rhs_card.jump":"Jump","rhs_card.message_by":"Message by {avatar} {user}","rhs_comment.comment":"Comment","rhs_header.backToFlaggedTooltip":"Back to saved posts","rhs_header.backToPinnedTooltip":"Back to pinned posts","rhs_header.backToResultsTooltip":"Back to search results","rhs_header.closeSidebarTooltip":"Close","rhs_header.closeTooltip.icon":"Close Sidebar Icon","rhs_header.collapseSidebarTooltip":"Collapse Sidebar","rhs_header.collapseSidebarTooltip.icon":"Collapse Sidebar Icon","rhs_header.details":"Thread","rhs_header.expandSidebarTooltip":"Expand Sidebar","rhs_header.expandSidebarTooltip.icon":"Expand Sidebar Icon","rhs_root.mobile.add_reaction":"Add Reaction","rhs_root.mobile.flag":"Save","rhs_root.mobile.unflag":"Remove from Saved","rhs_thread.rootPostDeletedMessage.body":"Part of this thread has been deleted due to a data retention policy. You can no longer reply to this thread.","save_button.save":"Save","save_button.saving":"Saving","search_bar.search":"Search","search_bar.usage.title":"Search Options","search_header.loading":"Searching...","search_header.results":"Search Results","search_header.title2":"Recent Mentions","search_header.title3":"Saved Posts","search_header.title5":"Extra Information","search_item.channelArchived":"Archived","search_item.direct":"Direct Message (with {username})","search_item.jump":"Jump","search_list_option.after":"Messages after a date","search_list_option.before":"Messages before a date","search_list_option.exclude":"Exclude search terms","search_list_option.from":"Messages from a user","search_list_option.in":"Messages in a channel","search_list_option.on":"Messages on a date","search_list_option.phrases":"Messages with phrases","search_results.usage.dataRetention":"Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.","select_team.icon":"Select Team Icon","select_team.join.icon":"Join Team Icon","select_team.private.icon":"Private Team","setting_item_max.cancel":"Cancel","setting_item_min.edit":"Edit","setting_picture.cancel":"Cancel","setting_picture.help.profile":"Upload a picture in BMP, JPG or PNG format. Maximum file size: {max}","setting_picture.help.team":"Upload a team icon in BMP, JPG or PNG format.\\nSquare images with a solid background color are recommended.","setting_picture.remove":"Remove This Icon","setting_picture.remove_profile_picture":"Remove Profile Picture","setting_picture.save":"Save","setting_picture.select":"Select","setting_picture.uploading":"Uploading...","setting_upload.import":"Import","setting_upload.noFile":"No file selected.","setting_upload.select":"Select file","shortcuts.browser.channel_next":"Forward in history:\\tAlt|Right","shortcuts.browser.channel_next.mac":"Forward in history:\\t⌘|]","shortcuts.browser.channel_prev":"Back in history:\\tAlt|Left","shortcuts.browser.channel_prev.mac":"Back in history:\\t⌘|[","shortcuts.browser.font_decrease":"Zoom out:\\tCtrl|-","shortcuts.browser.font_decrease.mac":"Zoom out:\\t⌘|-","shortcuts.browser.font_increase":"Zoom in:\\tCtrl|+","shortcuts.browser.font_increase.mac":"Zoom in:\\t⌘|+","shortcuts.browser.header":"Built-in Browser Commands","shortcuts.browser.highlight_next":"Highlight text to the next line:\\tShift|Down","shortcuts.browser.highlight_prev":"Highlight text to the previous line:\\tShift|Up","shortcuts.browser.input.header":"Works inside an input field","shortcuts.browser.newline":"Create a new line:\\tShift|Enter","shortcuts.files.header":"Files","shortcuts.files.upload":"Upload files:\\tCtrl|U","shortcuts.files.upload.mac":"Upload files:\\t⌘|U","shortcuts.header":"Keyboard Shortcuts\\tCtrl|/","shortcuts.header.mac":"Keyboard Shortcuts\\t⌘|/","shortcuts.info":"Begin a message with / for a list of all the commands at your disposal.","shortcuts.msgs.comp.channel":"Channel:\\t~|[a-z]|Tab","shortcuts.msgs.comp.emoji":"Emoji:\\t:|[a-z]|Tab","shortcuts.msgs.comp.header":"Autocomplete","shortcuts.msgs.comp.last_reaction":"React to last message:\\tCtrl|Shift|⧵","shortcuts.msgs.comp.last_reaction.mac":"React to last message:\\t⌘|Shift|⧵","shortcuts.msgs.comp.username":"Username:\\t@|[a-z]|Tab","shortcuts.msgs.edit":"Edit last message in channel:\\tUp","shortcuts.msgs.header":"Messages","shortcuts.msgs.input.header":"Works inside an empty input field","shortcuts.msgs.reply":"Reply to last message in channel:\\tShift|Up","shortcuts.msgs.reprint_next":"Reprint next message:\\tCtrl|Down","shortcuts.msgs.reprint_next.mac":"Reprint next message:\\t⌘|Down","shortcuts.msgs.reprint_prev":"Reprint previous message:\\tCtrl|Up","shortcuts.msgs.reprint_prev.mac":"Reprint previous message:\\t⌘|Up","shortcuts.nav.direct_messages_menu":"Direct messages menu:\\tCtrl|Shift|K","shortcuts.nav.direct_messages_menu.mac":"Direct messages menu:\\t⌘|Shift|K","shortcuts.nav.focus_center":"Set focus to input field:\\tCtrl|Shift|L","shortcuts.nav.focus_center.mac":"Set focus to input field:\\t⌘|Shift|L","shortcuts.nav.header":"Navigation","shortcuts.nav.next":"Next channel:\\tAlt|Down","shortcuts.nav.next.mac":"Next channel:\\t⌥|Down","shortcuts.nav.open_close_sidebar":"Open or close the right sidebar\\tCtrl|.","shortcuts.nav.open_close_sidebar.mac":"Open or close the right sidebar\\t⌘|.","shortcuts.nav.prev":"Previous channel:\\tAlt|Up","shortcuts.nav.prev.mac":"Previous channel:\\t⌥|Up","shortcuts.nav.recent_mentions":"Recent mentions:\\tCtrl|Shift|M","shortcuts.nav.recent_mentions.mac":"Recent mentions:\\t⌘|Shift|M","shortcuts.nav.settings":"Account settings:\\tCtrl|Shift|A","shortcuts.nav.settings.mac":"Account settings:\\t⌘|Shift|A","shortcuts.nav.switcher":"Quick channel switcher:\\tCtrl|K","shortcuts.nav.switcher.mac":"Quick channel switcher:\\t⌘|K","shortcuts.nav.unread_next":"Next unread channel:\\tAlt|Shift|Down","shortcuts.nav.unread_next.mac":"Next unread channel:\\t⌥|Shift|Down","shortcuts.nav.unread_prev":"Previous unread channel:\\tAlt|Shift|Up","shortcuts.nav.unread_prev.mac":"Previous unread channel:\\t⌥|Shift|Up","shortcuts.team_nav.next":"Next team:\\tCtrl|Alt|Down","shortcuts.team_nav.next.mac":"Next team:\\t⌘|⌥|Down","shortcuts.team_nav.prev":"Previous team:\\tCtrl|Alt|Up","shortcuts.team_nav.prev.mac":"Previous team:\\t⌘|⌥|Up","shortcuts.team_nav.switcher":"Switch to a specific team:\\tCtrl|Alt|[1-9]","shortcuts.team_nav.switcher.mac":"Switch to a specific team:\\t⌘|⌥|[1-9]","sidebar_header.tutorial.body1":"The **Main Menu** is where you can **Invite New Members**, access your **Account Settings** and set your **Theme Color**.","sidebar_header.tutorial.body2":"Team administrators can also access their **Team Settings** from this menu.","sidebar_header.tutorial.body3":"System administrators will find a **System Console** option to administrate the entire system.","sidebar_header.tutorial.title":"Main Menu","sidebar_left.add_channel_dropdown.browseChannels":"Browse Channels","sidebar_left.add_channel_dropdown.browseOrCreateChannels":"Browse or create channels","sidebar_left.add_channel_dropdown.createCategory":"Create New Category","sidebar_left.add_channel_dropdown.createNewChannel":"Create New Channel","sidebar_left.add_channel_dropdown.dropdownAriaLabel":"Add Channel Dropdown","sidebar_left.channel_filter.allChannels":"All channels","sidebar_left.channel_filter.filterByUnread":"Filter by unread","sidebar_left.channel_filter.filteredBy":"FILTERED BY:","sidebar_left.channel_filter.showAllChannels":"Show all channels","sidebar_left.channel_filter.unread":"Unread","sidebar_left.channel_filter.viewing":"VIEWING:","sidebar_left.channel_navigator.channelSwitcherLabel":"Channel Switcher","sidebar_left.channel_navigator.goBackLabel":"Back","sidebar_left.channel_navigator.goForwardLabel":"Forward","sidebar_left.channel_navigator.jumpTo":"Jump to...","sidebar_left.sidebar_category_menu.createCategory":"Create New Category","sidebar_left.sidebar_category_menu.deleteCategory":"Delete Category","sidebar_left.sidebar_category_menu.dropdownAriaLabel":"Edit category menu","sidebar_left.sidebar_category_menu.editCategory":"Category options","sidebar_left.sidebar_category_menu.renameCategory":"Rename Category","sidebar_left.sidebar_category.newDropBoxLabel":"Drag channels here...","sidebar_left.sidebar_category.newLabel":"new","sidebar_left.sidebar_channel_menu.addMembers":"Add Members","sidebar_left.sidebar_channel_menu.copyLink":"Copy Link","sidebar_left.sidebar_channel_menu.dropdownAriaLabel":"Edit channel menu","sidebar_left.sidebar_channel_menu.editChannel":"Channel options","sidebar_left.sidebar_channel_menu.favoriteChannel":"Favorite","sidebar_left.sidebar_channel_menu.leaveChannel":"Leave Channel","sidebar_left.sidebar_channel_menu.leaveConversation":"Close Conversation","sidebar_left.sidebar_channel_menu.markAsRead":"Mark as Read","sidebar_left.sidebar_channel_menu.moveTo":"Move to","sidebar_left.sidebar_channel_menu.moveToNewCategory":"New Category","sidebar_left.sidebar_channel_menu.muteChannel":"Mute Channel","sidebar_left.sidebar_channel_menu.muteConversation":"Mute Conversation","sidebar_left.sidebar_channel_menu.unfavoriteChannel":"Unfavorite","sidebar_left.sidebar_channel_menu.unmuteChannel":"Unmute Channel","sidebar_left.sidebar_channel_menu.unmuteConversation":"Unmute Conversation","sidebar_next_steps.gettingStarted":"Getting Started","sidebar_next_steps.otherAreasToExplore":"A few other areas to explore","sidebar_next_steps.stepsComplete":"{complete} / {total} steps complete","sidebar_next_steps.tipsAndNextSteps":"Tips & Next Steps","sidebar_right_menu.console":"System Console","sidebar_right_menu.flagged":"Saved Posts","sidebar_right_menu.recentMentions":"Recent Mentions","sidebar_whats_new_modal.confirm":"Got it","sidebar_whats_new_modal.header":"What\'s new","sidebar_whats_new_modal.whatsNewText":"Create custom categories in your sidebar. Drag and drop to organize channels and categories.","sidebar.browseChannelDirectChannel":"Browse channels and direct messages","sidebar.createChannel":"Create a public channel","sidebar.createDirectMessage":"Write a direct message","sidebar.createGroup":"Create a private channel","sidebar.createPublicPrivateChannel":"Create a public or private channel","sidebar.directchannel.you":"{displayname} (you)","sidebar.leave":"Leave the channel","sidebar.moreDmAria":"See more direct messages","sidebar.moreElips":"More...","sidebar.morePublicAria":"See more public channels","sidebar.morePublicDmAria":"See more public channels and direct messages","sidebar.removeList":"Remove from this list","sidebar.sortedByAlphabetical":"Sorted alphabetically","sidebar.sortedByRecency":"Sorted by most recent","sidebar.team_select":"{siteName} - Join a team","sidebar.tutorialScreen1.body":"**Channels** organize conversations across different topics. They\'re open to everyone on your team. To send private communications use **Direct Messages** for a single person or **Private Channels** for multiple people.","sidebar.tutorialScreen1.title":"Channels","sidebar.tutorialScreen2.body1":"Here are two public channels to start:","sidebar.tutorialScreen2.body2":"**{townsquare}** is a place for team-wide communication. Everyone in your team is a member of this channel.","sidebar.tutorialScreen2.body3":"**{offtopic}** is a place for fun and humor outside of work-related channels. You and your team can decide what other channels to create.","sidebar.tutorialScreen2.title":"\\"{townsquare}\\" and \\"{offtopic}\\" channels","sidebar.tutorialScreen3.body1":"Click **\\"More...\\"** to create a new channel or join an existing one.","sidebar.tutorialScreen3.body2":"You can also create a new channel by clicking the **\\"+\\" symbol** next to the public or private channel header.","sidebar.tutorialScreen3.title":"Creating and Joining Channels","sidebar.types.all_unreads":"ALL UNREADS","sidebar.types.alpha":"CHANNELS","sidebar.types.channels":"CHANNELS","sidebar.types.direct":"DIRECT MESSAGES","sidebar.types.direct_messages":"DIRECT MESSAGES","sidebar.types.favorite":"FAVORITE CHANNELS","sidebar.types.favorites":"FAVORITES","sidebar.types.private":"PRIVATE CHANNELS","sidebar.types.public":"PUBLIC CHANNELS","sidebar.types.recent":"RECENT ACTIVITY","sidebar.types.unreads":"UNREADS","sidebar.unreads":"More unreads","signup_team_system_console":"Go to System Console","signup_team.guest_without_channels":"Your guest account has no channels assigned. Please contact an administrator.","signup_team.join_open":"Teams you can join: ","signup_team.no_open_teams":"No teams are available to join. Please ask your administrator for an invite.","signup_team.no_open_teams_canCreate":"No teams are available to join. Please create a new team or ask your administrator for an invite.","signup_user_completed.choosePwd":"Choose your password","signup_user_completed.chooseUser":"Choose your username","signup_user_completed.create":"Create Account","signup_user_completed.emailHelp":"Valid email required for sign-up","signup_user_completed.emailIs":"Your email address is **{email}**. You\'ll use this address to sign in to {siteName}.","signup_user_completed.expired":"You\'ve already completed the signup process for this invitation or this invitation has expired.","signup_user_completed.failed_update_user_state":"Please clear your cache and try to log in.","signup_user_completed.haveAccount":"Already have an account?","signup_user_completed.invalid_invite":"The invite link was invalid.  Please speak with your Administrator to receive an invitation.","signup_user_completed.lets":"Let\'s create your account","signup_user_completed.no_open_server":"This server does not allow open signups.  Please speak with your Administrator to receive an invitation.","signup_user_completed.none":"No user creation method has been enabled.  Please contact an administrator for access.","signup_user_completed.required":"This field is required","signup_user_completed.reserved":"This username is reserved, please choose a new one.","signup_user_completed.signIn":"Click here to sign in.","signup_user_completed.userHelp":"You can use lowercase letters, numbers, periods, dashes, and underscores.","signup_user_completed.usernameLength":"Usernames have to begin with a lowercase letter and be {min}-{max} characters long. You can use lowercase letters, numbers, periods, dashes, and underscores.","signup_user_completed.validEmail":"Please enter a valid email address","signup_user_completed.whatis":"What\'s your email address?","signup.email":"Email and Password","signup.email.icon":"Email Icon","signup.gitlab":"GitLab Single Sign-On","signup.google":"Google Account","signup.ldap":"AD/LDAP Credentials","signup.ldap.icon":"AD/LDAP Icon","signup.office365":"Office 365","signup.saml.icon":"SAML Icon","signup.title":"Create an account with:","status_dropdown.menuAriaLabel":"set status","status_dropdown.set_away":"Away","status_dropdown.set_dnd":"Do Not Disturb","status_dropdown.set_dnd.extra":"Disables all notifications","status_dropdown.set_offline":"Offline","status_dropdown.set_online":"Online","status_dropdown.set_ooo":"Out of Office","status_dropdown.set_ooo.extra":"Automatic Replies are enabled","status_dropdown.set_your_status":"Status","string.id":"default message","suggestion_list.no_matches":"No items match __{value}__","suggestion.archive":"Archived Channels","suggestion.mention.all":"Notifies everyone in this channel","suggestion.mention.channel":"Notifies everyone in this channel","suggestion.mention.channels":"My Channels","suggestion.mention.groups":"Group Mentions","suggestion.mention.here":"Notifies everyone online in this channel","suggestion.mention.members":"Channel Members","suggestion.mention.morechannels":"Other Channels","suggestion.mention.moremembers":"Other Members","suggestion.mention.nonmembers":"Not in Channel","suggestion.mention.special":"Special Mentions","suggestion.mention.unread.channels":"Unread Channels","suggestion.search.direct":"Direct Messages","suggestion.search.private":"Private Channels","suggestion.search.public":"Public Channels","suggestion.user.isCurrent":"(you)","system_notice.adminVisible":"Only visible to System Admins","system_notice.adminVisible.icon":"Only visible to System Admins Icon","system_notice.body.api3":"If you’ve created or installed integrations in the last two years, find out how [recent changes](!https://about.mattermost.com/default-apiv3-deprecation-guide) may have affected them.","system_notice.body.ee_upgrade_advice":"Enterprise Edition is recommended to ensure optimal operation and reliability. [Learn more](!https://mattermost.com/performance).","system_notice.body.ie11_deprecation":"Your browser, IE11, will no longer be supported in an upcoming release. [Find out how to move to another browser in one simple step](!https://forum.mattermost.org/t/mattermost-is-dropping-support-for-internet-explorer-ie11-in-v5-16/7575).","system_notice.body.permissions":"Some policy and permission System Console settings have moved with the release of [advanced permissions](!https://about.mattermost.com/default-advanced-permissions) in Enterprise E10 and E20.","system_notice.dont_show":"Don\'t Show Again","system_notice.remind_me":"Remind me Later","system_notice.title":"**Notice**\\nfrom Mattermost","system_users_list.count":"{count, number} {count, plural, one {user} other {users}}","system_users_list.countPage":"{startCount, number} - {endCount, number} {count, plural, one {user} other {users}} of {total, number} total","system_users_list.countSearch":"{count, number} {count, plural, one {user} other {users}} of {total, number} total","team_channel_settings.group.group_user_row.numberOfGroups":"{amount, number} {amount, plural, one {Group} other {Groups}}","team_import_tab.failure":" Import failure: ","team_import_tab.import":"Import","team_import_tab.importHelpCliDocsLink":"CLI tool for Slack import","team_import_tab.importHelpDocsLink":"documentation","team_import_tab.importHelpExporterLink":"Slack Advanced Exporter","team_import_tab.importHelpExportInstructions":"Slack > Administration > Workspace settings > Import/Export Data > Export > Start Export","team_import_tab.importHelpLine1":"Slack import to Mattermost supports importing of messages in your Slack team\'s public channels.","team_import_tab.importHelpLine2":"To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.","team_import_tab.importHelpLine3":"To import posts with attached files, see {slackAdvancedExporterLink} for details.","team_import_tab.importHelpLine4":"For Slack teams with over 10,000 messages, we recommend using the {cliLink}.","team_import_tab.importing":"Importing...","team_import_tab.importSlack":"Import from Slack (Beta)","team_import_tab.successful":" Import successful: ","team_import_tab.summary":"View Summary","team_member_modal.invitePeople":"Invite People","team_member_modal.members":"{team} Members","team_members_dropdown.confirmDemoteDescription":"If you demote yourself from the System Admin role and there is not another user with System Admin privileges, you\'ll need to re-assign a System Admin by accessing the Mattermost server through a terminal and running the following command.","team_members_dropdown.confirmDemoteRoleTitle":"Confirm Demotion from System Admin Role","team_members_dropdown.confirmDemotion":"Confirm Demotion","team_members_dropdown.confirmDemotionCmd":"platform roles system_admin {username}","team_members_dropdown.guest":"Guest","team_members_dropdown.inactive":"Inactive","team_members_dropdown.leave_team":"Remove from Team","team_members_dropdown.makeAdmin":"Make Team Admin","team_members_dropdown.makeMember":"Make Team Member","team_members_dropdown.makeTeamAdmins":"Make Team Admins","team_members_dropdown.makeTeamMembers":"Make Team Members","team_members_dropdown.member":"Member","team_members_dropdown.menuAriaLabel":"Change the role of a team member","team_members_dropdown.systemAdmin":"System Admin","team_members_dropdown.teamAdmin":"Team Admin","team_members_dropdown.teamAdmins":"Team Admins","team_members_dropdown.teamMembers":"Team Members","team_settings_modal.generalTab":"General","team_settings_modal.importTab":"Import","team_settings_modal.title":"Team Settings","team_settings.openInviteDescription.ariaLabel":"Invite Code","team_settings.openInviteDescription.groupConstrained":"No, members of this team are added and removed by linked groups. [Learn More](!https://mattermost.com/pl/default-ldap-group-constrained-team-channel.html)","team_settings.openInviteSetting.groupConstrained":"No, members of this team are added and removed by linked groups.","team_sidebar.join":"Other teams you can join","team.button.ariaLabel":"{teamName} team","team.button.mentions.ariaLabel":"{teamName} team, {mentionCount} mentions","team.button.name_undefined":"This team does not have a name","team.button.tooltip":"Ctrl+Alt+{order}","team.button.tooltip.mac":"⌘ ⌥ {order}","team.button.unread.ariaLabel":"{teamName} team unread","terms_of_service.agreeButton":"I Agree","terms_of_service.api_error":"Unable to complete the request. If this issue persists, contact your System Administrator.","terms_of_service.disagreeButton":"I Disagree","test":"Button Text","textbox.bold":"**bold**","textbox.edit":"Edit message","textbox.help":"Help","textbox.inlinecode":"`inline code`","textbox.italic":"*italic*","textbox.preformatted":"```preformatted```","textbox.preview":"Preview","textbox.quote":">quote","textbox.strike":"strike","threading.following":"Following","threading.footer.lastReplyAt":"Last reply {formatted}","threading.notFollowing":"Follow","threading.numNewMessages":"{newReplies, plural, =0 {No unread messages} =1 {One unread message} other {# unread messages}}","threading.numNewReplies":"{newReplies, plural, =1 {# new reply} other {# new replies}}","threading.numReplies":"{totalReplies, plural, =0 {Reply} =1 {# reply} other {# replies}}","threading.threadItem.menu":"Actions","threading.threadMenu.copy":"Copy link","threading.threadMenu.follow":"Follow thread","threading.threadMenu.followExtra":"You will be notified about replies","threading.threadMenu.markRead":"Mark as read","threading.threadMenu.markUnread":"Mark as unread","threading.threadMenu.openInChannel":"Open in channel","threading.threadMenu.save":"Save","threading.threadMenu.unfollow":"Unfollow thread","threading.threadMenu.unfollowExtra":"You won’t be notified about replies","threading.threadMenu.unsave":"Unsave","timestamp.datetime":"{relativeOrDate} at {time}","tutorial_intro.allSet":"You\'re all set","tutorial_intro.end":"Click \\"Next\\" to enter {channel}. This is the first channel teammates see when they sign up. Use it for posting updates everyone needs to know.","tutorial_intro.invite":"Invite Teammates","tutorial_intro.mobileApps":"Install the apps for {link} for easy access and notifications on the go.","tutorial_intro.mobileAppsLinkText":"PC, Mac, iOS and Android","tutorial_intro.next":"Next","tutorial_intro.screenOne.body1":"Your team communication all in one place, instantly searchable and available anywhere.","tutorial_intro.screenOne.body2":"Keep your team connected to help them achieve what matters most.","tutorial_intro.screenOne.title1":"Welcome to:","tutorial_intro.screenOne.title2":"Mattermost","tutorial_intro.screenTwo.body1":"Communication happens in public discussion channels, private channels and direct messages.","tutorial_intro.screenTwo.body2":"Everything is archived and searchable from any web-enabled desktop, laptop or phone.","tutorial_intro.screenTwo.title":"How Mattermost Works:","tutorial_intro.skip":"Skip Tutorial","tutorial_intro.support":"Need anything, just email us at ","tutorial_intro.whenReady":" when you\'re ready.","tutorial_tip.next":"Next","tutorial_tip.ok":"Okay","tutorial_tip.out":"Opt out of these tips.","tutorial_tip.seen":"Seen this before? ","unarchive_channel.cancel":"Cancel","unarchive_channel.confirm":"Confirm UNARCHIVE Channel","unarchive_channel.del":"Unarchive","unarchive_channel.viewArchived.question":"Are you sure you wish to unarchive the **{display_name}** channel?","update_command.confirm":"Edit Slash Command","update_command.question":"Your changes may break the existing slash command. Are you sure you would like to update it?","update_command.update":"Update","update_incoming_webhook.update":"Update","update_incoming_webhook.updating":"Updating...","update_oauth_app.confirm":"Edit OAuth 2.0 application","update_oauth_app.question":"Your changes may break the existing OAuth 2.0 application. Are you sure you would like to update it?","update_outgoing_webhook.confirm":"Edit Outgoing Webhook","update_outgoing_webhook.question":"Your changes may break the existing outgoing webhook. Are you sure you would like to update it?","update_outgoing_webhook.update":"Update","upgrade.cloud":"Upgrade Mattermost Cloud","upgrade.cloud_banner_over":"You are currently over the user limit for the free tier","upgrade.cloud_banner_reached":"You have reached the user limit for the free tier","upgrade.cloud_modal_body":"The free tier is limited to 10 users. Upgrade Mattermost Cloud for more users.","upgrade.cloud_modal_title":"You\'ve reached the user limit","upload_overlay.info":"Drop a file to upload it.","user_list.notFound":"No users found","user_profile.account.editSettings":"Edit Account Settings","user_profile.account.localTime":"Local Time: ","user_profile.account.post_was_created":"This post was created by an integration from","user_profile.add_user_to_channel":"Add to a Channel","user_profile.add_user_to_channel.icon":"Add User to Channel Icon","user_profile.send.dm":"Send Message","user_profile.send.dm.icon":"Send Message Icon","user.settings.advance.confirmDeactivateAccountTitle":"Confirm Deactivation","user.settings.advance.confirmDeactivateDesc":"Are you sure you want to deactivate your account? This can only be reversed by your System Administrator.","user.settings.advance.deactivate_member_modal.deactivateButton":"Yes, deactivate my account","user.settings.advance.deactivateAccountTitle":"Deactivate Account","user.settings.advance.deactivateDesc":"Deactivating your account removes your ability to log in to this server and disables all email and mobile notifications. To reactivate your account, contact your System Administrator.","user.settings.advance.deactivateDescShort":"Click \'Edit\' to deactivate your account","user.settings.advance.enabledFeatures":"{count, number} {count, plural, one {Feature} other {Features}} Enabled","user.settings.advance.formattingDesc":"If enabled, posts will be formatted to create links, show emoji, style the text, and add line breaks. By default, this setting is enabled.","user.settings.advance.formattingTitle":"Enable Post Formatting","user.settings.advance.icon":"Advanced Settings Icon","user.settings.advance.joinLeaveDesc":"When \\"On\\", System Messages saying a user has joined or left a channel will be visible. When \\"Off\\", the System Messages about joining or leaving a channel will be hidden. A message will still show up when you are added to a channel, so you can receive a notification.","user.settings.advance.joinLeaveTitle":"Enable Join/Leave Messages","user.settings.advance.markdown_preview":"Show markdown preview option in message input box","user.settings.advance.off":"Off","user.settings.advance.on":"On","user.settings.advance.onForAllMessages":"On for all messages","user.settings.advance.onForCode":"On only for code blocks starting with ```","user.settings.advance.preReleaseDesc":"Check any pre-released features you\'d like to preview.  You may also need to refresh the page before the setting will take effect.","user.settings.advance.preReleaseTitle":"Preview Pre-release Features","user.settings.advance.sendDesc":"When enabled, CTRL + ENTER will send the message and ENTER inserts a new line.","user.settings.advance.sendDesc.mac":"When enabled, ⌘ + ENTER will send the message and ENTER inserts a new line.","user.settings.advance.sendTitle":"Send Messages on CTRL+ENTER","user.settings.advance.sendTitle.mac":"Send Messages on ⌘+ENTER","user.settings.advance.title":"Advanced Settings","user.settings.custom_theme.awayIndicator":"Away Indicator","user.settings.custom_theme.buttonBg":"Button BG","user.settings.custom_theme.buttonColor":"Button Text","user.settings.custom_theme.centerChannelBg":"Center Channel BG","user.settings.custom_theme.centerChannelColor":"Center Channel Text","user.settings.custom_theme.centerChannelTitle":"Center Channel Styles","user.settings.custom_theme.codeTheme":"Code Theme","user.settings.custom_theme.copied":"✔ Copied","user.settings.custom_theme.copyPaste":"Copy and paste to share theme colors:","user.settings.custom_theme.copyThemeColors":"Copy Theme Colors","user.settings.custom_theme.dndIndicator":"Do Not Disturb Indicator","user.settings.custom_theme.errorTextColor":"Error Text Color","user.settings.custom_theme.linkButtonTitle":"Link and Button Styles","user.settings.custom_theme.linkColor":"Link Color","user.settings.custom_theme.mentionBg":"Mention Jewel BG","user.settings.custom_theme.mentionColor":"Mention Jewel Text","user.settings.custom_theme.mentionHighlightBg":"Mention Highlight BG","user.settings.custom_theme.mentionHighlightLink":"Mention Highlight Link","user.settings.custom_theme.newMessageSeparator":"New Message Separator","user.settings.custom_theme.onlineIndicator":"Online Indicator","user.settings.custom_theme.sidebarBg":"Sidebar BG","user.settings.custom_theme.sidebarHeaderBg":"Sidebar Header BG","user.settings.custom_theme.sidebarHeaderTextColor":"Sidebar Header Text","user.settings.custom_theme.sidebarText":"Sidebar Text","user.settings.custom_theme.sidebarTextActiveBorder":"Sidebar Text Active Border","user.settings.custom_theme.sidebarTextActiveColor":"Sidebar Text Active Color","user.settings.custom_theme.sidebarTextHoverBg":"Sidebar Text Hover BG","user.settings.custom_theme.sidebarTitle":"Sidebar Styles","user.settings.custom_theme.sidebarUnreadText":"Sidebar Unread Text","user.settings.display.channeldisplaymode":"Select the width of the center channel.","user.settings.display.channelDisplayTitle":"Channel Display","user.settings.display.clockDisplay":"Clock Display","user.settings.display.collapseDesc":"Set whether previews of image links and image attachment thumbnails show as expanded or collapsed by default. This setting can also be controlled using the slash commands /expand and /collapse.","user.settings.display.collapseDisplay":"Default Appearance of Image Previews","user.settings.display.collapseOff":"Collapsed","user.settings.display.collapseOn":"Expanded","user.settings.display.fixedWidthCentered":"Fixed width, centered","user.settings.display.fullScreen":"Full width","user.settings.display.icon":"Display Settings Icon","user.settings.display.language":"Language","user.settings.display.linkPreviewDesc":"When available, the first web link in a message will show a preview of the website content below the message.","user.settings.display.linkPreviewDisplay":"Website Link Previews","user.settings.display.linkPreviewOff":"Off","user.settings.display.linkPreviewOn":"On","user.settings.display.messageDisplayClean":"Standard","user.settings.display.messageDisplayCleanDes":"Easy to scan and read.","user.settings.display.messageDisplayCompact":"Compact","user.settings.display.messageDisplayCompactDes":"Fit as many messages on the screen as we can.","user.settings.display.messageDisplayDescription":"Select how messages in a channel should be displayed.","user.settings.display.messageDisplayTitle":"Message Display","user.settings.display.militaryClock":"24-hour clock (example: 16:00)","user.settings.display.normalClock":"12-hour clock (example: 4:00 PM)","user.settings.display.preferTime":"Select how you prefer time displayed.","user.settings.display.teammateNameDisplay":"This field is handled through your System Administrator. If you want to change it, you need to do so through your System Administrator.","user.settings.display.teammateNameDisplayDescription":"Set how to display other user\'s names in posts and the Direct Messages list.","user.settings.display.teammateNameDisplayFullname":"Show first and last name","user.settings.display.teammateNameDisplayNicknameFullname":"Show nickname if one exists, otherwise show first and last name","user.settings.display.teammateNameDisplayTitle":"Teammate Name Display","user.settings.display.teammateNameDisplayUsername":"Show username","user.settings.display.theme.applyToAllTeams":"Apply new theme to all my teams","user.settings.display.theme.customTheme":"Custom Theme","user.settings.display.theme.describe":"Open to manage your theme","user.settings.display.theme.import":"Import theme colors from Slack","user.settings.display.theme.otherThemes":"See other themes","user.settings.display.theme.themeColors":"Theme Colors","user.settings.display.theme.title":"Theme","user.settings.display.timezone":"Timezone","user.settings.display.title":"Display Settings","user.settings.general.close":"Close","user.settings.general.confirmEmail":"Confirm Email","user.settings.general.currentEmail":"Current Email","user.settings.general.currentPassword":"Current Password","user.settings.general.email":"Email","user.settings.general.emailGitlabCantUpdate":"Login occurs through GitLab. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailGoogleCantUpdate":"Login occurs through Google. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailHelp1":"Email is used for sign-in, notifications, and password reset. Email requires verification if changed.","user.settings.general.emailHelp3":"Email is used for sign-in, notifications, and password reset.","user.settings.general.emailLdapCantUpdate":"Login occurs through AD/LDAP. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailMatch":"The new emails you entered do not match.","user.settings.general.emailOffice365CantUpdate":"Login occurs through Office 365. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailSamlCantUpdate":"Login occurs through SAML. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emptyName":"Click \'Edit\' to add your full name","user.settings.general.emptyNickname":"Click \'Edit\' to add a nickname","user.settings.general.emptyPassword":"Please enter your current password.","user.settings.general.emptyPosition":"Click \'Edit\' to add your job title / position","user.settings.general.field_handled_externally":"This field is handled through your login provider. If you want to change it, you need to do so through your login provider.","user.settings.general.firstName":"First Name","user.settings.general.fullName":"Full Name","user.settings.general.icon":"General Settings Icon","user.settings.general.imageTooLarge":"Unable to upload profile image. File is too large.","user.settings.general.imageUpdated":"Image last updated {date}","user.settings.general.incorrectPassword":"Your password is incorrect.","user.settings.general.lastName":"Last Name","user.settings.general.loginGitlab":"Login done through GitLab ({email})","user.settings.general.loginGoogle":"Login done through Google ({email})","user.settings.general.loginLdap":"Login done through AD/LDAP ({email})","user.settings.general.loginOffice365":"Login done through Office 365 ({email})","user.settings.general.loginSaml":"Login done through SAML ({email})","user.settings.general.mobile.emptyName":"Click to add your full name","user.settings.general.mobile.emptyNickname":"Click to add a nickname","user.settings.general.mobile.emptyPosition":"Click to add your job title / position","user.settings.general.mobile.uploadImage":"Click to upload an image","user.settings.general.newEmail":"New Email","user.settings.general.nickname":"Nickname","user.settings.general.nicknameExtra":"Use Nickname for a name you might be called that is different from your first name and username. This is most often used when two or more people have similar sounding names and usernames.","user.settings.general.notificationsExtra":"By default, you will receive mention notifications when someone types your first name. Go to {notify} settings to change this default.","user.settings.general.notificationsLink":"Notifications","user.settings.general.position":"Position","user.settings.general.positionExtra":"Use Position for your role or job title. This will be shown in your profile popover.","user.settings.general.profilePicture":"Profile Picture","user.settings.general.sendAgain":"Send again","user.settings.general.sending":"Sending","user.settings.general.title":"General Settings","user.settings.general.uploadImage":"Click \'Edit\' to upload an image.","user.settings.general.username":"Username","user.settings.general.usernameInfo":"Pick something easy for teammates to recognize and recall.","user.settings.general.usernameReserved":"This username is reserved, please choose a new one.","user.settings.general.usernameRestrictions":"Username must begin with a letter, and contain between {min} to {max} lowercase characters made up of numbers, letters, and the symbols \'.\', \'-\', and \'_\'.","user.settings.general.validEmail":"Please enter a valid email address","user.settings.general.validImage":"Only BMP, JPG or PNG images may be used for profile pictures","user.settings.import_theme.cancel":"Cancel","user.settings.import_theme.importBody":"To import a theme, go to a Slack team and look for \\"Preferences -> Sidebar Theme\\". Open the custom theme option, copy the theme color values and paste them here:","user.settings.import_theme.importHeader":"Import Slack Theme","user.settings.import_theme.submit":"Submit","user.settings.import_theme.submitError":"Invalid format, please try copying and pasting in again.","user.settings.languages.change":"Change interface language","user.settings.languages.promote":"Select which language Mattermost displays in the user interface.\\n \\nWould you like to help with translations? Join the [Mattermost Translation Server](!http://translate.mattermost.com/) to contribute.","user.settings.mfa.add":"Add MFA to Account","user.settings.mfa.addHelp":"Adding multi-factor authentication will make your account more secure by requiring a code from your mobile phone each time you sign in.","user.settings.mfa.remove":"Remove MFA from Account","user.settings.mfa.removeHelp":"Removing multi-factor authentication means you will no longer require a phone-based passcode to sign-in to your account.","user.settings.mfa.requiredHelp":"Multi-factor authentication is required on this server. Resetting is only recommended when you need to switch code generation to a new mobile device. You will be required to set it up again immediately.","user.settings.mfa.reset":"Reset MFA on Account","user.settings.mfa.title":"Multi-factor Authentication","user.settings.modal.advanced":"Advanced","user.settings.modal.confirmBtns":"Yes, Discard","user.settings.modal.confirmMsg":"You have unsaved changes, are you sure you want to discard them?","user.settings.modal.confirmTitle":"Discard Changes?","user.settings.modal.display":"Display","user.settings.modal.general":"General","user.settings.modal.notifications":"Notifications","user.settings.modal.security":"Security","user.settings.modal.sidebar":"Sidebar","user.settings.modal.title":"Account Settings","user.settings.notifications.allActivity":"For all activity","user.settings.notifications.autoResponder":"Automatic Direct Message Replies","user.settings.notifications.autoResponderDefault":"Hello, I am out of office and unable to respond to messages.","user.settings.notifications.autoResponderDisabled":"Disabled","user.settings.notifications.autoResponderEnabled":"Enabled","user.settings.notifications.autoResponderHint":"Set a custom message that will be automatically sent in response to Direct Messages. Mentions in Public and Private Channels will not trigger the automated reply. Enabling Automatic Replies sets your status to Out of Office and disables email and push notifications.","user.settings.notifications.autoResponderPlaceholder":"Message","user.settings.notifications.channelWide":"Channel-wide mentions \\"@channel\\", \\"@all\\", \\"@here\\"","user.settings.notifications.comments":"Reply notifications","user.settings.notifications.commentsAny":"Trigger notifications on messages in reply threads that I start or participate in","user.settings.notifications.commentsInfo":"In addition to notifications for when you\'re mentioned, select if you would like to receive notifications on reply threads.","user.settings.notifications.commentsNever":"Do not trigger notifications on messages in reply threads unless I\'m mentioned","user.settings.notifications.commentsRoot":"Trigger notifications on messages in threads that I start","user.settings.notifications.desktop":"Send desktop notifications","user.settings.notifications.desktop.allNoSound":"For all activity, without sound","user.settings.notifications.desktop.allSound":"For all activity, with sound","user.settings.notifications.desktop.allSoundHidden":"For all activity","user.settings.notifications.desktop.mentionsNoSound":"For mentions and direct messages, without sound","user.settings.notifications.desktop.mentionsSound":"For mentions and direct messages, with sound","user.settings.notifications.desktop.mentionsSoundHidden":"For mentions and direct messages","user.settings.notifications.desktop.sound":"Notification sound","user.settings.notifications.desktop.title":"Desktop Notifications","user.settings.notifications.email.disabled":"Email notifications are not enabled","user.settings.notifications.email.disabled_long":"Email notifications have not been enabled by your System Administrator.","user.settings.notifications.email.everyHour":"Every hour","user.settings.notifications.email.everyXMinutes":"Every {count, plural, one {minute} other {{count, number} minutes}}","user.settings.notifications.email.immediately":"Immediately","user.settings.notifications.email.never":"Never","user.settings.notifications.email.send":"Send email notifications","user.settings.notifications.emailBatchingInfo":"Notifications received over the time period selected are combined and sent in a single email.","user.settings.notifications.emailInfo":"Email notifications are sent for mentions and direct messages when you are offline or away for more than 5 minutes.","user.settings.notifications.emailNotifications":"Email Notifications","user.settings.notifications.header":"Notifications","user.settings.notifications.icon":"Notification Settings Icon","user.settings.notifications.info":"Desktop notifications are available on Edge, Firefox, Safari, Chrome and Mattermost Desktop Apps.","user.settings.notifications.mentionsInfo":"Mentions trigger when someone sends a message that includes your username (\\"@{username}\\") or any of the options selected above.","user.settings.notifications.never":"Never","user.settings.notifications.noWords":"No words configured","user.settings.notifications.off":"Off","user.settings.notifications.on":"On","user.settings.notifications.onlyMentions":"Only for mentions and direct messages","user.settings.notifications.push":"Mobile Push Notifications","user.settings.notifications.push_notification.status":"Trigger push notifications when","user.settings.notifications.sensitiveName":"Your case-sensitive first name \\"{first_name}\\"","user.settings.notifications.sensitiveUsername":"Your non case-sensitive username \\"{username}\\"","user.settings.notifications.sensitiveWords":"Other non case-sensitive words, separated by commas:","user.settings.notifications.soundConfig":"Please configure notification sounds in your browser settings","user.settings.notifications.sounds_info":"Notification sounds are available on Firefox, Edge, Safari, Chrome and Mattermost Desktop Apps.","user.settings.notifications.title":"Notification Settings","user.settings.notifications.wordsTrigger":"Words That Trigger Mentions","user.settings.push_notification.allActivity":"For all activity","user.settings.push_notification.allActivityAway":"For all activity when away or offline","user.settings.push_notification.allActivityOffline":"For all activity when offline","user.settings.push_notification.allActivityOnline":"For all activity when online, away or offline","user.settings.push_notification.away":"Away or offline","user.settings.push_notification.disabled":"Push notifications are not enabled","user.settings.push_notification.disabled_long":"Push notifications have not been enabled by your System Administrator.","user.settings.push_notification.info":"Notification alerts are pushed to your mobile device when there is activity in Mattermost.","user.settings.push_notification.offline":"Offline","user.settings.push_notification.online":"Online, away or offline","user.settings.push_notification.onlyMentions":"For mentions and direct messages","user.settings.push_notification.onlyMentionsAway":"For mentions and direct messages when away or offline","user.settings.push_notification.onlyMentionsOffline":"For mentions and direct messages when offline","user.settings.push_notification.onlyMentionsOnline":"For mentions and direct messages when online, away or offline","user.settings.push_notification.send":"Send mobile push notifications","user.settings.push_notification.status_info":"Notification alerts are only pushed to your mobile device when your online status matches the selection above.","user.settings.security.active":"Active","user.settings.security.close":"Close","user.settings.security.currentPassword":"Current Password","user.settings.security.currentPasswordError":"Please enter your current password.","user.settings.security.deauthorize":"Deauthorize","user.settings.security.emailPwd":"Email and Password","user.settings.security.gitlab":"GitLab","user.settings.security.google":"Google","user.settings.security.icon":"Security Settings Icon","user.settings.security.inactive":"Inactive","user.settings.security.lastUpdated":"Last updated {date} at {time}","user.settings.security.ldap":"AD/LDAP","user.settings.security.loginGitlab":"Login done through GitLab","user.settings.security.loginGoogle":"Login done through Google Apps","user.settings.security.loginLdap":"Login done through AD/LDAP","user.settings.security.loginOffice365":"Login done through Office 365","user.settings.security.loginSaml":"Login done through SAML","user.settings.security.logoutActiveSessions":"View and Log Out of Active Sessions","user.settings.security.logoutActiveSessions.icon":"Active Sessions Icon","user.settings.security.method":"Sign-in Method","user.settings.security.newPassword":"New Password","user.settings.security.noApps":"No OAuth 2.0 Applications are authorized.","user.settings.security.oauthApps":"OAuth 2.0 Applications","user.settings.security.oauthAppsDescription":"Click \'Edit\' to manage your OAuth 2.0 Applications","user.settings.security.oauthAppsHelp":"Applications act on your behalf to access your data based on the permissions you grant them.","user.settings.security.office365":"Office 365","user.settings.security.oneSignin":"You may only have one sign-in method at a time. Switching sign-in method will send an email notifying you if the change was successful.","user.settings.security.password":"Password","user.settings.security.passwordError":"Your password must contain between {min} and {max} characters.","user.settings.security.passwordErrorLowercase":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter.","user.settings.security.passwordErrorLowercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one number.","user.settings.security.passwordErrorLowercaseNumberSymbol":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one number, and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorLowercaseSymbol":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorLowercaseUppercase":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one uppercase letter.","user.settings.security.passwordErrorLowercaseUppercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, and at least one number.","user.settings.security.passwordErrorLowercaseUppercaseNumberSymbol":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, at least one number, and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorLowercaseUppercaseSymbol":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorNumber":"Your password must contain between {min} and {max} characters made up of at least one number.","user.settings.security.passwordErrorNumberSymbol":"Your password must contain between {min} and {max} characters made up of at least one number and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorSymbol":"Your password must contain between {min} and {max} characters made up of at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorUppercase":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter.","user.settings.security.passwordErrorUppercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter and at least one number.","user.settings.security.passwordErrorUppercaseNumberSymbol":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter, at least one number, and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorUppercaseSymbol":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordGitlabCantUpdate":"Login occurs through GitLab. Password cannot be updated.","user.settings.security.passwordGoogleCantUpdate":"Login occurs through Google Apps. Password cannot be updated.","user.settings.security.passwordLdapCantUpdate":"Login occurs through AD/LDAP. Password cannot be updated.","user.settings.security.passwordMatchError":"The new passwords you entered do not match.","user.settings.security.passwordMinLength":"Invalid minimum length, cannot show preview.","user.settings.security.passwordOffice365CantUpdate":"Login occurs through Office 365. Password cannot be updated.","user.settings.security.passwordSamlCantUpdate":"This field is handled through your login provider. If you want to change it, you need to do so through your login provider.","user.settings.security.retypePassword":"Retype New Password","user.settings.security.saml":"SAML","user.settings.security.switchEmail":"Switch to Using Email and Password","user.settings.security.switchGitlab":"Switch to Using GitLab SSO","user.settings.security.switchGoogle":"Switch to Using Google SSO","user.settings.security.switchLdap":"Switch to Using AD/LDAP","user.settings.security.switchOffice365":"Switch to Using Office 365 SSO","user.settings.security.switchSaml":"Switch to Using SAML SSO","user.settings.security.title":"Security Settings","user.settings.security.viewHistory":"View Access History","user.settings.security.viewHistory.icon":"Access History Icon","user.settings.sidebar.after_seven_days":"After 7 days with no new messages","user.settings.sidebar.autoCloseDMDesc":"Direct Message conversations can be reopened with the “+” button in the sidebar or using the Channel Switcher (CTRL+K).","user.settings.sidebar.autoCloseDMTitle":"Automatically Close Direct Messages","user.settings.sidebar.channelSidebarOrganizationSection.desc":"When enabled, access experimental channel sidebar features, including collapsible sections and unreads filtering. [Learn more](!https://about.mattermost.com/default-sidebar/) or [give us feedback](!https://about.mattermost.com/default-sidebar-survey/)","user.settings.sidebar.channelSidebarOrganizationSectionTitle":"Experimental Sidebar Features","user.settings.sidebar.channelSwitcherSectionDesc.mac":"The channel switcher is shown at the bottom of the sidebar and is used to jump between channels quickly. It can also be accessed using CMD + K.","user.settings.sidebar.channelSwitcherSectionDesc.windows":"The channel switcher is shown at the bottom of the sidebar and is used to jump between channels quickly. It can also be accessed using CTRL + K.","user.settings.sidebar.channelSwitcherSectionTitle":"Channel Switcher","user.settings.sidebar.favorites":"Favorites grouped separately","user.settings.sidebar.favoritesDesc":"Channels marked as favorites will be grouped separately.","user.settings.sidebar.favoritesShort":"Favorites grouped separately","user.settings.sidebar.groupAndSortChannelsTitle":"Channel Grouping and Sorting","user.settings.sidebar.groupByNone":"Combine all channel types","user.settings.sidebar.groupByNoneShort":"No grouping","user.settings.sidebar.groupByType":"Channels grouped by type","user.settings.sidebar.groupByTypeShort":"Group by channel type","user.settings.sidebar.groupChannelsTitle":"Channel grouping","user.settings.sidebar.groupDesc":"Group channels by type, or combine all types into a list.","user.settings.sidebar.icon":"Sidebar Settings Icon","user.settings.sidebar.never":"Never","user.settings.sidebar.off":"Off","user.settings.sidebar.on":"On","user.settings.sidebar.sortAlpha":"Alphabetically","user.settings.sidebar.sortAlphaShort":"sorted alphabetically","user.settings.sidebar.sortChannelsTitle":"Channel sorting","user.settings.sidebar.sortDesc":"Sort channels alphabetically, or by most recent post.","user.settings.sidebar.sortRecent":"Recency","user.settings.sidebar.sortRecentShort":"sorted by recency","user.settings.sidebar.title":"Sidebar Settings","user.settings.sidebar.unreads":"Unreads grouped separately","user.settings.sidebar.unreadsDesc":"Group unread channels separately until read.","user.settings.sidebar.unreadsFavoritesShort":"Unreads and favorites grouped separately","user.settings.sidebar.unreadsShort":"Unreads grouped separately","user.settings.timezones.automatic":"Set automatically","user.settings.timezones.change":"Change timezone","user.settings.timezones.promote":"Select the timezone used for timestamps in the user interface and email notifications.","user.settings.tokens.activate":"Enable","user.settings.tokens.cancel":"Cancel","user.settings.tokens.clickToEdit":"Click \'Edit\' to manage your personal access tokens","user.settings.tokens.confirmCopyButton":"Yes, I have copied the token","user.settings.tokens.confirmCopyMessage":"Make sure you have copied and saved the access token below. You won\'t be able to see it again!","user.settings.tokens.confirmCopyTitle":"Copied Your Token?","user.settings.tokens.confirmCreateButton":"Yes, Create","user.settings.tokens.confirmCreateMessage":"You are generating a personal access token with System Admin permissions. Are you sure want to create this token?","user.settings.tokens.confirmCreateTitle":"Create System Admin Personal Access Token","user.settings.tokens.confirmDeleteButton":"Yes, Delete","user.settings.tokens.confirmDeleteMessage":"Any integrations using this token will no longer be able to access the Mattermost API. You cannot undo this action. \\n \\nAre you sure want to delete the **{description}** token?","user.settings.tokens.confirmDeleteTitle":"Delete Token?","user.settings.tokens.copy":"Please copy the access token below. You won\'t be able to see it again!","user.settings.tokens.create":"Create Token","user.settings.tokens.deactivate":"Disable","user.settings.tokens.deactivatedWarning":"(Disabled)","user.settings.tokens.delete":"Delete","user.settings.tokens.description":"[Personal access tokens](!https://about.mattermost.com/default-user-access-tokens) function similarly to session tokens and can be used by integrations to [authenticate against the REST API](!https://about.mattermost.com/default-api-authentication).","user.settings.tokens.description_mobile":"[Personal access tokens](!https://about.mattermost.com/default-user-access-tokens) function similarly to session tokens and can be used by integrations to [authenticate against the REST API](!https://about.mattermost.com/default-api-authentication). Create new tokens on your desktop.","user.settings.tokens.id":"Token ID: ","user.settings.tokens.name":"Token Description: ","user.settings.tokens.nameHelp":"Enter a description for your token to remember what it does.","user.settings.tokens.nameRequired":"Please enter a description.","user.settings.tokens.save":"Save","user.settings.tokens.title":"Personal Access Tokens","user.settings.tokens.token":"Access Token: ","user.settings.tokens.tokenDesc":"Token Description: ","user.settings.tokens.tokenId":"Token ID: ","user.settings.tokens.tokenLoading":"Loading...","user.settings.tokens.userAccessTokensNone":"No personal access tokens.","userGuideHelp.askTheCommunity":"Ask the community","userGuideHelp.helpResources":"Help resources","userGuideHelp.keyboardShortcuts":"Keyboard shortcuts","userGuideHelp.reportAProblem":"Report a problem","version_bar.new":"A new version of Mattermost is available.","version_bar.refresh":"Refresh the app now","view_image_popover.download":"Download","view_image_popover.file":"File {count, number} of {total, number}","view_image_popover.open":"Open","view_image_popover.publicLink":"Get a public link","view_image.loading":"Loading ","view_image.zoom_in":"Zoom In","view_image.zoom_out":"Zoom Out","view_image.zoom_reset":"Reset Zoom","warn_metric_ack_modal.contact_support":"Acknowledge","warn_metric_ack_modal.learn_more.link":"Learn more","warn_metric_ack_modal.mailto.link":"email us","warn_metric_ack_modal.mailto.message":"Support could not be reached. Please {link}.","warn_metric_ack_modal.number_of_active_users.description":"Mattermost strongly recommends that deployments of over {limit} users take advantage of features such as user management, server clustering and performance monitoring. Contact us to learn more and let us know how we can help.","warn_metric_ack_modal.number_of_posts.description":"Your Mattermost system has a large number of messages. The default Mattermost database search starts to show performance degradation at around 2.5 million posts. With over 5 million posts, Elasticsearch can help avoid significant performance issues, such as timeouts, with search and at-mentions. Contact us to learn more and let us know how we can help.","warn_metric_ack_modal.number_of_posts.header.title":"Improve Performance","warn_metric_ack_modal.number_of_users.header.title":"Scaling with Mattermost","warn_metric_ack_modal.subtext":"By clicking Acknowledge, you will be sharing your information with Mattermost Inc. {link}","web.footer.about":"About","web.footer.help":"Help","web.footer.privacy":"Privacy","web.footer.terms":"Terms","web.header.back":"Back","web.header.logout":"Logout","web.root.signup_info":"All team communication in one place, searchable and accessible anywhere","widgets.channels_input.empty":"No channels found","widgets.channels_input.loading":"Loading","widgets.users_emails_input.loading":"Loading","widgets.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email address","widgets.users_emails_input.valid_email":"Add **{email}**","yourcomputer":"Your computer"}')},1862:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}));a(58);var n=a(0);function s(){return async e=>{e({type:n.f.INCREMENT_WS_ERROR_COUNT})}}function i(){return async e=>{e({type:n.f.RESET_WS_ERROR_COUNT})}}},1903:function(e,t,a){},1904:function(e,t,a){},1953:function(e,t,a){},1954:function(e,t,a){},1955:function(e,t,a){},1956:function(e,t,a){},1957:function(e,t,a){},1994:function(e,t){},2014:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return h}));a(185);var n=a(127),s=a.n(n),i=a(5),r=a.n(i),o=a(1699),l=a(149),c=a.n(l),d=a(0),m=a(1334);function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const p={display:"flex",flexDirection:"column",alignItems:"center",zIndex:1070,position:"absolute",top:-1e3,left:-1e3};class h extends r.a.PureComponent{constructor(t){super(t),u(this,"tooltipContainerRef",void 0),u(this,"hideTimeout",void 0),u(this,"showTimeout",void 0),u(this,"popper",void 0),u(this,"showTooltip",t=>{if(window.clearTimeout(this.hideTimeout),!this.state.show){const a=e(t.target).get(0),n=e(this.tooltipContainerRef.current),s=n.get(0);window.clearTimeout(this.showTimeout),this.showTimeout=window.setTimeout(()=>{this.setState({show:!0}),n.show(),n.children().on("mouseover",()=>clearTimeout(this.hideTimeout)),n.children().on("mouseleave",e=>{null!==e.relatedTarget&&this.hideTooltip()}),this.popper=new o.a(a,s,{placement:"bottom",modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1}}})},d.l.OVERLAY_TIME_DELAY)}}),u(this,"hideTooltip",()=>{window.clearTimeout(this.hideTimeout),this.hideTimeout=window.setTimeout(()=>{this.setState({show:!1}),clearTimeout(this.showTimeout),e(this.tooltipContainerRef.current).hide()},d.l.OVERLAY_TIME_DELAY_SMALL)}),this.tooltipContainerRef=r.a.createRef(),this.showTimeout=-1,this.hideTimeout=-1,this.state={show:!1}}render(){const{href:e,children:t,attributes:a}=this.props,n={"data-hashtag":a["data-hashtag"],"data-link":a["data-link"],"data-channel-mention":a["data-channel-mention"]};return r.a.createElement(r.a.Fragment,null,c.a.createPortal(r.a.createElement("div",{style:p,ref:this.tooltipContainerRef},r.a.createElement(m.a,{href:e,show:this.state.show,pluggableName:"LinkTooltip"})),document.getElementById("root")),r.a.createElement("span",Object.assign({onMouseOver:this.showTooltip,onMouseLeave:this.hideTooltip},n),t))}}u(h,"propTypes",{href:s.a.string.isRequired,attributes:s.a.objectOf(s.a.string).isRequired})}).call(this,a(1286))},2057:function(e,t,a){},2058:function(e,t,a){},2065:function(e,t,a){},2066:function(e,t,a){},2067:function(e,t,a){},2068:function(e,t,a){},2069:function(e,t,a){},2072:function(e,t,a){},2073:function(e,t,a){},2074:function(e,t,a){},2075:function(e,t,a){},2076:function(e,t,a){},2100:function(e,t,a){},2101:function(e,t,a){},2123:function(e,t,a){},2124:function(e,t,a){},2125:function(e,t,a){},2126:function(e,t,a){},2127:function(e,t,a){},2128:function(e,t,a){},2129:function(e,t,a){},2130:function(e,t,a){},2149:function(e,t,a){},2150:function(e,t,a){},2151:function(e,t,a){},2152:function(e,t,a){},2153:function(e,t,a){},2154:function(e,t,a){},2155:function(e,t,a){},2156:function(e,t,a){},2157:function(e,t,a){},2158:function(e,t,a){},2159:function(e,t,a){},2161:function(e,t,a){},2164:function(e,t,a){},2169:function(e,t,a){},2170:function(e,t,a){},2171:function(e,t,a){},2172:function(e,t,a){},2207:function(e,t,a){},2208:function(e,t,a){},2210:function(e,t,a){},2211:function(e,t,a){},2212:function(e,t,a){},2426:function(e,t,a){"use strict";var n=a(264),s=a(8),i=a(127),r=a.n(i),o=a(5),l=a.n(o),c=a(1616),d=a(1267);function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class u extends l.a.PureComponent{constructor(e){super(e),m(this,"onHide",()=>{this.setState({show:!1})}),this.state={show:!0}}render(){let e,t;return e=l.a.createElement(d.a,{id:"removed_channel.channelName",defaultMessage:"the channel"}),this.props.channelName&&(e=this.props.channelName),t=l.a.createElement(d.a,{id:"removed_channel.someone",defaultMessage:"Someone"}),this.props.remover&&(t=this.props.remover),""===this.props.currentUserId?null:l.a.createElement(c.a,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,role:"dialog","aria-labelledby":"removeFromChannelModalLabel"},l.a.createElement(c.a.Header,{closeButton:!0},l.a.createElement(c.a.Title,{componentClass:"h1",id:"removeFromChannelModalLabel"},l.a.createElement(d.a,{id:"removed_channel.from",defaultMessage:"Removed from "}),l.a.createElement("span",{className:"name"},e))),l.a.createElement(c.a.Body,null,l.a.createElement("p",null,l.a.createElement(d.a,{id:"removed_channel.remover",defaultMessage:"{remover} removed you from {channel}",values:{remover:t,channel:e}}))),l.a.createElement(c.a.Footer,null,l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.onHide,id:"removedChannelBtn"},l.a.createElement(d.a,{id:"removed_channel.okay",defaultMessage:"Okay"}))))}}m(u,"propTypes",{currentUserId:r.a.string.isRequired,onHide:r.a.func.isRequired,channelName:r.a.string,remover:r.a.string});t.a=Object(n.connect)((function(e,t){const a=Object(s.getUser)(e,t.removerId);return{currentUserId:Object(s.getCurrentUserId)(e),remover:a&&a.username}}))(u)},2431:function(e,t,a){"use strict";a.r(t);var n=a(10),s=a(264),i=a(15),r=a(8),o=a(21),l=a(1450),c=a(133),d=(a(185),a(58),a(128),a(186),a(110),a(19)),m=a(127),u=a.n(m),p=a(5),h=a.n(p),g=a(1860),b=a.n(g),f=a(1266),_=a(660),C=a(152),y=a(17),E=a(57),v=a(148),w=a(1282),O=a(1397),S=a(220),T=a(1851),M=a(1607),P=a(39),N=a(98),I=a(1323),R=a(26),A=a(109),j=a(2),x=a.n(j),L=a(1614),k=a(1296);function D(e,t,a){return async(n,s)=>{const i=s();return Object(A.haveIChannelPermission)(i,{permission:x.a.USE_GROUP_MENTIONS,channel:a,team:t})?{data:Object(I.searchAssociatedGroupsForReferenceLocal)(i,e,t,a)}:{data:[]}}}var U=a(1314),q=a(1267),H=a(1528),F=a(60),B=a(11),G=a(1335),V=a(1312),W=a(9),z=a(14),Y=a(18),K=a(22),Z=(a(34),a(269)),J=a(12),X=a(1289);function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const $={[W.Posts.POST_TYPES.ADD_TO_CHANNEL]:{id:Object(J.b)("last_users_message.added_to_channel.type"),defaultMessage:"were **added to the channel** by {actor}."},[W.Posts.POST_TYPES.JOIN_CHANNEL]:{id:Object(J.b)("last_users_message.joined_channel.type"),defaultMessage:"**joined the channel**."},[W.Posts.POST_TYPES.LEAVE_CHANNEL]:{id:Object(J.b)("last_users_message.left_channel.type"),defaultMessage:"**left the channel**."},[W.Posts.POST_TYPES.REMOVE_FROM_CHANNEL]:{id:Object(J.b)("last_users_message.removed_from_channel.type"),defaultMessage:"were **removed from the channel**."},[W.Posts.POST_TYPES.ADD_TO_TEAM]:{id:Object(J.b)("last_users_message.added_to_team.type"),defaultMessage:"were **added to the team** by {actor}."},[W.Posts.POST_TYPES.JOIN_TEAM]:{id:Object(J.b)("last_users_message.joined_team.type"),defaultMessage:"**joined the team**."},[W.Posts.POST_TYPES.LEAVE_TEAM]:{id:Object(J.b)("last_users_message.left_team.type"),defaultMessage:"**left the team**."},[W.Posts.POST_TYPES.REMOVE_FROM_TEAM]:{id:Object(J.b)("last_users_message.removed_from_team.type"),defaultMessage:"were **removed from the team**."}};class ee extends h.a.PureComponent{constructor(e){super(e),Q(this,"handleOnClick",e=>{e.preventDefault(),this.setState({expand:!0})}),Q(this,"renderMessage",e=>h.a.createElement(V.a,{message:e,options:this.props.formatOptions})),this.state={expand:!1}}render(){const{formatMessage:e}=this.props.intl,{expand:t}=this.state,{actor:a,expandedLocale:n,postType:s,usernames:i}=this.props,r=i[0],o=i.length-1,l=i[o];if(t){const t=e(n,{users:i.slice(0,o).join(", "),lastUser:l,actor:a});return this.renderMessage(t)}const c=e({id:"last_users_message.first",defaultMessage:"{firstUser} and "},{firstUser:r}),d=e({id:"last_users_message.others",defaultMessage:"{numOthers} others "},{numOthers:o}),m=e({id:$[s].id,defaultMessage:$[s].defaultMessage},{actor:a});return h.a.createElement("span",null,this.renderMessage(c),h.a.createElement("a",{onClick:this.handleOnClick},d),this.renderMessage(m))}}Q(ee,"propTypes",{actor:u.a.string,expandedLocale:u.a.object.isRequired,formatOptions:u.a.object.isRequired,intl:X.a.isRequired,postType:u.a.string.isRequired,usernames:u.a.array.isRequired});var te=Object(Z.c)(ee);function ae(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const{JOIN_CHANNEL:ne,ADD_TO_CHANNEL:se,REMOVE_FROM_CHANNEL:ie,LEAVE_CHANNEL:re,JOIN_TEAM:oe,ADD_TO_TEAM:le,REMOVE_FROM_TEAM:ce,LEAVE_TEAM:de}=W.Posts.POST_TYPES,me={[ne]:{one:{id:Object(J.b)("combined_system_message.joined_channel.one"),defaultMessage:"{firstUser} **joined the channel**."},one_you:{id:Object(J.b)("combined_system_message.joined_channel.one_you"),defaultMessage:"You **joined the channel**."},two:{id:Object(J.b)("combined_system_message.joined_channel.two"),defaultMessage:"{firstUser} and {secondUser} **joined the channel**."},many_expanded:{id:Object(J.b)("combined_system_message.joined_channel.many_expanded"),defaultMessage:"{users} and {lastUser} **joined the channel**."}},[se]:{one:{id:Object(J.b)("combined_system_message.added_to_channel.one"),defaultMessage:"{firstUser} **added to the channel** by {actor}."},one_you:{id:Object(J.b)("combined_system_message.added_to_channel.one_you"),defaultMessage:"You were **added to the channel** by {actor}."},two:{id:Object(J.b)("combined_system_message.added_to_channel.two"),defaultMessage:"{firstUser} and {secondUser} **added to the channel** by {actor}."},many_expanded:{id:Object(J.b)("combined_system_message.added_to_channel.many_expanded"),defaultMessage:"{users} and {lastUser} were **added to the channel** by {actor}."}},[ie]:{one:{id:Object(J.b)("combined_system_message.removed_from_channel.one"),defaultMessage:"{firstUser} was **removed from the channel**."},one_you:{id:Object(J.b)("combined_system_message.removed_from_channel.one_you"),defaultMessage:"You were **removed from the channel**."},two:{id:Object(J.b)("combined_system_message.removed_from_channel.two"),defaultMessage:"{firstUser} and {secondUser} were **removed from the channel**."},many_expanded:{id:Object(J.b)("combined_system_message.removed_from_channel.many_expanded"),defaultMessage:"{users} and {lastUser} were **removed from the channel**."}},[re]:{one:{id:Object(J.b)("combined_system_message.left_channel.one"),defaultMessage:"{firstUser} **left the channel**."},one_you:{id:Object(J.b)("combined_system_message.left_channel.one_you"),defaultMessage:"You **left the channel**."},two:{id:Object(J.b)("combined_system_message.left_channel.two"),defaultMessage:"{firstUser} and {secondUser} **left the channel**."},many_expanded:{id:Object(J.b)("combined_system_message.left_channel.many_expanded"),defaultMessage:"{users} and {lastUser} **left the channel**."}},[oe]:{one:{id:Object(J.b)("combined_system_message.joined_team.one"),defaultMessage:"{firstUser} **joined the team**."},one_you:{id:Object(J.b)("combined_system_message.joined_team.one_you"),defaultMessage:"You **joined the team**."},two:{id:Object(J.b)("combined_system_message.joined_team.two"),defaultMessage:"{firstUser} and {secondUser} **joined the team**."},many_expanded:{id:Object(J.b)("combined_system_message.joined_team.many_expanded"),defaultMessage:"{users} and {lastUser} **joined the team**."}},[le]:{one:{id:Object(J.b)("combined_system_message.added_to_team.one"),defaultMessage:"{firstUser} **added to the team** by {actor}."},one_you:{id:Object(J.b)("combined_system_message.added_to_team.one_you"),defaultMessage:"You were **added to the team** by {actor}."},two:{id:Object(J.b)("combined_system_message.added_to_team.two"),defaultMessage:"{firstUser} and {secondUser} **added to the team** by {actor}."},many_expanded:{id:Object(J.b)("combined_system_message.added_to_team.many_expanded"),defaultMessage:"{users} and {lastUser} were **added to the team** by {actor}."}},[ce]:{one:{id:Object(J.b)("combined_system_message.removed_from_team.one"),defaultMessage:"{firstUser} was **removed from the team**."},one_you:{id:Object(J.b)("combined_system_message.removed_from_team.one_you"),defaultMessage:"You were **removed from the team**."},two:{id:Object(J.b)("combined_system_message.removed_from_team.two"),defaultMessage:"{firstUser} and {secondUser} were **removed from the team**."},many_expanded:{id:Object(J.b)("combined_system_message.removed_from_team.many_expanded"),defaultMessage:"{users} and {lastUser} were **removed from the team**."}},[de]:{one:{id:Object(J.b)("combined_system_message.left_team.one"),defaultMessage:"{firstUser} **left the team**."},one_you:{id:Object(J.b)("combined_system_message.left_team.one_you"),defaultMessage:"You **left the team**."},two:{id:Object(J.b)("combined_system_message.left_team.two"),defaultMessage:"{firstUser} and {secondUser} **left the team**."},many_expanded:{id:Object(J.b)("combined_system_message.left_team.many_expanded"),defaultMessage:"{users} and {lastUser} **left the team**."}}};class ue extends h.a.PureComponent{constructor(...e){super(...e),ae(this,"loadUserProfiles",(e,t)=>{e.length>0&&this.props.actions.getMissingProfilesByIds(e),t.length>0&&this.props.actions.getMissingProfilesByUsernames(t)}),ae(this,"getAllUsernames",()=>{const{allUserIds:e,allUsernames:t,currentUserId:a,currentUsername:n,userProfiles:s}=this.props,{formatMessage:i}=this.props.intl,r=s.reduce((e,t)=>(e[t.id]=t.username,e[t.username]=t.username,e),{}),o=i({id:Object(J.b)("combined_system_message.you"),defaultMessage:"You"});return e.includes(a)?r[a]=o:t.includes(n)&&(r[n]=o),r}),ae(this,"getUsernamesByIds",(e=[])=>{const{currentUserId:t,currentUsername:a}=this.props,n=this.getAllUsernames(),{formatMessage:s}=this.props.intl,i=s({id:Object(J.b)("channel_loader.someone"),defaultMessage:"Someone"}),r=e.filter(e=>e!==t&&e!==a).map(e=>n[e]?"@".concat(n[e]):i).filter(e=>e&&""!==e);return e.includes(t)?r.unshift(n[t]):e.includes(a)&&r.unshift(n[a]),r})}componentDidMount(){this.loadUserProfiles(this.props.allUserIds,this.props.allUsernames)}componentDidUpdate(e){const{allUserIds:t,allUsernames:a}=this.props;t===e.allUserIds&&a===e.allUsernames||this.loadUserProfiles(t,a)}renderFormattedMessage(e,t,a){const{formatMessage:n}=this.props.intl,{currentUserId:s,currentUsername:i}=this.props,r=this.getUsernamesByIds(t);let o=a?this.getUsernamesByIds([a])[0]:"";!o||a!==s&&a!==i||(o=o.toLowerCase());const l=r[0],c=r[1],d=r.length-1,m={atMentions:!0,mentionKeys:[{key:l},{key:c},{key:o}],mentionHighlight:!1,singleline:!0};if(d>1)return h.a.createElement(te,{actor:o,expandedLocale:me[e].many_expanded,formatOptions:m,postType:e,usernames:r});let u;0===d?(u=me[e].one,t[0]!==this.props.currentUserId&&t[0]!==this.props.currentUsername||!me[e].one_you||(u=me[e].one_you)):1===d&&(u=me[e].two);const p=n(u,{firstUser:l,secondUser:c,actor:o});return h.a.createElement(V.a,{message:p,options:m})}renderMessage(e,t,a){return h.a.createElement(h.a.Fragment,{key:e+a},this.renderFormattedMessage(e,t,a),h.a.createElement("br",null))}render(){const{currentUserId:e,messageData:t}=this.props,a=[],n=[];for(const s of t){const{postType:t,actorId:i}=s;let r=s.userIds;if(!this.props.showJoinLeave&&i!==e){if(!(-1!==r.indexOf(e)))continue;r=[e]}t!==ie?a.push(this.renderMessage(t,r,i)):n.push(...r)}if(n.length>0){const t=n.filter((e,t,a)=>a.indexOf(e)===t);a.push(this.renderMessage(ie,t,e))}return h.a.createElement(h.a.Fragment,null,a)}}ae(ue,"propTypes",{allUserIds:u.a.array.isRequired,allUsernames:u.a.array.isRequired,currentUserId:u.a.string.isRequired,currentUsername:u.a.string.isRequired,intl:X.a.isRequired,messageData:u.a.array.isRequired,showJoinLeave:u.a.bool.isRequired,userProfiles:u.a.array.isRequired,actions:u.a.shape({getMissingProfilesByIds:u.a.func.isRequired,getMissingProfilesByUsernames:u.a.func.isRequired}).isRequired}),ae(ue,"defaultProps",{allUserIds:[],allUsernames:[]});var pe=Object(Z.c)(ue);var he=Object(s.connect)((function(){const e=Object(r.makeGetProfilesByIdsAndUsernames)();return(t,a)=>{const n=Object(r.getCurrentUser)(t),{allUserIds:s,allUsernames:i}=a;return{currentUserId:n.id,currentUsername:n.username,showJoinLeave:Object(K.getBool)(t,W.Preferences.CATEGORY_ADVANCED_SETTINGS,W.Preferences.ADVANCED_FILTER_JOIN_LEAVE,!0),userProfiles:e(t,{allUserIds:s,allUsernames:i})}}}),(function(e){return{actions:Object(n.bindActionCreators)({getMissingProfilesByIds:Y.getMissingProfilesByIds,getMissingProfilesByUsernames:Y.getMissingProfilesByUsernames},e)}}))(pe),ge=a(40),be=a(33),fe=a(0),_e=a(1852);function Ce(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ye extends h.a.PureComponent{constructor(e){super(e),Ce(this,"handleAddChannelMember",()=>{const{currentUser:e,post:t,userIds:a,usernames:n}=this.props;if(t&&t.channel_id){let s=t.create_at;a.forEach((a,i)=>{s++,this.props.actions.addChannelMember(t.channel_id,a),Object(w.g)(e,n[i],a,t.channel_id,t.root_id,s)}),this.props.actions.removePost(t)}}),Ce(this,"expand",()=>{this.setState({expanded:!0})}),this.state={expanded:!1}}generateAtMentions(e=[]){if(1===e.length)return h.a.createElement(_e.a,{mentionName:e[0]});if(e.length>1){function t(e){return h.a.createElement(q.a,{key:e,id:"post_body.check_for_out_of_channel_mentions.link.and",defaultMessage:" and "})}function a(e){return h.a.createElement("span",{key:e},", ")}if(this.state.expanded||e.length<=3)return h.a.createElement("span",null,e.map(e=>h.a.createElement(_e.a,{key:e,mentionName:e})).reduce((e,n,s,i)=>0===s?[n]:s===i.length-1?[...e,t(s),n]:[...e,a(s),n],[]));const n=[...e],s=n.shift(),i=n.pop();return h.a.createElement("span",null,h.a.createElement(_e.a,{key:s,mentionName:s}),a(1),h.a.createElement("a",{className:"PostBody_otherUsersLink",onClick:this.expand},h.a.createElement(q.a,{id:"post_body.check_for_out_of_channel_mentions.others",defaultMessage:"{numOthers} others",values:{numOthers:n.length}})),t(1),h.a.createElement(_e.a,{key:i,mentionName:i}))}return""}render(){const{channelType:e,postId:t,usernames:a,noGroupsUsernames:n}=this.props;if(!t||!e)return null;let s,i,r,o;e===fe.l.PRIVATE_CHANNEL?(s=Object(J.b)("post_body.check_for_out_of_channel_mentions.link.private"),i="add them to this private channel"):e===fe.l.OPEN_CHANNEL&&(s=Object(J.b)("post_body.check_for_out_of_channel_mentions.link.public"),i="add them to the channel");const l=this.generateAtMentions(a);let c,d;1===a.length?(r=Object(J.b)("post_body.check_for_out_of_channel_mentions.message.one"),o="did not get notified by this mention because they are not in the channel. Would you like to "):a.length>1&&(r=Object(J.b)("post_body.check_for_out_of_channel_mentions.message.multiple"),o="did not get notified by this mention because they are not in the channel. Would you like to ");const m=this.generateAtMentions(n);n.length&&(c=Object(J.b)("post_body.check_for_out_of_channel_groups_mentions.message"),d="did not get notified by this mention because they are not in the channel. They cannot be added to the channel because they are not a member of the linked groups. To add them to this channel, they must be added to the linked groups.");let u=null,p=null;return a.length&&(u=h.a.createElement("p",null,l," ",h.a.createElement(q.a,{id:r,defaultMessage:o}),h.a.createElement("a",{className:"PostBody_addChannelMemberLink",onClick:this.handleAddChannelMember},h.a.createElement(q.a,{id:s,defaultMessage:i})),h.a.createElement(q.a,{id:"post_body.check_for_out_of_channel_mentions.message_last",defaultMessage:"? They will have access to all message history."}))),n.length&&(p=h.a.createElement("p",null,m," ",h.a.createElement(q.a,{id:c,defaultMessage:d}))),h.a.createElement(h.a.Fragment,null,u,p)}}Ce(ye,"propTypes",{currentUser:u.a.any.isRequired,channelType:u.a.string.isRequired,postId:u.a.string.isRequired,post:u.a.any.isRequired,userIds:u.a.arrayOf(u.a.string).isRequired,usernames:u.a.arrayOf(u.a.string).isRequired,noGroupsUsernames:u.a.arrayOf(u.a.string).isRequired,actions:u.a.shape({addChannelMember:u.a.func.isRequired,removePost:u.a.func.isRequired}).isRequired});var Ee=Object(s.connect)((function(e,t){const a=Object(R.getPost)(e,t.postId)||{};let n="";if(a&&a.channel_id){const t=Object(B.getChannel)(e,a.channel_id);t&&t.type&&(n=t.type)}return{channelType:n,currentUser:Object(r.getCurrentUser)(e),post:a}}),(function(e){return{actions:Object(n.bindActionCreators)({addChannelMember:ge.addChannelMember,removePost:be.removePost},e)}}))(ye);function ve(e){return we("@"===e[0]?e:"@".concat(e),{markdown:!1})}function we(e,t,a){return h.a.createElement(V.a,{message:e,options:t,postId:a&&a.id,postType:a&&a.type})}function Oe(e){const t=ve(e.props.username),a=ve(e.props.addedUsername);return h.a.createElement(q.a,{id:"api.channel.add_member.added",defaultMessage:"{addedUsername} added to the channel by {username}.",values:{username:t,addedUsername:a}})}const Se={[W.Posts.POST_TYPES.JOIN_CHANNEL]:function(e){const t=ve(e.props.username);return h.a.createElement(q.a,{id:"api.channel.join_channel.post_and_forget",defaultMessage:"{username} joined the channel.",values:{username:t}})},[W.Posts.POST_TYPES.GUEST_JOIN_CHANNEL]:function(e){const t=ve(e.props.username);return h.a.createElement(q.a,{id:"api.channel.guest_join_channel.post_and_forget",defaultMessage:"{username} joined the channel as a guest.",values:{username:t}})},[W.Posts.POST_TYPES.LEAVE_CHANNEL]:function(e){const t=ve(e.props.username);return h.a.createElement(q.a,{id:"api.channel.leave.left",defaultMessage:"{username} has left the channel.",values:{username:t}})},[W.Posts.POST_TYPES.ADD_TO_CHANNEL]:Oe,[W.Posts.POST_TYPES.ADD_GUEST_TO_CHANNEL]:function(e){const t=ve(e.props.username),a=ve(e.props.addedUsername);return h.a.createElement(q.a,{id:"api.channel.add_guest.added",defaultMessage:"{addedUsername} added to the channel as a guest by {username}.",values:{username:t,addedUsername:a}})},[W.Posts.POST_TYPES.REMOVE_FROM_CHANNEL]:function(e){const t=ve(e.props.removedUsername);return h.a.createElement(q.a,{id:"api.channel.remove_member.removed",defaultMessage:"{removedUsername} was removed from the channel",values:{removedUsername:t}})},[W.Posts.POST_TYPES.JOIN_TEAM]:function(e){const t=ve(e.props.username);return h.a.createElement(q.a,{id:"api.team.join_team.post_and_forget",defaultMessage:"{username} joined the team.",values:{username:t}})},[W.Posts.POST_TYPES.LEAVE_TEAM]:function(e){const t=ve(e.props.username);return h.a.createElement(q.a,{id:"api.team.leave.left",defaultMessage:"{username} left the team.",values:{username:t}})},[W.Posts.POST_TYPES.ADD_TO_TEAM]:function(e){const t=ve(e.props.username),a=ve(e.props.addedUsername);return h.a.createElement(q.a,{id:"api.team.add_member.added",defaultMessage:"{addedUsername} added to the team by {username}.",values:{username:t,addedUsername:a}})},[W.Posts.POST_TYPES.REMOVE_FROM_TEAM]:function(e){const t=ve(e.props.username);return h.a.createElement(q.a,{id:"api.team.remove_user_from_team.removed",defaultMessage:"{removedUsername} was removed from the team.",values:{removedUsername:t}})},[W.Posts.POST_TYPES.HEADER_CHANGE]:function(e){if(!e.props.username)return null;const t={singleline:!0,channelNamesMap:e.props&&e.props.channel_mentions,mentionHighlight:!0},a=ve(e.props.username),n=e.props.old_header?we(e.props.old_header,t,e):null,s=e.props.new_header?we(e.props.new_header,t,e):null;return e.props.new_header?e.props.old_header?h.a.createElement(q.a,{id:"api.channel.post_update_channel_header_message_and_forget.updated_from",defaultMessage:"{username} updated the channel header <br></br><strong>From:</strong> {old} <br></br><strong>To:</strong> {new}",values:{username:a,old:n,new:s,strong:e=>h.a.createElement("strong",null,e),br:e=>h.a.createElement(h.a.Fragment,null,h.a.createElement("br",null),e)}}):h.a.createElement(q.a,{id:"api.channel.post_update_channel_header_message_and_forget.updated_to",defaultMessage:"{username} updated the channel header to: {new}",values:{username:a,new:s}}):e.props.old_header?h.a.createElement(q.a,{id:"api.channel.post_update_channel_header_message_and_forget.removed",defaultMessage:"{username} removed the channel header (was: {old})",values:{username:a,old:n}}):null},[W.Posts.POST_TYPES.DISPLAYNAME_CHANGE]:function(e){if(!(e.props.username&&e.props.old_displayname&&e.props.new_displayname))return null;const t=ve(e.props.username),a=e.props.old_displayname,n=e.props.new_displayname;return h.a.createElement(q.a,{id:"api.channel.post_update_channel_displayname_message_and_forget.updated_from",defaultMessage:"{username} updated the channel display name from: {old} to: {new}",values:{username:t,old:a,new:n}})},[W.Posts.POST_TYPES.CONVERT_CHANNEL]:function(e){if(!e.props.username)return null;const t=ve(e.props.username);return h.a.createElement(q.a,{id:"api.channel.post_convert_channel_to_private.updated_from",defaultMessage:"{username} converted the channel from public to private",values:{username:t}})},[W.Posts.POST_TYPES.PURPOSE_CHANGE]:function(e){if(!e.props.username)return null;const t=ve(e.props.username),a=e.props.old_purpose,n=e.props.new_purpose;return e.props.new_purpose?e.props.old_purpose?h.a.createElement(q.a,{id:"app.channel.post_update_channel_purpose_message.updated_from",defaultMessage:"{username} updated the channel purpose from: {old} to: {new}",values:{username:t,old:a,new:n}}):h.a.createElement(q.a,{id:"app.channel.post_update_channel_purpose_message.updated_to",defaultMessage:"{username} updated the channel purpose to: {new}",values:{username:t,new:n}}):e.props.old_purpose?h.a.createElement(q.a,{id:"app.channel.post_update_channel_purpose_message.removed",defaultMessage:"{username} removed the channel purpose (was: {old})",values:{username:t,old:a}}):null},[W.Posts.POST_TYPES.CHANNEL_DELETED]:function(e){if(!e.props.username)return null;const t=ve(e.props.username);return h.a.createElement(q.a,{id:"api.channel.delete_channel.archived",defaultMessage:"{username} has archived the channel.",values:{username:t}})},[W.Posts.POST_TYPES.CHANNEL_UNARCHIVED]:function(e){if(!e.props.username)return null;const t=ve(e.props.username);return h.a.createElement(q.a,{id:"api.channel.restore_channel.unarchived",defaultMessage:"{username} has unarchived the channel.",values:{username:t}})},[W.Posts.POST_TYPES.ME]:function(e){return we(e.props&&e.props.message?e.props.message:e.message)}};function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(a),!0).forEach((function(t){Pe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ne extends h.a.PureComponent{render(){var e;let{message:t}=this.props;const{post:a,mentionKeys:n}=this.props;if(a){const e=function(e,t,a){if(e.props&&e.props.add_channel_member){const n=z.gb(e);if((t.type===W.General.PRIVATE_CHANNEL||t.type===W.General.OPEN_CHANNEL)&&a&&n){const t=e.props.add_channel_member;return h.a.createElement(Ee,{postId:t.post_id,userIds:t.not_in_channel_user_ids,noGroupsUsernames:t.not_in_groups_usernames,usernames:t.not_in_channel_usernames})}return null}if(Se[e.type])return Se[e.type](e);if(e.type===W.Posts.POST_TYPES.EPHEMERAL_ADD_TO_CHANNEL)return Oe(e);if(e.type===W.Posts.POST_TYPES.COMBINED_USER_ACTIVITY){const{allUserIds:t,allUsernames:a,messageData:n}=e.props.user_activity;return h.a.createElement(he,{allUserIds:t,allUsernames:a,messageData:n})}return null}(a,this.props.channel,this.props.isUserCanManageMembers);if(e)return h.a.createElement("div",null,e)}const s=!a||!a.message_source||a.message===a.message_source,i=a&&a.props&&a.props.channel_mentions,r=Me(Me({},this.props.options),{},{disableGroupHighlight:!0===(null==a||null===(e=a.props)||void 0===e?void 0:e.disable_group_highlight)});return this.props.pluginHooks.forEach(e=>{e&&e.hook&&a&&(t=e.hook(a,t))}),a&&a.props&&(r.mentionHighlight=!a.props.mentionHighlightDisabled),h.a.createElement(V.a,{imageProps:this.props.imageProps,isRHS:this.props.isRHS,message:t,proxyImages:s,mentionKeys:n,options:r,channelNamesMap:i,hasPluginTooltips:this.props.hasPluginTooltips,imagesMetadata:this.props.post&&this.props.post.metadata&&this.props.post.metadata.images,postId:this.props.post&&this.props.post.id})}}Pe(Ne,"propTypes",{imageProps:u.a.object,isRHS:u.a.bool,message:u.a.string.isRequired,post:u.a.object,channelId:u.a.string,channel:u.a.object,options:u.a.object,pluginHooks:u.a.arrayOf(u.a.object),hasPluginTooltips:u.a.bool,isUserCanManageMembers:u.a.bool,mentionKeys:u.a.array.isRequired}),Pe(Ne,"defaultProps",{isRHS:!1,pluginHooks:[],options:{}});var Ie=Object(s.connect)((function(){const e=Object(F.a)(r.getCurrentUserMentionKeys,(e,t)=>t,(e,t,a)=>a?Object(I.getMyGroupMentionKeysForChannel)(e,a.team_id,a.id):Object(I.getMyGroupMentionKeys)(e),(e,t,a)=>{var n,s;let i=e;return(null==t||null===(n=t.props)||void 0===n?void 0:n.disable_group_highlight)||(i=i.concat(a)),(null==t||null===(s=t.props)||void 0===s?void 0:s.mentionHighlightDisabled)&&(i=i.filter(e=>!["@all","@channel","@here"].includes(e.key))),i});return(t,a)=>{const n=Object(B.getChannel)(t,a.channelId);return{channel:n,pluginHooks:t.plugins.components.MessageWillFormat,hasPluginTooltips:Boolean(t.plugins.components.LinkTooltip),isUserCanManageMembers:n&&Object(G.a)(t,n),mentionKeys:e(t,a.post,n)}}}))(Ne),Re=(a(84),a(93)),Ae=a.n(Re),je=a(41),xe=a(1316),Le=a(1297),ke=a(1329),De=a(1313),Ue=a(1317);class qe extends Ue.a{render(){const e=this.props.isSelection,t=this.props.item;let a,n,s;"all"===t.username?(a="all",n=h.a.createElement(q.a,{id:"suggestion.mention.all",defaultMessage:"Notifies everyone in this channel"}),s=h.a.createElement(q.a,{id:"generic_icons.member",defaultMessage:"Member Icon"},e=>h.a.createElement("span",{className:"suggestion-list__icon suggestion-list__icon--large"},h.a.createElement("i",{className:"icon icon-account-multiple-outline",title:e})))):"channel"===t.username?(a="channel",n=h.a.createElement(q.a,{id:"suggestion.mention.channel",defaultMessage:"Notifies everyone in this channel"}),s=h.a.createElement(q.a,{id:"generic_icons.member",defaultMessage:"Member Icon"},e=>h.a.createElement("span",{className:"suggestion-list__icon suggestion-list__icon--large"},h.a.createElement("i",{className:"icon icon-account-multiple-outline",title:e})))):"here"===t.username?(a="here",n=h.a.createElement(q.a,{id:"suggestion.mention.here",defaultMessage:"Notifies everyone online in this channel"}),s=h.a.createElement(q.a,{id:"generic_icons.member",defaultMessage:"Member Icon"},e=>h.a.createElement("span",{className:"suggestion-list__icon suggestion-list__icon--large"},h.a.createElement("i",{className:"icon icon-account-multiple-outline",title:e})))):t.type===fe.l.MENTION_GROUPS?(a=t.name,n="- ".concat(t.display_name),s=h.a.createElement(q.a,{id:"generic_icons.member",defaultMessage:"Group Icon"},e=>h.a.createElement("i",{className:"mention__image fa fa-users fa-2x",title:e}))):(a=t.username,(t.first_name||t.last_name)&&t.nickname?n="".concat(z.C(t)," (").concat(t.nickname,")"):t.nickname?n="(".concat(t.nickname,")"):(t.first_name||t.last_name)&&(n="".concat(z.C(t))),s=h.a.createElement(De.a,{size:"sm",username:t&&t.username,url:z.R(t.id,t.last_picture_update)}));let i=null;t.isCurrentUser&&(i=h.a.createElement("span",{className:"ml-1"},h.a.createElement(q.a,{id:"suggestion.user.isCurrent",defaultMessage:"(you)"})));let r="mentions__name";return e&&(r+=" suggestion--selected"),h.a.createElement("div",Object.assign({className:r,"data-testid":"mentionSuggestion_".concat(a),onClick:this.handleClick,onMouseMove:this.handleMouseMove},Ue.a.baseProps),s,h.a.createElement("span",null,h.a.createElement("span",{className:"mention--align"},"@"+a),h.a.createElement(Le.a,{show:Boolean(t.is_bot),className:"badge-autocomplete"}),h.a.createElement("span",{className:"light ml-2"},n,i),h.a.createElement(ke.a,{show:z.bb(t),className:"badge-autocomplete"})))}}function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(Object(a),!0).forEach((function(t){Be(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Be(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ge extends xe.a{constructor(e){super(),this.setProps(e),this.data=null,this.lastCompletedWord="",this.lastPrefixWithNoResults=""}setProps({currentUserId:e,profilesInChannel:t,autocompleteUsersInChannel:a,useChannelMentions:n,autocompleteGroups:s,searchAssociatedGroupsForReference:i,priorityProfiles:r}){this.currentUserId=e,this.profilesInChannel=t,this.autocompleteUsersInChannel=a,this.useChannelMentions=n,this.autocompleteGroups=s,this.searchAssociatedGroupsForReference=i,this.priorityProfiles=r}specialMentions(){return this.latestPrefix.startsWith("/msg")||!this.useChannelMentions?[]:["here","channel","all"].filter(e=>e.startsWith(this.latestPrefix)).map(e=>({username:e,type:fe.l.MENTION_SPECIAL}))}getProfileSuggestions(e){const t=[];if(!e)return t;if(e.username){const a=Object(je.getSuggestionsSplitByMultiple)(e.username.toLowerCase(),fe.l.AUTOCOMPLETE_SPLIT_CHARACTERS);t.push(...a)}return[e.first_name,e.last_name,e.nickname].forEach(e=>{const a=Object(je.getSuggestionsSplitBy)(e.toLowerCase()," ");t.push(...a)}),t.push(e.first_name.toLowerCase()+" "+e.last_name.toLowerCase()),t}getGroupSuggestions(e){const t=[];if(!e)return t;if(e.name){const a=Object(je.getSuggestionsSplitByMultiple)(e.name.toLowerCase(),fe.l.AUTOCOMPLETE_SPLIT_CHARACTERS);t.push(...a)}const a=Object(je.getSuggestionsSplitBy)(e.display_name.toLowerCase()," ");return t.push(...a),t.push(e.display_name.toLowerCase()),t}filterProfile(e){if(!e)return!1;const t=this.latestPrefix.toLowerCase();return this.getProfileSuggestions(e).some(e=>e.startsWith(t))}filterGroup(e){if(!e)return!1;const t=this.latestPrefix.toLowerCase();return this.getGroupSuggestions(e).some(e=>e.startsWith(t))}localMembers(){return this.profilesInChannel.filter(e=>this.filterProfile(e)).map(e=>this.createFromProfile(e,fe.l.MENTION_MEMBERS)).splice(0,25)}filterPriorityProfiles(){if(!this.priorityProfiles)return[];return this.priorityProfiles.filter(e=>this.filterProfile(e)).map(e=>this.createFromProfile(e,fe.l.MENTION_MEMBERS))}localGroups(){if(!this.autocompleteGroups)return[];return this.autocompleteGroups.filter(e=>this.filterGroup(e)).map(e=>this.createFromGroup(e,fe.l.MENTION_GROUPS)).sort((e,t)=>e.name.localeCompare(t.name)).splice(0,25)}remoteMembers(){if(!this.data)return[];return(this.data.users||[]).filter(e=>this.filterProfile(e)).map(e=>this.createFromProfile(e,fe.l.MENTION_MEMBERS))}remoteGroups(){if(!this.data)return[];return(this.data.groups||[]).filter(e=>this.filterGroup(e)).map(e=>this.createFromGroup(e,fe.l.MENTION_GROUPS))}remoteNonMembers(){return this.data?(this.data.out_of_channel||[]).filter(e=>this.filterProfile(e)).map(e=>Fe({type:fe.l.MENTION_NONMEMBERS},e)):[]}items(){const e={},t=this.filterPriorityProfiles();t.forEach(t=>{e[t.id]=!0});const a=this.specialMentions(),n=this.localMembers().filter(t=>!e[t.id]),s={};n.forEach(e=>{s[e.id]=!0});const i=this.remoteMembers().filter(t=>!s[t.id]&&!e[t.id]),r=(e,t)=>{const a=e.username.startsWith(this.latestPrefix),n=t.username.startsWith(this.latestPrefix);return a&&!n?-1:!a&&n?1:e.last_viewed_at&&t.last_viewed_at?t.last_viewed_at-e.last_viewed_at:e.last_viewed_at?-1:t.last_viewed_at?1:e.username.localeCompare(t.username)},o=n.concat(i).sort(r),l=this.localGroups(),c={};l.forEach(e=>{c[e.id]=!0});const d=this.remoteGroups().filter(e=>!c[e.id]),m=l.concat(d).sort((e,t)=>{const a=e.name.startsWith(this.latestPrefix),n=t.name.startsWith(this.latestPrefix);return a&&n?e.name.localeCompare(t.name):a?-1:n?1:e.name.localeCompare(t.name)}),u=this.remoteNonMembers().filter(e=>!s[e.id]).sort(r);return t.concat(o).concat(m).concat(a).concat(u)}updateMatches(e,t){0===t.length?this.lastPrefixWithNoResults=this.latestPrefix:this.lastPrefixWithNoResults===this.latestPrefix&&(this.lastPrefixWithNoResults="");const a=t.map(e=>e.username?"@"+e.username:e.name?"@"+e.name:"");e({matchedPretext:"@".concat(this.latestPrefix),terms:a,items:t,component:qe})}handlePretextChanged(e,t){const a=Ae.a.cache("(?:^|\\W)@([\\pL\\d\\-_. ]*)$","i").exec(e.toLowerCase());if(!a)return!1;if(this.lastCompletedWord&&a[0].trim().startsWith(this.lastCompletedWord.trim()))return!1;const n=a[1];if(this.lastPrefixWithNoResults&&n.startsWith(this.lastPrefixWithNoResults))return!1;this.startNewRequest(n),this.updateMatches(t,this.items());let s=setTimeout(()=>{this.shouldCancelDispatch(n)||(this.updateMatches(t,this.items().concat([{type:fe.l.MENTION_MORE_MEMBERS,loading:!0}])),s=null)},500);return this.autocompleteUsersInChannel(n).then(({data:e})=>{s&&clearTimeout(s),this.shouldCancelDispatch(n)||(this.data=e,this.searchAssociatedGroupsForReference(n).then(e=>{this.data&&e&&e.data&&(this.data.groups=e.data),this.updateMatches(t,this.items())}))}),!0}handleCompleteWord(e){this.lastCompletedWord=e,this.lastPrefixWithNoResults=""}createFromProfile(e,t){return e.id===this.currentUserId?Fe(Fe({type:t},e),{},{isCurrentUser:!0}):Fe({type:t},e)}createFromGroup(e,t){return Fe({type:t},e)}}var Ve=Ge,We=(a(108),a(111)),ze=a(23);class Ye extends Ue.a{render(){const e=this.props.isSelection,t=this.props.item,a=t.channel.display_name,n=h.a.createElement("span",{className:"suggestion-list__icon suggestion-list__icon--large"},h.a.createElement("i",{className:"icon icon--no-spacing icon-globe"}));let s="mentions__name no-flex";e&&(s+=" suggestion--selected");const i="~"+t.channel.name;return h.a.createElement("div",Object.assign({className:s,onClick:this.handleClick,onMouseMove:this.handleMouseMove},Ue.a.baseProps),h.a.createElement("div",{className:"d-flex align-items-center"},n,h.a.createElement("span",null,a),h.a.createElement("span",{className:"mention__channelname ml-2"},i)))}}class Ke extends xe.a{constructor(e){super(),this.lastPrefixTrimmed="",this.lastPrefixWithNoResults="",this.lastCompletedWord="",this.autocompleteChannels=e}handlePretextChanged(e,t){this.resetRequest();const a=/\B(~([^~\r\n]*))$/i.exec(e.toLowerCase());if(!a)return!1;if(a.index>0&&"~"===e[a.index-1])return!1;const n=a[2];if(this.lastPrefixTrimmed&&n.trim()===this.lastPrefixTrimmed)return!0;if(this.lastPrefixTrimmed=n.trim(),this.lastPrefixWithNoResults&&n.startsWith(this.lastPrefixWithNoResults))return!1;if(this.lastCompletedWord&&a[0].startsWith(this.lastCompletedWord))return!1;this.lastCompletedWord="",this.startNewRequest(n);const s=n.toLowerCase().split(/\s+/),i={};var r=[];Object(B.getMyChannels)(ze.a.getState()).forEach(e=>{if("O"!==e.type||e.delete_at>0)return;const t=e.name.toLowerCase().split(/\s+/).concat(e.display_name.toLowerCase().split(/\s+/));for(var a=!0,n=0;a&&n<s.length;n++)if(s[n]){for(var o=!1,l=0;l<t.length;l++)if(t[l].startsWith(s[n])){o=!0;break}if(!o){a=!1;break}}a&&(i[e.id]=!0,r.push({type:fe.l.MENTION_CHANNELS,channel:e}))});const o=(r=r.sort((e,t)=>Object(We.sortChannelsByTypeAndDisplayName)("en",e.channel,t.channel))).map(e=>"~"+e.channel.name);t({terms:o.concat([" "]),items:r.concat([{type:fe.l.MENTION_MORE_CHANNELS,loading:!0}]),component:Ye,matchedPretext:a[1]});const l=(e,s)=>{if(n!==this.latestPrefix||this.shouldCancelDispatch(n))return;const o=Object(B.getMyChannelMemberships)(ze.a.getState());0!==e.length||s||(this.lastPrefixWithNoResults=n);const l=[];e.forEach(e=>{if(!(e.delete_at>0)||o[e.id]){if(o[e.id]&&!i[e.id])return i[e.id]=!0,void r.push({type:fe.l.MENTION_CHANNELS,channel:e});if(!o[e.id]||!i[e.id]){if(!o[e.id]&&i[e.id]){delete i[e.id];const t=r.map(e=>e.channel.id).indexOf(e.id);t>=0&&r.splice(t,1)}l.push({type:fe.l.MENTION_MORE_CHANNELS,channel:e})}}});const c=(r=r.sort((e,t)=>Object(We.sortChannelsByTypeAndDisplayName)("en",e.channel,t.channel))).concat(l),d=c.map(e=>"~"+e.channel.name);t({matchedPretext:a[1],terms:d,items:c,component:Ye})};return this.autocompleteChannels(n,e=>l(e,!1),()=>l([],!0)),!0}handleCompleteWord(e){this.lastCompletedWord=e,this.lastPrefixWithNoResults=""}}var Ze=a(1648),Je=a(271),Xe=a(100),Qe=a(83),$e=(a(2025),a(634)),et=a.n($e);const tt=(e,t,a,n)=>"custom"===a.category&&"custom"!==n.category?1:"custom"===n.category&&"custom"!==a.category?-1:e.localeCompare(t),at=e=>"thumbsup"===e||"+1"===e?1:0,nt=e=>"thumbsdown"===e||"-1"===e?-1:0,st={thumbsdown:at,"-1":at,thumbsup:nt,"+1":nt},it=(e,t)=>e?"name"in e?e.name:t&&e.aliases.find(e=>e.startsWith(t))||e.aliases[0]:"";function rt(e,t,a){const n=it(e,a),s=it(t,a),i=n.startsWith(a);return i===s.startsWith(a)?n in st&&st[n](s)||tt(n,s,e,t):i?-1:1}function ot(e){const t=[];let a=0;for(const n of e.matchAll(et()())){const s=n[0],i=n.index;n.index!==a&&t.push(e.substring(a,i)),t.push(h.a.createElement("span",{key:i,className:"emoji"},s)),a=i+s.length}return a<e.length-1&&t.push(e.substring(a)),1===t.length?t[0]:t}const lt=["skintone"];class ct extends Ue.a{render(){const e=this.props.term,t=this.props.item.emoji;let a="emoticon-suggestion";return this.props.isSelection&&(a+=" suggestion--selected"),h.a.createElement("div",Object.assign({className:a,onClick:this.handleClick,onMouseMove:this.handleMouseMove},Ue.a.baseProps),h.a.createElement("div",{className:"pull-left"},h.a.createElement("img",{alt:e,className:"emoticon-suggestion__image",src:Object(Je.getEmojiImageUrl)(t),title:e})),h.a.createElement("div",{className:"pull-left"},e))}}class dt extends xe.a{handlePretextChanged(e,t){const a=/(^|\s|^\+|^-)(:([^:\s]*))$/g.exec(e);if(!a)return!1;const n=a[1],s=a[2],i=a[3];if(i.length<2)return!1;if("-"!==n&&"+"!==n)for(const e of Object.keys(Qe.b))if(Qe.b[e].test(s))return!1;return"true"===ze.a.getState().entities.general.config.EnableCustomEmoji?ze.a.dispatch(Object(C.autocompleteCustomEmojis)(i)).then(()=>this.findAndSuggestEmojis(s,i,t)):this.findAndSuggestEmojis(s,i,t),!0}formatEmojis(e){return e.map(e=>":"+e.name+":")}findAndSuggestEmojis(e,t,a){const n=[],s=[],i=Object(Xe.a)(ze.a.getState()),r=Object(Xe.b)(ze.a.getState());for(const[e,a]of i)if(!lt.includes(a.category))if(a.aliases){for(const i of a.aliases)if(-1!==i.indexOf(t)){(r.includes(i)||r.includes(e)?n:s).push({name:i,emoji:a});break}}else if(-1!==e.indexOf(t)){if(i.hasSystemEmoji(e))continue;(r.includes(e)?n:s).push({name:e,emoji:a})}const o=(e,a)=>rt(e,a,t);n.sort(o),s.sort(o);a({matchedPretext:e,terms:[...this.formatEmojis(n),...this.formatEmojis(s)],items:[...n,...s],component:ct})}}var mt=a(1367),ut=a(1353);function pt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ht extends h.a.PureComponent{constructor(e){super(e),pt(this,"suggestionProviders",void 0),pt(this,"wrapper",void 0),pt(this,"message",void 0),pt(this,"preview",void 0),pt(this,"handleChange",e=>{this.props.onChange(e)}),pt(this,"checkMessageLength",e=>{if(this.props.handlePostError)if(e.length>this.props.characterLimit){const t=h.a.createElement(q.a,{id:"create_post.error_message",defaultMessage:"Your message is too long. Character count: {length}/{limit}",values:{length:e.length,limit:this.props.characterLimit}});this.props.handlePostError(t)}else this.props.handlePostError(null)}),pt(this,"handleKeyDown",e=>{var t,a;null===(t=(a=this.props).onKeyDown)||void 0===t||t.call(a,e)}),pt(this,"handleSelect",e=>{var t,a;null===(t=(a=this.props).onSelect)||void 0===t||t.call(a,e)}),pt(this,"handleMouseUp",e=>{var t,a;null===(t=(a=this.props).onMouseUp)||void 0===t||t.call(a,e)}),pt(this,"handleKeyUp",e=>{var t,a;null===(t=(a=this.props).onKeyUp)||void 0===t||t.call(a,e)}),pt(this,"handleBlur",e=>{var t,a;null===(t=(a=this.props).onBlur)||void 0===t||t.call(a,e)}),pt(this,"handleHeightChange",(e,t)=>{var a,n;null===(a=(n=this.props).onHeightChange)||void 0===a||a.call(n,e,t)}),pt(this,"getInputBox",()=>{var e;return null===(e=this.message.current)||void 0===e?void 0:e.getTextbox()}),pt(this,"focus",()=>{const e=this.getInputBox();e&&(e.focus(),z.sb(e),this.checkMessageLength(e.value))}),pt(this,"blur",()=>{var e;null===(e=this.getInputBox())||void 0===e||e.blur()}),pt(this,"recalculateSize",()=>{var e;null===(e=this.message.current)||void 0===e||e.recalculateSize()}),this.suggestionProviders=[new Ve({currentUserId:this.props.currentUserId,profilesInChannel:this.props.profilesInChannel,autocompleteUsersInChannel:e=>this.props.actions.autocompleteUsersInChannel(e,this.props.channelId),useChannelMentions:this.props.useChannelMentions,autocompleteGroups:this.props.autocompleteGroups,searchAssociatedGroupsForReference:e=>this.props.actions.searchAssociatedGroupsForReference(e,this.props.currentTeamId,this.props.channelId),priorityProfiles:this.props.priorityProfiles}),new Ke(e.actions.autocompleteChannels),new dt],e.supportsCommands&&this.suggestionProviders.push(new Ze.b({isInRHS:Boolean(this.props.rootId)})),this.checkMessageLength(e.value),this.wrapper=h.a.createRef(),this.message=h.a.createRef(),this.preview=h.a.createRef()}updateSuggestions(e){if(this.props.channelId!==e.channelId||this.props.currentUserId!==e.currentUserId||this.props.profilesInChannel!==e.profilesInChannel||this.props.autocompleteGroups!==e.autocompleteGroups){const e=this.suggestionProviders;for(let t=0;t<e.length;t++)e[t]instanceof Ve&&e[t].setProps({currentUserId:this.props.currentUserId,profilesInChannel:this.props.profilesInChannel,autocompleteUsersInChannel:e=>this.props.actions.autocompleteUsersInChannel(e,this.props.channelId),useChannelMentions:this.props.useChannelMentions,autocompleteGroups:this.props.autocompleteGroups,searchAssociatedGroupsForReference:e=>this.props.actions.searchAssociatedGroupsForReference(e,this.props.currentTeamId,this.props.channelId),priorityProfiles:this.props.priorityProfiles})}e.value!==this.props.value&&this.checkMessageLength(this.props.value)}componentDidUpdate(e){var t;!e.preview&&this.props.preview&&(null===(t=this.preview.current)||void 0===t||t.focus());this.updateSuggestions(e)}render(){let e,t=null,a="form-control custom-textarea",n="textarea-wrapper";var s;(this.props.emojiEnabled&&(a+=" custom-textarea--emoji-picker"),this.props.badConnection&&(a+=" bad-connection"),this.wrapper.current)&&(e=null===(s=this.getInputBox())||void 0===s?void 0:s.clientHeight);return this.props.preview&&(a+=" custom-textarea--preview",n+=" textarea-wrapper--preview",t=h.a.createElement("div",{tabIndex:0,ref:this.preview,className:"form-control custom-textarea textbox-preview-area",onKeyPress:this.props.onKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onBlur:this.handleBlur},h.a.createElement(Ie,{isRHS:this.props.isRHS,message:this.props.value,mentionKeys:[],channelId:this.props.channelId}))),h.a.createElement("div",{ref:this.wrapper,className:n},h.a.createElement(mt.a,{id:this.props.id,ref:this.message,className:a,spellCheck:"true",placeholder:this.props.createMessage,onChange:this.handleChange,onKeyPress:this.props.onKeyPress,onSelect:this.handleSelect,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onKeyUp:this.handleKeyUp,onComposition:this.props.onComposition,onBlur:this.handleBlur,onHeightChange:this.handleHeightChange,style:{visibility:this.props.preview?"hidden":"visible"},inputComponent:this.props.inputComponent,listComponent:ut.a,listStyle:this.props.suggestionListStyle,providers:this.suggestionProviders,channelId:this.props.channelId,value:this.props.value,renderDividers:!0,isRHS:this.props.isRHS,disabled:this.props.disabled,contextId:this.props.channelId,listenForMentionKeyClick:this.props.listenForMentionKeyClick,wrapperHeight:e,openWhenEmpty:this.props.openWhenEmpty}),t)}}pt(ht,"propTypes",{id:u.a.string.isRequired,channelId:u.a.string,rootId:u.a.string,value:u.a.string.isRequired,onChange:u.a.func.isRequired,onKeyPress:u.a.func.isRequired,onComposition:u.a.func,onHeightChange:u.a.func,createMessage:u.a.string.isRequired,onKeyDown:u.a.func,onSelect:u.a.func,onMouseUp:u.a.func,onKeyUp:u.a.func,onBlur:u.a.func,supportsCommands:u.a.bool,handlePostError:u.a.func,suggestionListStyle:u.a.string,emojiEnabled:u.a.bool,isRHS:u.a.bool,characterLimit:u.a.number.isRequired,disabled:u.a.bool,badConnection:u.a.bool,listenForMentionKeyClick:u.a.bool,currentUserId:u.a.string.isRequired,currentTeamId:u.a.string.isRequired}),pt(ht,"defaultProps",{supportsCommands:!0,isRHS:!1,listenForMentionKeyClick:!1,inputComponent:H.a});const gt={active:!0};var bt=Object(s.connect)(()=>{const e=Object(r.makeGetProfilesInChannel)(),t=Object(L.makeAddLastViewAtToProfiles)(),a=Object(R.makeGetProfilesForThread)();return(n,s)=>{const l=Object(o.getCurrentTeamId)(n),c=Object(i.getLicense)(n),d="true"===(null==c?void 0:c.IsLicensed)&&"true"===(null==c?void 0:c.LDAPGroups)&&Object(A.haveIChannelPermission)(n,{channel:s.channelId,team:l,permission:x.a.USE_GROUP_MENTIONS})?Object(I.getAssociatedGroupsForReference)(n,l,s.channelId):null,m=e(n,s.channelId,gt),u=t(n,m);return{currentUserId:Object(r.getCurrentUserId)(n),currentTeamId:l,profilesInChannel:u,autocompleteGroups:d,priorityProfiles:a(n,s)}}},e=>({actions:Object(n.bindActionCreators)({autocompleteUsersInChannel:k.a,autocompleteChannels:U.b,searchAssociatedGroupsForReference:D},e)}),null,{forwardRef:!0})(ht),ft=a(6),_t=a(1281),Ct=a(1847);let yt="";ze.a.subscribe(()=>{const e=ze.a.getState(),t=e.entities.integrations.dialogTriggerId;if(t===yt)return;yt=t;(e.entities.integrations.dialog||{}).trigger_id===t&&ze.a.dispatch(Object(_t.b)({modalId:fe.y.INTERACTIVE_DIALOG,dialogType:Ct.a}))}),window.React=a(5),window.ReactDOM=a(149),window.Redux=a(10),window.ReactRedux=a(264),window.ReactBootstrap=a(1271),window.ReactRouterDom=a(1265),window.PropTypes=a(127),window.PDFJS=a(283),window.PostUtils={formatText:P.f,messageHtmlToComponent:M.a},window.openInteractiveDialog=function(e){ze.a.dispatch({type:ft.IntegrationTypes.RECEIVED_DIALOG,data:e}),ze.a.dispatch(Object(_t.b)({modalId:fe.y.INTERACTIVE_DIALOG,dialogType:Ct.a}))},window.WebappUtils={browserHistory:N.a},window.Components={Textbox:bt};var Et=a(1334);function vt(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}const wt=h.a.lazy(()=>a.e(26).then(a.bind(null,2443))),Ot=h.a.lazy(()=>a.e(2).then(a.bind(null,2452))),St=e=>{let{component:t}=e,a=vt(e,["component"]);return h.a.createElement(f.d,Object.assign({},a,{render:e=>h.a.createElement(h.a.Suspense,{fallback:null},h.a.createElement(wt,e,h.a.createElement(t,e)))}))},Tt=e=>{let{component:t}=e,a=vt(e,["component"]);return h.a.createElement(f.d,Object.assign({},a,{render:e=>h.a.createElement(h.a.Suspense,{fallback:null},h.a.createElement(Ot,e,h.a.createElement(h.a.Suspense,{fallback:null},h.a.createElement(wt,e,h.a.createElement(t,e)))))}))};var Mt=a(191),Pt=a(1606),Nt=a(667),It=a(200);function Rt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class At extends h.a.PureComponent{constructor(...e){super(...e),Rt(this,"handleLocaleChange",e=>{d.Client4.setAcceptLanguage(e),this.loadTranslationsIfNecessary(e)}),Rt(this,"loadTranslationsIfNecessary",e=>{if(this.props.translations)return;const t=It.c(e);t&&this.props.actions.loadTranslations(e,t.url)})}componentDidMount(){It.a(),Object(Nt.setLocalizeFunction)(z.ob),this.handleLocaleChange(this.props.locale)}componentDidUpdate(e){e.locale!==this.props.locale&&this.handleLocaleChange(this.props.locale)}render(){return this.props.translations?h.a.createElement(Pt.a,{key:this.props.locale,locale:this.props.locale,messages:this.props.translations,textComponent:"span",wrapRichTextChunksInFragment:!1},this.props.children):null}}Rt(At,"propTypes",{children:u.a.element.isRequired,locale:u.a.string.isRequired,translations:u.a.object,actions:u.a.shape({loadTranslations:u.a.func.isRequired}).isRequired});var jt=Object(s.connect)((function(e){const t=Object(Mt.a)(e);return{locale:t,translations:Object(Mt.b)(e,t)}}),(function(e){return{actions:Object(n.bindActionCreators)({loadTranslations:l.b},e)}}))(At),xt=(a(129),a(187)),Lt=a(1348),kt=a(594),Dt=a(1451),Ut=a(80),qt=a(1375),Ht=a(1710),Ft=a(2053),Bt=a.n(Ft),Gt=a(1411),Vt=a(295),Wt=a(1363),zt=a(1609);function Yt(e){return{type:fe.f.SET_SHOW_PREVIEW_ON_CREATE_COMMENT,showPreview:e}}function Kt(e){return{type:fe.f.SET_SHOW_PREVIEW_ON_CREATE_POST,showPreview:e}}function Zt(e){return{type:fe.f.SET_SHOW_PREVIEW_ON_EDIT_CHANNEL_HEADER_MODAL,showPreview:e}}function Jt(e){return{type:fe.f.SET_SHOW_PREVIEW_ON_EDIT_POST_MODAL,showPreview:e}}function Xt(e){return e.views.textbox.shouldShowPreviewOnCreateComment}function Qt(e){return e.views.textbox.shouldShowPreviewOnCreatePost}function $t(e){return e.views.textbox.shouldShowPreviewOnEditChannelHeaderModal}function ea(e){return e.views.textbox.shouldShowPreviewOnEditPostModal}var ta=a(266),aa=a(43);function na(e){return async(t,a)=>{const n=await be.editPost(e)(t,a);return n.error&&"api.post.update_post.permissions_time_limit.app_error"===n.error.server_error_id&&t(Object(aa.logError)({type:fe.i.ANNOUNCEMENT,message:n.error.message},!0)),n}}function sa(e,t,a,n,s,i){return async n=>{n({type:fe.f.SELECT_ATTACHMENT_MENU_ACTION,postId:e,data:{[t]:{text:s,value:i}}}),n(be.doPostActionWithCookie(e,t,a,i))}}var ia=a(273),ra=a(1616),oa=a(1270),la=a.n(oa),ca=a(265);a(70);function da(e){if(-1===Array.from(e.types).indexOf("text/html"))return!1;const t=e.getData("text/html");if(!/<table/i.test(t))return!1;const a=function(e){const t=document.createElement("div");return t.innerHTML=e,t.querySelector("table")}(t);return a||!1}function ma(e){return/\b(js|blob|diff)-./.test(e)}function ua(e){return null==e.textContent?" ":e.textContent.trim().replace(/\|/g,"\\|").replace(/\n/g," ")}function pa(e,t,a){const n=Array.from(e.querySelectorAll("tr")),s=n.shift(),i=s?(r=s,Array.from(r.querySelectorAll("td, th")).map(ua)):[];var r;const o=i.map(()=>"---"),l="|".concat(i.join(" | "),"|\n|").concat(o.join(" | "),"|\n"),c=n.map(e=>"|".concat(Array.from(e.querySelectorAll("td")).map(ua).join(" | "),"|")).join("\n"),d="".concat(l).concat(c,"\n");if(!t)return d;if(void 0===a)return"".concat(t,"\n\n").concat(d);return[t.slice(0,a),d,t.slice(a)].join("\n")}function ha(e,t,a){const{firstPiece:n,lastPiece:s}=Object(ca.v)(e,t),i=""===s?"":"\n",r=(""===n?"":"\n")+"```\n"+function(e){return-1!==Array.from(e.types).indexOf("text/plain")&&e.getData("text/plain")}(a)+"\n```"+i;return{formattedMessage:"".concat(n).concat(r).concat(s),formattedCodeBlock:r}}function ga(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ba extends h.a.PureComponent{constructor(e){super(e),ga(this,"deletePostBtn",void 0),ga(this,"handleDelete",async()=>{const{actions:e,post:t}=this.props;let a="";const n=await e.deleteAndRemovePost(t),s=Object(f.j)(this.props.location.pathname,{path:"/:teamName/messages/:username/:postid"}),i=Object(f.j)(this.props.location.pathname,{path:"/:teamName/channels/:channelname/:postid"});if(s?a=s.params.postid:i&&(a=i.params.postid),a===t.id){const e=this.props.location.pathname.split("/").slice(0,-1).join("/");N.a.replace(e)}n.data&&this.onHide()}),ga(this,"handleEntered",()=>{var e,t;null===(e=this.deletePostBtn)||void 0===e||null===(t=e.current)||void 0===t||t.focus()}),ga(this,"onHide",()=>{if(this.setState({show:!1}),!y.p()){let e;e=this.props.isRHS?document.getElementById("reply_textbox"):document.getElementById("post_textbox"),e&&e.focus()}}),this.deletePostBtn=h.a.createRef(),this.state={show:!0}}render(){let e="";this.props.commentCount>0&&""===this.props.post.root_id&&(e=h.a.createElement(q.a,{id:"delete_post.warning",defaultMessage:"This post has {count, number} {count, plural, one {comment} other {comments}} on it.",values:{count:this.props.commentCount}}));const t=this.props.post.root_id?h.a.createElement(q.a,{id:"delete_post.comment",defaultMessage:"Comment"}):h.a.createElement(q.a,{id:"delete_post.post",defaultMessage:"Post"});return h.a.createElement(ra.a,{dialogClassName:"a11y__modal",show:this.state.show,onEntered:this.handleEntered,onHide:this.onHide,onExited:this.props.onHide,enforceFocus:!1,id:"deletePostModal",role:"dialog","aria-labelledby":"deletePostModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"deletePostModalLabel"},h.a.createElement(q.a,{id:"delete_post.confirm",defaultMessage:"Confirm {term} Delete",values:{term:t}}))),h.a.createElement(ra.a.Body,null,h.a.createElement(q.a,{id:"delete_post.question",defaultMessage:"Are you sure you want to delete this {term}?",values:{term:t}}),h.a.createElement("br",null),h.a.createElement("br",null),e),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onHide},h.a.createElement(q.a,{id:"delete_post.cancel",defaultMessage:"Cancel"})),h.a.createElement("button",{ref:this.deletePostBtn,type:"button",autoFocus:!0,className:"btn btn-danger",onClick:this.handleDelete,id:"deletePostModalButton"},h.a.createElement(q.a,{id:"delete_post.del",defaultMessage:"Delete"}))))}}ga(ba,"propTypes",{channelName:u.a.string.isRequired,teamName:u.a.string.isRequired,post:u.a.any.isRequired,commentCount:u.a.number.isRequired,isRHS:u.a.bool.isRequired,onHide:u.a.func.isRequired,actions:u.a.shape({deleteAndRemovePost:u.a.func.isRequired}).isRequired,location:u.a.shape({pathname:u.a.string.isRequired}).isRequired});var fa=Object(f.o)(Object(s.connect)(null,(function(e){return{actions:Object(n.bindActionCreators)({deleteAndRemovePost:ta.c},e)}}))(ba)),_a=a(1526),Ca=a(1698),ya=a(1709),Ea=a(1708),va=a(1359),wa=a(1),Oa={OPEN_EMBED_PAGE:1,SHARE:2},Sa={TRENDING:0,REACTIONS:1},Ta={mattermost:"mattermost"};class Ma extends h.a.PureComponent{render(){return h.a.createElement("span",this.props,h.a.createElement("svg",{width:"100%",height:"100%",viewBox:"-10 -10 40 40",version:"1.1"},h.a.createElement("g",{id:"ic_search",transform:"matrix(0.959095,-9.6091e-18,-1.00189e-17,0.959095,-0.0633002,-0.777826)"},h.a.createElement("path",{d:"M2.648,15.872C3.433,16.658 4.376,17.287 5.454,17.758C6.553,18.229 7.698,18.454 8.888,18.454C10.728,18.454 12.389,17.938 13.893,16.905L18.18,21.192C18.494,21.506 18.854,21.664 19.302,21.664C19.751,21.664 20.111,21.506 20.447,21.192C20.761,20.855 20.919,20.496 20.919,20.047C20.919,19.621 20.761,19.239 20.447,18.925L16.16,14.638C17.193,13.134 17.709,11.473 17.709,9.633C17.709,8.443 17.484,7.298 17.013,6.198C16.542,5.121 15.913,4.178 15.128,3.393C14.342,2.607 13.399,1.979 12.322,1.507C11.222,1.036 10.077,0.811 8.888,0.811C7.698,0.811 6.553,1.036 5.454,1.507C4.376,1.979 3.433,2.607 2.648,3.393C1.862,4.178 1.234,5.121 0.762,6.198C0.291,7.298 0.066,8.443 0.066,9.633C0.066,10.822 0.291,11.967 0.762,13.067C1.234,14.144 1.862,15.087 2.648,15.872ZM8.888,4.021C10.436,4.021 11.761,4.56 12.861,5.66C13.96,6.76 14.499,8.084 14.499,9.633C14.499,11.181 13.96,12.506 12.861,13.606C11.761,14.705 10.436,15.244 8.888,15.244C7.339,15.244 6.015,14.705 4.915,13.606C3.815,12.506 3.276,11.181 3.276,9.633C3.276,8.084 3.815,6.76 4.915,5.66C6.015,4.56 7.339,4.021 8.888,4.021Z",style:{fill:"inherit"}}))))}}class Pa extends h.a.PureComponent{render(){return h.a.createElement("span",this.props,h.a.createElement("svg",{width:"100%",height:"100%",viewBox:"-10 -10 40 40",enableBackground:"new 0 0 20 20",version:"1.1"},h.a.createElement("g",{transform:"matrix(0.952381,0,0,1,0,0)"},h.a.createElement("path",{fill:"inherit",d:"M10.5 11.7L2.2 19.8C2 19.9 1.9 20 1.7 20 1.6 20 1.4 19.9 1.3 19.8L0.2 18.8C0.1 18.7 0 18.5 0 18.3 0 18.2 0.1 18 0.2 17.9L8.3 10 0.2 2.1C0.1 2 0 1.8 0 1.7 0 1.5 0.1 1.3 0.2 1.2L1.3 0.2C1.4 0.1 1.6 0 1.7 0 1.9 0 2 0.1 2.2 0.2L10.5 8.3 18.8 0.2C19 0.1 19.1 0 19.3 0 19.4 0 19.6 0.1 19.7 0.2L20.8 1.2C20.9 1.3 21 1.5 21 1.7 21 1.8 20.9 2 20.8 2.1L12.7 10 20.8 17.9C20.9 18 21 18.2 21 18.3 21 18.5 20.9 18.7 20.8 18.8L19.7 19.8C19.6 19.9 19.4 20 19.3 20 19.1 20 19 19.9 18.8 19.8L10.5 11.7Z"}))))}}var Na=a(1293);a(2072);function Ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ra(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(a),!0).forEach((function(t){Aa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ia(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Aa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ja={saveSearchBarText:va.saveSearchBarText,saveSearchScrollPosition:va.saveSearchScrollPosition,searchTextUpdate:va.searchTextUpdate},xa=Object(wa.makeStyleFromTheme)(e=>({background:{backgroundColor:e.centerChannelBg},icon:{fill:Object(wa.changeOpacity)(e.centerChannelColor,.4)},inputBackground:{backgroundColor:e.centerChannelBg},input:{borderColor:Object(wa.changeOpacity)(e.centerChannelColor,.12)}}));class La extends p.Component{constructor(e){super(e),Aa(this,"parseSearchText",e=>e.trim().split(/ +/).join("-")),Aa(this,"removeExtraSpaces",e=>e.trim().split(/ +/).join(" ")),Aa(this,"updateSearchInputValue",e=>{this.searchInput.value=e,this.props.saveSearchBarText(e),this.props.handleSearchTextChange(e)}),Aa(this,"handleSubmit",e=>{e.preventDefault(),this.triggerSearch(this.searchInput.value),this.searchInput.blur()}),Aa(this,"triggerSearch",e=>{const{onSearch:t}=this.props;this.props.searchTextUpdate(this.parseSearchText(e)),t(),this.props.saveSearchScrollPosition(0)}),Aa(this,"handleChange",e=>{clearTimeout(this.searchTimeout);const t=e.target.value,{onCategories:a,action:n}=this.props;this.props.saveSearchBarText(t),this.props.handleSearchTextChange(t),""===t?a():"reactions"===n&&this.isFilteredTags(t)||(this.searchTimeout=setTimeout(()=>{this.triggerSearch(t)},500))}),Aa(this,"focusInput",()=>{this.setState({inputFocused:!0})}),Aa(this,"blurInput",()=>{this.setState({inputFocused:!1})}),Aa(this,"isFilteredTags",e=>{var t=this.removeExtraSpaces(e);const{tagsList:a}=this.props,n=t.toLowerCase(),s=a&&a.length?a.filter(e=>t&&-1===e.tagName.indexOf(n)?"":e):[];return Boolean(s.length)}),Aa(this,"clearSearchHandle",()=>{const{action:e,onTrending:t,onCategories:a}=this.props;this.updateSearchInputValue(""),"reactions"===e?a():t()}),this.state={inputFocused:!1},this.searchTimeout=null;const t=this.props.defaultSearchText||"";this.props.saveSearchBarText(t),this.props.searchTextUpdate(t)}componentDidUpdate(e){const{searchBarText:t}=this.props;t!==e.searchBarText&&("trending"===t?this.updateSearchInputValue(""):this.updateSearchInputValue(t))}shouldComponentUpdate(e,t){return!e.searchBarText&&this.props.searchBarText||e.searchBarText&&!this.props.searchBarText||t.inputFocused!==this.state.inputFocused||e.searchBarText!==this.props.searchBarText}render(){const e=xa(this.props.theme),{searchBarText:t}=this.props,a=t?h.a.createElement(Pa,{className:"ic-clear-search",style:e.icon,onClick:this.clearSearchHandle}):null;return h.a.createElement("form",{className:"gfycat-search",method:"get",target:"_top",noValidate:"",onSubmit:this.handleSubmit},h.a.createElement("div",{className:"search-bar",style:e.background},h.a.createElement("div",{className:"search-input-bg",style:e.inputBackground}),h.a.createElement(Na.a,{className:"search-input",name:"searchText",autoFocus:!0,placeholder:{id:Object(J.b)("gif_picker.gfycat"),defaultMessage:"Search Gfycat"},onChange:this.handleChange,autoComplete:"off",autoCapitalize:"off",onFocus:this.focusInput,onBlur:this.blurInput,ref:e=>(this.searchInput=e,e),style:e.input,value:t}),h.a.createElement(Ma,{className:"ic ic-search",style:e.icon}),a),h.a.createElement("button",{type:"submit",className:"submit-button"}))}}Aa(La,"propTypes",{searchBarText:u.a.string,tagsList:u.a.array,theme:u.a.object.isRequired,onTrending:u.a.func,onSearch:u.a.func,onCategories:u.a.func,action:u.a.string,saveSearchScrollPosition:u.a.func,saveSearchBarText:u.a.func,searchTextUpdate:u.a.func,defaultSearchText:u.a.string,handleSearchTextChange:u.a.func.isRequired});var ka=Object(s.connect)((function(e){return Ra(Ra(Ra({},e.entities.gifs.categories),e.entities.gifs.search),{},{theme:Object(K.getTheme)(e),appProps:e.entities.gifs.app})}),ja)(La);class Da extends h.a.PureComponent{render(){return h.a.createElement("span",this.props,h.a.createElement("svg",{className:"ic-svg ic-trending-svg",width:"11px",height:"15px",viewBox:"0 0 11 15",version:"1.1"},h.a.createElement("g",{id:"Finalized-Design",stroke:"none",fill:"inherit"},h.a.createElement("g",{id:"GfyCat---Gycat-Tab",transform:"translate(-1212.000000, -619.000000)",fill:"inherit"},h.a.createElement("g",{id:"modal---emojis",transform:"translate(1147.000000, 542.000000)"},h.a.createElement("g",{id:"tabs---gfycat",transform:"translate(1.000000, 68.000000)"},h.a.createElement("g",{id:"tab---trending---selected"},h.a.createElement("path",{d:"M69.90625,10.4062776 C69.90625,10.9531513 70.0976562,11.4909106 70.4804688,12.019555 C70.6992188,12.32945 71.1276043,12.7760638 71.765625,13.3593956 C72.3489582,13.9062693 72.7773438,14.3346538 73.0507812,14.6445488 C73.5065106,15.1731932 73.8528644,15.7109525 74.0898438,16.2578262 C74.3632812,16.9505327 74.5,17.6979271 74.5,18.5000083 C74.5,19.4479229 74.2630207,20.3229208 73.7890625,21.1250021 C73.3151043,21.9270834 72.6770832,22.565103 71.875,23.03906 C71.0729168,23.5130171 70.1979168,23.7499958 69.25,23.7499958 C68.3020832,23.7499958 67.4270832,23.5130171 66.625,23.03906 C65.8229168,22.565103 65.1848957,21.9270834 64.7109375,21.1250021 C64.2369793,20.3229208 64,19.4479229 64,18.5000083 C64,17.6432397 64.2005207,16.8320436 64.6015625,16.0664204 C65.0026043,15.3007972 65.5494793,14.6718925 66.2421875,14.1797061 C66.4609375,14.0338733 66.6888019,14.0247585 66.9257812,14.1523625 C67.1627606,14.2799665 67.28125,14.4713723 67.28125,14.7265798 L67.28125,17.6250104 C67.28125,17.9349054 67.3860676,18.1946704 67.5957031,18.4043054 C67.8053387,18.6139405 68.0651043,18.7187578 68.375,18.7187578 C68.6848957,18.7187578 68.9446613,18.6139405 69.1542969,18.4043054 C69.3639324,18.1946704 69.46875,17.9349054 69.46875,17.6250104 C69.46875,17.4427191 69.4049481,17.2330844 69.2773438,16.9961057 C69.2044269,16.8320436 69.0677082,16.576836 68.8671875,16.2304825 C68.4661457,15.5742341 68.1835938,15.0547041 68.0195312,14.6718925 C67.7643231,13.9791859 67.6640625,13.2955938 67.71875,12.6211161 C67.8098957,11.7825763 68.1380207,10.9258077 68.703125,10.0508097 C68.8125,9.86851837 68.9628906,9.76825847 69.1542969,9.75002921 C69.3457031,9.73179994 69.5188801,9.78648731 69.6738281,9.91409132 C69.8287762,10.0416953 69.90625,10.2057574 69.90625,10.4062776 Z M69.2499875,22.437499 C69.9609233,22.437499 70.6171717,22.259765 71.2187328,21.9042971 C71.8202939,21.5488292 72.2988083,21.0703147 72.6542762,20.4687537 C73.0097441,19.8671926 73.1874781,19.2109441 73.1874781,18.5000083 C73.1874781,17.880218 73.0781034,17.3060006 72.8593539,16.7773562 C72.6588337,16.3398572 72.376282,15.9023583 72.0116996,15.4648593 C71.7929502,15.1914225 71.4329248,14.8131683 70.9316241,14.3300964 C70.4303233,13.8470245 70.070298,13.4687703 69.8515485,13.1953335 C69.4869662,12.7760638 69.2135294,12.3567937 69.031238,11.937524 C68.8671759,12.5573143 68.8945196,13.1953335 69.1132691,13.8515819 C69.2408731,14.2343935 69.5143099,14.7812672 69.9335796,15.492203 C70.2252457,15.9661601 70.4166515,16.321628 70.507797,16.5586067 C70.6900884,16.9414183 70.7812338,17.2968862 70.7812338,17.6250104 C70.7812338,18.2812589 70.5442551,18.8463618 70.070298,19.3203189 C69.596341,19.794276 69.031238,20.0312547 68.3749896,20.0312547 C67.7187411,20.0312547 67.1536382,19.794276 66.6796811,19.3203189 C66.205724,18.8463618 65.9687453,18.2812589 65.9687453,17.6250104 L65.9687453,16.0937641 C65.7682251,16.403659 65.60872,16.7819136 65.4902308,17.228527 C65.3717417,17.6751404 65.3124969,18.0989675 65.3124969,18.5000083 C65.3124969,19.2109441 65.4902308,19.8671926 65.8456987,20.4687537 C66.2011666,21.0703147 66.6796811,21.5488292 67.2812422,21.9042971 C67.8828032,22.259765 68.5390517,22.437499 69.2499875,22.437499 Z",id:"icon---trending"}))))))))}}class Ua extends h.a.PureComponent{render(){return h.a.createElement("span",this.props,h.a.createElement("svg",{className:"ic-svg ic-reactions-svg",width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1"},h.a.createElement("g",{id:"Finalized-Design",stroke:"none",fill:"inherit"},h.a.createElement("g",{id:"GfyCat---Gycat-Tab",transform:"translate(-1348.000000, -620.000000)",fill:"inherit"},h.a.createElement("g",{id:"modal---emojis",transform:"translate(1147.000000, 542.000000)"},h.a.createElement("g",{id:"tabs---gfycat",transform:"translate(1.000000, 68.000000)"},h.a.createElement("g",{id:"tab---category---deselected",transform:"translate(138.000000, 0.000000)"},h.a.createElement("path",{d:"M62,16 L62,10 L68,10 L68,16 L62,16 Z M64,12 L64,14 L66,14 L66,12 L64,12 Z M70,24 L70,18 L76,18 L76,24 L70,24 Z M72,20 L72,22 L74,22 L74,20 L72,20 Z M70,10 L76,10 L76,16 L70,16 L70,10 Z M74,14 L74,12 L72,12 L72,14 L74,14 Z M62,24 L62,18 L68,18 L68,24 L62,24 Z M64,20 L64,22 L66,22 L66,20 L64,20 Z",id:"icon---categories"}))))))))}}a(2073);const qa={saveSearchBarText:va.saveSearchBarText,searchTextUpdate:va.searchTextUpdate},Ha=Object(wa.makeStyleFromTheme)(e=>({background:{backgroundColor:e.centerChannelBg},header:{borderBottomColor:Object(wa.changeOpacity)(e.centerChannelColor,.2)},icon:{fill:Object(wa.changeOpacity)(e.centerChannelColor,.3)},iconActive:{fill:e.centerChannelColor},iconHover:{fill:Object(wa.changeOpacity)(e.centerChannelColor,.8)}}));class Fa extends p.PureComponent{constructor(e){super(e),this.state={hovering:""}}render(){const e=Ha(this.props.theme);return h.a.createElement("header",{className:"header-container",style:e.background},h.a.createElement(ka,this.props),h.a.createElement("nav",{className:"nav-bar",style:e.header},this.renderTabs(this.props,e)))}renderTabs(e,t){const{appProps:a,onTrending:n,onCategories:s}=e,{header:i}=a;return i.tabs.map((e,a)=>{let i;return e===Sa.TRENDING?i=this.renderTab("trending",n,Da,a,t):e===Sa.REACTIONS&&(i=this.renderTab("reactions",s,Ua,a,t)),i})}renderTab(e,t,a,n,s){var i=this.props;const{action:r}=i;return h.a.createElement("a",{onClick:function(){i.searchTextUpdate(""),i.saveSearchBarText(""),t()},onMouseOver:()=>{this.setState({hovering:e})},onMouseOut:()=>{this.setState({hovering:""})},style:{cursor:"pointer"},key:n},h.a.createElement("div",{style:{paddingTop:"2px"}},h.a.createElement(a,{style:(()=>this.state.hovering===e?s.iconHover:r===e?s.iconActive:s.icon)()})))}}var Ba,Ga,Va;Ba=Fa,Ga="propTypes",Va={action:u.a.string,appProps:u.a.object,saveSearchBarText:u.a.func,searchTextUpdate:u.a.func,theme:u.a.object.isRequired,defaultSearchText:u.a.string,handleSearchTextChange:u.a.func.isRequired},Ga in Ba?Object.defineProperty(Ba,Ga,{value:Va,enumerable:!0,configurable:!0,writable:!0}):Ba[Ga]=Va;var Wa=Object(s.connect)((function(e){return{theme:Object(K.getTheme)(e)}}),qa)(Fa);const za={saveAppProps:va.saveAppProps};class Ya extends p.PureComponent{constructor(e){super(e);const{appProps:t}=this.props;this.props.saveAppProps(t)}render(){const{appProps:e,action:t,onCategories:a,onSearch:n,onTrending:s,children:i,defaultSearchText:r,handleSearchTextChange:o}=this.props,l="main-container "+(e.appClassName||"");return h.a.createElement("div",{className:l},h.a.createElement(Wa,{appProps:e,action:t,onCategories:a,onSearch:n,onTrending:s,defaultSearchText:r,handleSearchTextChange:o}),h.a.createElement("div",{className:"component-container"},i))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Ya,"propTypes",{appProps:u.a.object,action:u.a.string,onCategories:u.a.func,onSearch:u.a.func,onTrending:u.a.func,children:u.a.object,saveAppProps:u.a.func,authenticateSdk:u.a.func,defaultSearchText:u.a.string,handleSearchTextChange:u.a.func.isRequired});var Ka=Object(s.connect)(null,za)(Ya),Za=a(1568);a(2074);function Ja(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(a),!0).forEach((function(t){Qa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ja(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Qa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const $a={saveSearchBarText:va.saveSearchBarText,saveSearchScrollPosition:va.saveSearchScrollPosition,searchTextUpdate:va.searchTextUpdate,requestCategoriesList:va.requestCategoriesList,requestCategoriesListIfNeeded:va.requestCategoriesListIfNeeded},en=Object(wa.makeStyleFromTheme)(e=>({background:{backgroundColor:Object(wa.changeOpacity)(e.centerChannelColor,.05)}}));class tn extends p.PureComponent{constructor(...e){super(...e),Qa(this,"sendImpressions",()=>{const{tagsList:e}=this.props,t=e.map(e=>({gfyId:e.gfyId}));t.length&&Object(v.e)("gfycat","views",{context:"category_list",count:t.length})}),Qa(this,"filterTagsList",()=>{const{searchBarText:e,tagsList:t}=this.props,a=e.toLowerCase().trim().split(/ +/).join(" ");return t&&t.length?t.filter(t=>e&&-1===t.tagName.indexOf(a)?"":t):[]}),Qa(this,"loadMore",()=>{this.props.requestCategoriesList()})}componentDidMount(){window.scrollTo(0,0),this.props.requestCategoriesListIfNeeded(),this.sendImpressions()}componentWillUnmount(){this.props.saveSearchScrollPosition(0)}render(){const e=en(this.props.theme),{hasMore:t,tagsList:a,gifs:n,onSearch:s,onTrending:i,hasImageProxy:r}=this.props,o=a&&a.length?this.filterTagsList(a).map((e,t)=>{const{tagName:a,gfyId:o}=e;if(!n[o])return null;const l=n[o],{max1mbGif:c,avgColor:d}=l,m=ca.f(c,"true"===r),u=a.replace(/\s/g,"-"),p={backgroundImage:"url(".concat(m)},g={backgroundColor:d},b=this.props;return h.a.createElement("a",{onClick:function(){b.searchTextUpdate(a),b.saveSearchBarText(a),"trending"===u?i():s()},key:t},h.a.createElement("div",{className:"category-container"},h.a.createElement("div",{className:"category",style:Xa(Xa({},p),g)},h.a.createElement("div",{className:"category-name"},a))))}):[];return o&&o.length?h.a.createElement("div",{className:"categories-container",style:e.background},h.a.createElement(Za.a,{hasMore:t,loadMore:this.loadMore,threshold:1},o)):h.a.createElement("div",{className:"categories-container",style:e.background})}}Qa(tn,"propTypes",{appProps:u.a.object,gifs:u.a.object,hasMore:u.a.bool,onSearch:u.a.func,onTrending:u.a.func,requestCategoriesList:u.a.func,requestCategoriesListIfNeeded:u.a.func,saveSearchBarText:u.a.func,saveSearchScrollPosition:u.a.func,searchTextUpdate:u.a.func,searchBarText:u.a.string,tagsList:u.a.array,hasImageProxy:u.a.string,theme:u.a.object.isRequired});var an=Object(s.connect)((function(e){return Xa(Xa(Xa({},e.entities.gifs.categories),e.entities.gifs.cache),{},{theme:Object(K.getTheme)(e),appProps:e.entities.gifs.app,searchText:e.entities.gifs.search.searchText,searchBarText:e.entities.gifs.search.searchBarText,hasImageProxy:e.entities.general.config.HasImageProxy})}),$a)(tn);a(2075);function nn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function sn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(a),!0).forEach((function(t){rn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function rn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class on extends p.PureComponent{render(){const{gfyItem:e,top:t,left:a,itemWidth:n,itemClickHandler:s}=this.props,{width:i,height:r,max1mbGif:o,avgColor:l}=e,{hasImageProxy:c}=this.props,d=ca.f(o,"true"===c),m={backgroundImage:"url(".concat(d,")")},u={backgroundColor:l},p={paddingBottom:n/i*r+"px"};return h.a.createElement("div",{className:"search-item-wrapper",style:{top:t,left:a,width:n?"".concat(n,"px"):""}},h.a.createElement("div",{className:"search-item",style:sn(sn(sn({},m),u),p),onClick:()=>s(e)}))}}rn(on,"propTypes",{gfyItem:u.a.object,top:u.a.string,left:u.a.string,itemWidth:u.a.number,itemClickHandler:u.a.func,hasImageProxy:u.a.string});var ln=Object(s.connect)((function(e){return{hasImageProxy:e.entities.general.config.HasImageProxy}}))(on);a(2076);function cn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(a),!0).forEach((function(t){mn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function mn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const un={saveSearchScrollPosition:va.saveSearchScrollPosition},pn=Object(wa.makeStyleFromTheme)(e=>({background:{backgroundColor:Object(wa.changeOpacity)(e.centerChannelColor,.05)}}));class hn extends p.PureComponent{constructor(e){super(e),mn(this,"setNumberOfColumns",()=>{window.matchMedia("(orientation: portrait)").matches,this.numberOfColumns=2}),mn(this,"itemClickHandler",e=>{const{keyword:t,handleItemClick:a}=this.props;this.props.saveSearchScrollPosition(this.scrollPosition),Object(v.e)("gfycat","shares",{gfyid:e.gfyId,keyword:t}),a(e)}),mn(this,"minHeightColumnIndex",()=>this.columnsHeights.indexOf(Math.min(...this.columnsHeights))),mn(this,"maxHeightColumnIndex",()=>this.columnsHeights.indexOf(Math.max(...this.columnsHeights))),mn(this,"maxColumnHeight",()=>Math.max(...this.columnsHeights)),mn(this,"resizeHandler",()=>{this.state.containerWidth!==this.container.offsetWidth-8&&(this.setNumberOfColumns(),this.setState(dn(dn({},this.state),{},{containerWidth:this.container.offsetWidth-8})),this.columnsHeights=Array(this.numberOfColumns).fill(0))}),mn(this,"scrollHandler",()=>{this.scrollPosition=window.scrollY}),this.state={containerWidth:null},this.scrollPosition=this.props.scrollPosition,this.setNumberOfColumns(),this.columnsHeights=Array(this.numberOfColumns).fill(0),this.padding=8}componentDidMount(){this.container=document.getElementById("search-grid-container"),this.setState(dn(dn({},this.state),{},{containerWidth:this.container.offsetWidth-8})),window.addEventListener("resize",this.resizeHandler),window.addEventListener("scroll",this.scrollHandler)}componentDidUpdate(e){e.keyword!==this.props.keyword&&window.scrollTo(0,0)}componentWillUnmount(){const{keyword:e}=this.props;"trending"!==e&&this.props.saveSearchScrollPosition(this.scrollPosition),window.removeEventListener("resize",this.resizeHandler),window.removeEventListener("scroll",this.scrollHandler)}render(){const e=pn(this.props.theme),{containerClassName:t,gifs:a,keyword:n,resultsByTerm:s,scrollPosition:i,loadMore:r,onCategories:o}=this.props,{containerWidth:l}=this.state,{moreRemaining:c,items:d=[],isEmpty:m}=s[n]?s[n]:{},u=parseInt(l/this.numberOfColumns,10),p=Array(this.numberOfColumns).fill(0).map((e,t)=>this.padding+(t*u-t*(this.padding/2)));this.columnsHeights=Array(this.numberOfColumns).fill(this.padding);const g=l&&d.length?d.map((e,t)=>{const n=a[e],{gfyId:s}=n,i=this.minHeightColumnIndex(),r=this.columnsHeights[i]+"px",o=p[i]+"px",l=140/n.width*n.height+this.padding;return this.columnsHeights[i]+=l,h.a.createElement(ln,{gfyItem:n,top:r,left:o,itemWidth:140,itemClickHandler:this.itemClickHandler,key:"".concat(t,"-").concat(s)})}):null;this.containerHeight=this.maxColumnHeight();const b=g?h.a.createElement(Za.a,{className:"search-grid-infinite-scroll",pageStart:0,loadMore:r,initialLoad:!1,hasMore:c,threshold:1,containerHeight:this.containerHeight,scrollPosition:i,useWindow:!1},g):null,f=m?h.a.createElement("div",{className:"empty-search"},h.a.createElement("div",{className:"empty-search-image"}),h.a.createElement("p",null,"0 Gifs found for ",h.a.createElement("strong",null,n)),h.a.createElement("a",{onClick:o},h.a.createElement("div",{className:"empty-search-button"},"Go to Reactions"))):null;return h.a.createElement("div",{id:"search-grid-container",className:"search-grid-container ".concat(t),style:e.background},b,f)}}mn(hn,"propTypes",{appProps:u.a.object,gifs:u.a.object,resultsByTerm:u.a.object,containerClassName:u.a.string,keyword:u.a.string,handleItemClick:u.a.func,onCategories:u.a.func,loadMore:u.a.func,numberOfColumns:u.a.number,scrollPosition:u.a.number,saveSearchScrollPosition:u.a.func,theme:u.a.object.isRequired});var gn=Object(s.connect)((function(e){return dn(dn(dn({},e.entities.gifs.cache),e.entities.gifs.search),{},{theme:Object(K.getTheme)(e),appProps:e.entities.gifs.app})}),un)(hn);function bn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(a),!0).forEach((function(t){_n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Cn=Object(s.connect)((function(e){return fn(fn(fn({},e.entities.gifs.cache),e.entities.gifs.search),{},{appProps:e.entities.gifs.app})}),(function(){return{saveSearchScrollPosition:va.saveSearchScrollPosition}}))(gn);function yn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function En(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const vn={searchGfycat:va.searchGfycat,searchIfNeededInitial:va.searchIfNeededInitial};class wn extends p.PureComponent{constructor(...e){super(...e),En(this,"loadMore",()=>{const{searchText:e}=this.props;this.props.searchGfycat({searchText:e})})}componentDidMount(){const{searchText:e}=this.props;this.props.searchIfNeededInitial(e.split("-").join(" "))}componentDidUpdate(e){const{searchText:t}=this.props;e.searchText!==t&&this.props.searchIfNeededInitial(t.split("-").join(" "))}render(){const{handleItemClick:e,searchText:t,onCategories:a}=this.props;return h.a.createElement(Cn,{keyword:t,handleItemClick:e,onCategories:a,loadMore:this.loadMore})}}En(wn,"propTypes",{handleItemClick:u.a.func,onCategories:u.a.func,searchText:u.a.string,searchIfNeededInitial:u.a.func,searchGfycat:u.a.func});var On=Object(s.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(a),!0).forEach((function(t){En(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.entities.gifs.search)}),vn)(wn);function Sn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Tn={searchCategory:va.searchCategory,searchIfNeededInitial:va.searchIfNeededInitial,saveSearchScrollPosition:va.saveSearchScrollPosition};class Mn extends p.PureComponent{constructor(...e){super(...e),Sn(this,"loadMore",()=>{this.props.searchCategory({tagName:"trending"})})}componentDidMount(){this.props.searchIfNeededInitial("trending")}componentWillUnmount(){this.props.saveSearchScrollPosition(0)}render(){const{handleItemClick:e,onCategories:t}=this.props;return h.a.createElement(Cn,{keyword:"trending",handleItemClick:e,onCategories:t,loadMore:this.loadMore})}}Sn(Mn,"propTypes",{handleItemClick:u.a.func,onCategories:u.a.func,searchCategory:u.a.func,searchIfNeededInitial:u.a.func,saveSearchScrollPosition:u.a.func});var Pn=Object(s.connect)(null,Tn)(Mn);function Nn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const In={appName:Ta.mattermost,basePath:"/mattermost",itemTapType:Oa.SHARE,appClassName:"gfycat",shareEvent:"shareMattermost",appId:"mattermostwebviews",enableHistory:!0,header:{tabs:[Sa.TRENDING,Sa.REACTIONS],displayText:!1}};class Rn extends h.a.PureComponent{constructor(e){super(e),Nn(this,"handleTrending",()=>{this.setState({action:"trending"})}),Nn(this,"handleCategories",()=>{this.setState({action:"reactions"})}),Nn(this,"handleSearch",()=>{this.setState({action:"search"})}),Nn(this,"handleItemClick",e=>{this.props.onGifClick(e.max5mbGif)});const t=e.defaultSearchText?"search":"trending";this.state={action:t}}render(){const{action:e}=this.state;let t;switch(e){case"reactions":t=h.a.createElement(an,{appProps:In,onTrending:this.handleTrending,onSearch:this.handleSearch});break;case"search":t=h.a.createElement(On,{appProps:In,onCategories:this.handleCategories,handleItemClick:this.handleItemClick});break;case"trending":t=h.a.createElement(Pn,{appProps:In,onCategories:this.handleCategories,handleItemClick:this.handleItemClick})}return h.a.createElement("div",null,h.a.createElement(Ka,{appProps:In,action:e,onTrending:this.handleTrending,onCategories:this.handleCategories,onSearch:this.handleSearch,defaultSearchText:this.props.defaultSearchText,handleSearchTextChange:this.props.handleSearchTextChange},t))}}Nn(Rn,"propTypes",{onGifClick:u.a.func.isRequired,defaultSearchText:u.a.string,handleSearchTextChange:u.a.func.isRequired});class An extends h.a.PureComponent{render(){return h.a.createElement("span",this.props,h.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":"Emoji icon"},h.a.createElement("path",{d:"M8 12.4C8.59733 12.4 9.17333 12.2773 9.728 12.032C10.2613 11.7973 10.7307 11.4667 11.136 11.04C11.552 10.6133 11.8667 10.1333 12.08 9.60001H3.92C4.13333 10.1333 4.44267 10.6133 4.848 11.04C5.264 11.4667 5.73867 11.7973 6.272 12.032C6.82667 12.2773 7.40267 12.4 8 12.4ZM5.2 7.20001C5.52 7.20001 5.79733 7.08267 6.032 6.84801C6.27733 6.60267 6.4 6.32001 6.4 6.00001C6.4 5.68001 6.27733 5.40267 6.032 5.16801C5.79733 4.92267 5.52 4.80001 5.2 4.80001C4.88 4.80001 4.59733 4.92267 4.352 5.16801C4.11733 5.40267 4 5.68001 4 6.00001C4 6.32001 4.11733 6.60267 4.352 6.84801C4.59733 7.08267 4.88 7.20001 5.2 7.20001ZM10.8 7.20001C11.12 7.20001 11.3973 7.08267 11.632 6.84801C11.8773 6.60267 12 6.32001 12 6.00001C12 5.68001 11.8773 5.40267 11.632 5.16801C11.3973 4.92267 11.12 4.80001 10.8 4.80001C10.48 4.80001 10.1973 4.92267 9.952 5.16801C9.71733 5.40267 9.6 5.68001 9.6 6.00001C9.6 6.32001 9.71733 6.60267 9.952 6.84801C10.1973 7.08267 10.48 7.20001 10.8 7.20001ZM8 14.4C6.848 14.4 5.776 14.1067 4.784 13.52C3.81333 12.9547 3.04533 12.1867 2.48 11.216C1.89333 10.224 1.6 9.15201 1.6 8.00001C1.6 6.84801 1.89333 5.77601 2.48 4.78401C3.04533 3.81334 3.81333 3.04534 4.784 2.48001C5.776 1.89334 6.848 1.60001 8 1.60001C9.152 1.60001 10.224 1.89334 11.216 2.48001C12.1867 3.04534 12.9547 3.81334 13.52 4.78401C14.1067 5.77601 14.4 6.84801 14.4 8.00001C14.4 9.15201 14.1067 10.224 13.52 11.216C12.9547 12.1867 12.1867 12.9547 11.216 13.52C10.224 14.1067 9.152 14.4 8 14.4ZM8 5.72205e-06C6.56 5.72205e-06 5.216 0.368006 3.968 1.10401C2.76267 1.80801 1.808 2.76267 1.104 3.96801C0.368 5.21601 0 6.56001 0 8.00001C0 9.44001 0.368 10.784 1.104 12.032C1.808 13.2373 2.76267 14.192 3.968 14.896C5.216 15.632 6.56 16 8 16C9.44 16 10.784 15.632 12.032 14.896C13.2373 14.192 14.192 13.2373 14.896 12.032C15.632 10.784 16 9.44001 16 8.00001C16 6.56001 15.632 5.21601 14.896 3.96801C14.192 2.76267 13.2373 1.80801 12.032 1.10401C10.784 0.368006 9.44 5.72205e-06 8 5.72205e-06Z"})))}}class jn extends h.a.PureComponent{render(){return h.a.createElement("span",this.props,h.a.createElement("svg",{width:"22px",height:"14px",viewBox:"0 0 22 14"},h.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},h.a.createElement("g",{transform:"translate(-1344.000000, -552.000000)",fill:"inherit"},h.a.createElement("g",{transform:"translate(1147.000000, 542.000000)"},h.a.createElement("g",{transform:"translate(1.000000, 1.000000)"},h.a.createElement("g",{transform:"translate(138.000000, 0.000000)"},h.a.createElement("path",{d:"M63.6748519,23 L62.2292481,23 C61.8176589,23 61.4619872,22.8510143 61.1631497,22.5539741 C60.8633954,22.2569338 60.71306,21.8993681 60.71306,21.4831393 C60.71306,21.0678417 60.8597287,20.710276 61.1539829,20.4132358 C61.4473204,20.1161955 61.800242,19.9672098 62.2118312,19.9672098 L63.6565183,19.9672098 C64.0681075,19.9672098 64.4182791,19.8219488 64.7061166,19.5304955 C64.993954,19.2390422 65.1378727,18.8917193 65.1378727,18.4866644 L65.1378727,15.4371134 C65.1378727,15.0208846 64.993954,14.6670436 64.7061166,14.3755903 C64.4182791,14.084137 64.0745243,13.938876 63.6748519,13.938876 C63.2632628,13.938876 62.9103411,14.0869305 62.6170036,14.3849019 C62.3227494,14.6819421 62.1760807,15.0329897 62.1760807,15.4371134 C62.1760807,15.7294978 62.3016658,16.0563352 62.5519193,16.4185567 L62.575753,16.4530096 C62.8269232,16.8143 62.9515917,17.1420685 62.9515917,17.4344529 C62.9515917,17.8506817 62.8049229,18.2073163 62.5115854,18.5043565 C62.2173313,18.8023279 61.8653263,18.9503824 61.4537371,18.9503824 C60.7836443,18.9503824 60.2198863,18.5164616 59.7615465,17.6486199 C59.373791,16.9232458 59.1794549,16.1857665 59.1794549,15.4371134 C59.1794549,14.188427 59.6176278,13.1213169 60.4930568,12.234852 C61.3684859,11.3493183 62.4226675,10.9060858 63.6565183,10.9060858 C64.8912858,10.9060858 65.9482175,11.3493183 66.8300633,12.234852 C67.7109925,13.1213169 68.1519154,14.188427 68.1519154,15.4371134 L68.1519154,18.4866644 C68.1519154,19.7353508 67.7137425,20.7996674 66.8383134,21.6796142 C65.9628844,22.559561 64.9087028,23 63.6748519,23 Z M80,15.9269039 C80,16.3068174 79.8689148,16.6317925 79.6076611,16.9027602 C79.3454907,17.173728 79.0319863,17.3096774 78.6653144,17.3096774 L76.8438719,17.3096774 L76.8438719,18.6589292 C76.8438719,19.0388427 76.7127867,19.3638178 76.4506164,19.6347855 C76.1893627,19.9057532 75.8749415,20.0417027 75.5082697,20.0417027 C75.1315143,20.0417027 74.8125098,19.9057532 74.5503394,19.6347855 C74.2890857,19.3638178 74.1580005,19.0388427 74.1580005,18.6589292 L74.1580005,13.1464583 C74.1580005,12.00858 74.5485061,11.0355171 75.3276838,10.2272697 C76.1077782,9.41995344 77.0473748,9.01582973 78.1473904,9.01582973 L78.6653144,9.01582973 C79.0319863,9.01582973 79.3454907,9.15177918 79.6076611,9.42274692 C79.8689148,9.69371467 80,10.0186897 80,10.3986033 C80,10.7775856 79.8689148,11.1034919 79.6076611,11.3744596 C79.3454907,11.6454273 79.0319863,11.7804456 78.6653144,11.7804456 L78.162974,11.7804456 C77.7963021,11.7804456 77.481881,11.9163951 77.2206273,12.1873628 C76.9584569,12.4583306 76.8282884,12.7777187 76.8282884,13.1464583 L76.8282884,14.5450615 L78.6653144,14.5450615 C79.0319863,14.5450615 79.3454907,14.681011 79.6076611,14.9519787 C79.8689148,15.2229465 80,15.5479215 80,15.9269039 Z M72.6344789,18.6589292 C72.6344789,19.0388427 72.5043104,19.3638178 72.24214,19.6347855 C71.9808863,19.9057532 71.6664652,20.0417027 71.2997933,20.0417027 C70.9340382,20.0417027 70.616867,19.9057532 70.3501132,19.6347855 C70.0833594,19.3638178 69.9495242,19.0388427 69.9495242,18.6589292 L69.9495242,14.170735 C69.9495242,13.7917526 70.0806094,13.4667775 70.3418631,13.1958098 C70.6040335,12.9239109 70.9175379,12.7888926 71.2842098,12.7888926 C71.6508817,12.7888926 71.9671361,12.9239109 72.2348066,13.1958098 C72.5015604,13.4667775 72.6344789,13.7917526 72.6344789,14.170735 L72.6344789,18.6589292 Z M58.3370263,12.5356169 C58.1023563,11.7441304 58.0042716,10.9163286 58.0042716,10.9163286 C57.9721878,10.6937812 58.1243566,10.547589 58.3425264,10.5904223 C58.3425264,10.5904223 58.5350291,10.6267376 58.8017829,10.6807449 C59.0767868,10.7375457 59.4324585,10.8139009 59.7404628,10.8921184 C60.3473048,11.0448287 60.95323,11.2720319 60.95323,11.2720319 C60.95323,11.2720319 60.2904706,11.6621882 59.7239626,12.3018956 C59.1565379,12.9406718 58.8650338,13.8420353 58.8650338,13.8420353 C58.8650338,13.8420353 58.5716963,13.3280346 58.3370263,12.5356169 Z M69.088762,12.5356169 C69.323432,11.7441304 69.4224334,10.9163286 69.4224334,10.9163286 C69.4536005,10.6937812 69.3014317,10.547589 69.0832619,10.5904223 C69.0832619,10.5904223 68.2921674,10.7384769 67.6853254,10.8921184 C67.0794002,11.0448287 66.4725583,11.2720319 66.4725583,11.2720319 C66.4725583,11.2720319 67.1353177,11.6621882 67.7027424,12.3018956 C68.2692504,12.9406718 68.5616712,13.8420353 68.5616712,13.8420353 C68.5616712,13.8420353 68.8550087,13.3280346 69.088762,12.5356169 Z M72.6344789,10.3818424 C72.6344789,10.7617559 72.5043104,11.086731 72.24214,11.3576987 C71.9808863,11.6286664 71.6664652,11.7646159 71.2997933,11.7646159 C70.9340382,11.7646159 70.616867,11.6286664 70.3501132,11.3576987 C70.0833594,11.086731 69.9495242,10.7617559 69.9495242,10.3818424 C69.9495242,10.00286 70.0806094,9.67788494 70.3418631,9.40691719 C70.6040335,9.13594945 70.9175379,9 71.2842098,9 C71.6508817,9 71.9671361,9.13594945 72.2348066,9.40691719 C72.5015604,9.67788494 72.6344789,10.00286 72.6344789,10.3818424 Z"}))))))))}}class xn extends h.a.PureComponent{render(){return h.a.createElement("div",{className:"emoji-picker__header modal-header"},h.a.createElement("button",{type:"button",className:"close emoji-picker__header-close-button",onClick:this.props.handleEmojiPickerClose},h.a.createElement("span",{"aria-hidden":"true"},"×"),h.a.createElement("span",{className:"sr-only"},h.a.createElement(q.a,{id:"emoji_picker.close",defaultMessage:"Close"}))),h.a.createElement("h4",{className:"modal-title emoji-picker__header-title"},h.a.createElement(q.a,{id:"emoji_picker.header",defaultMessage:"Emoji Picker"})))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(xn,"propTypes",{handleEmojiPickerClose:u.a.func.isRequired});a(1470);var Ln=a(1478),kn=a.n(Ln),Dn=a.p+"files/bb70781ccd4fbf5f99bf8a8060f82662.gif",Un=a(1639);function qn(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.flag",defaultMessage:"Flag Icon"})},h.a.createElement("path",{d:"M11.744 12.5L8 10.862L4.256 12.5V2.74405H11.744V12.5ZM11.744 1.25005H4.256C3.836 1.25005 3.476 1.40005 3.176 1.70005C2.888 1.98805 2.744 2.33605 2.744 2.74405V14.75L8 12.5L13.256 14.75V2.74405C13.256 2.33605 13.106 1.98805 12.806 1.70005C12.518 1.40005 12.164 1.25005 11.744 1.25005Z"})))}var Hn=a(1479);function Fn(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 18 18",version:"1.1",role:"img","aria-label":t({id:"generic_icons.pin",defaultMessage:"Pin Icon"})},h.a.createElement("path",{d:"M17.73 7.01999L16.83 6.11999L10.98 0.251987C10.812 0.0839874 10.602 -1.26362e-05 10.35 -1.26362e-05C10.098 -1.26362e-05 9.888 0.0899873 9.72 0.269987C9.54 0.449987 9.45 0.665987 9.45 0.917987C9.45 1.15799 9.54 1.36799 9.72 1.54799L9.99 1.79999L5.994 5.75999C4.422 5.57999 2.922 5.77799 1.494 6.35399C1.35 6.40199 1.224 6.48599 1.116 6.60599C1.02 6.72599 0.954 6.86399 0.918 7.01999C0.894 7.16399 0.9 7.30799 0.936 7.45199C0.984 7.59599 1.062 7.72199 1.17 7.82999L5.004 11.664L1.35 15.3L0.45 17.55L2.7 16.65L6.354 13.014L10.17 16.83C10.278 16.938 10.404 17.01 10.548 17.046C10.704 17.094 10.854 17.1 10.998 17.064C11.154 17.04 11.286 16.974 11.394 16.866C11.514 16.77 11.598 16.644 11.646 16.488C12.246 15.024 12.444 13.524 12.24 11.988L16.2 8.02799L16.452 8.29799C16.632 8.47799 16.848 8.56799 17.1 8.56799C17.352 8.56799 17.562 8.47799 17.73 8.29799C17.91 8.11799 18 7.90799 18 7.66799C18 7.41599 17.91 7.19999 17.73 7.01999ZM10.584 11.052C10.464 11.172 10.386 11.316 10.35 11.484C10.314 11.64 10.32 11.796 10.368 11.952C10.584 12.792 10.584 13.638 10.368 14.49L3.51 7.63199C4.362 7.41599 5.208 7.41599 6.048 7.63199C6.204 7.67999 6.36 7.68599 6.516 7.64999C6.684 7.60199 6.828 7.51799 6.948 7.39799L11.25 3.07799L14.904 6.73199L10.584 11.052Z"})))}var Bn=a(1427);let Gn;function Vn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(a),!0).forEach((function(t){zn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function zn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}!function(e){e.ChannelSearch="ChannelSearch",e.Mentions="Mentions",e.FlaggedPosts="FlaggedPosts",e.PinnedPosts="PinnedPosts"}(Gn||(Gn={}));const Yn={[Gn.ChannelSearch]:h.a.createElement(Bn.a,{className:"no-results__icon"}),[Gn.Mentions]:h.a.createElement(Hn.a,{className:"no-results__icon"}),[Gn.FlaggedPosts]:h.a.createElement(qn,{className:"no-results__icon"}),[Gn.PinnedPosts]:h.a.createElement(Fn,{className:"no-results__icon"})},Kn={[Gn.ChannelSearch]:{id:Object(J.b)("no_results.channel_search.title")},[Gn.Mentions]:{id:Object(J.b)("no_results.mentions.title")},[Gn.FlaggedPosts]:{id:Object(J.b)("no_results.flagged_posts.title")},[Gn.PinnedPosts]:{id:Object(J.b)("no_results.pinned_posts.title")}},Zn={[Gn.ChannelSearch]:{id:Object(J.b)("no_results.channel_search.subtitle")},[Gn.Mentions]:{id:Object(J.b)("no_results.mentions.subtitle")},[Gn.FlaggedPosts]:{id:Object(J.b)("no_results.flagged_posts.subtitle")},[Gn.PinnedPosts]:{id:Object(J.b)("no_results.pinned_posts.subtitle")}},Jn=e=>h.a.createElement("div",{className:"no-results__wrapper"},h.a.createElement("div",{className:"no-results__variant-wrapper"},Yn[e.variant]),h.a.createElement("div",{className:"no-results__title"},h.a.createElement(q.a,Wn(Wn({},Kn[e.variant]),{},{values:e.titleValues}))),h.a.createElement(q.a,Wn(Wn({},Zn[e.variant]),{},{values:e.subtitleValues})));Jn.propTypes={variant:u.a.any.isRequired,titleValues:u.a.any,subtitleValues:u.a.any};var Xn=Jn;function Qn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class $n extends h.a.Component{constructor(...e){super(...e),Qn(this,"handleClick",e=>{e.preventDefault(),this.props.onCategoryClick(this.props.category)})}shouldComponentUpdate(e){return e.selected!==this.props.selected||e.enable!==this.props.enable}render(){let e="emoji-picker__category";return this.props.selected&&(e+=" emoji-picker__category--selected"),this.props.enable||(e+=" disable"),h.a.createElement("a",{className:e,href:"#",onClick:this.handleClick,"aria-label":this.props.category},this.props.icon)}}Qn($n,"propTypes",{category:u.a.string.isRequired,icon:u.a.node.isRequired,onCategoryClick:u.a.func.isRequired,selected:u.a.bool.isRequired,enable:u.a.bool.isRequired});var es=a(1372),ts=a.n(es);function as(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ns extends h.a.Component{constructor(...e){super(...e),as(this,"emojiItemRef",e=>{this.emojiItem=e}),as(this,"emojiName",()=>{const{formatMessage:e}=this.props.intl;return e({id:"emoji_picker_item.emoji_aria_label",defaultMessage:"{emojiName} emoji"},{emojiName:this.props.emoji.aliases[0].replace(/_/g," ")})}),as(this,"handleMouseOver",()=>{this.props.isSelected||this.props.onItemOver(this.props.categoryIndex,this.props.emojiIndex)}),as(this,"handleMouseOverThrottle",ts()(this.handleMouseOver,150,{leading:!0,trailing:!0})),as(this,"handleClick",()=>{this.props.onItemClick(this.props.emoji)})}shouldComponentUpdate(e){return e.isSelected!==this.props.isSelected}componentDidUpdate(e){if(!e.isSelected&&this.props.isSelected){const e=this.emojiItem.offsetTop,t=e+this.emojiItem.offsetHeight,{containerRef:a,containerTop:n,containerBottom:s}=this.props;e<n?a.scrollTop=e-10:t>s&&(a.scrollTop=t-a.offsetHeight+10)}}render(){const{emoji:e}=this.props;let t="emoji-picker__item";this.props.isSelected&&(t+=" selected");let a,n="emojisprite";return n+=" emoji-category-"+e.category+"-"+e.batch,n+=" emoji-"+e.filename,a=e.category&&e.batch?h.a.createElement("img",{alt:"emoji image","data-testid":e.aliases,onMouseOver:this.handleMouseOverThrottle,src:Dn,className:n,onClick:this.handleClick,id:"emoji-"+e.filename,"aria-label":this.emojiName(),role:"button"}):h.a.createElement("img",{alt:"custom emoji image",onMouseOver:this.handleMouseOver,src:Object(Je.getEmojiImageUrl)(e),className:"emoji-category--custom",onClick:this.handleClick}),h.a.createElement("div",{className:t,ref:this.emojiItemRef},h.a.createElement("div",{"data-testid":"emojiItem"},a))}}as(ns,"propTypes",{emoji:u.a.object.isRequired,onItemOver:u.a.func.isRequired,onItemClick:u.a.func.isRequired,category:u.a.string.isRequired,isSelected:u.a.bool,categoryIndex:u.a.number.isRequired,emojiIndex:u.a.number.isRequired,containerRef:u.a.any,containerTop:u.a.number.isRequired,containerBottom:u.a.number.isRequired,intl:X.a.isRequired});var ss=Object(Z.c)(ns);function is(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class rs extends h.a.PureComponent{constructor(...e){super(...e),is(this,"divRef",e=>{this.div=e})}componentDidMount(){this.updateOffsetFrame=window.requestAnimationFrame(()=>{this.props.updateCategoryOffset(this.props.categoryName,this.div.offsetTop)})}componentWillUnmount(){this.updateOffsetFrame&&window.cancelAnimationFrame(this.updateOffsetFrame)}render(){return h.a.createElement("div",{ref:this.divRef},h.a.createElement("div",{className:"emoji-picker-items__container"},h.a.createElement("div",{className:"emoji-picker__category-header",id:"emojipickercat-".concat(this.props.categoryName)},h.a.createElement(q.a,{id:"emoji_picker."+this.props.categoryName}))),h.a.createElement("div",{className:"emoji-picker-items__container"},this.props.children))}}is(rs,"propTypes",{categoryName:u.a.string.isRequired,children:u.a.any,updateCategoryOffset:u.a.func.isRequired});class os extends h.a.PureComponent{render(){const e=this.props.emoji;if(e){let t,a,n;return e.aliases&&e.category&&e.batch?(t=e.aliases[0],a=e.aliases,n=h.a.createElement("span",{className:"sprite-preview"},h.a.createElement("img",{id:"emojiPickerSpritePreview",alt:"emoji category image",src:Dn,className:"emojisprite-preview emoji-category-"+e.category+"-"+e.batch+" emoji-"+e.filename}))):(t=e.name,a=[e.name],n=h.a.createElement("img",{id:"emojiPickerSpritePreview",alt:"emoji preview image",className:"emoji-picker__preview-image",src:Object(Je.getEmojiImageUrl)(e)})),h.a.createElement("div",{className:"emoji-picker__preview"},h.a.createElement("div",{className:"emoji-picker__preview-image-box"},n),h.a.createElement("div",{className:"emoji-picker__preview-image-label-box"},h.a.createElement("span",{className:"emoji-picker__preview-name"},t),h.a.createElement("span",{id:"emojiPickerAliasesPreview",className:"emoji-picker__preview-aliases"},":"+a.join(": :")+":")))}return h.a.createElement("div",{className:"emoji-picker__preview emoji-picker__preview-placeholder"},h.a.createElement(q.a,{id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}))}}function ls(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function cs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(a),!0).forEach((function(t){ds(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ls(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ds(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(os,"propTypes",{emoji:u.a.object});Object(J.b)("emoji_picker.searchResults");const ms={recent:{name:"recent",className:"fa fa-clock-o",id:Object(J.b)("emoji_picker.recent"),message:"Recently Used",offset:0}},us={people:{name:"people",className:"fa fa-smile-o",id:Object(J.b)("emoji_picker.people"),message:"People",offset:0}},ps=cs(cs({},us),{},{nature:{name:"nature",className:"fa fa-leaf",id:Object(J.b)("emoji_picker.nature"),message:"Nature",offset:0},foods:{name:"foods",className:"fa fa-cutlery",id:Object(J.b)("emoji_picker.foods"),message:"Foods",offset:0},activity:{name:"activity",className:"fa fa-futbol-o",id:Object(J.b)("emoji_picker.activity"),message:"Activity",offset:0},places:{name:"places",className:"fa fa-plane",id:Object(J.b)("emoji_picker.places"),message:"Places",offset:0},objects:{name:"objects",className:"fa fa-lightbulb-o",id:Object(J.b)("emoji_picker.objects"),message:"Objects",offset:0},symbols:{name:"symbols",className:"fa fa-heart-o",id:Object(J.b)("emoji_picker.symbols"),message:"Symbols",offset:0},flags:{name:"flags",className:"fa fa-flag-o",id:Object(J.b)("emoji_picker.flags"),message:"Flags",offset:0},custom:{name:"custom",className:"fa fa-at",id:Object(J.b)("emoji_picker.custom"),message:"Custom",offset:0}});function hs(e){return e.filename||e.id}class gs extends h.a.PureComponent{static getEmojis(e,t){const{categories:a,allEmojis:n}=t,s=e.emojiMap,i=s.customEmojis;for(const t of Object.keys(a)){let r=[];if("recent"===t&&e.recentEmojis.length){r=[...e.recentEmojis].reverse().filter(e=>s.has(e)).map(e=>s.get(e))}else{r=(E.b.get(t)||[]).map(e=>E.d[e]),"custom"===t&&(r=r.concat([...i.values()]))}a[t].emojiIds=r.map(e=>hs(e));for(let e=0;e<r.length;e++){const t=r[e],a=hs(t);n[a]=cs(cs({},t),{},{visible:!1,offset:null}),t.filename||(n[a]=cs(cs({},n[a]),{},{aliases:[t.name],category:"custom",filename:a}))}}return{categories:a,allEmojis:n}}static getDerivedStateFromProps(e,t){let a={emojiMap:e.emojiMap};if(JSON.stringify(Object.keys(t.categories))!==t.categoryKeys||e.emojiMap!==t.emojiMap){const{categories:n,allEmojis:s}=gs.getEmojis(e,t);a=cs(cs({},a),{},{categories:n,allEmojis:s,categoryKeys:JSON.stringify(Object.keys(n))})}return a}constructor(e){super(e),ds(this,"renderAllCategories",()=>{const e=this.props.recentEmojis.length?cs(cs({},ms),ps):ps;this.setState(t=>({categories:cs(cs({},e),t.categories),renderAllCategories:!0}))}),ds(this,"loadMoreCustomEmojis",async()=>{if(!this.props.customEmojisEnabled||this.loadingMoreEmojis)return;this.loadingMoreEmojis=!0;const{data:e}=await this.props.actions.getCustomEmojis(this.props.customEmojiPage,200);if(e){if(e.length<200)return this.missingPages=!1,void(this.loadingMoreEmojis=!1);await this.props.actions.incrementEmojiPickerPage(),this.loadingMoreEmojis=!1}else this.loadingMoreEmojis=!1}),ds(this,"lastVisibleEmojiRef",e=>{this.lastVisibleEmoji=e}),ds(this,"emojiPickerContainerRef",e=>{this.emojiPickerContainer=e}),ds(this,"emojiSearchInput",e=>{this.searchInput=e}),ds(this,"handleCategoryClick",e=>{this.setState({cursor:[Object.keys(this.state.categories).indexOf(e),0]}),this.updateEmojisToShow(this.state.categories[e].offset),this.emojiPickerContainer.scrollTop=this.state.categories[e].offset,this.searchInput.focus()}),ds(this,"handleFilterChange",e=>{e.preventDefault();const t=e.target.value.toLowerCase().replace(/^:|:$/g,"");this.props.customEmojisEnabled&&t&&""!==t.trim()&&this.props.actions.searchCustomEmojis(t),this.props.handleFilterChange(t),this.setState(()=>({cursor:[-1,-1]}))}),ds(this,"handleItemOver",(e,t)=>{this.setState({cursor:[e,t]})}),ds(this,"handleItemClick",e=>{this.props.onEmojiClick(e)}),ds(this,"handleCategoryKeyDown",e=>{switch(e.key){case"ArrowRight":e.preventDefault(),this.selectNextEmoji(),this.searchInput.focus();break;case"ArrowLeft":e.preventDefault(),this.selectPrevEmoji(),this.searchInput.focus();break;case"ArrowUp":e.preventDefault(),this.selectPrevEmoji(9),this.searchInput.focus();break;case"ArrowDown":e.preventDefault(),this.selectNextEmoji(9),this.searchInput.focus()}}),ds(this,"handleKeyDown",e=>{switch(e.key){case"ArrowRight":(-1!==this.state.cursor[0]||-1!==this.state.cursor[1]||e.target.selectionStart+1>this.props.filter.length)&&(e.preventDefault(),this.selectNextEmoji());break;case"ArrowLeft":this.state.cursor[0]>0||this.state.cursor[1]>0?(e.preventDefault(),this.selectPrevEmoji()):0===this.state.cursor[0]&&0===this.state.cursor[1]&&(this.setState({cursor:[-1,-1]}),e.target.selectionStart=this.props.filter.length,e.target.selectionEnd=this.props.filter.length,e.preventDefault(),this.searchInput.focus());break;case"ArrowUp":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:-1===this.state.cursor[0]?(e.target.selectionStart=0,e.target.selectionEnd=0):0===this.state.cursor[0]&&this.state.cursor[1]<9?(this.setState({cursor:[-1,-1]}),e.target.selectionStart=this.props.filter.length,e.target.selectionEnd=this.props.filter.length,this.searchInput.focus()):this.selectPrevEmoji(9);break;case"ArrowDown":e.preventDefault(),e.shiftKey?e.target.selectionEnd=this.props.filter.length:this.props.filter&&0===e.target.selectionStart?(e.target.selectionStart=this.props.filter.length,e.target.selectionEnd=this.props.filter.length):this.selectNextEmoji(9);break;case"Enter":e.preventDefault(),this.getCurrentEmojiByCursor(this.state.cursor)&&this.props.onEmojiClick(this.getCurrentEmojiByCursor(this.state.cursor))}}),ds(this,"handleScroll",()=>{this.emojiPickerContainer&&this.updateEmojisToShow(this.emojiPickerContainer.scrollTop)}),ds(this,"emojiCurrentResultsItems",(e,t,a)=>{const{cursor:n,emojisToShow:s}=this.state;let i=a;return t.map((t,a)=>{let r;return i++,i===s&&(r=this.lastVisibleEmojiRef),i>=s?h.a.createElement("div",{key:i,className:"emoji-picker__item",ref:r},h.a.createElement("img",{alt:"emoji image",src:Dn,className:"emojisprite"})):h.a.createElement(ss,{key:t.filename+":"+a,emoji:t,onItemOver:this.handleItemOver,onItemClick:this.handleItemClick,onItemUnmount:t,category:t.category,isSelected:n[0]===e&&n[1]===a,categoryIndex:e,emojiIndex:a,containerRef:this.emojiPickerContainer,containerTop:this.state.divTopOffset,containerBottom:this.state.divTopOffset+this.divHeight})})}),ds(this,"updateCategoryOffset",(e,t)=>{"searchResults"!==e&&this.setState(a=>({categories:cs(cs({},a.categories),{},{[e]:cs(cs({},a.categories[e]),{},{offset:t})})}))}),this.handleScrollThrottle=kn()(this.handleScroll,100,{leading:!1,trailing:!0}),this.divHeight=0,this.missingPages=!0,this.loadingMoreEmojis=!1;const t=e.recentEmojis.length?cs(cs({},ms),us):us;this.state={allEmojis:{},categories:t,cursor:[-1,-1],divTopOffset:0,emojisToShow:1476,renderAllCategories:!1}}componentDidMount(){0===this.props.customEmojiPage&&this.loadMoreCustomEmojis(),window.requestAnimationFrame(()=>{this.searchInput&&this.searchInput.focus(),this.renderAllCategoriesFrame=window.requestAnimationFrame(()=>{this.renderAllCategories()})}),this.emojiPickerContainer&&(this.divHeight=this.emojiPickerContainer.offsetHeight);const e=document.getElementById("root");e&&e.classList.add("emoji-picker--active")}updateEmojisToShow(e){if(e!==this.state.divTopOffset&&(this.setState({divTopOffset:e}),this.lastVisibleEmoji)){const t=this.lastVisibleEmoji.offsetTop-(e+290+75);if(t<=0){const e=135+Math.ceil(t/27*9*-1);this.setState(t=>({emojisToShow:t.emojisToShow+e}))}}}componentWillUnmount(){this.renderAllCategoriesFrame&&window.cancelAnimationFrame(this.renderAllCategoriesFrame);const e=document.getElementById("root");e&&e.classList.remove("emoji-picker--active")}componentDidUpdate(e){if(this.props.visible&&!e.visible&&this.searchInput.focus(),!this.missingPages||!this.emojiPickerContainer)return;this.emojiPickerContainer.scrollHeight-this.state.divTopOffset-this.emojiPickerContainer.clientHeight<=500&&this.loadMoreCustomEmojis()}selectNextEmoji(e=1){const{cursor:t}=this.state;let a=[t[0],t[1]+e];this.getCurrentEmojiByCursor(a)?this.setState({cursor:a}):(a=[t[0]+1,0],this.getCurrentEmojiByCursor(a)&&this.setState({cursor:a}))}selectPrevEmoji(e=1){const{cursor:t}=this.state;let a=[t[0],t[1]-e];if(this.getCurrentEmojiByCursor(a))this.setState({cursor:a});else if(0!==t[0]){const e=this.getCategoryByIndex(t[0]-1),n=this.state.categories[e.name].emojiIds.length-1;a=[t[0]-1,n],this.getCurrentEmojiByCursor(a)&&this.setState({cursor:a})}}getCategoryByIndex(e){return this.props.filter&&0!==e?null:this.getCategoriesByKey(Object.keys(this.state.categories)[e])}getCurrentEmojiByCursor(e){const t=this.getCategoryByIndex(e[0]);return t?this.getEmojisByCategory(t)[e[1]]:null}getCategoriesByKey(e){return this.props.filter?{id:"searchResults",name:"searchResults"}:this.state.categories[e]}sortEmojis(e){const{recentEmojis:t}=this.props,a=[],n=[];Object.values(e).forEach(e=>{let s=n;for(let n=0;n<e.aliases.length;n++)t.includes(e.aliases[n].toLowerCase())&&(s=a);s.push(e)});const s=(e,t)=>rt(e,t,this.props.filter);return a.sort(s),n.sort(s),[...a,...n]}getEmojisByCategory(e){if(this.props.filter){const e=Object.values(this.state.allEmojis).filter(e=>{for(let t=0;t<e.aliases.length;t++)if(e.aliases[t].toLowerCase().includes(this.props.filter))return!0;return!1});return this.sortEmojis(e)}return this.state.categories[e.name].emojiIds.map(e=>this.state.allEmojis[e])}getCurrentEmojiName(){const e=this.getCurrentEmojiByCursor(this.state.cursor);return e?e.aliases[0].replace(/_/g," "):""}getCurrentEmojiCategoryName(){const e=Object.keys(this.state.categories);let t=e[0];for(let a=e.length-1;a>=0;a--){const n=this.state.categories[e[a]];if(n.offset&&this.state.divTopOffset>n.offset-20){t=e[a];break}}return t}emojiCategories(){const e=this.props.recentEmojis.length?cs(cs({},ms),ps):ps,t=Object.keys(e),a=this.props.filter?t[0]:this.getCurrentEmojiCategoryName(),n=t.map(t=>{const n=e[t];return h.a.createElement($n,{key:"header-"+n.name,category:n.name,icon:h.a.createElement(q.a,{id:n.id,defaultMessage:n.message},e=>h.a.createElement("i",{className:n.className,title:e})),onCategoryClick:this.handleCategoryClick,selected:a===n.name,enable:!this.props.filter})});return h.a.createElement("div",{id:"emojiPickerCategories",className:"emoji-picker__categories",onKeyDown:this.handleCategoryKeyDown},n)}emojiSearch(){return h.a.createElement("div",{className:"emoji-picker__search-container"},h.a.createElement("span",{className:"fa fa-search emoji-picker__search-icon"}),h.a.createElement(q.a,{id:"emoji_picker.search_emoji",defaultMessage:"Search for an emoji"},e=>h.a.createElement(Na.a,{id:"emojiPickerSearch","aria-label":e,ref:this.emojiSearchInput,className:"emoji-picker__search","data-testid":"emojiInputSearch",type:"text",onChange:this.handleFilterChange,onKeyDown:this.handleKeyDown,autocomplete:"off",placeholder:{id:Object(J.b)("emoji_picker.search"),defaultMessage:"Search Emoji"},value:this.props.filter})))}emojiCurrentResults(){const{filter:e}=this.props,t=e?["searchResults"]:Object.keys(this.state.categories);let a=0,n=[];for(let e=0;e<t.length;e++){const s=this.getCategoriesByKey(t[e]),i=this.getEmojisByCategory(s),r=this.emojiCurrentResultsItems(e,i,a);if(a+=r.length,n=[...n,h.a.createElement(rs,{key:s.id,categoryName:s.name,updateCategoryOffset:this.updateCategoryOffset,role:"application"},r)],0===r.length)return h.a.createElement(Xn,{variant:Gn.ChannelSearch,titleValues:{channelName:'"'.concat(this.props.filter,'"')}})}return h.a.createElement("div",{ref:this.emojiPickerContainerRef,onScroll:this.handleScrollThrottle,className:"emoji-picker__items",style:{overflowY:this.state.renderAllCategories?"auto":"hidden"}},h.a.createElement("div",{className:"emoji-picker__container"},n))}render(){return h.a.createElement("div",{className:"emoji-picker__inner",role:"application"},h.a.createElement("div",{"aria-live":"assertive",className:"sr-only"},h.a.createElement(q.a,{id:"emoji_picker_item.emoji_aria_label",defaultMessage:"{emojiName} emoji",values:{emojiName:this.getCurrentEmojiName()}})),this.emojiSearch(),this.emojiCategories(),this.emojiCurrentResults(),h.a.createElement(os,{emoji:this.getCurrentEmojiByCursor(this.state.cursor)}))}}ds(gs,"propTypes",{listHeight:u.a.number,onEmojiClose:u.a.func.isRequired,onEmojiClick:u.a.func.isRequired,customEmojisEnabled:u.a.bool,emojiMap:u.a.object.isRequired,recentEmojis:u.a.array.isRequired,customEmojiPage:u.a.number.isRequired,visible:u.a.bool,actions:u.a.shape({getCustomEmojis:u.a.func.isRequired,searchCustomEmojis:u.a.func.isRequired,incrementEmojiPickerPage:u.a.func.isRequired}).isRequired,filter:u.a.string.isRequired,handleFilterChange:u.a.func.isRequired}),ds(gs,"defaultProps",{listHeight:245,customEmojiPage:0,customEmojisEnabled:!1});var bs=Object(s.connect)((function(e){return{customEmojisEnabled:"true"===e.entities.general.config.EnableCustomEmoji,customEmojiPage:e.views.emoji.emojiPickerCustomPage,emojiMap:Object(Xe.a)(e),recentEmojis:Object(Xe.b)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({getCustomEmojis:C.getCustomEmojis,searchCustomEmojis:C.searchCustomEmojis,incrementEmojiPickerPage:S.b},e)}}))(gs);function fs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Cs extends p.PureComponent{constructor(e){super(e),_s(this,"handleEnterEmojiTab",()=>{this.setState({emojiTabVisible:!0})}),_s(this,"handleExitEmojiTab",()=>{this.setState({emojiTabVisible:!1})}),_s(this,"handleEmojiPickerClose",()=>{this.props.onEmojiClose()}),_s(this,"handleFilterChange",e=>{this.setState({filter:e})}),this.state={emojiTabVisible:!0,filter:""}}render(){let e;!this.props.style||0===this.props.style.left&&0===this.props.style.top||(e="top"===this.props.placement||"bottom"===this.props.placement?{top:this.props.style.top,bottom:this.props.style.bottom,right:this.props.rightOffset}:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(a),!0).forEach((function(t){_s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fs(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.props.style),e.top&&(e.top+=this.props.topOffset));let t="emoji-picker";return"bottom"===this.props.placement&&(t+=" bottom"),this.props.enableGifPicker&&void 0!==this.props.onGifClick?h.a.createElement(ya.a,{defaultActiveKey:1,id:"emoji-picker-tabs",style:e,className:t,justified:!0},h.a.createElement(xn,{handleEmojiPickerClose:this.handleEmojiPickerClose}),h.a.createElement(Ea.a,{eventKey:1,onEnter:this.handleEnterEmojiTab,onExit:this.handleExitEmojiTab,title:h.a.createElement(An,null)},h.a.createElement(bs,{style:this.props.style,onEmojiClose:this.props.onEmojiClose,onEmojiClick:this.props.onEmojiClick,customEmojis:this.props.customEmojis,visible:this.state.emojiTabVisible,filter:this.state.filter,handleFilterChange:this.handleFilterChange})),h.a.createElement(Ea.a,{eventKey:2,title:h.a.createElement(jn,null),mountOnEnter:!0,unmountOnExit:!0},h.a.createElement(Rn,{onGifClick:this.props.onGifClick,defaultSearchText:this.state.filter,handleSearchTextChange:this.handleFilterChange}))):h.a.createElement("div",{id:"emojiPicker",style:e,className:"a11y__popup ".concat(t," emoji-picker--single")},h.a.createElement(xn,{handleEmojiPickerClose:this.handleEmojiPickerClose}),h.a.createElement(bs,{style:this.props.style,onEmojiClose:this.props.onEmojiClose,onEmojiClick:this.props.onEmojiClick,customEmojis:this.props.customEmojis,filter:this.state.filter,handleFilterChange:this.handleFilterChange}))}}function ys(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}_s(Cs,"propTypes",{style:u.a.object,rightOffset:u.a.number,topOffset:u.a.number,placement:u.a.oneOf(["top","bottom","left"]),customEmojis:u.a.object,onEmojiClose:u.a.func.isRequired,onEmojiClick:u.a.func.isRequired,onGifClick:u.a.func,enableGifPicker:u.a.bool}),_s(Cs,"defaultProps",{rightOffset:0,topOffset:0});class Es extends h.a.PureComponent{constructor(e){super(e),this.state={}}static emojiPickerPosition(e){const t=e.target();if(void 0!==e.rightOffset)return e.rightOffset;let a=fe.l.DEFAULT_EMOJI_PICKER_RIGHT_OFFSET;return t&&(a=window.innerWidth-t.getBoundingClientRect().left-fe.l.DEFAULT_EMOJI_PICKER_LEFT_OFFSET,a<fe.l.DEFAULT_EMOJI_PICKER_RIGHT_OFFSET&&(a=fe.l.DEFAULT_EMOJI_PICKER_RIGHT_OFFSET)),a}static getPlacement(e){const t=e.target();if(t){const a=t.getBoundingClientRect();return Object(Ca.a)(a,window.innerHeight,e.spaceRequiredAbove,e.spaceRequiredBelow)}return"top"}static getDerivedStateFromProps(e){return{placement:Es.getPlacement(e),rightOffset:Es.emojiPickerPosition(e)}}render(){return h.a.createElement(_a.a,{show:this.props.show,placement:this.state.placement,rootClose:!0,container:this.props.container,onHide:this.props.onHide,target:this.props.target,animation:!1},h.a.createElement(Cs,{enableGifPicker:this.props.enableGifPicker,onEmojiClose:this.props.onHide,onEmojiClick:this.props.onEmojiClick,onGifClick:this.props.onGifClick,rightOffset:this.state.rightOffset,topOffset:this.props.topOffset}))}}ys(Es,"CENTER_SPACE_REQUIRED_ABOVE",476),ys(Es,"CENTER_SPACE_REQUIRED_BELOW",497),ys(Es,"RHS_SPACE_REQUIRED_ABOVE",420),ys(Es,"RHS_SPACE_REQUIRED_BELOW",420),ys(Es,"propTypes",{show:u.a.bool.isRequired,container:u.a.func,target:u.a.func.isRequired,onEmojiClick:u.a.func.isRequired,onGifClick:u.a.func,onHide:u.a.func.isRequired,topOffset:u.a.number,rightOffset:u.a.number,spaceRequiredAbove:u.a.number,spaceRequiredBelow:u.a.number,enableGifPicker:u.a.bool}),ys(Es,"defaultProps",{spaceRequiredAbove:Es.CENTER_SPACE_REQUIRED_ABOVE,spaceRequiredBelow:Es.CENTER_SPACE_REQUIRED_BELOW,enableGifPicker:!1});var vs=a(1265);function ws(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Os extends h.a.PureComponent{constructor(...e){super(...e),ws(this,"togglePreview",e=>{var t,a;e.preventDefault(),null===(t=(a=this.props).updatePreview)||void 0===t||t.call(a,!this.props.showPreview)})}render(){const{isMarkdownPreviewEnabled:e}=this.props,t=this.props.message&&this.props.message.length>0;let a,n="";this.props.message&&this.props.message.length>this.props.characterLimit&&(n="hidden"),a=this.props.previewMessageLink?h.a.createElement("span",null,this.props.previewMessageLink):h.a.createElement(q.a,{id:"textbox.edit",defaultMessage:"Edit message"});let s=null;e&&(s=h.a.createElement("button",{id:"previewLink",onClick:this.togglePreview,className:"style--none textbox-preview-link color--link"},this.props.showPreview?a:h.a.createElement(q.a,{id:"textbox.preview",defaultMessage:"Preview"})));const i=h.a.createElement("div",{style:{visibility:t?"visible":"hidden",opacity:t?"0.45":"0"},className:"help__format-text"},h.a.createElement("b",null,h.a.createElement(q.a,{id:"textbox.bold",defaultMessage:"**bold**"})),h.a.createElement("i",null,h.a.createElement(q.a,{id:"textbox.italic",defaultMessage:"*italic*"})),h.a.createElement("span",null,"~~",h.a.createElement("s",null,h.a.createElement(q.a,{id:"textbox.strike",defaultMessage:"strike"})),"~~ "),h.a.createElement("span",null,h.a.createElement(q.a,{id:"textbox.inlinecode",defaultMessage:"`inline code`"})),h.a.createElement("span",null,h.a.createElement(q.a,{id:"textbox.preformatted",defaultMessage:"```preformatted```"})),h.a.createElement("span",null,h.a.createElement(q.a,{id:"textbox.quote",defaultMessage:">quote"})));return h.a.createElement("div",{className:"help__text "+n},i,s,h.a.createElement(vs.Link,{target:"_blank",rel:"noopener noreferrer",to:"/help/messaging",className:"textbox-help-link"},h.a.createElement(q.a,{id:"textbox.help",defaultMessage:"Help"})))}}ws(Os,"propTypes",{isMarkdownPreviewEnabled:u.a.bool.isRequired,message:u.a.string,updatePreview:u.a.func,previewMessageLink:u.a.string,characterLimit:u.a.number.isRequired,showPreview:u.a.bool}),ws(Os,"defaultProps",{message:""});const Ss=fe.Z.PRE_RELEASE_FEATURES;var Ts=Object(s.connect)(e=>({isMarkdownPreviewEnabled:Object(z.Y)(Ss.MARKDOWN_PREVIEW,e)}))(Os);function Ms(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ps=fe.l.KeyCodes;class Ns extends h.a.PureComponent{constructor(e){super(e),Ms(this,"setShowPreview",e=>{this.props.actions.setShowPreview(e)}),Ms(this,"getContainer",()=>this.editModalBody.current),Ms(this,"toggleEmojiPicker",()=>{this.setState({showEmojiPicker:!this.state.showEmojiPicker}),!this.state.showEmojiPicker&&this.editbox&&this.editbox.focus()}),Ms(this,"hideEmojiPicker",()=>{this.setState({showEmojiPicker:!1}),this.editbox&&this.editbox.focus()}),Ms(this,"handleEmojiClick",e=>{const t=e&&(e.name||e.aliases&&e.aliases[0]);if(t){if(""===this.state.editText)this.setState({editText:":"+t+": "});else{const{editText:e}=this.state,{firstPiece:a,lastPiece:n}=Object(ca.v)(this.state.caretPosition,e),s=""===a?":".concat(t,": ").concat(n):"".concat(a," :").concat(t,": ").concat(n),i=""===a?":".concat(t,": ").length:"".concat(a," :").concat(t,": ").length,r=this.editbox.getInputBox();this.setState({editText:s,caretPosition:i},()=>{z.xb(r,i)})}this.setState({showEmojiPicker:!1}),this.editbox&&this.editbox.focus()}}),Ms(this,"handleGifClick",e=>{if(""===this.state.editText)this.setState({editText:e});else{const t=/\s+$/.test(this.state.editText)?this.state.editText+e:this.state.editText+" "+e;this.setState({editText:t})}this.setState({showEmojiPicker:!1}),this.editbox.focus()}),Ms(this,"getTarget",()=>this.refs.editPostEmoji),Ms(this,"handlePostError",e=>{this.state.postError!==e&&this.setState({postError:e})}),Ms(this,"handleEdit",async()=>{if(this.isSaveDisabled())return;const{actions:e,editingPost:t}=this.props,a={message:this.state.editText,id:t.postId,channel_id:t.post.channel_id};if(this.state.postError)return this.setState({errorClass:"animation--highlight"}),void setTimeout(()=>{this.setState({errorClass:null})},fe.l.ANIMATION_TIMEOUT);if(a.message===(t.post.message_source||t.post.message))return void this.handleHide();const n=t.post.file_ids&&t.post.file_ids.length>0;if(0===a.message.trim().length&&!n){this.handleHide(!1);const e={ModalId:fe.y.DELETE_POST,dialogType:fa,dialogProps:{post:t.post,commentCount:t.commentCount,isRHS:t.isRHS}};return void this.props.actions.openModal(e)}e.addMessageIntoHistory(a.message);await e.editPost(a)&&window.scrollTo(0,0),this.handleHide()}),Ms(this,"handleChange",e=>{const t=e.target.value;this.setState({editText:t})}),Ms(this,"handlePaste",e=>{if(!e.clipboardData||!e.clipboardData.items||!this.props.canEditPost||"edit_textbox"!==e.target.id)return;const{clipboardData:t}=e,a=da(t);if(!a)return;e.preventDefault();const{editText:n}=this.state;let s=n,i=this.state.caretPosition;if(ma(a.className)){const{formattedMessage:e,formattedCodeBlock:a}=ha(this.state.caretPosition,s,t);i=this.state.caretPosition+a.length,s=e}else s=pa(a,n.trim(),i),i=s.length-(n.length-i);this.setState({editText:s,caretPosition:i},()=>{z.xb(this.editbox.getInputBox(),i)})}),Ms(this,"handleEditKeyPress",e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:a}=this.props,{allowSending:n,ignoreKeyPress:s}=Object(ca.s)(e,this.state.editText,t,a,Date.now(),this.lastChannelSwitchAt,this.state.caretPosition);if(s)return e.preventDefault(),void e.stopPropagation();n&&(e.preventDefault(),this.editbox.blur(),this.handleEdit())}),Ms(this,"handleMouseUpKeyUp",e=>{const t=z.s(e.target);this.setState({caretPosition:t})}),Ms(this,"handleSelect",e=>{z.b(this.editbox.getInputBox(),e)}),Ms(this,"handleKeyDown",e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:a}=this.props,n=e.ctrlKey||e.metaKey,s=n&&!e.altKey&&!e.shiftKey,i=(t||a)&&z.cb(e,Ps.ENTER)&&n,r=z.cb(e,Ps.B)||z.cb(e,Ps.I);z.ib(e)?(e.stopPropagation(),this.setState({editText:z.T(e)})):i?this.handleEdit():z.cb(e,Ps.ESCAPE)&&!this.state.showEmojiPicker?this.handleHide():s&&r&&this.applyHotkeyMarkdown(e)}),Ms(this,"applyHotkeyMarkdown",e=>{const t=z.c(e);this.setState({editText:t.message},()=>{const e=this.editbox.getInputBox();z.yb(e,t.selectionStart,t.selectionEnd)})}),Ms(this,"handleHide",(e=!0)=>{this.refocusId=e?this.props.editingPost.refocusId:null,this.props.actions.hideEditPostModal()}),Ms(this,"handleCheckForChangesHide",()=>{this.state.editText===this.props.editingPost.post.message&&this.handleHide()}),Ms(this,"handleEntered",()=>{this.editbox&&(this.editbox.focus(),this.editbox.recalculateSize())}),Ms(this,"handleHeightChange",(e,t)=>{this.editbox&&this.setState({renderScrollbar:e>t,scrollbarWidth:z.vb(this.editbox.getInputBox())})}),Ms(this,"handleExit",()=>{this.props.actions.setShowPreview(!1)}),Ms(this,"handleExited",()=>{const e=this.refocusId;e&&setTimeout(()=>{const t=document.getElementById(e);t&&t.focus()}),this.refocusId=null,this.setState({editText:"",postError:"",errorClass:null,showEmojiPicker:!1,prevShowState:!1}),this.props.actions.setShowPreview(!1)}),Ms(this,"setEditboxRef",e=>{this.editbox=e,this.editbox&&this.editbox.focus()}),Ms(this,"isSaveDisabled",()=>{const e=this.props.editingPost.post;return e&&e.file_ids&&e.file_ids.length>0||""!==this.state.editText.trim()?!this.props.canEditPost:!this.props.canDeletePost}),this.state={editText:"",caretPosition:"".length,postError:"",errorClass:null,showEmojiPicker:!1,renderScrollbar:!1,scrollbarWidth:0,prevShowState:e.editingPost.show},this.editModalBody=h.a.createRef()}static getDerivedStateFromProps(e,t){return e.editingPost.show&&!t.prevShowState?{editText:e.editingPost.post.message_source||e.editingPost.post.message,prevShowState:e.editingPost.show}:null}componentDidMount(){document.addEventListener("paste",this.handlePaste)}componentWillUnmount(){document.removeEventListener("paste",this.handlePaste)}render(){const{formatMessage:e}=this.props.intl,t="edit-post-footer"+(this.state.postError?" has-error":"");let a=null;if(this.state.postError){const e="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");a=h.a.createElement("label",{className:e},this.state.postError)}let n=null;const s=e({id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}).toLowerCase();return"true"!==this.props.config.EnableEmojiPicker||this.props.shouldShowPreview||(n=h.a.createElement("div",null,h.a.createElement(Es,{show:this.state.showEmojiPicker,container:this.getContainer,target:this.getTarget,onHide:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick,onGifClick:this.handleGifClick,enableGifPicker:"true"===this.props.config.EnableGifPicker,topOffset:0,rightOffset:10}),h.a.createElement("button",{"aria-label":s,id:"editPostEmoji",ref:"editPostEmoji",className:"style--none post-action",onClick:this.toggleEmojiPicker},h.a.createElement(An,{className:"icon icon--emoji"})))),h.a.createElement(ra.a,{id:"editPostModal",dialogClassName:"a11y__modal edit-modal",show:this.props.editingPost.show,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onHide:this.handleCheckForChangesHide,onEntered:this.handleEntered,onExit:this.handleExit,onExited:this.handleExited,keyboard:!1,role:"dialog","aria-labelledby":"editPostModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!0,onHide:this.handleHide},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"editPostModalLabel"},h.a.createElement(q.a,{id:"edit_post.edit",defaultMessage:"Edit {title}",values:{title:this.props.editingPost.title}}))),h.a.createElement(ra.a.Body,{bsClass:"modal-body edit-modal-body".concat(this.state.showEmojiPicker?" edit-modal-body--add-reaction":""),ref:this.editModalBody},h.a.createElement("div",{className:"post-create__container"},h.a.createElement("div",{className:la()("textarea-wrapper",{scroll:this.state.renderScrollbar}),style:this.state.renderScrollbar&&this.state.scrollbarWidth?{"--detected-scrollbar-width":"".concat(this.state.scrollbarWidth,"px")}:void 0},h.a.createElement(bt,{tabIndex:"0",onChange:this.handleChange,onKeyPress:this.handleEditKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onHeightChange:this.handleHeightChange,handlePostError:this.handlePostError,value:this.state.editText,channelId:this.props.editingPost.post&&this.props.editingPost.post.channel_id,emojiEnabled:"true"===this.props.config.EnableEmojiPicker,createMessage:z.ob("edit_post.editPost","Edit the post..."),supportsCommands:!1,suggestionListStyle:"bottom",id:"edit_textbox",ref:this.setEditboxRef,characterLimit:this.props.maxPostSize,preview:this.props.shouldShowPreview,useChannelMentions:this.props.useChannelMentions}),h.a.createElement("div",{className:"post-body__actions"},n)),h.a.createElement("div",{className:"post-create-footer"},h.a.createElement(Ts,{characterLimit:this.props.maxPostSize,showPreview:this.props.shouldShowPreview,ref:this.setTextboxLinksRef,updatePreview:this.setShowPreview,message:this.state.editText}),h.a.createElement("div",{className:t},a)))),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{type:"button",className:"btn btn-link",onClick:this.handleHide},h.a.createElement(q.a,{id:"edit_post.cancel",defaultMessage:"Cancel"})),h.a.createElement("button",{id:"editButton",type:"button",className:"btn btn-primary",disabled:this.isSaveDisabled(),onClick:this.handleEdit},h.a.createElement(q.a,{id:"edit_post.save",defaultMessage:"Save"}))))}}Ms(Ns,"propTypes",{canEditPost:u.a.bool,canDeletePost:u.a.bool,codeBlockOnCtrlEnter:u.a.bool,ctrlSend:u.a.bool,config:u.a.object.isRequired,intl:X.a.isRequired,maxPostSize:u.a.number.isRequired,shouldShowPreview:u.a.bool.isRequired,useChannelMentions:u.a.bool.isRequired,editingPost:u.a.shape({post:u.a.object,postId:u.a.string,refocusId:u.a.string,commentCount:u.a.number,show:u.a.bool.isRequired,title:u.a.string,isRHS:u.a.bool}).isRequired,actions:u.a.shape({addMessageIntoHistory:u.a.func.isRequired,editPost:u.a.func.isRequired,hideEditPostModal:u.a.func.isRequired,openModal:u.a.func.isRequired,setShowPreview:u.a.func.isRequired}).isRequired});var Is=Object(Z.c)(Ns);var Rs=Object(s.connect)((function(e){const t=Object(i.getConfig)(e),a=Object(ia.a)(e),n=Object(r.getCurrentUserId)(e),s=Object(B.getCurrentChannelId)(e),l=Object(o.getCurrentTeamId)(e);let c=!1,d=!1;a&&a.post&&a.post.user_id===n?(c=Object(A.haveIChannelPermission)(e,{channel:s,team:l,permission:W.Permissions.DELETE_POST}),d=Object(A.haveIChannelPermission)(e,{channel:s,team:l,permission:W.Permissions.EDIT_POST})):(c=Object(A.haveIChannelPermission)(e,{channel:s,team:l,permission:W.Permissions.DELETE_OTHERS_POSTS}),d=Object(A.haveIChannelPermission)(e,{channel:s,team:l,permission:W.Permissions.EDIT_OTHERS_POSTS}));const m=Object(A.haveIChannelPermission)(e,{channel:s,team:l,permission:W.Permissions.USE_CHANNEL_MENTIONS});return{canEditPost:d,canDeletePost:c,codeBlockOnCtrlEnter:Object(K.getBool)(e,W.Preferences.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:Object(K.getBool)(e,W.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),config:t,editingPost:a,channelId:s,shouldShowPreview:ea(e),maxPostSize:parseInt(t.MaxPostSize,10)||fe.Z.DEFAULT_CHARACTER_LIMIT,useChannelMentions:m}}),(function(e){return{actions:Object(n.bindActionCreators)({addMessageIntoHistory:be.addMessageIntoHistory,editPost:na,hideEditPostModal:ta.g,openModal:_t.b,setShowPreview:Jt},e)}}))(Is),As=a(2077),js=a(1569),xs=a(1371),Ls=a.n(xs),ks=a(1542);function Ds(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Us(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const qs=fe.Z.ActionTypes;class Hs extends Ls.a{constructor(){super(),Us(this,"addModalListener",(e,t)=>{this.on(e,t)}),Us(this,"removeModalListener",(e,t)=>{this.removeListener(e,t)}),Us(this,"handleEventPayload",e=>{const t=e.action,{type:a,value:n}=t,s=Ds(t,["type","value"]);switch(a){case qs.TOGGLE_SHORTCUTS_MODAL:case qs.TOGGLE_IMPORT_THEME_MODAL:case qs.TOGGLE_DELETE_POST_MODAL:case qs.TOGGLE_GET_TEAM_INVITE_LINK_MODAL:case qs.TOGGLE_GET_PUBLIC_LINK_MODAL:case qs.TOGGLE_QUICK_SWITCH_MODAL:case qs.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL:case qs.TOGGLE_CHANNEL_NAME_UPDATE_MODAL:case qs.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL:this.emit(a,n,s)}}),this.dispatchToken=ks.a.register(this.handleEventPayload)}}var Fs=new Hs,Bs=a(1428);function Gs(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Vs extends h.a.PureComponent{constructor(e){super(e),Gs(this,"textAreaRef",h.a.createRef()),Gs(this,"onHide",()=>{this.setState({copiedLink:!1}),this.props.onHide()}),Gs(this,"copyLink",()=>{const e=this.textAreaRef.current;if(e){e.focus(),e.setSelectionRange(0,this.props.link.length);try{this.setState({copiedLink:document.execCommand("copy")})}catch(e){this.setState({copiedLink:!1})}}}),this.state={copiedLink:!1}}render(){let e=null;this.props.helpText&&(e=h.a.createElement("p",null,this.props.helpText,h.a.createElement("br",null),h.a.createElement("br",null)));let t=null;document.queryCommandSupported("copy")&&(t=h.a.createElement("button",{id:"linkModalCopyLink","data-copy-btn":"true",type:"button",className:"btn btn-primary pull-left",onClick:this.copyLink},h.a.createElement(q.a,{id:"get_link.copy",defaultMessage:"Copy Link"})));const a=h.a.createElement("textarea",{id:"linkModalTextArea",className:"form-control no-resize min-height",ref:this.textAreaRef,value:this.props.link,onClick:this.copyLink,readOnly:!0});let n=null;return this.state.copiedLink&&(n=h.a.createElement("p",{className:"alert alert-success alert--confirm"},h.a.createElement(Bs.a,null),h.a.createElement(q.a,{id:"get_link.clipboard",defaultMessage:" Link copied"}))),h.a.createElement(ra.a,{dialogClassName:"a11y__modal",show:this.props.show,onHide:this.onHide,role:"dialog","aria-labelledby":"getLinkModalLabel"},h.a.createElement(ra.a.Header,{id:"getLinkModalLabel",closeButton:!0},h.a.createElement("h4",{className:"modal-title"},this.props.title)),h.a.createElement(ra.a.Body,null,e,a),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{id:"linkModalCloseButton",type:"button",className:"btn btn-link",onClick:this.onHide},h.a.createElement(q.a,{id:"get_link.close",defaultMessage:"Close"})),t,n))}}function Ws(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Gs(Vs,"propTypes",{show:u.a.bool.isRequired,onHide:u.a.func.isRequired,title:u.a.string.isRequired,helpText:u.a.string,link:u.a.string.isRequired}),Gs(Vs,"defaultProps",{helpText:null});class zs extends h.a.PureComponent{constructor(e){super(e),Ws(this,"handleToggle",(e,t)=>{this.setState({show:e,fileId:t.fileId})}),Ws(this,"onHide",()=>{this.setState({show:!1})}),this.state={show:!1,fileId:""}}componentWillUnmount(){Fs.removeModalListener(fe.Z.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL,this.handleToggle)}componentDidMount(){Fs.addModalListener(fe.Z.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL,this.handleToggle)}componentDidUpdate(e,t){this.state.show&&!t.show&&this.props.actions.getFilePublicLink(this.state.fileId)}render(){return h.a.createElement(Vs,{show:this.state.show,onHide:this.onHide,title:z.ob("get_public_link_modal.title","Copy Public Link"),helpText:z.ob("get_public_link_modal.help","The link below allows anyone to see this file without being registered on this server."),link:this.props.link})}}Ws(zs,"propTypes",{link:u.a.string,actions:u.a.shape({getFilePublicLink:u.a.func.isRequired}).isRequired}),Ws(zs,"defaultProps",{link:""});var Ys=Object(s.connect)((function(e){return{link:js.getFilePublicLink(e).link}}),(function(e){return{actions:Object(n.bindActionCreators)({getFilePublicLink:As.getFilePublicLink},e)}}))(zs),Ks=a(1288);function Zs(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Js extends h.a.PureComponent{constructor(e){super(e),Zs(this,"handleKeyPress",e=>{"Enter"===e.key&&this.state.show&&this.handleSubmit()}),Zs(this,"handleSubmit",()=>{const{actions:e}=this.props,{channel:t}=this.state;if(t){const a=t.id;e.leaveChannel(a).then(e=>{e.data&&this.handleHide()})}}),Zs(this,"handleToggle",e=>{this.setState({channel:e,show:null!==e})}),Zs(this,"handleHide",()=>{this.setState({show:!1})}),this.state={show:!1}}componentDidMount(){Fs.addModalListener(fe.Z.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,this.handleToggle)}componentWillUnmount(){Fs.removeModalListener(fe.Z.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,this.handleToggle)}render(){let e,t;this.state.channel&&this.state.channel.display_name&&(e=h.a.createElement(q.a,{id:"leave_private_channel_modal.title",defaultMessage:"Leave Private Channel {channel}",values:{channel:h.a.createElement("b",null,this.state.channel.display_name)}}),t=h.a.createElement(q.a,{id:"leave_private_channel_modal.message",defaultMessage:"Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.",values:{channel:h.a.createElement("b",null,this.state.channel.display_name)}}));const a=h.a.createElement(q.a,{id:"leave_private_channel_modal.leave",defaultMessage:"Yes, leave channel"});return h.a.createElement(Ks.a,{show:this.state.show,title:e,message:t,confirmButtonClass:"btn btn-danger",confirmButtonText:a,onConfirm:this.handleSubmit,onCancel:this.handleHide})}}Zs(Js,"propTypes",{actions:u.a.shape({leaveChannel:u.a.func.isRequired}).isRequired});var Xs=Object(s.connect)(null,(function(e){return{actions:Object(n.bindActionCreators)({leaveChannel:k.e},e)}}))(Js),Qs=a(85),$s=a(190);function ei(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ti(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(a),!0).forEach((function(t){ai(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ei(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ai(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ni extends h.a.PureComponent{constructor(e){super(e),ai(this,"hideModal",()=>{this.setState({show:!1})}),ai(this,"onConfirm",e=>{this.hideModal();const t=ti({},this.state.currentUserStatus);if(t.status=this.state.newStatus,this.props.actions.setStatus(t),e){const e={category:W.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS,user_id:t.user_id,name:t.user_id,value:"true"};this.props.actions.savePreferences(e.user_id,[e])}}),ai(this,"onCancel",e=>{if(this.hideModal(),e){const e=ti({},this.state.currentUserStatus),t={category:W.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS,user_id:e.user_id,name:e.user_id,value:"false"};this.props.actions.savePreferences(t.user_id,[t])}}),ai(this,"renderModalMessage",()=>this.props.currentUserStatus===fe.U.OUT_OF_OFFICE?h.a.createElement(q.a,{id:"modal.manual_status.auto_responder.message_".concat(this.state.newStatus),defaultMessage:'Would you like to switch your status to "{status}" and disable Automatic Replies?',values:{status:Object(z.Ab)(this.state.newStatus)}}):h.a.createElement(q.a,{id:"modal.manual_status.message_".concat(this.state.newStatus),defaultMessage:'Would you like to switch your status to "{status}"?',values:{status:Object(z.Ab)(this.state.newStatus)}})),this.state={show:!1,currentUserStatus:{},newStatus:e.newStatus||"online"}}componentDidMount(){this.props.actions.autoResetStatus().then(e=>{const t=e.manual,a=""===this.props.autoResetPref;this.setState({currentUserStatus:e,show:Boolean(e.status===fe.U.OUT_OF_OFFICE||t&&a)})})}render(){const e=this.state.currentUserStatus.status||"",t="modal.manual_status.title_"+e,a=h.a.createElement(q.a,{id:t,defaultMessage:'Your Status is Set to "{status}"',values:{status:Object(z.Ab)(e)}}),n=this.renderModalMessage(),s=h.a.createElement(q.a,{id:"modal.manual_status.button_".concat(this.state.newStatus),defaultMessage:'Yes, set my status to "{status}"',values:{status:Object(z.Ab)(this.state.newStatus)}}),i="modal.manual_status.cancel_"+e,r=h.a.createElement(q.a,{id:i,defaultMessage:'No, keep it as "{status}"',values:{status:Object(z.Ab)(e)}}),o=h.a.createElement(q.a,{id:"modal.manual_status.ask",defaultMessage:"Do not ask me again"}),l=this.props.currentUserStatus!==fe.U.OUT_OF_OFFICE;return h.a.createElement(Ks.a,{show:this.state.show,title:a,message:n,confirmButtonText:s,onConfirm:this.onConfirm,cancelButtonText:r,onCancel:this.onCancel,onExited:this.props.onHide,showCheckbox:l,checkboxText:o})}}ai(ni,"propTypes",{autoResetPref:u.a.string,currentUserStatus:u.a.string,newStatus:u.a.string,onHide:u.a.func,actions:u.a.shape({autoResetStatus:u.a.func.isRequired,setStatus:u.a.func.isRequired,savePreferences:u.a.func.isRequired}).isRequired}),Object(J.b)("modal.manual_status.auto_responder.message_"),Object(J.b)("modal.manual_status.auto_responder.message_away"),Object(J.b)("modal.manual_status.auto_responder.message_dnd"),Object(J.b)("modal.manual_status.auto_responder.message_offline"),Object(J.b)("modal.manual_status.auto_responder.message_online"),Object(J.b)("modal.manual_status.button_"),Object(J.b)("modal.manual_status.button_away"),Object(J.b)("modal.manual_status.button_dnd"),Object(J.b)("modal.manual_status.button_offline"),Object(J.b)("modal.manual_status.button_online"),Object(J.b)("modal.manual_status.cancel_"),Object(J.b)("modal.manual_status.cancel_away"),Object(J.b)("modal.manual_status.cancel_dnd"),Object(J.b)("modal.manual_status.cancel_offline"),Object(J.b)("modal.manual_status.cancel_ooo"),Object(J.b)("modal.manual_status.message_"),Object(J.b)("modal.manual_status.message_away"),Object(J.b)("modal.manual_status.message_dnd"),Object(J.b)("modal.manual_status.message_offline"),Object(J.b)("modal.manual_status.message_online"),Object(J.b)("modal.manual_status.title_"),Object(J.b)("modal.manual_status.title_away"),Object(J.b)("modal.manual_status.title_dnd"),Object(J.b)("modal.manual_status.title_offline"),Object(J.b)("modal.manual_status.title_ooo");var si=Object(s.connect)((function(e){const{currentUserId:t}=e.entities.users;return{autoResetPref:Object(K.get)(e,W.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS,t,""),currentUserStatus:Object(r.getStatusForUserId)(e,t)}}),(function(e){return{actions:Object(n.bindActionCreators)({autoResetStatus:$s.a,setStatus:Y.setStatus,savePreferences:Qs.savePreferences},e)}}))(ni),ii=a(655);function ri(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const oi=Object(ii.d)({mainHeader:{default:{id:Object(J.b)("shortcuts.header"),defaultMessage:"Keyboard Shortcuts\tCtrl|/"},mac:{id:Object(J.b)("shortcuts.header.mac"),defaultMessage:"Keyboard Shortcuts\t⌘|/"}},navHeader:{id:Object(J.b)("shortcuts.nav.header"),defaultMessage:"Navigation"},navPrev:{default:{id:Object(J.b)("shortcuts.nav.prev"),defaultMessage:"Previous channel:\tAlt|Up"},mac:{id:Object(J.b)("shortcuts.nav.prev.mac"),defaultMessage:"Previous channel:\t⌥|Up"}},navNext:{default:{id:Object(J.b)("shortcuts.nav.next"),defaultMessage:"Next channel:\tAlt|Down"},mac:{id:Object(J.b)("shortcuts.nav.next.mac"),defaultMessage:"Next channel:\t⌥|Down"}},navUnreadPrev:{default:{id:Object(J.b)("shortcuts.nav.unread_prev"),defaultMessage:"Previous unread channel:\tAlt|Shift|Up"},mac:{id:Object(J.b)("shortcuts.nav.unread_prev.mac"),defaultMessage:"Previous unread channel:\t⌥|Shift|Up"}},navUnreadNext:{default:{id:Object(J.b)("shortcuts.nav.unread_next"),defaultMessage:"Next unread channel:\tAlt|Shift|Down"},mac:{id:Object(J.b)("shortcuts.nav.unread_next.mac"),defaultMessage:"Next unread channel:\t⌥|Shift|Down"}},teamNavPrev:{default:{id:Object(J.b)("shortcuts.team_nav.prev"),defaultMessage:"Previous team:\tCtrl|Alt|Up"},mac:{id:Object(J.b)("shortcuts.team_nav.prev.mac"),defaultMessage:"Previous team:\t⌘|⌥|Up"}},teamNavNext:{default:{id:Object(J.b)("shortcuts.team_nav.next"),defaultMessage:"Next team:\tCtrl|Alt|Down"},mac:{id:Object(J.b)("shortcuts.team_nav.next.mac"),defaultMessage:"Next team:\t⌘|⌥|Down"}},teamNavSwitcher:{default:{id:Object(J.b)("shortcuts.team_nav.switcher"),defaultMessage:"Switch to a specific team:\tCtrl|Alt|[1-9]"},mac:{id:Object(J.b)("shortcuts.team_nav.switcher.mac"),defaultMessage:"Switch to a specific team:\t⌘|⌥|[1-9]"}},navSwitcher:{default:{id:Object(J.b)("shortcuts.nav.switcher"),defaultMessage:"Quick channel switcher:\tCtrl|K"},mac:{id:Object(J.b)("shortcuts.nav.switcher.mac"),defaultMessage:"Quick channel switcher:\t⌘|K"}},navDMMenu:{default:{id:Object(J.b)("shortcuts.nav.direct_messages_menu"),defaultMessage:"Direct messages menu:\tCtrl|Shift|K"},mac:{id:Object(J.b)("shortcuts.nav.direct_messages_menu.mac"),defaultMessage:"Direct messages menu:\t⌘|Shift|K"}},navSettings:{default:{id:Object(J.b)("shortcuts.nav.settings"),defaultMessage:"Account settings:\tCtrl|Shift|A"},mac:{id:Object(J.b)("shortcuts.nav.settings.mac"),defaultMessage:"Account settings:\t⌘|Shift|A"}},navMentions:{default:{id:Object(J.b)("shortcuts.nav.recent_mentions"),defaultMessage:"Recent mentions:\tCtrl|Shift|M"},mac:{id:Object(J.b)("shortcuts.nav.recent_mentions.mac"),defaultMessage:"Recent mentions:\t⌘|Shift|M"}},navFocusCenter:{default:{id:Object(J.b)("shortcuts.nav.focus_center"),defaultMessage:"Set focus to input field:\tCtrl|Shift|L"},mac:{id:Object(J.b)("shortcuts.nav.focus_center.mac"),defaultMessage:"Set focus to input field:\t⌘|Shift|L"}},navOpenCloseSidebar:{default:{id:Object(J.b)("shortcuts.nav.open_close_sidebar"),defaultMessage:"Open or close the right sidebar\tCtrl|."},mac:{id:Object(J.b)("shortcuts.nav.open_close_sidebar.mac"),defaultMessage:"Open or close the right sidebar\t⌘|."}},msgHeader:{id:Object(J.b)("shortcuts.msgs.header"),defaultMessage:"Messages"},msgInputHeader:{id:Object(J.b)("shortcuts.msgs.input.header"),defaultMessage:"Works inside an empty input field"},msgEdit:{id:Object(J.b)("shortcuts.msgs.edit"),defaultMessage:"Edit last message in channel:\tUp"},msgReply:{id:Object(J.b)("shortcuts.msgs.reply"),defaultMessage:"Reply to last message in channel:\tShift|Up"},msgReprintPrev:{default:{id:Object(J.b)("shortcuts.msgs.reprint_prev"),defaultMessage:"Reprint previous message:\tCtrl|Up"},mac:{id:Object(J.b)("shortcuts.msgs.reprint_prev.mac"),defaultMessage:"Reprint previous message:\t⌘|Up"}},msgReprintNext:{default:{id:Object(J.b)("shortcuts.msgs.reprint_next"),defaultMessage:"Reprint next message:\tCtrl|Down"},mac:{id:Object(J.b)("shortcuts.msgs.reprint_next.mac"),defaultMessage:"Reprint next message:\t⌘|Down"}},msgCompHeader:{id:Object(J.b)("shortcuts.msgs.comp.header"),defaultMessage:"Autocomplete"},msgCompUsername:{id:Object(J.b)("shortcuts.msgs.comp.username"),defaultMessage:"Username:\t@|[a-z]|Tab"},msgCompChannel:{id:Object(J.b)("shortcuts.msgs.comp.channel"),defaultMessage:"Channel:\t~|[a-z]|Tab"},msgCompEmoji:{id:Object(J.b)("shortcuts.msgs.comp.emoji"),defaultMessage:"Emoji:\t:|[a-z]|Tab"},msgLastReaction:{default:{id:Object(J.b)("shortcuts.msgs.comp.last_reaction"),defaultMessage:"React to last message:\tCtrl|Shift|⧵"},mac:{id:Object(J.b)("shortcuts.msgs.comp.last_reaction.mac"),defaultMessage:"React to last message:\t⌘|Shift|⧵"}},filesHeader:{id:Object(J.b)("shortcuts.files.header"),defaultMessage:"Files"},filesUpload:{default:{id:Object(J.b)("shortcuts.files.upload"),defaultMessage:"Upload files:\tCtrl|U"},mac:{id:Object(J.b)("shortcuts.files.upload.mac"),defaultMessage:"Upload files:\t⌘|U"}},browserHeader:{id:Object(J.b)("shortcuts.browser.header"),defaultMessage:"Built-in Browser Commands"},browserChannelPrev:{default:{id:Object(J.b)("shortcuts.browser.channel_prev"),defaultMessage:"Back in history:\tAlt|Left"},mac:{id:Object(J.b)("shortcuts.browser.channel_prev.mac"),defaultMessage:"Back in history:\t⌘|["}},browserChannelNext:{default:{id:Object(J.b)("shortcuts.browser.channel_next"),defaultMessage:"Forward in history:\tAlt|Right"},mac:{id:Object(J.b)("shortcuts.browser.channel_next.mac"),defaultMessage:"Forward in history:\t⌘|]"}},browserFontIncrease:{default:{id:Object(J.b)("shortcuts.browser.font_increase"),defaultMessage:"Zoom in:\tCtrl|+"},mac:{id:Object(J.b)("shortcuts.browser.font_increase.mac"),defaultMessage:"Zoom in:\t⌘|+"}},browserFontDecrease:{default:{id:Object(J.b)("shortcuts.browser.font_decrease"),defaultMessage:"Zoom out:\tCtrl|-"},mac:{id:Object(J.b)("shortcuts.browser.font_decrease.mac"),defaultMessage:"Zoom out:\t⌘|-"}},browserInputHeader:{id:Object(J.b)("shortcuts.browser.input.header"),defaultMessage:"Works inside an input field"},browserHighlightPrev:{id:Object(J.b)("shortcuts.browser.highlight_prev"),defaultMessage:"Highlight text to the previous line:\tShift|Up"},browserHighlightNext:{id:Object(J.b)("shortcuts.browser.highlight_next"),defaultMessage:"Highlight text to the next line:\tShift|Down"},browserNewline:{id:Object(J.b)("shortcuts.browser.newline"),defaultMessage:"Create a new line:\tShift|Enter"},info:{id:Object(J.b)("shortcuts.info"),defaultMessage:"Begin a message with / for a list of all the commands at your disposal."}});class li extends h.a.PureComponent{constructor(e){super(e),ri(this,"handleToggle",()=>{this.setState({show:!this.state.show})}),ri(this,"handleHide",()=>{this.setState({show:!1})}),this.state={show:!1}}componentDidMount(){Fs.addModalListener(fe.Z.ActionTypes.TOGGLE_SHORTCUTS_MODAL,this.handleToggle)}componentWillUnmount(){Fs.removeModalListener(fe.Z.ActionTypes.TOGGLE_SHORTCUTS_MODAL,this.handleToggle)}getShortcuts(){const{isMac:e}=this.props,t={};return Object.keys(oi).forEach(a=>{e&&oi[a].mac?t[a]=oi[a].mac:!e&&oi[a].default?t[a]=oi[a].default:t[a]=oi[a]}),t}render(){const e=this.getShortcuts(),{formatMessage:t}=this.props.intl,a=z.db();return h.a.createElement(ra.a,{dialogClassName:"a11y__modal shortcuts-modal",show:this.state.show,onHide:this.handleHide,onExited:this.handleHide,role:"dialog","aria-labelledby":"shortcutsModalLabel"},h.a.createElement("div",{className:"shortcuts-content"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"shortcutsModalLabel"},h.a.createElement("strong",null,ci(t(e.mainHeader))))),h.a.createElement(ra.a.Body,null,h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-sm-4"},h.a.createElement("div",{className:"section"},h.a.createElement("div",null,h.a.createElement("h4",{className:"section-title"},h.a.createElement("strong",null,t(e.navHeader))),ci(t(e.navPrev)),ci(t(e.navNext)),ci(t(e.navUnreadPrev)),ci(t(e.navUnreadNext)),!a&&ci(t(e.teamNavPrev)),!a&&ci(t(e.teamNavNext)),ci(t(e.teamNavSwitcher)),ci(t(e.navSwitcher)),ci(t(e.navDMMenu)),ci(t(e.navSettings)),ci(t(e.navMentions)),ci(t(e.navFocusCenter)),ci(t(e.navOpenCloseSidebar))))),h.a.createElement("div",{className:"col-sm-4"},h.a.createElement("div",{className:"section"},h.a.createElement("div",null,h.a.createElement("h4",{className:"section-title"},h.a.createElement("strong",null,t(e.msgHeader))),h.a.createElement("span",null,h.a.createElement("strong",null,t(e.msgInputHeader))),h.a.createElement("div",{className:"subsection"},ci(t(e.msgEdit)),ci(t(e.msgReply)),ci(t(e.msgLastReaction)),ci(t(e.msgReprintPrev)),ci(t(e.msgReprintNext))),h.a.createElement("span",null,h.a.createElement("strong",null,t(e.msgCompHeader))),h.a.createElement("div",{className:"subsection"},ci(t(e.msgCompUsername)),ci(t(e.msgCompChannel)),ci(t(e.msgCompEmoji)))))),h.a.createElement("div",{className:"col-sm-4"},h.a.createElement("div",{className:"section"},h.a.createElement("div",null,h.a.createElement("h4",{className:"section-title"},h.a.createElement("strong",null,t(e.filesHeader))),ci(t(e.filesUpload))),h.a.createElement("div",{className:"section--lower"},h.a.createElement("h4",{className:"section-title"},h.a.createElement("strong",null,t(e.browserHeader))),ci(t(e.browserChannelPrev)),ci(t(e.browserChannelNext)),ci(t(e.browserFontIncrease)),ci(t(e.browserFontDecrease)),h.a.createElement("span",null,h.a.createElement("strong",null,t(e.browserInputHeader))),h.a.createElement("div",{className:"subsection"},ci(t(e.browserHighlightPrev)),ci(t(e.browserHighlightNext)),ci(t(e.browserNewline))))))),h.a.createElement("div",{className:"info__label"},t(e.info)))))}}function ci(e){if(!e)return null;const t=e.split("\t"),a=h.a.createElement("span",null,t[0]);let n=null;return t.length>1&&(n=t[1].split("|").map(e=>h.a.createElement("span",{className:"shortcut-key",key:e},e))),h.a.createElement("div",{className:"shortcut-line"},a,n)}ri(li,"propTypes",{intl:X.a.isRequired,isMac:u.a.bool.isRequired});var di=Object(Z.c)(li),mi=a(189),ui=a(42),pi=a.p+"files/55d77b94009ea98824ee008af39dedb2.png",hi=a.p+"files/7a26b407c4ec2bbbaecd3f0f314de7bd.png";const gi=e=>{let t="file-overlay hidden";return"right"===e.overlayType?t+=" right-file-overlay":"center"===e.overlayType&&(t+=" center-file-overlay"),h.a.createElement("div",{className:t},h.a.createElement("div",{className:"overlay__indent"},h.a.createElement("div",{className:"overlay__circle"},h.a.createElement("img",{className:"overlay__files",src:pi,alt:"Files"}),h.a.createElement("span",null,h.a.createElement(q.a,{id:"generic_icons.upload",defaultMessage:"Upload Icon"},e=>h.a.createElement("i",{className:"fa fa-upload",title:e})),h.a.createElement(q.a,{id:"upload_overlay.info",defaultMessage:"Drop a file to upload it."})),h.a.createElement("img",{className:"overlay__logo",src:hi,width:"100",alt:"Logo"}))))};gi.propTypes={overlayType:u.a.string.isRequired};var bi=gi,fi=a(1504),_i=(a(99),a(1286)),Ci=a.n(_i),yi=a(1376),Ei=a.n(yi);function vi(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class wi{constructor(e){vi(this,"action",void 0),vi(this,"timer",void 0),this.action=e,this.timer=-1,this.fire=this.fire.bind(this)}fire(){this.action(),this.timer=-1}fireAfter(e){this.timer>=0&&window.clearTimeout(this.timer),this.timer=window.setTimeout(this.fire,e)}cancel(){window.clearTimeout(this.timer)}}function Oi(e){return e.views.system.websocketConnectionErrorCount}var Si=a(155),Ti=a(37),Mi=a(188),Pi=a(1448);function Ni(e,t){return async(a,n)=>{const s=n();let i=e,l=i.indexOf(" ");l<0&&(l=i.length);const c=i.substring(0,l).toLowerCase();switch(i=c+" "+i.substring(l,i.length).trim(),c){case"/search":return a(ta.k(i.substring(l+1,i.length))),{data:!0};case"/shortcuts":if(y.p()){return{error:{message:Object(z.ob)("create_post.shortcutsNotSupported","Keyboard shortcuts are not supported on your device")}}}return w.m(),{data:!0};case"/leave":{if(t.channel_id&&(t.root_id||t.parent_id))return w.h("/leave is not supported in reply threads. Use it in the center channel instead.",t.channel_id,t.parent_id),{data:!0};const e=Object(B.getCurrentChannel)(s)||{};if(e.type===fe.l.PRIVATE_CHANNEL)return w.k(e),{data:!0};if(e.type===fe.l.DM_CHANNEL||e.type===fe.l.GM_CHANNEL){const t=Object(r.getCurrentUserId)(s);let n,i;e.type===fe.l.DM_CHANNEL?(n=Object(z.N)(e),i=fe.l.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW):(n=e.id,i=fe.l.Preferences.CATEGORY_GROUP_CHANNEL_SHOW);const l=Object(o.getCurrentTeamId)(s),c=Object(B.getRedirectChannelNameForTeam)(s,l),d=Object(o.getCurrentRelativeTeamUrl)(s);return N.a.push("".concat(d,"/channels/").concat(c)),a(Object(Qs.savePreferences)(t,[{category:i,name:n,user_id:t,value:"false"}])),Object(B.isFavoriteChannel)(s,e.id)&&a(Object(ge.unfavoriteChannel)(e.id)),{data:!0}}break}case"/settings":return a(Object(_t.b)({modalId:fe.y.USER_SETTINGS,dialogType:Pi.a})),{data:!0};case"/collapse":case"/expand":a(ta.j())}let m;try{m=await d.Client4.executeCommand(i,t)}catch(e){return{error:e}}const u=m.goto_location&&Object(Mi.f)(m.goto_location);return"/logout"===i.trim()?(w.e(u?m.goto_location:"/"),{data:!0}):(m.trigger_id&&a({type:ft.IntegrationTypes.RECEIVED_DIALOG_TRIGGER_ID,data:m.trigger_id}),u&&(m.goto_location.startsWith("/")?N.a.push(m.goto_location):m.goto_location.startsWith(Object(Mi.e)())?N.a.push(m.goto_location.substr(Object(Mi.e)().length)):window.open(m.goto_location)),{data:!0})}}function Ii(e){return async(t,a)=>{const n=a().plugins.components.MessageWillBePosted;if(!n||0===n.length)return{data:e};let s=e;for(const e of n){const t=await e.hook(s);if(t){if(t.error)return{error:t.error};s=t.post}}return{data:s}}}function Ri(e,t){return async(a,n)=>{const s=n().plugins.components.SlashCommandWillBePosted;if(!s||0===s.length)return{data:{message:e,args:t}};let i=e,r=t;for(const e of s){const t=await e.hook(i,r);if(t){if(t.error)return{error:t.error};i=t.message,r=t.args}}return{data:{message:i,args:r}}}}var Ai=a(89),ji=a(182);function xi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Li(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(a),!0).forEach((function(t){ki(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xi(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ki(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Di(){return Object(Ai.a)(fe.N.COMMENT_DRAFT,(e,t)=>t?Li(Li({},t),{},{uploadsInProgress:[]}):t)}function Ui(e,t){return Object(Ai.e)("".concat(fe.N.COMMENT_DRAFT).concat(e),t)}function qi(e,t){const a=Object(R.makeGetMessageInHistoryItem)(W.Posts.MESSAGE_TYPES.COMMENT);return()=>(n,s)=>{const i=Object(ui.i)(s(),fe.N.COMMENT_DRAFT,e);if(""!==i.message&&i.message!==a(s()))return;-1===t?n(Object(be.moveHistoryIndexBack)(W.Posts.MESSAGE_TYPES.COMMENT)):1===t&&n(Object(be.moveHistoryIndexForward)(W.Posts.MESSAGE_TYPES.COMMENT));const r=a(s());n(Ui(e,Li(Li({},i),{},{message:r})))}}function Hi(e,t,a){return async(n,s)=>{const i=s(),o=Object(r.getCurrentUserId)(i),l=z.L();let c={file_ids:[],message:a.message,channel_id:e,root_id:t,parent_id:t,pending_post_id:"".concat(o,":").concat(l),user_id:o,create_at:l,metadata:{},props:Li({},a.props)};const d=await n(Ii(c));return d.error?{error:d.error}:(c=d.data,n(ta.b(c,a.fileInfos)))}}function Fi(e,t,a){return(n={})=>async(s,i)=>{const r=Object(ui.i)(i(),fe.N.COMMENT_DRAFT,t),{message:l}=r;s(Object(be.addMessageIntoHistory)(l)),s(Ui(t,null));const c=z.a.exec(l),d=Object(Si.getCustomEmojisByName)(i()),m=new ji.a(d);var u,p,h;c&&m.has(c[2])?s((u=a,p=c[1],h=c[2],e=>{"+"===p?e(ta.a(u,h)):"-"===p&&e(Object(be.removeReaction)(u,h))})):0!==l.indexOf("/")||n.ignoreSlash?s(Hi(e,t,r)):await s(function(e,t,a){return async(n,s)=>{const i=s(),r=Object(o.getCurrentTeamId)(i);let l={channel_id:e,team_id:r,root_id:t,parent_id:t},{message:c}=a;const d=await n(Ri(c,l));if(d.error)return{error:d.error};if(!d.data.message&&!d.data.args)return{};c=d.data.message,l=d.data.args;const{error:m}=await n(Ni(c,l));if(m){if(m.sendMessage)return n(Hi(e,t,a));throw m}return{}}}(e,t,r))}}function Bi(e,t){const a=function(e,t){return Object(F.a)(r.getCurrentUserId,t=>Object(R.getPostIdsInChannel)(t,e),e=>t=>Object(R.getPost)(e,t),(e,a,n)=>{let s=null;if(!a)return s;for(const i of a){const a=n(i)||{};if(!(a.user_id!==e||a.props&&a.props.from_webhook||a.state===fe.l.POST_DELETED||a.type&&a.type.startsWith(fe.l.SYSTEM_MESSAGE_PREFIX)||Object(Ti.isPostPendingOrFailed)(a))){if(!t){s=a;break}if(a.root_id===t||a.id===t){s=a;break}}}return s})}(e,t),n=Object(R.makeGetCommentCountForPost)();return()=>(e,t)=>{const s=t(),i=a(s);return i?e(ta.l(i.id,n(s,{post:i}),"reply_textbox",z.ob("create_comment.commentTitle","Comment"),!0)):{data:!1}}}var Gi=a(1330),Vi=a(1647),Wi=a(1278);function zi(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.attach",defaultMessage:"Attachment Icon"})},h.a.createElement("g",{fill:"inherit",fillRule:"evenodd"},h.a.createElement("g",{transform:"translate(-1029.000000, -954.000000)",fillRule:"nonzero",fill:"inherit"},h.a.createElement("g",{transform:"translate(25.000000, 937.000000)"},h.a.createElement("g",{transform:"translate(1004.000000, 17.000000)"},h.a.createElement("path",{d:"M5.35,15.56 C3.98,15.56 2.61,15.039 1.567,13.997 C0.557,12.984 0,11.642 0,10.212 C0,8.783 0.557,7.44 1.566,6.429 L6.869,1.126 C8.371,-0.376 10.812,-0.375 12.314,1.125 C13.815,2.627 13.815,5.069 12.314,6.57 L7.011,11.873 C6.094,12.792 4.603,12.79 3.687,11.873 C2.771,10.958 2.771,9.467 3.687,8.551 L8.99,3.248 C9.323,2.916 9.861,2.916 10.193,3.248 C10.525,3.579 10.525,4.118 10.193,4.449 L4.89,9.752 C4.637,10.006 4.637,10.418 4.89,10.672 C5.143,10.923 5.555,10.925 5.809,10.672 L11.113,5.369 C11.952,4.53 11.952,3.166 11.113,2.327 C10.276,1.49 8.911,1.488 8.073,2.327 L2.769,7.631 C2.079,8.32 1.699,9.237 1.699,10.212 C1.699,11.188 2.079,12.104 2.768,12.794 C4.19,14.216 6.502,14.216 7.925,12.798 L7.929,12.794 C7.929,12.793 7.929,12.793 7.929,12.793 L15.355,5.369 C15.687,5.037 16.224,5.037 16.556,5.369 C16.888,5.7 16.888,6.239 16.556,6.57 L8.779,14.348 L8.761,14.332 C7.776,15.15 6.562,15.56 5.35,15.56 Z"})))))))}var Yi=a(1337);class Ki extends h.a.PureComponent{render(){const{canDownload:e,children:t,compactDisplay:a,fileInfo:n,handleImageClick:s,iconClass:i}=this.props,r=n.name,o=Object(Yi.f)(r);let l;return l=a?h.a.createElement(Wi.a,{delayShow:1e3,placement:"top",overlay:h.a.createElement(Vi.a,{id:"file-name__tooltip"},r)},h.a.createElement("a",{id:"file-attachment-link",href:"#",onClick:s,className:"post-image__name",rel:"noopener noreferrer"},h.a.createElement(zi,{className:"icon"}),o)):e?h.a.createElement("div",{className:i||"post-image__name"},h.a.createElement(Wi.a,{delayShow:1e3,placement:"top",overlay:h.a.createElement(Vi.a,{id:"file-name__tooltip"},Object(z.ob)("view_image_popover.download","Download"))},h.a.createElement("a",{href:Object(Gi.getFileDownloadUrl)(n.id),"aria-label":Object(z.ob)("view_image_popover.download","Download").toLowerCase(),download:r,target:"_blank",rel:"noopener noreferrer"},t||o))):h.a.createElement("span",{className:"post-image__name"},o),l}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Ki,"propTypes",{fileInfo:u.a.any.isRequired,handleImageClick:u.a.func,compactDisplay:u.a.bool,canDownload:u.a.bool,children:u.a.node,iconClass:u.a.string});a(1727);var Zi=a(1707);function Ji(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Xi extends h.a.PureComponent{constructor(...e){super(...e),Ji(this,"handleRemove",()=>{this.props.handleRemove(this.props.clientId)})}render(){let e,t,a,n=0;const{fileInfo:s,clientId:i}=this.props;if(s){n=s.percent?s.percent:0;const i=" (".concat(n.toFixed(0),"%)"),r=Object(Yi.d)(s.type);t=h.a.createElement("div",{className:"file-icon "+z.D(r)}),e=h.a.createElement(h.a.Fragment,null,h.a.createElement(Ki,{fileInfo:s,compactDisplay:!1,canDownload:!1}),h.a.createElement("span",{className:"post-image__uploadingTxt"},100===n?h.a.createElement(q.a,{id:"create_post.fileProcessing",defaultMessage:"Processing..."}):h.a.createElement(h.a.Fragment,null,h.a.createElement(q.a,{id:"admin.plugin.uploading",defaultMessage:"Uploading..."}),h.a.createElement("span",null,i)))),n&&(a=h.a.createElement(Zi.a,{className:"post-image__progressBar",now:n,active:100===n}))}return h.a.createElement("div",{ref:i,key:i,className:"file-preview post-image__column","data-client-id":i},h.a.createElement("div",{className:"post-image__thumbnail"},t),h.a.createElement("div",{className:"post-image__details"},h.a.createElement("div",{className:"post-image__detail_wrapper"},h.a.createElement("div",{className:"post-image__detail"},e)),h.a.createElement("div",null,h.a.createElement("a",{className:"file-preview__remove",onClick:this.handleRemove},h.a.createElement("i",{className:"icon icon-close"}))),a))}}function Qi(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Ji(Xi,"propTypes",{handleRemove:u.a.func.isRequired,clientId:u.a.string.isRequired,fileInfo:u.a.any.isRequired});class $i extends h.a.PureComponent{constructor(...e){super(...e),Qi(this,"handleRemove",e=>{this.props.onRemove(e)})}render(){const e=[];if(this.props.fileInfos.forEach(t=>{const a=z.B(t.extension);let n,s="file-preview post-image__column";if(a===fe.r.SVG&&this.props.enableSVGs)n=h.a.createElement("img",{alt:"file preview",className:"post-image normal",src:Object(Gi.getFileUrl)(t.id)});else if(a===fe.r.IMAGE){let e="post-image";t.width&&t.width<fe.Z.THUMBNAIL_WIDTH&&t.height&&t.height<fe.Z.THUMBNAIL_HEIGHT?e+=" small":e+=" normal";let a=Object(Gi.getFileThumbnailUrl)(t.id);z.ab(t.extension)&&!t.has_preview_image&&(a=Object(Gi.getFileUrl)(t.id)),n=h.a.createElement("div",{className:e,style:{backgroundImage:"url(".concat(a,")"),backgroundSize:"cover"}})}else s+=" custom-file",n=h.a.createElement("div",{className:"file-icon "+z.D(a)});e.push(h.a.createElement("div",{key:t.id,className:s},h.a.createElement("div",{className:"post-image__thumbnail"},n),h.a.createElement("div",{className:"post-image__details"},h.a.createElement("div",{className:"post-image__detail_wrapper"},h.a.createElement("div",{className:"post-image__detail"},h.a.createElement(Ki,{fileInfo:t,compactDisplay:!1,canDownload:!1}),t.extension&&h.a.createElement("span",{className:"post-image__type"},t.extension.toUpperCase()),h.a.createElement("span",{className:"post-image__size"},z.p(t.size)))),h.a.createElement("div",null,h.a.createElement("a",{className:"file-preview__remove",onClick:this.handleRemove.bind(this,t.id)},h.a.createElement("i",{className:"icon icon-close"}))))))}),this.props.uploadsInProgress&&this.props.uploadsProgressPercent){const t=this.props.uploadsProgressPercent;this.props.uploadsInProgress.forEach(a=>{const n=t[a];n&&e.push(h.a.createElement(Xi,{key:a,clientId:a,fileInfo:n,handleRemove:this.handleRemove}))})}return h.a.createElement("div",{className:"file-preview__container",ref:"container"},e)}}Qi($i,"propTypes",{enableSVGs:u.a.bool.isRequired,onRemove:u.a.func.isRequired,fileInfos:u.a.arrayOf(u.a.oneOfType([u.a.any,u.a.shape({name:u.a.string.isRequired,percent:u.a.number,type:u.a.string})])),uploadsInProgress:u.a.arrayOf(u.a.string),uploadsProgressPercent:u.a.objectOf(u.a.oneOfType([u.a.any,u.a.shape({name:u.a.string.isRequired,percent:u.a.number,type:u.a.string})]))}),Qi($i,"defaultProps",{fileInfos:[],uploadsInProgress:[],uploadsProgressPercent:{}});var er=Object(s.connect)((function(e){return{enableSVGs:"true"===Object(i.getConfig)(e).EnableSVGs}}))($i),tr=a(91),ar=a(1728),nr=a.n(ar),sr=a(59);function ir(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function rr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(a),!0).forEach((function(t){or(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ir(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function or(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function lr(e,t,a,n,s){return n=>(n({type:ft.FileTypes.UPLOAD_FILES_REQUEST}),nr.a.post(d.Client4.getFilesRoute()).set(d.Client4.getOptions({method:"post"}).headers).field("channel_id",a).field("client_ids",s).attach("files",e,t).accept("application/json"))}function cr(e,t,a,n,s,{err:i,res:r}){return(e,t)=>{if(i){let o;o=r&&r.body&&r.body.id?r.body:0!==i.status&&i.status?{message:z.ob("channel_loader.unknown_error","We received an unexpected status code from the server.")+" ("+i.status+")"}:{message:z.ob("file_upload.generic_error","There was a problem uploading your files.")},Object(sr.forceLogoutIfNecessary)(i,e,t);const l={type:ft.FileTypes.UPLOAD_FILES_FAILURE,clientIds:[s],channelId:a,rootId:n,error:i};return e(Object(tr.a)([l,Object(aa.getLogErrorAction)(i)])),{error:o}}const o=r.body.file_infos.map((e,t)=>rr(rr({},e),{},{clientId:r.body.client_ids[t]}));return e(Object(tr.a)([{type:ft.FileTypes.RECEIVED_UPLOAD_FILES,data:o,channelId:a,rootId:n},{type:ft.FileTypes.UPLOAD_FILES_SUCCESS}])),{data:r.body}}}var dr=a(149),mr=a.n(dr);var ur=a(1292),pr=a(1285);function hr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(a),!0).forEach((function(t){br(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function br(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const fr=Object(ii.d)({limited:{id:Object(J.b)("file_upload.limited"),defaultMessage:"Uploads limited to {count, number} files maximum. Please use additional posts for more files."},filesAbove:{id:Object(J.b)("file_upload.filesAbove"),defaultMessage:"Files above {max}MB could not be uploaded: {filenames}"},fileAbove:{id:Object(J.b)("file_upload.fileAbove"),defaultMessage:"File above {max}MB could not be uploaded: {filename}"},zeroBytesFiles:{id:Object(J.b)("file_upload.zeroBytesFiles"),defaultMessage:"You are uploading empty files: {filenames}"},zeroBytesFile:{id:Object(J.b)("file_upload.zeroBytesFile"),defaultMessage:"You are uploading an empty file: {filename}"},pasted:{id:Object(J.b)("file_upload.pasted"),defaultMessage:"Image Pasted at "},uploadFile:{id:Object(J.b)("file_upload.upload_files"),defaultMessage:"Upload files"}}),_r={left:"inherit",right:0,bottom:"100%",top:"auto"};class Cr extends p.PureComponent{constructor(e){super(e),br(this,"fileUploadSuccess",(e,t,a)=>{if(e){this.props.onFileUpload(e.file_infos,e.client_ids,t,a);const s=Object.assign({},this.state.requests);for(var n=0;n<e.client_ids.length;n++)Reflect.deleteProperty(s,e.client_ids[n]);this.setState({requests:s})}}),br(this,"fileUploadFail",(e,t,a,n)=>{this.props.onUploadError(e,t,a,n)}),br(this,"pluginUploadFiles",e=>{this.props.onUploadError(null),this.uploadFiles(e)}),br(this,"checkPluginHooksAndUploadFiles",e=>{this.props.onUploadError(null);let t=Array.from(e).sort((e,t)=>e.name.localeCompare(t.name,this.props.locale,{numeric:!0}));const a=this.props.pluginFilesWillUploadHooks;for(const e of a){const a=e.hook(t,this.pluginUploadFiles);a.message&&this.props.onUploadError(a.message),t=a.files}t&&this.uploadFiles(t)}),br(this,"uploadFiles",e=>{const{currentChannelId:t,rootId:a}=this.props,n=fe.Z.MAX_UPLOAD_FILES-this.props.fileCount;let s=0;const i=[],r=[],o=[];for(let l=0;l<e.length&&s<n;l++){if(e[l].size>this.props.maxFileSize){i.push(e[l]);continue}0===e[l].size&&r.push(e[l]);const n=Object(z.r)(),c=this.props.actions.uploadFile(e[l],e[l].name,t,a,n);c.on("progress",t=>{this.props.onUploadProgress({clientId:n,name:e[l].name,percent:t.percent,type:e[l].type})}),c.end((s,i)=>{const{error:r,data:o}=this.props.actions.handleFileUploadEnd(e[l],e[l].name,t,a,n,{err:s,res:i});r?this.fileUploadFail(r,n,t,a):o&&this.fileUploadSuccess(o,t,a)}),this.setState({requests:gr(gr({},this.state.requests),{},{[n]:c})}),o.push(n),s+=1}this.props.onUploadStart(o,t);const{formatMessage:l}=this.props.intl,c=[];if(e.length>n&&c.push(l(fr.limited,{count:fe.Z.MAX_UPLOAD_FILES})),i.length>1){var d=i.map(e=>e.name).join(", ");c.push(l(fr.filesAbove,{max:this.props.maxFileSize/1048576,filenames:d}))}else i.length>0&&c.push(l(fr.fileAbove,{max:this.props.maxFileSize/1048576,filename:i[0].name}));if(r.length>1){var m=r.map(e=>e.name).join(", ");c.push(l(fr.zeroBytesFiles,{filenames:m}))}else r.length>0&&c.push(l(fr.zeroBytesFile,{filename:r[0].name}));c.length>0&&this.props.onUploadError(c.join(", "))}),br(this,"handleChange",e=>{e.target.files.length>0&&(this.checkPluginHooksAndUploadFiles(e.target.files),Object(z.f)(e.target)),this.props.onFileUploadChange()}),br(this,"handleDrop",e=>{if(!this.props.canUploadFiles)return void this.props.onUploadError(Object(z.ob)("file_upload.disabled","File attachments are disabled."));this.props.onUploadError(null);const t=e.dataTransfer.items||[],a=e.dataTransfer.files,n=[];Array.from(a).forEach((e,a)=>{const s=t[a];s&&s.webkitGetAsEntry&&(null===s.webkitGetAsEntry()||s.webkitGetAsEntry().isDirectory)||n.push(e)});const s=e.dataTransfer.types;if(s){if(Object(z.jb)(e.dataTransfer))return;if(s.includes&&!s.includes("Files"))return;if(s.contains&&!s.contains("Files"))return}0!==n.length?(n.length&&this.checkPluginHooksAndUploadFiles(n),this.props.onFileUploadChange()):this.props.onUploadError(Object(z.ob)("file_upload.drag_folder","Folders cannot be uploaded. Please drag all files separately."))}),br(this,"registerDragEvents",(e,t)=>{const a=this,n=document.querySelector(t),s=new wi(()=>{n.classList.add("hidden")});let i={};i=this.props.canUploadFiles?{enter(e){var t=e.detail.dataTransfer;!Object(z.jb)(t)&&Object(z.Z)(t)&&n.classList.remove("hidden")},leave(e){var t=e.detail.dataTransfer;!Object(z.jb)(t)&&Object(z.Z)(t)&&n.classList.add("hidden"),s.cancel()},over(){s.fireAfter(500)},drop(e){n.classList.add("hidden"),s.cancel(),a.handleDrop(e.detail)}}:{drop(e){a.handleDrop(e.detail)}},this.unbindDragsterEvents=function(e,t){const a=()=>{},n={enter:a,leave:a,over:a,drop:a},s=Object.assign(n,t),i=document.querySelector(e);if(!i)return a;let r=!1,o=!1;const l=e=>{if(r)return void(o=!0);r=!0;const t=new CustomEvent("dragster:enter",{detail:e});i.dispatchEvent(t),e.preventDefault()},c=e=>{if(o?o=!1:r&&(r=!1),!r&&!o){const t=new CustomEvent("dragster:leave",{detail:e});i.dispatchEvent(t)}e.preventDefault()},d=e=>{const t=new CustomEvent("dragster:over",{detail:e});i.dispatchEvent(t),e.preventDefault()},m=e=>{if(o?o=!1:r&&(r=!1),!r&&!o){const t=new CustomEvent("dragster:drop",{detail:e});i.dispatchEvent(t)}e.preventDefault()};return i.addEventListener("dragenter",l),i.addEventListener("dragleave",c),i.addEventListener("dragover",d),i.addEventListener("drop",m),i.addEventListener("dragster:enter",s.enter),i.addEventListener("dragster:leave",s.leave),i.addEventListener("dragster:over",s.over),i.addEventListener("dragster:drop",s.drop),()=>{i.removeEventListener("dragenter",l),i.removeEventListener("dragleave",c),i.removeEventListener("dragover",d),i.removeEventListener("drop",m),i.removeEventListener("dragster:enter",s.enter),i.removeEventListener("dragster:leave",s.leave),i.removeEventListener("dragster:over",s.over),i.removeEventListener("dragster:drop",s.drop)}}(e,i)}),br(this,"containsEventTarget",(e,t)=>e&&e.contains(t)),br(this,"pasteUpload",e=>{const{formatMessage:t}=this.props.intl;if(!e.clipboardData||!e.clipboardData.items||da(e.clipboardData))return;const a=this.props.getTarget(),n=mr.a.findDOMNode(a);if(!this.containsEventTarget(n,e.target))return;this.props.onUploadError(null);const s=[];for(let t=0;t<e.clipboardData.items.length;t++){const a=e.clipboardData.items[t];"file"===a.kind&&s.push(a)}if(s&&s.length>0){if(!this.props.canUploadFiles)return void this.props.onUploadError(Object(z.ob)("file_upload.disabled","File attachments are disabled."));e.preventDefault();const a=[];for(let e=0;e<s.length;e++){const n=s[e].getAsFile();if(!n)continue;var i=new Date;let o=i.getHours();o=o<10?"0".concat(o):"".concat(o);let l=i.getMinutes();l=l<10?"0".concat(l):"".concat(l);var r="";n.name?n.name.includes(".")&&(r=n.name.substr(n.name.lastIndexOf("."))):s[e].type.includes("/")&&(r="."+s[e].type.split("/")[1].toLowerCase());const c=t(fr.pasted)+i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+" "+o+"-"+l+r,d=new Blob([n],{type:n.type});d.name=c,a.push(d)}a.length>0&&(this.checkPluginHooksAndUploadFiles(a),this.props.onFileUploadChange())}}),br(this,"keyUpload",e=>{if(Object(z.g)(e)&&Object(z.cb)(e,fe.Z.KeyCodes.U)){if(e.preventDefault(),!this.props.canUploadFiles)return void this.props.onUploadError(Object(z.ob)("file_upload.disabled","File attachments are disabled."));const t="post"===this.props.postType&&"post_textbox"===document.activeElement.id,a="comment"===this.props.postType&&"reply_textbox"===document.activeElement.id;(t||a)&&(this.fileInput.current.focus(),this.fileInput.current.click())}}),br(this,"cancelUpload",e=>{const t=Object.assign({},this.state.requests),a=t[e];a&&(a.abort(),Reflect.deleteProperty(t,e),this.setState({requests:t}))}),br(this,"handleMaxUploadReached",e=>{e&&e.preventDefault();const{onUploadError:t}=this.props,{formatMessage:a}=this.props.intl;t(a(fr.limited,{count:fe.Z.MAX_UPLOAD_FILES}))}),br(this,"toggleMenu",e=>{this.setState({menuOpen:e})}),br(this,"handleLocalFileUploaded",e=>{fe.Z.MAX_UPLOAD_FILES-this.props.fileCount>0?this.props.onClick&&this.props.onClick():this.handleMaxUploadReached(e),this.setState({menuOpen:!1})}),br(this,"simulateInputClick",e=>{e.preventDefault(),e.stopPropagation(),this.fileInput.current.click()}),this.state={requests:{},menuOpen:!1},this.fileInput=h.a.createRef()}componentDidMount(){"post"===this.props.postType?this.registerDragEvents(".row.main",".center-file-overlay"):"comment"===this.props.postType&&this.registerDragEvents(".post-right__container",".right-file-overlay"),document.addEventListener("paste",this.pasteUpload),document.addEventListener("keydown",this.keyUpload)}componentWillUnmount(){document.removeEventListener("paste",this.pasteUpload),document.removeEventListener("keydown",this.keyUpload),this.unbindDragsterEvents()}render(){const{formatMessage:e}=this.props.intl;let t=!0;Object(y.q)()&&(t=!1);let a="";Object(y.j)()&&(a="image/*");const n=fe.Z.MAX_UPLOAD_FILES-this.props.fileCount;let s;const i=e({id:"accessibility.button.attachment",defaultMessage:"attachment"});if(0===this.props.pluginFileUploadMethods.length)s=h.a.createElement("div",null,h.a.createElement("button",{type:"button",id:"fileUploadButton","aria-label":i,className:"style--none post-action icon icon--attachment",onClick:this.simulateInputClick,onTouchEnd:this.simulateInputClick},h.a.createElement(zi,{className:"d-flex"})),h.a.createElement("input",{id:"fileUploadInput",tabIndex:"-1","aria-label":e(fr.uploadFile),ref:this.fileInput,type:"file",onChange:this.handleChange,onClick:this.handleLocalFileUploaded,multiple:t,accept:a}));else{const n=this.props.pluginFileUploadMethods.map(e=>h.a.createElement("li",{key:e.pluginId+"_fileuploadpluginmenuitem",onClick:()=>{e.action&&e.action(this.checkPluginHooksAndUploadFiles),this.setState({menuOpen:!1})}},h.a.createElement("a",{href:"#"},h.a.createElement("span",{className:"mr-2"},e.icon),e.text)));s=h.a.createElement("div",null,h.a.createElement("input",{tabIndex:"-1","aria-label":e(fr.uploadFile),ref:this.fileInput,type:"file",className:"file-attachment-menu-item-input",onChange:this.handleChange,onClick:this.handleLocalFileUploaded,multiple:t,accept:a}),h.a.createElement(ur.a,null,h.a.createElement("button",{type:"button","aria-label":i,className:"style--none post-action"},h.a.createElement("div",{id:"fileUploadButton",className:"icon icon--attachment"},h.a.createElement(zi,{className:"d-flex"}))),h.a.createElement(pr.a,{id:"fileUploadOptions",openLeft:!0,openUp:!0,ariaLabel:e({id:"file_upload.menuAriaLabel",defaultMessage:"Upload type selector"}),customStyles:_r},h.a.createElement("li",null,h.a.createElement("a",{href:"#",onClick:this.simulateInputClick,onTouchEnd:this.simulateInputClick},h.a.createElement("span",{className:"mr-2"},h.a.createElement("i",{className:"fa fa-laptop"})),h.a.createElement(q.a,{id:"yourcomputer",defaultMessage:"Your computer"}))),n)))}return this.props.canUploadFiles||(s=null),h.a.createElement("div",{className:n<=0?" style--none btn-file__disabled":"style--none"},s)}}br(Cr,"propTypes",{currentChannelId:u.a.string.isRequired,rootId:u.a.string,fileCount:u.a.number.isRequired,getTarget:u.a.func.isRequired,intl:X.a.isRequired,locale:u.a.string.isRequired,onClick:u.a.func,onFileUpload:u.a.func,onFileUploadChange:u.a.func,onUploadError:u.a.func,onUploadStart:u.a.func,postType:u.a.string,maxFileSize:u.a.number,canUploadFiles:u.a.bool.isRequired,pluginFileUploadMethods:u.a.arrayOf(u.a.object),pluginFilesWillUploadHooks:u.a.arrayOf(u.a.object),onUploadProgress:u.a.func.isRequired,actions:u.a.shape({uploadFile:u.a.func.isRequired,handleFileUploadEnd:u.a.func.isRequired}).isRequired}),br(Cr,"defaultProps",{pluginFileUploadMethods:[],pluginFilesWillUploadHooks:[]});const yr=Object(Z.c)(Cr,{forwardRef:!0});yr.displayName="injectIntl(FileUpload)";var Er=yr;var vr=Object(s.connect)((function(e){const t=Object(i.getConfig)(e),a=parseInt(t.MaxFileSize,10);return{currentChannelId:Object(B.getCurrentChannelId)(e),maxFileSize:a,canUploadFiles:Object(Yi.b)(t),locale:Object(Mt.a)(e),pluginFileUploadMethods:e.plugins.components.FileUploadMethod,pluginFilesWillUploadHooks:e.plugins.components.FilesWillUploadHook}}),(function(e){return{actions:Object(n.bindActionCreators)({uploadFile:lr,handleFileUploadEnd:cr},e)}}),null,{forwardRef:!0})(Er),wr=a(2099);function Or(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Sr extends h.a.PureComponent{constructor(...e){super(...e),Or(this,"getTypingText",()=>{let e=[],t=0;if(this.props.typingUsers&&(e=[...this.props.typingUsers],t=e.length),0===t)return"";if(1===t)return h.a.createElement(q.a,{id:"msg_typing.isTyping",defaultMessage:"{user} is typing...",values:{user:e[0]}});const a=e.pop();return h.a.createElement(q.a,{id:"msg_typing.areTyping",defaultMessage:"{users} and {last} are typing...",values:{users:e.join(", "),last:a}})})}render(){return h.a.createElement("span",{className:"msg-typing"},this.getTypingText())}}Or(Sr,"propTypes",{typingUsers:u.a.arrayOf(u.a.string).isRequired});var Tr=Object(s.connect)((function(){const e=Object(wr.makeGetUsersTypingByChannelAndPost)();return function(t,a){return{typingUsers:e(t,{channelId:a.channelId,postId:a.postId})}}}))(Sr);class Mr extends h.a.Component{shouldComponentUpdate(e){return e.show!==this.props.show}render(){return h.a.createElement(ra.a,{dialogClassName:"a11y__modal",show:this.props.show,onHide:this.props.onHide,role:"dialog","aria-labelledby":"postDeletedModalLabel","data-testid":"postDeletedModal"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"postDeletedModalLabel"},h.a.createElement(q.a,{id:"post_delete.notPosted",defaultMessage:"Comment could not be posted"}))),h.a.createElement(ra.a.Body,null,h.a.createElement("p",null,h.a.createElement(q.a,{id:"post_delete.someone",defaultMessage:"Someone deleted the message on which you tried to post a comment."}))),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{type:"button",className:"btn btn-primary",autoFocus:!0,onClick:this.props.onHide,"data-testid":"postDeletedModalOkButton"},h.a.createElement(q.a,{id:"post_delete.okay",defaultMessage:"Okay"}))))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Mr,"propTypes",{show:u.a.bool.isRequired,onHide:u.a.func.isRequired});var Pr=a(1272);function Nr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ir extends h.a.PureComponent{constructor(...e){super(...e),Nr(this,"renderSlashCommandError",()=>{if(!this.props.submittedMessage)return this.props.error.message;const e=this.props.submittedMessage.split(" ")[0];return h.a.createElement(h.a.Fragment,null,h.a.createElement(q.a,{id:"message_submit_error.invalidCommand",defaultMessage:"Command with a trigger of ''{command}'' not found. ",values:{command:e}}),h.a.createElement("a",{href:"#",onClick:this.props.handleSubmit},h.a.createElement(q.a,{id:"message_submit_error.sendAsMessageLink",defaultMessage:"Click here to send as a message."})))})}render(){const e=this.props.error;if(!e)return null;let t=e.message;return Object(ca.m)(e)&&(t=this.renderSlashCommandError()),h.a.createElement("div",{className:"has-error"},h.a.createElement("label",{className:"control-label"},t))}}Nr(Ir,"propTypes",{error:u.a.shape({message:u.a.oneOfType([u.a.string,u.a.any]).isRequired}).isRequired,handleSubmit:u.a.func.isRequired,submittedMessage:u.a.string});var Rr=Ir;function Ar(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(a),!0).forEach((function(t){xr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ar(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function xr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Lr=fe.Z.KeyCodes;class kr extends h.a.PureComponent{static getDerivedStateFromProps(e,t){let a={createPostErrorId:e.createPostErrorId,rootId:e.rootId,messageInHistory:e.messageInHistory,draft:t.draft||jr(jr({},e.draft),{},{caretPosition:e.draft.message.length,uploadsInProgress:[]})};const n=e.rootId!==t.rootId,s=e.messageInHistory!==t.messageInHistory;return(n||s)&&(a=jr(jr({},a),{},{draft:jr(jr({},e.draft),{},{uploadsInProgress:n?[]:e.draft.uploadsInProgress})})),"api.post.create_post.root_id.app_error"===e.createPostErrorId&&e.createPostErrorId!==t.createPostErrorId&&(a=jr(jr({},a),{},{showPostDeletedModal:!0})),a}constructor(e){super(e),xr(this,"setShowPreview",e=>{this.props.setShowPreview(e)}),xr(this,"focusTextboxIfNecessary",e=>{this.props.rhsExpanded&&(document.getElementsByClassName("channel-switch-modal").length||Object(ca.t)(e,document.activeElement)&&this.focusTextbox())}),xr(this,"setCaretPosition",e=>{const t=this.refs.textbox.getInputBox();this.setState({caretPosition:e},()=>{z.xb(t,e)})}),xr(this,"pasteHandler",e=>{if(!e.clipboardData||!e.clipboardData.items||"reply_textbox"!==e.target.id)return;const{clipboardData:t}=e,a=da(t);if(!a)return;e.preventDefault();const{draft:n}=this.state;let s=n.message;if(ma(a.className)){const{formattedMessage:e,formattedCodeBlock:a}=ha(this.state.caretPosition,s,t),n=this.state.caretPosition+a.length;s=e,this.setCaretPosition(n)}else{const e=n.message.length;s=pa(a,n.message.trim(),this.state.caretPosition);const t=s.length-(e-this.state.caretPosition);this.setCaretPosition(t)}const i=jr(jr({},n),{},{message:s});this.props.onUpdateCommentDraft(i),this.setState({draft:i})}),xr(this,"handleNotifyAllConfirmation",e=>{this.hideNotifyAllModal(),this.doSubmit(e)}),xr(this,"hideNotifyAllModal",()=>{this.setState({showConfirmModal:!1})}),xr(this,"showNotifyAllModal",()=>{this.setState({showConfirmModal:!0})}),xr(this,"toggleEmojiPicker",()=>{this.setState({showEmojiPicker:!this.state.showEmojiPicker})}),xr(this,"hideEmojiPicker",()=>{this.setState({showEmojiPicker:!1})}),xr(this,"handleEmojiClick",e=>{const t=e.name||e.aliases[0];if(!t)return;const{draft:a}=this.state;let n="";if(""===a.message)n=":".concat(t,": ");else{const{draft:{message:e}}=this.state,{firstPiece:a,lastPiece:s}=Object(ca.v)(this.state.caretPosition,e);n=""===a?":".concat(t,": ").concat(s," "):"".concat(a," :").concat(t,": ").concat(s," ");const i=""===a?":".concat(t,": ").length:"".concat(a," :").concat(t,": ").length;this.setCaretPosition(i)}const s=jr(jr({},a),{},{message:n});this.props.onUpdateCommentDraft(s),this.draftsForPost[this.props.rootId]=s,this.setState({showEmojiPicker:!1,draft:s})}),xr(this,"handleGifClick",e=>{const{draft:t}=this.state;let a="";a=""===t.message?e:/\s+$/.test(t.message)?"".concat(t.message).concat(e," "):"".concat(t.message," ").concat(e," ");const n=jr(jr({},t),{},{message:a});this.props.onUpdateCommentDraft(n),this.draftsForPost[this.props.rootId]=n,this.setState({showEmojiPicker:!1,draft:n}),this.focusTextbox()}),xr(this,"handlePostError",e=>{this.setState({postError:e})}),xr(this,"handleSubmit",async e=>{e.preventDefault(),this.setShowPreview(!1);const{channelMembersCount:t,enableConfirmNotificationsToChannel:a,useChannelMentions:n,isTimezoneEnabled:s,groupsWithAllowReference:i,channelMemberCountsByGroup:r,useGroupMentions:o}=this.props,{draft:l}=this.state,c=a&&n;let d=0,m=0,u=[];const p=!Object(ca.c)(l.message);if(a&&p&&o&&(u=Object(ca.k)(l.message,i),u.length>0&&(u=u.map(e=>{const t=r[e.id];return t&&t.channel_member_count>fe.Z.NOTIFY_ALL_MEMBERS&&t.channel_member_count>d&&(d=t.channel_member_count,m=t.channel_member_timezones_count),"@".concat(e.name)}),u=[...new Set(u)])),!o&&u.length>0){const e=jr(jr({},l),{},{props:jr(jr({},l.props),{},{disable_group_highlight:!0})});this.props.onUpdateCommentDraft(e),this.setState({draft:e})}if(c&&t>fe.Z.NOTIFY_ALL_MEMBERS&&!p&&(d=t-1,u=["@all","@channel"],s)){const{data:e}=await this.props.getChannelTimezones(this.props.channelId);m=e?e.length:0}if(!n&&Object(ca.c)(l.message,{checkAllMentions:!0})){const e=jr(jr({},l),{},{props:jr(jr({},l.props),{},{mentionHighlightDisabled:!0})});this.props.onUpdateCommentDraft(e),this.setState({draft:e})}if(d>0)return this.setState({channelTimezoneCount:m,memberNotifyCount:d,mentions:u}),void this.showNotifyAllModal();await this.doSubmit(e)}),xr(this,"doSubmit",async e=>{e&&e.preventDefault();const{draft:t}=this.state;if(!this.shouldEnableAddButton())return;if(t.uploadsInProgress.length>0)return;if(this.state.postError)return this.setState({errorClass:"animation--highlight"}),void setTimeout(()=>{this.setState({errorClass:null})},fe.Z.ANIMATION_TIMEOUT);if(this.props.rootDeleted)return void this.showPostDeletedModal();const a=Date.now()-this.lastBlurAt<150;this.focusTextbox(a);const n=this.state.serverError;let s=!1;Object(ca.m)(n)&&t.message===n.submittedMessage&&(s=!0);const i={ignoreSlash:s};try{await this.props.onSubmit(i),this.setState({postError:null,serverError:null})}catch(e){return Object(ca.m)(e)&&this.props.onUpdateCommentDraft(t),e.submittedMessage=t.message,void this.setState({serverError:e})}this.setState({draft:jr(jr({},this.props.draft),{},{uploadsInProgress:[]})})}),xr(this,"commentMsgKeyPress",e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:a}=this.props,{allowSending:n,withClosedCodeBlock:s,message:i}=Object(ca.s)(e,this.state.draft.message,t,a,0,0,this.state.caretPosition);if(n){if(e.persist(),this.refs.textbox&&this.refs.textbox.blur(),s&&i){const{draft:t}=this.state,a=jr(jr({},t),{},{message:i});this.props.onUpdateCommentDraft(a),this.setState({draft:a},()=>this.handleSubmit(e)),this.draftsForPost[this.props.rootId]=a}else this.handleSubmit(e);this.setShowPreview(!1),setTimeout(()=>{this.focusTextbox()})}this.emitTypingEvent()}),xr(this,"reactToLastMessage",e=>{e.preventDefault();const{emitShortcutReactToLastPostFrom:t}=this.props;t(fe.x.RHS_ROOT)}),xr(this,"emitTypingEvent",()=>{const{channelId:e,rootId:t}=this.props;w.d(e,t)}),xr(this,"scrollToBottom",()=>{const e=Ci()(".post-right__scroll");e[0]&&e.parent().scrollTop(e[0].scrollHeight)}),xr(this,"handleChange",e=>{const t=e.target.value;let a=this.state.serverError;Object(ca.m)(a)&&(a=null);const{draft:n}=this.state,s=jr(jr({},n),{},{message:t});cancelAnimationFrame(this.saveDraftFrame),this.saveDraftFrame=requestAnimationFrame(()=>{this.props.onUpdateCommentDraft(s)}),this.setState({draft:s,serverError:a},()=>{this.scrollToBottom()}),this.draftsForPost[this.props.rootId]=s}),xr(this,"handleMouseUpKeyUp",e=>{const t=z.s(e.target);this.setState({caretPosition:t})}),xr(this,"handleSelect",e=>{z.b(this.refs.textbox.getInputBox(),e)}),xr(this,"handleKeyDown",e=>{const t=(e.ctrlKey||e.metaKey)&&e.shiftKey&&z.cb(e,Lr.BACK_SLASH);if(z.ib(e))return void this.setState({draft:jr(jr({},this.state.draft),{},{message:z.T(e)})});if((this.props.ctrlSend||this.props.codeBlockOnCtrlEnter)&&z.cb(e,fe.Z.KeyCodes.ENTER)&&(e.ctrlKey||e.metaKey))return this.setShowPreview(!1),void this.commentMsgKeyPress(e);const{draft:a}=this.state,{message:n}=a;if(!e.ctrlKey&&!e.metaKey&&!e.altKey&&!e.shiftKey&&z.cb(e,fe.Z.KeyCodes.UP)&&""===n){e.preventDefault(),this.refs.textbox&&this.refs.textbox.blur();const{data:t}=this.props.onEditLatestPost();t||this.focusTextbox(!0)}!e.ctrlKey&&!e.metaKey||e.altKey||e.shiftKey||(z.cb(e,fe.Z.KeyCodes.UP)?(e.preventDefault(),this.props.onMoveHistoryIndexBack()):z.cb(e,fe.Z.KeyCodes.DOWN)?(e.preventDefault(),this.props.onMoveHistoryIndexForward()):(z.cb(e,fe.Z.KeyCodes.B)||z.cb(e,fe.Z.KeyCodes.I))&&this.applyHotkeyMarkdown(e)),t&&this.reactToLastMessage(e)}),xr(this,"applyHotkeyMarkdown",e=>{const t=z.c(e),{draft:a}=this.state,n=jr(jr({},a),{},{message:t.message});this.props.onUpdateCommentDraft(n),this.draftsForPost[this.props.rootId]=n,this.setState({draft:n},()=>{const e=this.refs.textbox.getInputBox();z.yb(e,t.selectionStart,t.selectionEnd)})}),xr(this,"handleFileUploadChange",()=>{this.focusTextbox()}),xr(this,"handleUploadStart",e=>{const{draft:t}=this.state,a=[...t.uploadsInProgress,...e],n=jr(jr({},t),{},{uploadsInProgress:a});this.props.onUpdateCommentDraft(n),this.setState({draft:n}),this.draftsForPost[this.props.rootId]=n,this.focusTextbox()}),xr(this,"handleUploadProgress",({clientId:e,name:t,percent:a,type:n})=>{const s=jr(jr({},this.state.uploadsProgressPercent),{},{[e]:{percent:a,name:t,type:n}});this.setState({uploadsProgressPercent:s})}),xr(this,"handleFileUploadComplete",(e,t,a,n)=>{const s=this.draftsForPost[n],i=[...s.uploadsInProgress],r=Object(Gi.sortFileInfos)([...s.fileInfos,...e],this.props.locale);for(let e=0;e<t.length;e++){const a=i.indexOf(t[e]);-1!==a&&i.splice(a,1)}const o=jr(jr({},s),{},{fileInfos:r,uploadsInProgress:i});this.props.updateCommentDraftWithRootId(n,o),this.draftsForPost[n]=o,this.props.rootId===n&&this.setState({draft:o})}),xr(this,"handleUploadError",(e,t=-1,a,n=-1)=>{if(-1!==t){const e=jr({},this.draftsForPost[n]),a=[...e.uploadsInProgress],s=a.indexOf(t);-1!==s&&a.splice(s,1);const i=jr(jr({},e),{},{uploadsInProgress:a});this.props.updateCommentDraftWithRootId(n,i),this.draftsForPost[n]=i,this.props.rootId===n&&this.setState({draft:i})}let s=e;e&&"string"==typeof e&&(s=new Error(e)),this.setState({serverError:s},()=>{s&&this.scrollToBottom()})}),xr(this,"removePreview",e=>{const{draft:t}=this.state,a=[...t.fileInfos],n=[...t.uploadsInProgress];this.handleUploadError(null);let s=a.findIndex(t=>t.id===e);-1===s?(s=n.indexOf(e),-1!==s&&(n.splice(s,1),this.refs.fileUpload&&this.refs.fileUpload&&this.refs.fileUpload.cancelUpload(e))):a.splice(s,1);const i=jr(jr({},t),{},{fileInfos:a,uploadsInProgress:n});this.props.onUpdateCommentDraft(i),this.setState({draft:i}),this.draftsForPost[this.props.rootId]=i,this.handleFileUploadChange()}),xr(this,"getFileCount",()=>{const{draft:{fileInfos:e,uploadsInProgress:t}}=this.state;return e.length+t.length}),xr(this,"getFileUploadTarget",()=>this.refs.textbox),xr(this,"getCreateCommentControls",()=>this.refs.createCommentControls),xr(this,"focusTextbox",(e=!1)=>{!this.refs.textbox||!e&&y.p()||this.refs.textbox.focus()}),xr(this,"shouldEnableAddButton",()=>!!this.props.enableAddButton||Object(ca.m)(this.state.serverError)),xr(this,"showPostDeletedModal",()=>{this.setState({showPostDeletedModal:!0})}),xr(this,"hidePostDeletedModal",()=>{this.setState({showPostDeletedModal:!1}),this.props.resetCreatePostRequest()}),xr(this,"handleBlur",()=>{this.lastBlurAt=Date.now()}),xr(this,"handleHeightChange",(e,t)=>{this.setState({renderScrollbar:e>t}),window.requestAnimationFrame(()=>{this.refs.textbox&&this.setState({scrollbarWidth:z.vb(this.refs.textbox.getInputBox())})}),this.props.onHeightChange&&this.props.onHeightChange()}),this.state={showPostDeletedModal:!1,showConfirmModal:!1,showEmojiPicker:!1,channelTimezoneCount:0,uploadsProgressPercent:{},renderScrollbar:!1,scrollbarWidth:0,mentions:[],memberNotifyCount:0},this.lastBlurAt=0,this.draftsForPost={},this.doInitialScrollToBottom=!1}componentDidMount(){const{useGroupMentions:e,getChannelMemberCountsByGroup:t,channelId:a,clearCommentDraftUploads:n,onResetHistoryIndex:s,setShowPreview:i,draft:r}=this.props;n(),s(),i(!1),this.focusTextbox(),document.addEventListener("paste",this.pasteHandler),document.addEventListener("keydown",this.focusTextboxIfNecessary),e&&t(a),""!==r.message&&(this.doInitialScrollToBottom=!0)}componentWillUnmount(){this.props.resetCreatePostRequest(),document.removeEventListener("paste",this.pasteHandler),document.removeEventListener("keydown",this.focusTextboxIfNecessary),this.saveDraftFrame&&(cancelAnimationFrame(this.saveDraftFrame),this.props.onUpdateCommentDraft(this.state.draft))}componentDidUpdate(e,t){t.draft.uploadsInProgress.length<this.state.draft.uploadsInProgress.length&&this.scrollToBottom(),t.showEmojiPicker&&!this.state.showEmojiPicker&&this.focusTextbox(),e.shouldShowPreview&&!this.props.shouldShowPreview&&this.focusTextbox(),e.rootId===this.props.rootId&&e.selectedPostFocussedAt===this.props.selectedPostFocussedAt||(this.props.useGroupMentions&&this.props.getChannelMemberCountsByGroup(this.props.channelId),this.focusTextbox()),this.doInitialScrollToBottom&&(this.scrollToBottom(),this.doInitialScrollToBottom=!1)}render(){const{draft:e}=this.state,t=this.props.readOnlyChannel||!this.props.canPost,{formatMessage:a}=this.props.intl,n=this.shouldEnableAddButton(),{renderScrollbar:s,channelTimezoneCount:i,mentions:r,memberNotifyCount:o}=this.state,l=z.ob("accessibility.sections.rhsFooter","reply input region");let c="",d="";r.includes("@all")||r.includes("@channel")?(d=h.a.createElement(q.a,{id:"notify_all.title.confirm",defaultMessage:"Confirm sending notifications to entire channel"}),c=i>0?h.a.createElement(Pr.b,{id:"notify_all.question_timezone",defaultMessage:"By using **@all** or **@channel** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{totalMembers:o,timezones:i}}):h.a.createElement(Pr.b,{id:"notify_all.question",defaultMessage:"By using **@all** or **@channel** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?",values:{totalMembers:o}})):r.length>0&&(d=h.a.createElement(q.a,{id:"notify_all.title.confirm_groups",defaultMessage:"Confirm sending notifications to groups"}),c=1===r.length?i>0?h.a.createElement(Pr.b,{id:"notify_all.question_timezone_one_group",defaultMessage:"By using **{mention}** you are about to send notifications of up to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{mention:r[0],totalMembers:o,timezones:i}}):h.a.createElement(Pr.b,{id:"notify_all.question_one_group",defaultMessage:"By using **{mention}** you are about to send notifications of up to **{totalMembers} people**. Are you sure you want to do this?",values:{mention:r[0],totalMembers:o}}):i>0?h.a.createElement(Pr.b,{id:"notify_all.question_timezone_groups",defaultMessage:"By using **{mentions}** and **{finalMention}** you are about to send notifications of up to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{mentions:r.slice(0,-1).join(", "),finalMention:r[r.length-1],totalMembers:o,timezones:i}}):h.a.createElement(Pr.b,{id:"notify_all.question_groups",defaultMessage:"By using **{mentions}** and **{finalMention}** you are about to send notifications of up to **{totalMembers} people**. Are you sure you want to do this?",values:{mentions:r.slice(0,-1).join(", "),finalMention:r[r.length-1],totalMembers:o}}));const m=h.a.createElement(q.a,{id:"notify_all.confirm",defaultMessage:"Confirm"});let u=null;this.state.serverError&&(u=h.a.createElement(Rr,{id:"postServerError",error:this.state.serverError,submittedMessage:this.state.serverError.submittedMessage,handleSubmit:this.handleSubmit}));let p=null;if(this.state.postError){const e="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");p=h.a.createElement("label",{className:e},this.state.postError)}let g=null;!t&&(e.fileInfos.length>0||e.uploadsInProgress.length>0)&&(g=h.a.createElement(er,{fileInfos:e.fileInfos,onRemove:this.removePreview,uploadsInProgress:e.uploadsInProgress,uploadsProgressPercent:this.state.uploadsProgressPercent,ref:"preview"}));let b=null;e.uploadsInProgress.length>0&&(b=h.a.createElement("span",{className:"post-right-comments-upload-in-progress"},1===e.uploadsInProgress.length?h.a.createElement(q.a,{id:"create_comment.file",defaultMessage:"File uploading"}):h.a.createElement(q.a,{id:"create_comment.files",defaultMessage:"Files uploading"})));let f,_="btn btn-primary comment-btn";n||(_+=" disabled"),t||this.props.shouldShowPreview||(f=h.a.createElement(vr,{ref:"fileUpload",fileCount:this.getFileCount(),getTarget:this.getFileUploadTarget,onFileUploadChange:this.handleFileUploadChange,onUploadStart:this.handleUploadStart,onFileUpload:this.handleFileUploadComplete,onUploadError:this.handleUploadError,onUploadProgress:this.handleUploadProgress,rootId:this.props.rootId,postType:"comment"}));let C=null;const y=a({id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}).toLowerCase();let E;!this.props.enableEmojiPicker||t||this.props.shouldShowPreview||(C=h.a.createElement("div",null,h.a.createElement(Es,{show:this.state.showEmojiPicker,target:this.getCreateCommentControls,onHide:this.hideEmojiPicker,onEmojiClose:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick,onGifClick:this.handleGifClick,enableGifPicker:this.props.enableGifPicker,topOffset:55}),h.a.createElement("button",{"aria-label":y,type:"button",onClick:this.toggleEmojiPicker,className:la()("emoji-picker__container","post-action",{"post-action--active":this.state.showEmojiPicker})},h.a.createElement(An,{className:"icon icon--emoji emoji-rhs "})))),E=t?z.ob("create_post.read_only","This channel is read-only. Only members with permission can post here."):z.ob("create_comment.addComment","Add a comment...");let v="";s&&(v=" scroll");const w=this.refs.textbox;let O="top";if(w){w.getInputBox().getBoundingClientRect().top<fe.Z.SUGGESTION_LIST_SPACE_RHS&&(O="bottom")}return h.a.createElement("form",{onSubmit:this.handleSubmit},h.a.createElement("div",{role:"form",id:"rhsFooter","aria-label":l,tabIndex:"-1",className:"post-create a11y__region".concat(v),style:this.state.renderScrollbar&&this.state.scrollbarWidth?{"--detected-scrollbar-width":"".concat(this.state.scrollbarWidth,"px")}:void 0,"data-a11y-sort-order":"4"},h.a.createElement("div",{id:this.props.rootId,className:"post-create-body comment-create-body"},h.a.createElement("div",{className:"post-body__cell"},h.a.createElement(bt,{onChange:this.handleChange,onKeyPress:this.commentMsgKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onComposition:this.emitTypingEvent,onHeightChange:this.handleHeightChange,handlePostError:this.handlePostError,value:t?"":e.message,onBlur:this.handleBlur,createMessage:E,emojiEnabled:this.props.enableEmojiPicker,initialText:"",channelId:this.props.channelId,rootId:this.props.rootId,isRHS:!0,popoverMentionKeyClick:!0,id:"reply_textbox",ref:"textbox",disabled:t,characterLimit:this.props.maxPostSize,preview:this.props.shouldShowPreview,suggestionListStyle:O,badConnection:this.props.badConnection,listenForMentionKeyClick:!0,useChannelMentions:this.props.useChannelMentions}),h.a.createElement("span",{ref:"createCommentControls",className:"post-body__actions"},f,C))),h.a.createElement("div",{className:"post-create-footer"},h.a.createElement("div",{className:"d-flex justify-content-between"},h.a.createElement("div",{className:"col"},h.a.createElement(Tr,{channelId:this.props.channelId,postId:this.props.rootId}),p),h.a.createElement("div",{className:"col col-auto"},h.a.createElement(Ts,{characterLimit:this.props.maxPostSize,showPreview:this.props.shouldShowPreview,updatePreview:this.setShowPreview,message:t?"":this.state.message}))),h.a.createElement("div",{className:"text-right mt-2"},b,h.a.createElement("input",{type:"button",disabled:!n,id:"addCommentButton",className:_,value:a({id:"create_comment.comment",defaultMessage:"Add Comment"}),onClick:this.handleSubmit}),g,u))),h.a.createElement(Mr,{show:this.state.showPostDeletedModal,onHide:this.hidePostDeletedModal}),h.a.createElement(Ks.a,{title:d,message:c,confirmButtonText:m,show:this.state.showConfirmModal,onConfirm:this.handleNotifyAllConfirmation,onCancel:this.hideNotifyAllModal}))}}xr(kr,"propTypes",{channelId:u.a.string.isRequired,channelMembersCount:u.a.number.isRequired,rootId:u.a.string.isRequired,rootDeleted:u.a.bool.isRequired,messageInHistory:u.a.string,draft:u.a.shape({message:u.a.string.isRequired,uploadsInProgress:u.a.array.isRequired,fileInfos:u.a.array.isRequired}).isRequired,enableAddButton:u.a.bool.isRequired,codeBlockOnCtrlEnter:u.a.bool,ctrlSend:u.a.bool,latestPostId:u.a.string,locale:u.a.string.isRequired,createPostErrorId:u.a.string,clearCommentDraftUploads:u.a.func.isRequired,intl:X.a.isRequired,onUpdateCommentDraft:u.a.func.isRequired,updateCommentDraftWithRootId:u.a.func.isRequired,onSubmit:u.a.func.isRequired,onResetHistoryIndex:u.a.func.isRequired,onMoveHistoryIndexBack:u.a.func.isRequired,onMoveHistoryIndexForward:u.a.func.isRequired,onEditLatestPost:u.a.func.isRequired,getChannelTimezones:u.a.func.isRequired,resetCreatePostRequest:u.a.func.isRequired,readOnlyChannel:u.a.bool,enableConfirmNotificationsToChannel:u.a.bool.isRequired,enableEmojiPicker:u.a.bool.isRequired,enableGifPicker:u.a.bool.isRequired,badConnection:u.a.bool.isRequired,maxPostSize:u.a.number.isRequired,rhsExpanded:u.a.bool.isRequired,isTimezoneEnabled:u.a.bool.isRequired,selectedPostFocussedAt:u.a.number.isRequired,emitShortcutReactToLastPostFrom:u.a.func,canPost:u.a.bool.isRequired,useChannelMentions:u.a.bool.isRequired,useGroupMentions:u.a.bool.isRequired,setShowPreview:u.a.func.isRequired,shouldShowPreview:u.a.bool.isRequired,getChannelMemberCountsByGroup:u.a.func.isRequired,groupsWithAllowReference:u.a.object,channelMemberCountsByGroup:u.a.object,onHeightChange:u.a.func});var Dr=Object(Z.c)(kr);var Ur=Object(s.connect)((function(){const e=Object(R.makeGetMessageInHistoryItem)(W.Posts.MESSAGE_TYPES.COMMENT);return(t,a)=>{const n=t.requests.posts.createPost.error||{},s=Object(ui.i)(t,fe.N.COMMENT_DRAFT,a.rootId),o=0!==s.message.trim().length||0!==s.fileInfos.length,l=Object(B.getAllChannelStats)(t)[a.channelId]?Object(B.getAllChannelStats)(t)[a.channelId].member_count:1,c=e(t),d=t.entities.channels.channels[a.channelId]||{},m=Object(i.getConfig)(t),u=Object(i.getLicense)(t),p="true"===m.EnableConfirmNotificationsToChannel,h="true"===m.EnableEmojiPicker,g="true"===m.EnableGifPicker,b=Oi(t)>1,f="true"===m.ExperimentalTimezone,_=Object(A.haveIChannelPermission)(t,{channel:d.id,team:d.team_id,permission:W.Permissions.CREATE_POST}),C=Object(A.haveIChannelPermission)(t,{channel:d.id,team:d.team_id,permission:W.Permissions.USE_CHANNEL_MENTIONS}),y="true"===(null==u?void 0:u.IsLicensed)&&"true"===(null==u?void 0:u.LDAPGroups)&&Object(A.haveIChannelPermission)(t,{channel:d.id,team:d.team_id,permission:W.Permissions.USE_GROUP_MENTIONS}),E=Object(B.getChannelMemberCountsByGroup)(t,a.channelId),v=y?Object(I.getAssociatedGroupsForReferenceByMention)(t,d.team_id,d.id):null;return{draft:s,messageInHistory:c,enableAddButton:o,channelMembersCount:l,codeBlockOnCtrlEnter:Object(K.getBool)(t,W.Preferences.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:Object(K.getBool)(t,W.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),createPostErrorId:n.server_error_id,readOnlyChannel:!Object(r.isCurrentUserSystemAdmin)(t)&&"true"===m.ExperimentalTownSquareIsReadOnly&&d.name===fe.l.DEFAULT_CHANNEL,enableConfirmNotificationsToChannel:p,enableEmojiPicker:h,enableGifPicker:g,locale:Object(Mt.a)(t),maxPostSize:parseInt(m.MaxPostSize,10)||fe.l.DEFAULT_CHARACTER_LIMIT,rhsExpanded:Object(ui.a)(t),badConnection:b,isTimezoneEnabled:f,selectedPostFocussedAt:Object(ui.s)(t),canPost:_,useChannelMentions:C,shouldShowPreview:Xt(t),groupsWithAllowReference:v,useGroupMentions:y,channelMemberCountsByGroup:E}}}),(function(){let e,t,a,s,i,r,o,l;function c(){return Object(be.resetHistoryIndex)(W.Posts.MESSAGE_TYPES.COMMENT)}return(d,m)=>(r!==m.rootId&&(e=function(e){return t=>Ui(e,t)}(m.rootId),a=qi(m.rootId,-1),s=qi(m.rootId,1)),r===m.rootId&&o===m.channelId||(i=Bi(m.channelId,m.rootId)),r===m.rootId&&o===m.channelId&&l===m.latestPostId||(t=Fi(m.channelId,m.rootId,m.latestPostId)),r=m.rootId,o=m.channelId,l=m.latestPostId,Object(n.bindActionCreators)({clearCommentDraftUploads:Di,onUpdateCommentDraft:e,updateCommentDraftWithRootId:Ui,onSubmit:t,onResetHistoryIndex:c,onMoveHistoryIndexBack:a,onMoveHistoryIndexForward:s,onEditLatestPost:i,resetCreatePostRequest:be.resetCreatePostRequest,getChannelTimezones:ge.getChannelTimezones,emitShortcutReactToLastPostFrom:ta.d,setShowPreview:Yt,getChannelMemberCountsByGroup:ge.getChannelMemberCountsByGroup},d))}),null,{forwardRef:!0})(Dr),qr=a(1444);a(1730);class Hr extends h.a.PureComponent{render(){const{children:e}=this.props;return h.a.createElement("div",{"data-testid":"basicSeparator",className:"Separator BasicSeparator"},h.a.createElement("hr",{className:"separator__hr"}),e&&h.a.createElement("div",{className:"separator__text"},e))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Hr,"propTypes",{children:u.a.node});const Fr=[qr.a.TODAY_TITLE_CASE,qr.a.YESTERDAY_TITLE_CASE],Br=({date:e})=>h.a.createElement(Hr,null,h.a.createElement(qr.b,{value:e,useTime:!1,useSemanticOutput:!1,ranges:Fr}));Br.propTypes={date:u.a.oneOfType([u.a.number,u.a.instanceOf(Date)]).isRequired};var Gr=Object(p.memo)(Br),Vr=a(46),Wr=a(1615);const zr=[qr.a.TODAY_TITLE_CASE,qr.a.YESTERDAY_TITLE_CASE];class Yr extends h.a.PureComponent{render(){const{isMobile:e,createAt:t,isScrolling:a,isRhsPost:n,toastPresent:s}=this.props;if(!e||0===t)return null;const i=la()("post-list__timestamp",{scrolling:a,rhs:n,toastAdjustment:s});return h.a.createElement("div",{className:i,"data-testid":"floatingTimestamp"},h.a.createElement("div",null,h.a.createElement("span",null,h.a.createElement(qr.b,{value:t,useTime:!1,ranges:zr}))))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Yr,"propTypes",{isScrolling:u.a.bool.isRequired,isMobile:u.a.bool.isRequired,createAt:u.a.oneOfType([u.a.instanceOf(Date),u.a.number]).isRequired,toastPresent:u.a.bool.isRequired,isRhsPost:u.a.bool.isRequired});var Kr=Object(s.connect)((function(e,t){let a=t.postId;if(Vr.isCombinedUserActivityPost(a)){const e=Vr.getPostIdsForCombinedUserActivityPost(a);a=e[e.length-1]}const n=Object(R.getPost)(e,a),s=Object(Wr.b)(e);return{createAt:n?n.create_at:0,toastPresent:s}}))(Yr);class Zr extends h.a.PureComponent{render(){const{hasPermission:e,children:t,invert:a=!1}=this.props;return e&&!a||!e&&a?t:null}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Zr,"propTypes",{channelId:u.a.string,teamId:u.a.string,permissions:u.a.arrayOf(u.a.string).isRequired,hasPermission:u.a.bool.isRequired,invert:u.a.bool,children:u.a.node.isRequired});var Jr=Object(s.connect)((function(e,t){if(!t.channelId||null===t.teamId||void 0===t.teamId)return{hasPermission:!1};for(const a of t.permissions)if(Object(A.haveIChannelPermission)(e,{channel:t.channelId,team:t.teamId,permission:a}))return{hasPermission:!0};return{hasPermission:!1}}))(Zr);class Xr extends h.a.PureComponent{render(){return h.a.createElement("span",this.props,h.a.createElement("svg",{width:"14px",height:"4px",viewBox:"0 0 14 4",role:"img","aria-label":"dots horizontal icon"},h.a.createElement("path",{d:"M10.2 2.00001C10.2 1.56267 10.3547 1.18934 10.664 0.880006C10.984 0.560006 11.3627 0.400006 11.8 0.400006C12.2373 0.400006 12.6107 0.560006 12.92 0.880006C13.24 1.18934 13.4 1.56267 13.4 2.00001C13.4 2.43734 13.24 2.81601 12.92 3.13601C12.6107 3.44534 12.2373 3.60001 11.8 3.60001C11.3627 3.60001 10.984 3.44534 10.664 3.13601C10.3547 2.81601 10.2 2.43734 10.2 2.00001ZM5.4 2.00001C5.4 1.56267 5.55467 1.18934 5.864 0.880006C6.184 0.560006 6.56267 0.400006 7 0.400006C7.43733 0.400006 7.81067 0.560006 8.12 0.880006C8.44 1.18934 8.6 1.56267 8.6 2.00001C8.6 2.43734 8.44 2.81601 8.12 3.13601C7.81067 3.44534 7.43733 3.60001 7 3.60001C6.56267 3.60001 6.184 3.44534 5.864 3.13601C5.55467 2.81601 5.4 2.43734 5.4 2.00001ZM0.6 2.00001C0.6 1.56267 0.754667 1.18934 1.064 0.880006C1.384 0.560006 1.76267 0.400006 2.2 0.400006C2.63733 0.400006 3.01067 0.560006 3.32 0.880006C3.64 1.18934 3.8 1.56267 3.8 2.00001C3.8 2.43734 3.64 2.81601 3.32 3.13601C3.01067 3.44534 2.63733 3.60001 2.2 3.60001C1.76267 3.60001 1.384 3.44534 1.064 3.13601C0.754667 2.81601 0.6 2.43734 0.6 2.00001Z"})))}}function Qr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class $r extends h.a.PureComponent{constructor(e){super(e),Qr(this,"handleEditDisable",()=>{this.setState({canEdit:!1})}),Qr(this,"handleFlagMenuItemActivated",()=>{this.props.isFlagged?this.props.actions.unflagPost(this.props.post.id):this.props.actions.flagPost(this.props.post.id)}),Qr(this,"handleAddReactionMenuItemActivated",e=>{e.preventDefault(),this.props.handleAddReactionClick&&this.props.handleAddReactionClick()}),Qr(this,"copyLink",()=>{z.i("".concat(this.props.currentTeamUrl,"/pl/").concat(this.props.post.id))}),Qr(this,"handlePinMenuItemActivated",()=>{this.props.post.is_pinned?this.props.actions.unpinPost(this.props.post.id):this.props.actions.pinPost(this.props.post.id)}),Qr(this,"handleUnreadMenuItemActivated",e=>{e.preventDefault(),this.props.actions.markPostAsUnread(this.props.post)}),Qr(this,"handleDeleteMenuItemActivated",e=>{e.preventDefault();const t={ModalId:fe.y.DELETE_POST,dialogType:fa,dialogProps:{post:this.props.post,commentCount:this.props.commentCount,isRHS:this.props.location===fe.x.RHS_ROOT||this.props.location===fe.x.RHS_COMMENT}};this.props.actions.openModal(t)}),Qr(this,"handleEditMenuItemActivated",()=>{this.props.actions.setEditingPost(this.props.post.id,this.props.commentCount,this.props.location===fe.x.CENTER?"post_textbox":"reply_textbox",this.props.post.root_id?z.ob("rhs_comment.comment","Comment"):z.ob("create_post.post","Post"),this.props.location===fe.x.RHS_ROOT||this.props.location===fe.x.RHS_COMMENT)}),Qr(this,"tooltip",h.a.createElement(Vi.a,{id:"dotmenu-icon-tooltip",className:"hidden-xs"},h.a.createElement(q.a,{id:"post_info.dot_menu.tooltip.more_actions",defaultMessage:"More actions"}))),Qr(this,"refCallback",e=>{if(e){const t=e.rect(),a=this.buttonRef.current.getBoundingClientRect(),n=void 0===a.y?a.top:a.y,s=window.innerHeight-80,i=n-fe.l.CHANNEL_HEADER_HEIGHT,r=s-(i+fe.l.POST_AREA_HEIGHT);this.setState({openUp:i>r,width:t.width})}}),Qr(this,"renderDivider",e=>h.a.createElement("li",{id:"divider_post_".concat(this.props.post.id,"_").concat(e),className:"MenuItem__divider",role:"menuitem"})),this.editDisableAction=new wi(this.handleEditDisable),this.state={openUp:!1,width:0,canEdit:e.canEdit&&!e.isReadOnly},this.buttonRef=h.a.createRef()}disableCanEditPostByTime(){const{post:e,isLicensed:t,postEditTimeLimit:a}=this.props,{canEdit:n}=this.state;if(n&&t&&String(a)!==String(fe.l.UNSET_POST_EDIT_TIME_LIMIT)){const t=1e3,n=e.create_at+a*t-z.L();n>0&&this.editDisableAction.fireAfter(n+t)}}componentDidMount(){this.disableCanEditPostByTime()}static getDerivedStateFromProps(e){return{canEdit:e.canEdit&&!e.isReadOnly,canDelete:e.canDelete&&!e.isReadOnly}}componentWillUnmount(){this.editDisableAction.cancel()}render(){const e=ca.p(this.props.post),t=z.fb(),a=this.props.pluginMenuItems.filter(e=>e.filter?e.filter(this.props.post.id):e).map(e=>e.subMenu?h.a.createElement(pr.a.ItemSubMenu,{key:e.id+"_pluginmenuitem",id:e.text.id,postId:this.props.post.id,text:e.text,subMenu:e.subMenu,action:e.action,xOffset:this.state.width,root:!0}):h.a.createElement(pr.a.ItemAction,{key:e.id+"_pluginmenuitem",text:e.text,onClick:()=>{e.action&&e.action(this.props.post.id)}}));return this.state.canDelete||this.state.canEdit||0!==a.length||!e?h.a.createElement(ur.a,{onToggle:this.props.handleDropdownOpened},h.a.createElement(Wi.a,{className:"hidden-xs",delayShow:500,placement:"top",overlay:this.tooltip,rootClose:!0},h.a.createElement("button",{ref:this.buttonRef,id:"".concat(this.props.location,"_button_").concat(this.props.post.id),"aria-label":z.ob("post_info.dot_menu.tooltip.more_actions","More actions").toLowerCase(),className:la()("post-menu__item",{"post-menu__item--active":this.props.isMenuOpen}),type:"button","aria-expanded":"false"},h.a.createElement(Xr,{className:"icon icon--small"}))),h.a.createElement(pr.a,{id:"".concat(this.props.location,"_dropdown_").concat(this.props.post.id),openLeft:!0,openUp:this.state.openUp,ref:this.refCallback,ariaLabel:z.ob("post_info.menuAriaLabel","Post extra options")},h.a.createElement(pr.a.ItemAction,{show:!e&&this.props.location===fe.x.CENTER,text:z.ob("post_info.reply","Reply"),onClick:this.props.handleCommentClick}),h.a.createElement(Jr,{channelId:this.props.post.channel_id,teamId:this.props.teamId,permissions:[x.a.ADD_REACTION]},h.a.createElement(pr.a.ItemAction,{show:t&&!e&&!this.props.isReadOnly&&this.props.enableEmojiPicker,text:z.ob("rhs_root.mobile.add_reaction","Add Reaction"),onClick:this.handleAddReactionMenuItemActivated})),h.a.createElement(pr.a.ItemAction,{id:"unread_post_".concat(this.props.post.id),show:!e&&!this.props.channelIsArchived&&this.props.location!==fe.x.SEARCH,text:z.ob("post_info.unread","Mark as Unread"),onClick:this.handleUnreadMenuItemActivated}),h.a.createElement(pr.a.ItemAction,{id:"permalink_".concat(this.props.post.id),show:!e,text:z.ob("post_info.permalink","Copy Link"),onClick:this.copyLink}),h.a.createElement(pr.a.ItemAction,{show:t&&!e&&this.props.isFlagged,text:z.ob("rhs_root.mobile.unflag","Remove from Saved"),onClick:this.handleFlagMenuItemActivated}),h.a.createElement(pr.a.ItemAction,{show:t&&!e&&!this.props.isFlagged,text:z.ob("rhs_root.mobile.flag","Save"),onClick:this.handleFlagMenuItemActivated}),h.a.createElement(pr.a.ItemAction,{id:"unpin_post_".concat(this.props.post.id),show:!e&&!this.props.isReadOnly&&this.props.post.is_pinned,text:z.ob("post_info.unpin","Unpin"),onClick:this.handlePinMenuItemActivated}),h.a.createElement(pr.a.ItemAction,{id:"pin_post_".concat(this.props.post.id),show:!e&&!this.props.isReadOnly&&!this.props.post.is_pinned,text:z.ob("post_info.pin","Pin"),onClick:this.handlePinMenuItemActivated}),!e&&(this.state.canEdit||this.state.canDelete)&&this.renderDivider("edit"),h.a.createElement(pr.a.ItemAction,{id:"edit_post_".concat(this.props.post.id),show:this.state.canEdit,text:z.ob("post_info.edit","Edit"),onClick:this.handleEditMenuItemActivated}),h.a.createElement(pr.a.ItemAction,{id:"delete_post_".concat(this.props.post.id),show:this.state.canDelete,text:z.ob("post_info.del","Delete"),onClick:this.handleDeleteMenuItemActivated,isDangerous:!0}),(a.length>0||this.props.components.PostDropdownMenuItem&&this.props.components.PostDropdownMenuItem.length>0)&&this.renderDivider("plugins"),a,h.a.createElement(Et.a,{postId:this.props.post.id,pluggableName:"PostDropdownMenuItem"}))):null}}Qr($r,"propTypes",{post:u.a.object.isRequired,teamId:u.a.string,location:u.a.oneOf([fe.x.CENTER,fe.x.RHS_ROOT,fe.x.RHS_COMMENT,fe.x.SEARCH]),commentCount:u.a.number,isFlagged:u.a.bool,handleCommentClick:u.a.func,handleDropdownOpened:u.a.func,handleAddReactionClick:u.a.func,isMenuOpen:u.a.bool,isReadOnly:u.a.bool,pluginMenuItems:u.a.arrayOf(u.a.object),isLicensed:u.a.bool,postEditTimeLimit:u.a.string,enableEmojiPicker:u.a.bool.isRequired,channelIsArchived:u.a.bool,currentTeamUrl:u.a.string,components:u.a.object,actions:u.a.shape({flagPost:u.a.func.isRequired,unflagPost:u.a.func.isRequired,setEditingPost:u.a.func.isRequired,pinPost:u.a.func.isRequired,unpinPost:u.a.func.isRequired,openModal:u.a.func.isRequired,markPostAsUnread:u.a.func.isRequired}),canEdit:u.a.bool,canDelete:u.a.bool}),Qr($r,"defaultProps",{post:{},commentCount:0,isFlagged:!1,isReadOnly:!1,pluginMenuItems:[],location:fe.x.CENTER,enableEmojiPicker:!1});var eo=Object(s.connect)((function(e,t){const{post:a}=t,n=Object(i.getLicense)(e),s=Object(i.getConfig)(e),l=Object(r.getCurrentUserId)(e),c=Object(B.getChannel)(e,t.post.channel_id),d=Object(o.getCurrentTeam)(e)||{},m="".concat(Object(Mi.e)(),"/").concat(d.name);return{channelIsArchived:Object(G.c)(c),components:e.plugins.components,postEditTimeLimit:Object(i.getConfig)(e).PostEditTimeLimit,isLicensed:"true"===Object(i.getLicense)(e).IsLicensed,teamId:Object(o.getCurrentTeamId)(e),pluginMenuItems:e.plugins.components.PostDropdownMenu,shouldShowDotMenu:ca.u(e,a,c),canEdit:ca.b(e,a,n,s,c,l),canDelete:ca.a(e,a,c),currentTeamUrl:m}}),(function(e){return{actions:Object(n.bindActionCreators)({flagPost:ta.e,unflagPost:ta.n,setEditingPost:ta.l,pinPost:ta.i,unpinPost:ta.o,openModal:_t.b,markPostAsUnread:ta.h},e)}}))($r);class to extends h.a.PureComponent{render(){const{fileInfo:e}=this.props,t=Object(z.B)(e.extension);let a;if(t===fe.r.IMAGE){let t="post-image";e.width<fe.Z.THUMBNAIL_WIDTH&&e.height<fe.Z.THUMBNAIL_HEIGHT?t+=" small":t+=" normal";let a=Object(Gi.getFileThumbnailUrl)(e.id);return Object(z.ab)(e.extension)&&!e.has_preview_image&&(a=Object(Gi.getFileUrl)(e.id)),h.a.createElement("div",{className:t,style:{backgroundImage:"url(".concat(a,")"),backgroundSize:"cover"}})}return a=e.extension===fe.r.SVG&&this.props.enableSVGs?h.a.createElement("img",{alt:"file thumbnail image",className:"post-image normal",src:Object(Gi.getFileUrl)(e.id)}):h.a.createElement("div",{className:"file-icon "+Object(z.D)(t)}),a}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(to,"propTypes",{enableSVGs:u.a.bool.isRequired,fileInfo:u.a.any.isRequired});var ao=Object(s.connect)((function(e){return{enableSVGs:"true"===Object(i.getConfig)(e).EnableSVGs}}))(to);function no(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class so extends h.a.PureComponent{constructor(e){super(e),no(this,"mounted",!1),no(this,"loadFiles",()=>{const e=this.props.fileInfo;if(Object(z.B)(e.extension)===fe.r.IMAGE){const t=Object(Gi.getFileThumbnailUrl)(e.id);Object(z.nb)(t,this.handleImageLoaded)}else e.extension===fe.r.SVG&&this.props.enableSVGs&&Object(z.nb)(Object(Gi.getFileUrl)(e.id),this.handleImageLoaded)}),no(this,"handleImageLoaded",()=>{this.mounted&&this.setState({loaded:!0})}),no(this,"onAttachmentClick",e=>{e.preventDefault(),"blur"in e.target&&e.target.blur(),this.props.handleImageClick&&this.props.handleImageClick(this.props.index)}),this.state={loaded:Object(z.B)(e.fileInfo.extension)!==fe.r.IMAGE,fileInfo:e.fileInfo}}componentDidMount(){this.mounted=!0,this.loadFiles()}static getDerivedStateFromProps(e,t){if(e.fileInfo.id!==t.fileInfo.id){const t=e.fileInfo.extension;return{loaded:Object(z.B)(t)!==fe.r.IMAGE&&!(e.enableSVGs&&t===fe.r.SVG),fileInfo:e.fileInfo}}return null}componentDidUpdate(e){this.state.loaded||this.props.fileInfo.id===e.fileInfo.id||this.loadFiles()}componentWillUnmount(){this.mounted=!1}render(){const{compactDisplay:e,fileInfo:t}=this.props,a=Object(Yi.f)(t.name);let n,s;const i="".concat(Object(z.ob)("file_attachment.thumbnail","file thumbnail")," ").concat(t.name).toLowerCase();let r;return e||(n=h.a.createElement("a",{"aria-label":i,className:"post-image__thumbnail",href:"#",onClick:this.onAttachmentClick},this.state.loaded?h.a.createElement(ao,{fileInfo:t}):h.a.createElement("div",{className:"post-image__load"})),s=h.a.createElement("div",{className:"post-image__detail_wrapper",onClick:this.onAttachmentClick},h.a.createElement("div",{className:"post-image__detail"},h.a.createElement("span",{className:"post-image__name"},a),h.a.createElement("span",{className:"post-image__type"},t.extension.toUpperCase()),h.a.createElement("span",{className:"post-image__size"},Object(z.p)(t.size))))),this.props.canDownloadFiles&&(r=h.a.createElement(Ki,{fileInfo:t,compactDisplay:e,canDownload:this.props.canDownloadFiles,handleImageClick:this.onAttachmentClick,iconClass:"post-image__download"},h.a.createElement("i",{className:"icon icon-download-outline"}))),h.a.createElement("div",{className:"post-image__column"},n,h.a.createElement("div",{className:"post-image__details"},s,r))}}no(so,"propTypes",{fileInfo:u.a.any.isRequired,index:u.a.number.isRequired,handleImageClick:u.a.func,compactDisplay:u.a.bool,canDownloadFiles:u.a.bool,enableSVGs:u.a.bool.isRequired});var io=Object(s.connect)((function(e){const t=Object(i.getConfig)(e);return{canDownloadFiles:Object(Yi.a)(t),enableSVGs:"true"===t.EnableSVGs}}))(so),ro=a(1424),oo=a(1499);function lo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class co extends h.a.PureComponent{constructor(e){var t,a;super(e),lo(this,"mounted",void 0),lo(this,"imageLoaded",()=>{this.mounted&&this.setState({loaded:!0})}),lo(this,"handleImageClick",e=>{e.preventDefault(),this.setState({showPreviewModal:!0})}),lo(this,"showPreviewModal",()=>{this.setState({showPreviewModal:!1})}),lo(this,"toggleEmbedVisibility",()=>{this.props.actions.toggleEmbedVisibility(this.props.postId)}),this.mounted=!0,this.state={loaded:!1,showPreviewModal:!1,dimensions:{width:(null===(t=e.fileInfo)||void 0===t?void 0:t.width)||0,height:(null===(a=e.fileInfo)||void 0===a?void 0:a.height)||0}}}componentDidMount(){this.mounted=!0}static getDerivedStateFromProps(e,t){var a,n,s;return(null===(a=e.fileInfo)||void 0===a?void 0:a.width)!==t.dimensions.width||e.fileInfo.height!==t.dimensions.height?{dimensions:{width:null===(n=e.fileInfo)||void 0===n?void 0:n.width,height:null===(s=e.fileInfo)||void 0===s?void 0:s.height}}:null}componentWillUnmount(){this.mounted=!1}render(){const{fileInfo:e,compactDisplay:t}=this.props,{loaded:a}=this.state;if(void 0===e)return h.a.createElement(h.a.Fragment,null);const{has_preview_image:n,id:s}=e,i=Object(Gi.getFileUrl)(s),r=n?Object(Gi.getFilePreviewUrl)(s):i,o=e.height,l=e.width;let c="";(l<50||o<50)&&(c="min-preview ",o>l&&(c+="min-preview--portrait ")),t&&(c+=" compact-display");const d=h.a.createElement("button",{key:"toggle",className:"style--none post__embed-visibility","data-expanded":this.props.isEmbedVisible,"aria-label":"Toggle Embed Visibility",onClick:this.toggleEmbedVisibility});let m="image-name";t&&(m+=" compact-display");const u=h.a.createElement("div",{"data-testid":"image-name",className:m},h.a.createElement("div",{onClick:this.handleImageClick},e.name),d);let p,g="";let b={},f={},_="";return Object(z.B)(e.extension)===fe.r.SVG&&(_="svg",this.state.dimensions.height?b={width:"100%"}:f={height:350,maxWidth:"100%"}),a&&(p=h.a.createElement(oo.a,{show:this.state.showPreviewModal,onModalDismissed:this.showPreviewModal,fileInfos:[e],postId:this.props.postId}),g="image-fade-in"),h.a.createElement("div",{className:"file-view--single"},h.a.createElement("div",{className:"file__image"},u,this.props.isEmbedVisible&&h.a.createElement("div",{className:"image-container",style:f},h.a.createElement("div",{className:"image-loaded ".concat(g," ").concat(_),style:b},h.a.createElement(ro.a,{onClick:this.handleImageClick,className:c,src:r,dimensions:this.state.dimensions,fileInfo:this.props.fileInfo,onImageLoaded:this.imageLoaded,showLoader:this.props.isEmbedVisible,handleSmallImageContainer:!0}))),p))}}lo(co,"propTypes",{postId:u.a.string.isRequired,fileInfo:u.a.any,isRhsOpen:u.a.bool.isRequired,compactDisplay:u.a.bool,isEmbedVisible:u.a.bool,actions:u.a.shape({toggleEmbedVisibility:u.a.func.isRequired}).isRequired}),lo(co,"defaultProps",{compactDisplay:!1});var mo=Object(s.connect)((function(e){return{isRhsOpen:Object(ui.c)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({toggleEmbedVisibility:ta.m},e)}}))(co);function uo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class po extends h.a.PureComponent{constructor(e){super(e),uo(this,"handleImageClick",e=>{this.setState({showPreviewModal:!0,startImgIndex:e})}),uo(this,"hidePreviewModal",()=>{this.setState({showPreviewModal:!1})}),this.state={showPreviewModal:!1,startImgIndex:0}}render(){const{compactDisplay:e,enableSVGs:t,fileInfos:a,fileCount:n,locale:s}=this.props;if(a&&1===a.length){const n=Object(z.B)(a[0].extension);if(n===fe.r.IMAGE||n===fe.r.SVG&&t)return h.a.createElement(mo,{fileInfo:a[0],isEmbedVisible:this.props.isEmbedVisible,postId:this.props.post.id,compactDisplay:e})}else if(1===n&&this.props.isEmbedVisible)return h.a.createElement("div",{style:ho.minHeightPlaceholder});const i=Object(Gi.sortFileInfos)(a,s),r=[];if(i&&i.length>0)for(let t=0;t<i.length;t++){const a=i[t];r.push(h.a.createElement(io,{key:a.id,fileInfo:i[t],index:t,handleImageClick:this.handleImageClick,compactDisplay:e}))}else if(n>0)for(let e=0;e<n;e++)r.push(h.a.createElement("div",{key:"fileCount-".concat(e),className:"post-image__column post-image__column--placeholder"}));return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{"data-testid":"fileAttachmentList",className:"post-image__columns clearfix"},r),h.a.createElement(oo.a,{show:this.state.showPreviewModal,onModalDismissed:this.hidePreviewModal,startIndex:this.state.startImgIndex,fileInfos:i,postId:this.props.post.id}))}}uo(po,"propTypes",{post:u.a.object.isRequired,fileCount:u.a.number.isRequired,fileInfos:u.a.arrayOf(u.a.object),compactDisplay:u.a.bool,enableSVGs:u.a.bool,isEmbedVisible:u.a.bool,locale:u.a.string.isRequired});const ho={minHeightPlaceholder:{minHeight:"385px"}};var go=Object(s.connect)((function(){const e=Object(js.makeGetFilesForPost)();return function(t,a){const n=a.post?a.post.id:"",s=e(t,n);let r=0;return a.post.metadata&&a.post.metadata.files?r=(a.post.metadata.files||[]).length:a.post.file_ids?r=a.post.file_ids.length:a.post.filenames&&(r=a.post.filenames.length),{enableSVGs:"true"===Object(i.getConfig)(t).EnableSVGs,fileInfos:s,fileCount:r,isEmbedVisible:Object(ia.b)(t,a.post.id),locale:Object(Mt.a)(t)}}}))(po),bo=a(1340),fo=a(1477);function _o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Co extends h.a.PureComponent{constructor(...e){super(...e),_o(this,"getProfilePictureURL",()=>{const{post:e,user:t}=this.props;return t&&t.id===e.user_id?z.R(t.id,t.last_picture_update):e.user_id?z.R(e.user_id):""}),_o(this,"getStatus",(e,t,a)=>e||t||a&&a.is_bot?"":this.props.status),_o(this,"getPostIconURL",(e,t,a)=>{const{enablePostIconOverride:n,hasImageProxy:s,post:i}=this.props,r=i.props;let o="",l="";return r&&(o=r.override_icon_url,l=r.use_user_icon),this.props.compactDisplay?"":!t&&a&&!l&&n?o&&""!==o?ca.f(o,s):fe.Z.DEFAULT_WEBHOOK_LOGO:e})}render(){const{compactDisplay:e,isBusy:t,isRHS:a,post:n,user:s,isBot:i}=this.props,r=ca.p(n),o=ca.n(n);if(r&&!e&&!o&&!i)return h.a.createElement(fo.a,{className:"icon"});const l=ca.e(n),c=!l&&!o,d=this.getProfilePictureURL(),m=this.getPostIconURL(d,l,o),u=n.props?n.props.override_icon_emoji:"",p=n.props?n.props.override_username:"",g="string"==typeof u&&""!==u,b=this.getStatus(l,o,s);return h.a.createElement(bo.a,{hasMention:c,isBusy:t,isRHS:a,size:"md",src:m,profileSrc:d,isEmoji:g,status:b,userId:s?s.id:null,username:s?s.username:null,overwriteIcon:this.props.overwriteIcon,overwriteName:p,post:this.props.post})}}_o(Co,"propTypes",{compactDisplay:u.a.bool.isRequired,enablePostIconOverride:u.a.bool.isRequired,hasImageProxy:u.a.bool.isRequired,isBusy:u.a.bool,isRHS:u.a.bool,post:u.a.object.isRequired,status:u.a.string,user:u.a.object,isBot:u.a.bool,postIconOverrideURL:u.a.string,overwriteIcon:u.a.string}),_o(Co,"defaultProps",{status:fe.U.OFFLINE});var yo=Object(s.connect)((function(e,t){const a=Object(i.getConfig)(e),n=Object(r.getUser)(e,t.userId),s="true"===a.EnablePostIconOverride&&t.post&&t.post.props&&t.post.props.override_icon_url;let o;return s&&(o=d.Client4.getAbsoluteUrl(s)),{enablePostIconOverride:"true"===a.EnablePostIconOverride,overwriteIcon:o,hasImageProxy:"true"===a.HasImageProxy,status:Object(r.getStatusForUserId)(e,t.userId),isBot:Boolean(n&&n.is_bot),user:n}}))(Co);function Eo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function vo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class wo extends h.a.PureComponent{constructor(...e){super(...e),vo(this,"retryPost",e=>{e.preventDefault();const t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(a),!0).forEach((function(t){vo(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Eo(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.props.post);Reflect.deleteProperty(t,"id"),this.props.actions.createPost(t)}),vo(this,"cancelPost",e=>{e.preventDefault(),this.props.actions.removePost(this.props.post)})}render(){return h.a.createElement("span",{className:"pending-post-actions"},h.a.createElement("a",{className:"post-retry",href:"#",onClick:this.retryPost},h.a.createElement(q.a,{id:"pending_post_actions.retry",defaultMessage:"Retry"}))," - ",h.a.createElement("a",{className:"post-cancel",href:"#",onClick:this.cancelPost},h.a.createElement(q.a,{id:"pending_post_actions.cancel",defaultMessage:"Cancel"})))}}vo(wo,"propTypes",{post:u.a.any.isRequired,actions:u.a.shape({createPost:u.a.func.isRequired,removePost:u.a.func.isRequired}).isRequired});var Oo=Object(s.connect)(null,(function(e){return{actions:Object(n.bindActionCreators)({createPost:ta.b,removePost:be.removePost},e)}}))(wo);function So(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"12px",height:"15px",viewBox:"0 0 12 15",role:"img","aria-label":t({id:"generic_icons.flagged",defaultMessage:"Flagged Icon"})},h.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},h.a.createElement("g",{transform:"translate(-1073.000000, -33.000000)",fillRule:"nonzero",fill:"inherit"},h.a.createElement("g",{transform:"translate(-1.000000, 0.000000)"},h.a.createElement("g",{transform:"translate(1064.000000, 22.000000)"},h.a.createElement("g",{transform:"translate(10.000000, 11.000000)"},h.a.createElement("path",{d:"M9.76172 0.800049H2.23828C1.83984 0.800049 1.48828 0.952393 1.18359 1.25708C0.902344 1.53833 0.761719 1.88989 0.761719 2.31177V14.3L6 12.05L11.2383 14.3V2.31177C11.2383 1.88989 11.0859 1.53833 10.7812 1.25708C10.5 0.952393 10.1602 0.800049 9.76172 0.800049Z"}))))))))}function To(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Mo extends h.a.PureComponent{constructor(){super(),To(this,"handlePress",e=>{e.preventDefault();const{actions:t,isFlagged:a,postId:n}=this.props;a?t.unflagPost(n):t.flagPost(n)}),To(this,"handleA11yActivateEvent",()=>{this.setState({a11yActive:!0})}),To(this,"handleA11yDeactivateEvent",()=>{this.setState({a11yActive:!1})}),this.buttonRef=h.a.createRef(),this.state={a11yActive:!1}}componentDidMount(){this.buttonRef.current&&(this.buttonRef.current.addEventListener(fe.c.ACTIVATE,this.handleA11yActivateEvent),this.buttonRef.current.addEventListener(fe.c.DEACTIVATE,this.handleA11yDeactivateEvent))}componentWillUnmount(){this.buttonRef.current&&(this.buttonRef.current.removeEventListener(fe.c.ACTIVATE,this.handleA11yActivateEvent),this.buttonRef.current.removeEventListener(fe.c.DEACTIVATE,this.handleA11yDeactivateEvent))}componentDidUpdate(){this.state.a11yActive&&this.buttonRef.current&&this.buttonRef.current.dispatchEvent(new Event(fe.c.UPDATE))}render(){const e=this.props.isFlagged;let t;return t=e?h.a.createElement(So,{className:la()("icon","icon--small","icon--small-filled",{"post-menu__item--selected":e})}):h.a.createElement(qn,{className:la()("icon","icon--small")}),h.a.createElement(Wi.a,{className:"hidden-xs",key:"flagtooltipkey".concat(e?"flagged":""),delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:h.a.createElement(Vi.a,{id:"flagTooltip",className:"hidden-xs"},h.a.createElement(q.a,{id:e?Object(J.b)("flag_post.unflag"):Object(J.b)("flag_post.flag"),defaultMessage:e?"Remove from Saved":"Save"}))},h.a.createElement("button",{ref:this.buttonRef,id:"".concat(this.props.location,"_flagIcon_").concat(this.props.postId),"aria-label":e?Object(z.ob)("flag_post.unflag","Remove from Saved").toLowerCase():Object(z.ob)("flag_post.flag","Save").toLowerCase(),className:"post-menu__item",onClick:this.handlePress},t))}}To(Mo,"propTypes",{location:u.a.oneOf([fe.x.CENTER,fe.x.RHS_ROOT,fe.x.RHS_COMMENT,fe.x.SEARCH]).isRequired,postId:u.a.string.isRequired,isFlagged:u.a.bool.isRequired,actions:u.a.shape({flagPost:u.a.func.isRequired,unflagPost:u.a.func.isRequired}).isRequired}),To(Mo,"defaultProps",{location:fe.x.CENTER});var Po=Object(s.connect)(null,(function(e){return{actions:Object(n.bindActionCreators)({flagPost:ta.e,unflagPost:ta.n},e)}}))(Mo);function No(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Io=[qr.a.TODAY_TITLE_CASE,qr.a.YESTERDAY_TITLE_CASE];class Ro extends h.a.PureComponent{constructor(...e){super(...e),No(this,"handleClick",()=>{Object(z.fb)()&&w.c()})}render(){const{eventTime:e,isPermalink:t,location:a,postId:n,teamUrl:s}=this.props,i=h.a.createElement(qr.b,{value:e,className:"post__time",useDate:!1}),r=Object(y.p)()||!t?h.a.createElement("div",{role:"presentation",className:"post_permalink_mobile_view"},i):h.a.createElement(vs.Link,{id:"".concat(a,"_time_").concat(n),to:"".concat(s,"/pl/").concat(n),className:"post__permalink",onClick:this.handleClick},i);return h.a.createElement(Wi.a,{delayShow:500,placement:"top",overlay:h.a.createElement(Vi.a,{id:e,className:"hidden-xs"},h.a.createElement(qr.b,{value:e,ranges:Io}))},r)}}No(Ro,"propTypes",{isPermalink:u.a.bool.isRequired,eventTime:u.a.number.isRequired,location:u.a.oneOf([fe.x.CENTER,fe.x.RHS_ROOT,fe.x.RHS_COMMENT,fe.x.SEARCH]).isRequired,postId:u.a.string,teamUrl:u.a.string}),No(Ro,"defaultProps",{eventTime:0,location:fe.x.CENTER});var Ao=Object(s.connect)((function(e){return{teamUrl:Object(o.getCurrentRelativeTeamUrl)(e)}}))(Ro);function jo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class xo extends h.a.PureComponent{constructor(...e){super(...e),jo(this,"handleAddEmoji",e=>{this.setState({showEmojiPicker:!1});const t=e.name||e.aliases[0];this.props.actions.addReaction(this.props.postId,t),this.props.toggleEmojiPicker()})}render(){const{channelId:e,location:t,postId:a,showEmojiPicker:n,teamId:s}=this.props;let i,r;return t!==fe.x.RHS_ROOT&&t!==fe.x.RHS_COMMENT||(i=Es.RHS_SPACE_REQUIRED_ABOVE,r=Es.RHS_SPACE_REQUIRED_BELOW),h.a.createElement(Jr,{channelId:e,teamId:s,permissions:[x.a.ADD_REACTION]},h.a.createElement(h.a.Fragment,null,h.a.createElement(Es,{show:n,target:this.props.getDotMenuRef,onHide:this.props.toggleEmojiPicker,onEmojiClose:this.props.toggleEmojiPicker,onEmojiClick:this.handleAddEmoji,topOffset:-7,spaceRequiredAbove:i,n:!0,spaceRequiredBelow:r}),h.a.createElement(Wi.a,{className:"hidden-xs",delayShow:500,placement:"top",overlay:h.a.createElement(Vi.a,{id:"reaction-icon-tooltip",className:"hidden-xs"},h.a.createElement(q.a,{id:"post_info.tooltip.add_reactions",defaultMessage:"Add Reaction"}))},h.a.createElement("button",{"data-testid":"post-reaction-emoji-icon",id:"".concat(t,"_reaction_").concat(a),"aria-label":Object(z.ob)("post_info.tooltip.add_reactions","Add Reaction").toLowerCase(),className:la()("post-menu__item","post-menu__item--reactions",{"post-menu__item--active":n}),onClick:this.props.toggleEmojiPicker},h.a.createElement(An,{className:"icon icon--small"})))))}}jo(xo,"propTypes",{channelId:u.a.string,postId:u.a.string.isRequired,teamId:u.a.string.isRequired,getDotMenuRef:u.a.func.isRequired,location:u.a.oneOf(["CENTER","RHS_ROOT","RHS_COMMENT"]),showEmojiPicker:u.a.bool,toggleEmojiPicker:u.a.func.isRequired,actions:u.a.shape({addReaction:u.a.func.isRequired}).isRequired}),jo(xo,"defaultProps",{location:fe.x.CENTER,showEmojiPicker:!1});var Lo=Object(s.connect)(null,(function(e){return{actions:Object(n.bindActionCreators)({addReaction:ta.a},e)}}))(xo),ko=a(661),Do=a.n(ko);a(2101);function Uo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class qo extends h.a.Component{constructor(e){super(e),Uo(this,"handleClick",()=>{this.props.canAddReaction&&this.props.canRemoveReaction&&this.setState(e=>e.userReacted?{userReacted:!1,reactedClass:"Reaction--unreacting"}:{userReacted:!0,reactedClass:"Reaction--reacting"})}),Uo(this,"handleAnimationEnded",()=>{const{reactedNumber:e,unreactedNumber:t}=this.state,{actions:a,post:n,emojiName:s}=this.props;this.setState(a=>a.userReacted?{reactedClass:"Reaction--reacted",displayNumber:e}:{reactedClass:"Reaction--unreacted",displayNumber:t}),this.state.userReacted?a.addReaction(n.id,s):a.removeReaction(n.id,s)}),Uo(this,"loadMissingProfiles",async()=>{const e=this.props.reactions.map(e=>e.user_id);this.props.actions.getMissingProfilesByIds(e)});const{reactionCount:t}=this.props,{currentUserReacted:a}=this.props.sortedUsers;this.state=a?{userReacted:a,reactedClass:"Reaction--reacted",displayNumber:t,reactedNumber:t,unreactedNumber:t-1}:{userReacted:a,reactedClass:"Reaction--unreacted",displayNumber:t,reactedNumber:t+1,unreactedNumber:t},this.reactionButtonRef=h.a.createRef(),this.reactionCountRef=h.a.createRef(),this.reactedNumeralRef=h.a.createRef()}static getDerivedStateFromProps(e,t){return e.reactionCount!==t.displayNumber&&e.sortedUsers.currentUserReacted===t.userReacted?t.userReacted?{displayNumber:e.reactionCount,reactedNumber:e.reactionCount,unreactedNumber:e.reactionCount-1}:{displayNumber:e.reactionCount,reactedNumber:e.reactionCount+1,unreactedNumber:e.reactionCount}:null}render(){if(!this.props.emojiImageUrl)return null;const{currentUserReacted:e,users:t}=this.props.sortedUsers,{otherUsersCount:a,canAddReaction:n,canRemoveReaction:s}=this.props,{unreactedNumber:i,reactedNumber:r,displayNumber:o}=this.state,l=i>0?i:"",c=r>0?r:"",d=o>0?o:"",m=n&&s?"":"Reaction--read-only";let u,p;u=a>0?t.length>0?h.a.createElement(q.a,{id:"reaction.usersAndOthersReacted",defaultMessage:"{users} and {otherUsers, number} other {otherUsers, plural, one {user} other {users}}",values:{users:t.join(", "),otherUsers:a}}):h.a.createElement(q.a,{id:"reaction.othersReacted",defaultMessage:"{otherUsers, number} {otherUsers, plural, one {user} other {users}}",values:{otherUsers:a}}):t.length>1?h.a.createElement(q.a,{id:"reaction.usersReacted",defaultMessage:"{users} and {lastUser}",values:{users:t.slice(0,-1).join(", "),lastUser:t[t.length-1]}}):t[0],p=t.length+a>1?e?h.a.createElement(q.a,{id:"reaction.reactionVerb.youAndUsers",defaultMessage:"reacted"}):h.a.createElement(q.a,{id:"reaction.reactionVerb.users",defaultMessage:"reacted"}):e?h.a.createElement(q.a,{id:"reaction.reactionVerb.you",defaultMessage:"reacted"}):h.a.createElement(q.a,{id:"reaction.reactionVerb.user",defaultMessage:"reacted"});const g=h.a.createElement(q.a,{id:"reaction.reacted",defaultMessage:"{users} {reactionVerb} with {emoji}",values:{users:h.a.createElement("b",null,u),reactionVerb:p,emoji:h.a.createElement("b",null,":"+this.props.emojiName+":")}});let b;const f=this.props.emojiName.replace(/_/g," ");let _="".concat(z.ob("reaction.reactWidth.ariaLabel","react with")," ").concat(f);return e&&s?(_="".concat(z.ob("reaction.removeReact.ariaLabel","remove reaction")," ").concat(f),b=h.a.createElement(q.a,{id:"reaction.clickToRemove",defaultMessage:"(click to remove)"})):!e&&n&&(b=h.a.createElement(q.a,{id:"reaction.clickToAdd",defaultMessage:"(click to add)"})),h.a.createElement(Wi.a,{delayShow:500,placement:"top",shouldUpdatePosition:!0,overlay:h.a.createElement(Vi.a,{id:"".concat(this.props.post.id,"-").concat(this.props.emojiName,"-reaction")},g,h.a.createElement("br",null),b),onEnter:this.loadMissingProfiles},h.a.createElement("button",{id:"postReaction-".concat(this.props.post.id,"-").concat(this.props.emojiName),"aria-label":_,className:"Reaction ".concat(this.state.reactedClass," ").concat(m),onClick:this.handleClick,ref:this.reactionButtonRef},h.a.createElement("span",{className:"d-flex align-items-center"},h.a.createElement("span",{className:"Reaction__emoji emoticon",style:{backgroundImage:"url("+this.props.emojiImageUrl+")"}}),h.a.createElement("span",{ref:this.reactionCountRef,className:"Reaction__count"},h.a.createElement("span",{className:"Reaction__number"},h.a.createElement("span",{className:"Reaction__number--display"},d),h.a.createElement("span",{className:"Reaction__number--unreacted",onAnimationEnd:this.handleAnimationEnded},l),h.a.createElement("span",{className:"Reaction__number--reacted"},c))))))}}function Ho(e,t,a,n,s,i,r,o){return!!Object(A.haveIChannelPermission)(e,{team:t,channel:a,permission:o})&&!(n===Do.a.DEFAULT_CHANNEL&&"true"===s.ExperimentalTownSquareIsReadOnly&&"true"===i.IsLicensed&&!r.roles.includes("system_admin"))}Uo(qo,"propTypes",{post:u.a.object.isRequired,currentUserId:u.a.string.isRequired,emojiName:u.a.string.isRequired,reactionCount:u.a.number.isRequired,profiles:u.a.array.isRequired,otherUsersCount:u.a.number.isRequired,reactions:u.a.arrayOf(u.a.object).isRequired,canAddReaction:u.a.bool.isRequired,canRemoveReaction:u.a.bool.isRequired,emojiImageUrl:u.a.string.isRequired,actions:u.a.shape({addReaction:u.a.func.isRequired,getMissingProfilesByIds:u.a.func.isRequired,removeReaction:u.a.func.isRequired}),sortedUsers:u.a.object.isRequired});var Fo=Object(s.connect)((function(){const e=Object(r.makeGetProfilesForReactions)();return function(t,a){const n=Object(i.getConfig)(t),s=Object(i.getLicense)(t),o=Object(r.getCurrentUser)(t),l=e(t,a.reactions);let c;if(E.a.has(a.emojiName))c=E.d[E.a.get(a.emojiName)];else{c=Object(Si.getCustomEmojisByName)(t).get(a.emojiName)}let d="";c&&(d=Object(Je.getEmojiImageUrl)(c));const m=Object(B.getChannel)(t,a.post.channel_id)||{},u=0!==m.delete_at,p=m.team_id,h=Object(r.getCurrentUserId)(t),g=Object(K.getTeammateNameDisplaySetting)(t);let b=!1,f=!1;return u||(b=Ho(t,p,a.post.channel_id,m.name,n,s,o,x.a.REMOVE_REACTION),f=Ho(t,p,a.post.channel_id,m.name,n,s,o,x.a.ADD_REACTION)),{profiles:l,otherUsersCount:a.reactions.length-l.length,currentUserId:h,reactionCount:a.reactions.length,canAddReaction:b,canRemoveReaction:f,emojiImageUrl:d,sortedUsers:Object(z.K)(a.reactions,h,l,g)}}}),(function(e){return{actions:Object(n.bindActionCreators)({addReaction:ta.a,removeReaction:be.removeReaction,getMissingProfilesByIds:Y.getMissingProfilesByIds},e)}}))(qo);function Bo(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.add-reaction",defaultMessage:"Add Reaction Icon"})},h.a.createElement("path",{d:"M10 8.00001C10.32 8.00001 10.5973 7.88267 10.832 7.64801C11.0773 7.40267 11.2 7.12001 11.2 6.80001C11.2 6.48001 11.0773 6.20267 10.832 5.96801C10.5973 5.72267 10.32 5.60001 10 5.60001C9.68 5.60001 9.39733 5.72267 9.152 5.96801C8.91733 6.20267 8.8 6.48001 8.8 6.80001C8.8 7.12001 8.91733 7.40267 9.152 7.64801C9.39733 7.88267 9.68 8.00001 10 8.00001ZM5.2 8.00001C5.52 8.00001 5.79733 7.88267 6.032 7.64801C6.27733 7.40267 6.4 7.12001 6.4 6.80001C6.4 6.48001 6.27733 6.20267 6.032 5.96801C5.79733 5.72267 5.52 5.60001 5.2 5.60001C4.88 5.60001 4.59733 5.72267 4.352 5.96801C4.11733 6.20267 4 6.48001 4 6.80001C4 7.12001 4.11733 7.40267 4.352 7.64801C4.59733 7.88267 4.88 8.00001 5.2 8.00001ZM13.584 7.93601C13.584 7.97867 13.584 8.05334 13.584 8.16001L13.6 8.40001C13.6 9.48801 13.328 10.496 12.784 11.424C12.2507 12.3307 11.5307 13.0507 10.624 13.584C9.696 14.128 8.688 14.4 7.6 14.4C6.512 14.4 5.504 14.128 4.576 13.584C3.66933 13.0507 2.94933 12.3307 2.416 11.424C1.872 10.496 1.6 9.48801 1.6 8.40001C1.6 7.31201 1.872 6.30401 2.416 5.37601C2.94933 4.46934 3.66933 3.74934 4.576 3.21601C5.504 2.67201 6.512 2.40001 7.6 2.40001L8.064 2.41601C8.17067 1.84001 8.352 1.32801 8.608 0.880006C8.23467 0.826673 7.89867 0.800006 7.6 0.800006C6.224 0.800006 4.944 1.14667 3.76 1.84001C2.61867 2.51201 1.712 3.41867 1.04 4.56001C0.346667 5.74401 0 7.02401 0 8.40001C0 9.77601 0.346667 11.056 1.04 12.24C1.712 13.3813 2.61867 14.288 3.76 14.96C4.944 15.6533 6.224 16 7.6 16C8.976 16 10.256 15.6533 11.44 14.96C12.5813 14.288 13.488 13.3813 14.16 12.24C14.8533 11.056 15.2 9.77601 15.2 8.40001C15.2 8.10134 15.1733 7.76534 15.12 7.39201C14.672 7.64801 14.16 7.82934 13.584 7.93601ZM12 5.72205e-06H13.6V2.40001H16V4.00001H13.6V6.40001H12V4.00001H9.6V2.40001H12V5.72205e-06ZM3.504 10C3.83467 10.832 4.36267 11.504 5.088 12.016C5.84533 12.5387 6.68267 12.8 7.6 12.8C8.51733 12.8 9.35467 12.5387 10.112 12.016C10.8373 11.504 11.3653 10.832 11.696 10H3.504Z"})))}function Go(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Vo extends h.a.PureComponent{constructor(e){super(e),Go(this,"getTarget",()=>this.addReactionButtonRef.current),Go(this,"handleEmojiClick",e=>{this.setState({showEmojiPicker:!1});const t=e.name||e.aliases[0];this.props.actions.addReaction(this.props.post.id,t)}),Go(this,"hideEmojiPicker",()=>{this.setState({showEmojiPicker:!1})}),Go(this,"toggleEmojiPicker",()=>{this.setState({showEmojiPicker:!this.state.showEmojiPicker})}),this.state={showEmojiPicker:!1},this.addReactionButtonRef=h.a.createRef()}render(){const e=new Map,t=[];if(this.props.reactions)for(const a of Object.values(this.props.reactions)){const n=a.emoji_name;e.has(n)?e.get(n).push(a):(t.push(n),e.set(n,[a]))}if(0===e.size)return null;const a=t.map(t=>h.a.createElement(Fo,{key:t,post:this.props.post,emojiName:t,reactions:e.get(t)||[]})),n=this.getTarget();let s=15;n&&(s=window.innerWidth-n.getBoundingClientRect().right-260,s<0&&(s=15));let i=null;if(this.props.enableEmojiPicker){const e=h.a.createElement(Vi.a,{id:"addReactionTooltip"},h.a.createElement(q.a,{id:"reaction_list.addReactionTooltip",defaultMessage:"Add a reaction"}));i=h.a.createElement("span",{className:"emoji-picker__container"},h.a.createElement(Es,{show:this.state.showEmojiPicker,target:this.getTarget,onHide:this.hideEmojiPicker,onEmojiClose:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick,rightOffset:s,topOffset:-5}),h.a.createElement(Jr,{channelId:this.props.post.channel_id,teamId:this.props.teamId,permissions:[x.a.ADD_REACTION]},h.a.createElement(Wi.a,{placement:"top",delayShow:fe.Z.OVERLAY_TIME_DELAY,overlay:e},h.a.createElement("button",{"aria-label":Object(z.ob)("reaction.add.ariaLabel","Add a reaction"),className:"Reaction",onClick:this.toggleEmojiPicker},h.a.createElement("span",{id:"addReaction-".concat(this.props.post.id),className:"Reaction__add",ref:this.addReactionButtonRef},h.a.createElement(Bo,null))))))}let r="post-add-reaction";return this.state.showEmojiPicker&&(r+=" post-add-reaction-emoji-picker-open"),h.a.createElement("div",{"aria-label":Object(z.ob)("reaction.container.ariaLabel","reactions"),className:"post-reaction-list"},a,h.a.createElement("div",{className:r},i))}}Go(Vo,"propTypes",{post:u.a.object.isRequired,teamId:u.a.string,reactions:u.a.object,enableEmojiPicker:u.a.bool.isRequired,actions:u.a.shape({addReaction:u.a.func.isRequired})});var Wo=Object(s.connect)((function(){const e=Object(R.makeGetReactionsForPost)();return function(t,a){const n="true"===Object(i.getConfig)(t).EnableEmojiPicker&&!a.isReadOnly;return{teamId:(Object(B.getChannel)(t,a.post.channel_id)||{}).team_id,reactions:e(t,a.post.id),enableEmojiPicker:n}}}),(function(e){return{actions:Object(n.bindActionCreators)({addReaction:ta.a},e)}}))(Vo),zo=a(2102),Yo=a.n(zo),Ko=a(635);class Zo extends Ko.a{link(e,t,a){let n=e;Object(Mi.c)(e)||(n="http://".concat(n));let s='<a class="theme markdown__link" href="'.concat(n,'" target="_blank"');return t&&(s+=' title="'+t+'"'),s+=">".concat(a,"</a>"),s}}var Jo=a(1446);function Xo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Qo extends h.a.PureComponent{constructor(e){super(e),Xo(this,"maxHeight",void 0),Xo(this,"textContainer",void 0),Xo(this,"overflowRef",void 0),Xo(this,"toggleCollapse",e=>{e.preventDefault(),this.setState(e=>({isCollapsed:!e.isCollapsed}))}),Xo(this,"checkTextOverflow",()=>{this.overflowRef&&window.cancelAnimationFrame(this.overflowRef),this.overflowRef=window.requestAnimationFrame(()=>{let e=!1;this.textContainer.current&&this.textContainer.current.scrollHeight>this.maxHeight&&(e=!0),e!==this.state.isOverflow&&this.setState({isOverflow:e})})}),Xo(this,"handleResize",()=>{this.checkTextOverflow()}),this.maxHeight=this.props.isAttachmentText?200:600,this.textContainer=h.a.createRef(),this.state={isCollapsed:!0,isOverflow:!1}}componentDidMount(){this.checkTextOverflow(),window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){this.props.text===e.text&&this.props.isRHSExpanded===e.isRHSExpanded&&this.props.isRHSOpen===e.isRHSOpen&&this.props.checkOverflow===e.checkOverflow||this.checkTextOverflow()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.overflowRef&&window.cancelAnimationFrame(this.overflowRef)}render(){const{isCollapsed:e,isOverflow:t}=this.state,{children:a,isAttachmentText:n,compactDisplay:s}=this.props;let i,r="post-message";e?(i=this.maxHeight,r+=" post-message--collapsed"):r+=" post-message--expanded";const o=n?"post-attachment-collapse__gradient":"post-collapse__gradient",l=n?"post-attachment-collapse__show-more":"post-collapse__show-more";let c=null;if(t){!n&&e&&s&&i&&(i-=22);let t="fa fa-angle-up",a=Object(z.ob)("post_info.message.show_less","Show less");e&&(t="fa fa-angle-down",a=Object(z.ob)("post_info.message.show_more","Show more")),c=h.a.createElement("div",{className:"post-collapse"},h.a.createElement("div",{id:"collapseGradient",className:o}),h.a.createElement("div",{className:l},h.a.createElement("div",{className:"post-collapse__show-more-line"}),h.a.createElement("button",{id:"showMoreButton",className:"post-collapse__show-more-button",onClick:this.toggleCollapse},h.a.createElement("span",{className:t}),a),h.a.createElement("div",{className:"post-collapse__show-more-line"}))),r+=" post-message--overflow"}return h.a.createElement("div",{className:r},h.a.createElement("div",{style:{maxHeight:i},className:"post-message__text-container",ref:this.textContainer},a),c)}}Xo(Qo,"propTypes",{children:u.a.node,checkOverflow:u.a.number,isAttachmentText:u.a.bool,isRHSExpanded:u.a.bool.isRequired,isRHSOpen:u.a.bool.isRequired,text:u.a.string,compactDisplay:u.a.bool.isRequired});var $o=Object(s.connect)((function(e){return{isRHSExpanded:Object(ui.a)(e),isRHSOpen:Object(ui.c)(e),compactDisplay:Object(K.get)(e,fe.F.CATEGORY_DISPLAY_SETTINGS,fe.F.MESSAGE_DISPLAY,fe.F.MESSAGE_DISPLAY_DEFAULT)===fe.F.MESSAGE_DISPLAY_COMPACT}}))(Qo),el=a(1306);class tl extends h.a.PureComponent{getStatusColors(e){return{good:"#00c100",warning:"#dede01",danger:e.errorTextColor,default:e.centerChannelColor,primary:e.buttonBg,success:e.onlineIndicator}}render(){const{action:e,handleAction:t,disabled:a,theme:n}=this.props;let s;if(e.style){const t=this.getStatusColors(n)[e.style]||n[e.style]||e.style.match("^#(?:[0-9a-fA-F]{3}){1,2}$")&&e.style;t&&(s={borderColor:Object(wa.changeOpacity)(t,.25),backgroundColor:"#ffffff",color:t,borderWidth:2})}return h.a.createElement("button",{"data-action-id":e.id,"data-action-cookie":e.cookie,disabled:a,key:e.id,onClick:e=>t(e,this.props.action.options),style:s},h.a.createElement(el.a,{loading:this.props.actionExecuting,text:this.props.actionExecutingMessage},h.a.createElement(V.a,{message:e.name,options:{mentionHighlight:!1,markdown:!1,autolinkedUrlSchemes:[]}})))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(tl,"propTypes",{action:u.a.object.isRequired,handleAction:u.a.func.isRequired,disabled:u.a.bool,theme:u.a.object.isRequired,actionExecuting:u.a.bool,actionExecutingMessage:u.a.string});var al=Object(s.connect)((function(e){return{theme:Object(K.getTheme)(e)}}))(tl),nl=a(1640),sl=a(1523),il=a(1641),rl=a(1643);var ol=h.a.createContext({handlePopupOpened:null});function ll(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class cl extends h.a.PureComponent{constructor(e){super(e),ll(this,"providers",void 0),ll(this,"handleSelected",e=>{var t;if(!e)return;const{action:a}=this.props;let n="",s="";if("users"===a.data_source){const t=e;s=t.username,n=t.id}else if("channels"===a.data_source){const t=e;s=t.display_name,n=t.id}else{const t=e;s=t.text,n=t.value}this.props.actions.selectAttachmentMenuAction(this.props.postId,this.props.action.id,this.props.action.cookie,null===(t=this.props.action)||void 0===t?void 0:t.data_source,s,n),this.setState({value:s})});const t=e.action;let a;this.providers=[],t&&("users"===t.data_source?this.providers=[new sl.a(e.actions.autocompleteUsers)]:"channels"===t.data_source?this.providers=[new il.a(e.actions.autocompleteChannels)]:t.options&&(this.providers=[new nl.a(t.options)]));let n="";t.default_option&&t.options&&(a=t.options.find(e=>e.value===t.default_option),n=a?a.text:""),this.state={selected:a,value:n}}static getDerivedStateFromProps(e,t){if(e.selected&&e.selected!==t.selected){return{value:e.selected.text,selected:e.selected}}return null}render(){const{action:e,disabled:t}=this.props;return h.a.createElement(ol.Consumer,null,({handlePopupOpened:a})=>h.a.createElement(rl.a,{providers:this.providers,onSelected:this.handleSelected,placeholder:e.name,inputClassName:"post-attachment-dropdown",value:this.state.value,toggleFocus:a,disabled:t}))}}ll(cl,"propTypes",{postId:u.a.string.isRequired,action:u.a.shape({name:u.a.string.isRequired,options:u.a.arrayOf(u.a.shape({text:u.a.string.isRequired,value:u.a.string.isRequired})),data_source:u.a.oneOf(["users","channels"]),default_option:u.a.string,id:u.a.string.isRequired,cookie:u.a.string.isRequired}).isRequired,selected:u.a.oneOfType([u.a.shape({text:u.a.string.isRequired,value:u.a.string.isRequired}),u.a.any,u.a.any]),disabled:u.a.bool,actions:u.a.shape({autocompleteChannels:u.a.func.isRequired,selectAttachmentMenuAction:u.a.func.isRequired,autocompleteUsers:u.a.func.isRequired}).isRequired});var dl=Object(s.connect)((function(e,t){const a=e.views.posts.menuActions[t.postId];return{selected:a&&a[t.action&&t.action.id]}}),(function(e){return{actions:Object(n.bindActionCreators)({selectAttachmentMenuAction:sa,autocompleteChannels:U.b,autocompleteUsers:$s.b},e)}}))(cl);function ml(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ul extends h.a.PureComponent{constructor(e){super(e),ml(this,"handleHeightReceivedForThumbUrl",({height:e})=>{const{attachment:t}=this.props;(!this.props.imagesMetadata||this.props.imagesMetadata&&!this.props.imagesMetadata[t.thumb_url])&&this.handleHeightReceived(e)}),ml(this,"handleHeightReceivedForImageUrl",({height:e})=>{const{attachment:t}=this.props;(!this.props.imagesMetadata||this.props.imagesMetadata&&!this.props.imagesMetadata[t.image_url])&&this.handleHeightReceived(e)}),ml(this,"handleHeightReceived",e=>{this.mounted&&e>0&&this.setState(e=>({checkOverflow:e.checkOverflow+1}))}),ml(this,"renderPostActions",()=>{const e=this.props.attachment.actions;if(!e||!e.length)return"";const t=[];return e.forEach(e=>{if(e.id&&e.name)switch(e.type){case"select":t.push(h.a.createElement(dl,{key:e.id,postId:this.props.postId,action:e,disabled:e.disabled}));break;case"button":default:t.push(h.a.createElement(al,{key:e.id,action:e,disabled:e.disabled,handleAction:this.handleAction,actionExecuting:this.state.actionExecuting,actionExecutingMessage:this.state.actionExecutingMessage}))}}),h.a.createElement("div",{className:"attachment-actions"},t)}),ml(this,"handleAction",(e,t)=>{e.preventDefault();var a=this.getActionOption(t,"ActionExecutingMessage");a&&this.setState({actionExecuting:!0,actionExecutingMessage:a.value});var n=this.getActionOption(t,"TrackEventId");n&&Object(v.e)("admin","click_warn_metric_bot_id",{metric:n.value});const s=e.currentTarget.getAttribute("data-action-id"),i=e.currentTarget.getAttribute("data-action-cookie");this.props.actions.doPostActionWithCookie(this.props.postId,s,i).then(()=>{this.handleCustomActions(t),a&&this.setState({actionExecuting:!1,actionExecutingMessage:null})})}),ml(this,"handleCustomActions",e=>{var t=this.getActionOption(e,"WarnMetricMailtoUrl");if(t){const e=JSON.parse(t.value);window.location.href="mailto:"+e.mail_recipient+"?cc="+e.mail_cc+"&subject="+encodeURIComponent(e.mail_subject)+"&body="+encodeURIComponent(e.mail_body)}}),ml(this,"getActionOption",(e,t)=>{var a=null;return e&&(a=e.find(e=>e.text===t)),a}),ml(this,"getFieldsTable",()=>{const e=this.props.attachment.fields;if(!e||!e.length)return"";const t=[];let a=[],n=[],s=0,i=!1,r=0;const o={markdown:!1,mentionHighlight:!1};return e.forEach((e,l)=>{(2===s||!0!==e.short||i)&&(t.push(h.a.createElement("table",{className:"attachment-fields",key:"attachment__table__"+r},h.a.createElement("thead",null,h.a.createElement("tr",null,a)),h.a.createElement("tbody",null,h.a.createElement("tr",null,n)))),a=[],n=[],s=0,r+=1,i=!1),a.push(h.a.createElement("th",{className:"attachment-field__caption",key:"attachment__field-caption-"+l+"__"+r,width:"50%"},h.a.createElement(V.a,{message:e.title,options:o}))),n.push(h.a.createElement("td",{className:"attachment-field",key:"attachment__field-"+l+"__"+r},h.a.createElement(V.a,{message:e.value}))),s+=1,i=!(!0===e.short)}),a.length>0&&t.push(h.a.createElement("table",{className:"attachment-fields",key:"attachment__table__"+r},h.a.createElement("thead",null,h.a.createElement("tr",null,a)),h.a.createElement("tbody",null,h.a.createElement("tr",null,n)))),h.a.createElement("div",null,t)}),ml(this,"handleFormattedTextClick",e=>z.O(e,this.props.currentRelativeTeamUrl)),this.state={checkOverflow:0,actionExecuting:!1,actionExecutingMessage:null},this.imageProps={onImageLoaded:this.handleHeightReceived}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const{attachment:e,options:t}=this.props;let a,n="";e.pretext&&(n="attachment--pretext",a=h.a.createElement("div",{className:"attachment__thumb-pretext"},h.a.createElement(V.a,{message:e.pretext})));let s,i,r,o,l,c=[];if((e.author_name||e.author_icon)&&(e.author_icon&&c.push(h.a.createElement(Jo.a,{key:"attachment__author-icon",src:e.author_icon,imageMetadata:this.props.imagesMetadata[e.author_icon]},e=>h.a.createElement("img",{alt:"attachment author icon",className:"attachment__author-icon",src:e,height:"14",width:"14"}))),e.author_name&&c.push(h.a.createElement("span",{className:"attachment__author-name",key:"attachment__author-name"},e.author_name))),e.author_link&&Object(Mi.f)(e.author_link)&&(c=h.a.createElement("a",{href:e.author_link,target:"_blank",rel:"noopener noreferrer"},c)),e.title&&(s=e.title_link&&Object(Mi.f)(e.title_link)?h.a.createElement("h1",{className:"attachment__title"},h.a.createElement("a",{className:"attachment__title-link",href:e.title_link,target:"_blank",rel:"noopener noreferrer"},e.title)):h.a.createElement("h1",{className:"attachment__title"},h.a.createElement(V.a,{message:e.title,options:{mentionHighlight:!1,renderer:new Zo,autolinkedUrlSchemes:[]}}))),e.text&&(i=h.a.createElement($o,{checkOverflow:this.state.checkOverflow,isAttachmentText:!0,text:e.text},h.a.createElement(V.a,{message:e.text||"",options:t,imageProps:this.imageProps}))),e.image_url){const t=this.props.imagesMetadata[e.image_url];r=h.a.createElement("div",{className:"attachment__image-container"},h.a.createElement(Jo.a,{src:e.image_url,imageMetadata:t},e=>h.a.createElement(ro.a,{className:"attachment__image",onImageLoaded:this.handleHeightReceivedForImageUrl,src:e,dimensions:t})))}if(e.footer){let t;if(e.footer_icon){const a=this.props.imagesMetadata[e.footer_icon];t=h.a.createElement(Jo.a,{src:e.footer_icon,imageMetadata:a},e=>h.a.createElement("img",{alt:"attachment footer icon",className:"attachment__footer-icon",src:e,height:"16",width:"16"}))}o=h.a.createElement("div",{className:"attachment__footer-container"},t,h.a.createElement("span",null,Yo()(e.footer,{length:fe.l.MAX_ATTACHMENT_FOOTER_LENGTH,omission:"…"})))}if(e.thumb_url){const t=this.props.imagesMetadata[e.thumb_url];l=h.a.createElement("div",{className:"attachment__thumb-container"},h.a.createElement(Jo.a,{src:e.thumb_url,imageMetadata:t},e=>h.a.createElement(ro.a,{onImageLoaded:this.handleHeightReceivedForThumbUrl,src:e,dimensions:t})))}const d=this.getFieldsTable(),m=this.renderPostActions();let u;return e.color&&"#"===e.color[0]&&(u={borderLeftColor:e.color}),h.a.createElement("div",{className:"attachment "+n,ref:"attachment",onClick:this.handleFormattedTextClick},a,h.a.createElement("div",{className:"attachment__content"},h.a.createElement("div",{className:u?"clearfix attachment__container":"clearfix attachment__container attachment__container--"+e.color,style:u},c,s,h.a.createElement("div",null,h.a.createElement("div",{className:l?"attachment__body":"attachment__body attachment__body--no_thumb"},i,r,d,o,m),l,h.a.createElement("div",{style:pl.footer})))))}}ml(ul,"propTypes",{postId:u.a.string.isRequired,attachment:u.a.object.isRequired,options:u.a.object,imagesMetadata:u.a.object,actions:u.a.shape({doPostActionWithCookie:u.a.func.isRequired}).isRequired,currentRelativeTeamUrl:u.a.string.isRequired});const pl={footer:{clear:"both"}};var hl=Object(s.connect)((function(e){return{currentRelativeTeamUrl:Object(o.getCurrentRelativeTeamUrl)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({doPostActionWithCookie:be.doPostActionWithCookie},e)}}))(ul);function gl(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class bl extends h.a.PureComponent{render(){const e=[];return this.props.attachments.forEach((t,a)=>{e.push(h.a.createElement(hl,{attachment:t,postId:this.props.postId,key:"att_"+a,options:this.props.options,imagesMetadata:this.props.imagesMetadata}))}),h.a.createElement("div",{id:"messageAttachmentList_".concat(this.props.postId),className:"attachment__list"},e)}}gl(bl,"propTypes",{postId:u.a.string.isRequired,attachments:u.a.array.isRequired,options:u.a.object,imagesMetadata:u.a.object}),gl(bl,"defaultProps",{imagesMetadata:{}});a(656);function fl(e){return void 0!==e.height&&void 0!==e.width}function _l(e,t){return Math.sqrt(Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2))}function Cl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cl(Object(a),!0).forEach((function(t){El(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function El(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const vl={height:80,width:80};class wl extends h.a.PureComponent{constructor(...e){super(...e),El(this,"getImageMetadata",e=>{if(!e)return;const t=this.props.post.metadata.images;return t?t[e]:void 0}),El(this,"isLargeImage",e=>{if(!e)return!1;const{height:t,width:a}=e;return a>=150&&a/t>=16/9}),El(this,"handleRemovePreview",async()=>{const e=Object.assign({},this.props.post.props);e[fe.E.REMOVE_LINK_PREVIEW]="true";const t={id:this.props.post.id,props:e};return this.props.actions.editPost(t)})}renderImageToggle(){return h.a.createElement("button",{className:"style--none post__embed-visibility color--link","data-expanded":this.props.isEmbedVisible,"aria-label":"Toggle Embed Visibility",onClick:this.props.toggleEmbedVisibility})}renderLargeImage(e,t){if(this.props.isEmbedVisible)return h.a.createElement(Jo.a,{src:e,imageMetadata:t},e=>h.a.createElement(ro.a,{className:"attachment__image attachment__image--opengraph large_image",src:e,dimensions:t}))}renderSmallImage(e,t){if(this.props.isEmbedVisible)return h.a.createElement("div",{className:"attachment__image__container--opengraph"},h.a.createElement(Jo.a,{src:e,imageMetadata:t},e=>h.a.createElement(ro.a,{className:"attachment__image attachment__image--opengraph",src:e,dimensions:t})))}truncateText(e){return e&&e.length>300?e.substring(0,300-"...".length)+"...":e}hasPreviewBeenRemoved(){const{post:e}=this.props;return!(!e||!e.props)&&"true"===e.props[fe.E.REMOVE_LINK_PREVIEW]}render(){if(!this.props.previewEnabled||!this.props.enableLinkPreviews)return null;if(!this.props.post||Object(ca.p)(this.props.post))return null;if(this.hasPreviewBeenRemoved())return null;const e=this.props.openGraphData;if(!e)return null;const t=function(e,t){var a;if(!(null==e||null===(a=e.images)||void 0===a?void 0:a.length))return;const n=e.images.map(e=>{const a=e.secure_url||e.url;return e.width&&e.height||!t||!t[a]?e:yl(yl({},e),{},{height:e.height||t[a].height,width:e.width||t[a].width})}),s=(i=vl,r=n,r.reduce((e,t)=>fl(e)&&fl(t)&&_l(t,i)>=_l(e,i)?e:t,{}));var i,r;return s.secure_url||s.url}(e,this.props.post.metadata.images),a=this.getImageMetadata(t),n=this.isLargeImage(a);let s,i;return this.props.currentUserId===this.props.post.user_id&&(s=h.a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:this.handleRemovePreview,"data-testid":"removeLinkPreviewButton"},h.a.createElement("span",{"aria-hidden":"true"},"×"))),(e.description||t)&&(i=h.a.createElement("div",{className:"attachment__body attachment__body--opengraph"},h.a.createElement("div",null,this.truncateText(e.description)," ",t&&n&&this.renderImageToggle()),t&&n&&this.renderLargeImage(t,a))),h.a.createElement("div",{className:"attachment attachment--opengraph"},h.a.createElement("div",{className:"attachment__content"},h.a.createElement("div",{className:"clearfix attachment__container attachment__container--opengraph"},h.a.createElement("div",{className:"attachment__body__wrap attachment__body__wrap--opengraph"},h.a.createElement("span",{className:"sitename"},this.truncateText(e.site_name)),s,h.a.createElement("h1",{className:"attachment__title attachment__title--opengraph"+(e.title?"":" is-url")},h.a.createElement("a",{className:"attachment__title-link attachment__title-link--opengraph",href:Object(Mi.g)(e.url||this.props.link),target:"_blank",rel:"noopener noreferrer",title:e.title||e.url||this.props.link},this.truncateText(e.title||e.url||this.props.link))),i),t&&!n&&this.renderSmallImage(t,a))))}}El(wl,"propTypes",{postId:u.a.string.isRequired,link:u.a.string.isRequired,currentUserId:u.a.string,post:u.a.any.isRequired,openGraphData:u.a.any,enableLinkPreviews:u.a.bool.isRequired,previewEnabled:u.a.bool.isRequired,isEmbedVisible:u.a.bool,toggleEmbedVisibility:u.a.func.isRequired,actions:u.a.shape({editPost:u.a.func.isRequired}).isRequired});var Ol=Object(s.connect)((function(e,t){const a=Object(i.getConfig)(e);return{currentUserId:Object(r.getCurrentUserId)(e),enableLinkPreviews:"true"===a.EnableLinkPreviews,openGraphData:Object(R.getOpenGraphMetadataForUrl)(e,t.postId,t.link),previewEnabled:Object(K.getBool)(e,fe.F.CATEGORY_DISPLAY_SETTINGS,fe.F.LINK_PREVIEW_DISPLAY,!0)}}),(function(e){return{actions:Object(n.bindActionCreators)({editPost:na},e)}}))(wl);function Sl(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Tl extends h.a.PureComponent{constructor(e){super(e),Sl(this,"showModal",e=>{e.preventDefault(),this.setState({showModal:!0})}),Sl(this,"hideModal",()=>{this.setState({showModal:!1})}),this.state={showModal:!1}}render(){return h.a.createElement("div",{className:"post__embed-container"},h.a.createElement(Jo.a,{src:this.props.link,imageMetadata:this.props.imageMetadata},e=>h.a.createElement(h.a.Fragment,null,h.a.createElement(ro.a,{className:"img-div attachment__image cursor--pointer",src:e,dimensions:this.props.imageMetadata,showLoader:!0,onClick:this.showModal}),h.a.createElement(oo.a,{show:this.state.showModal,onModalDismissed:this.hideModal,post:this.props.post,startIndex:0,fileInfos:[{has_preview_image:!1,link:e,extension:this.props.imageMetadata.format}]}))))}}Sl(Tl,"propTypes",{imageMetadata:u.a.object.isRequired,link:u.a.string.isRequired,post:u.a.object.isRequired});var Ml=Tl;const Pl=/(?:http|https):\/\/(?:www\.|m\.)?(?:(?:youtube\.com\/(?:(?:v\/)|(?:(?:watch|embed\/watch)(?:\/|.*v=))|(?:embed\/)|(?:user\/[^/]+\/u\/[0-9]\/)))|(?:youtu\.be\/))([^#&?]*)/;function Nl(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Il extends h.a.PureComponent{constructor(e){super(e),Nl(this,"play",()=>{this.setState({playing:!0})}),Nl(this,"stop",()=>{this.setState({playing:!1})}),this.state={playing:!1}}static getDerivedStateFromProps(e,t){return!e.show&&t.playing?{playing:!1}:null}render(){const{metadata:e,link:t}=this.props,a=function(e){const t=e.trim().match(Pl);return t&&11===t[1].length?t[1]:null}(t),n=function(e){var t,a,n,s,i,r;const o=e.match(/[\\?&](t|time|start|time_continue)=([0-9]+h)?([0-9]+m)?([0-9]+s?)/);if(!(null==o?void 0:o[0]))return"";const l=null!==(t=null===(a=o[2])||void 0===a?void 0:a.match(/([0-9]+)h/))&&void 0!==t?t:null,c=null!==(n=null===(s=o[3])||void 0===s?void 0:s.match(/([0-9]+)m/))&&void 0!==n?n:null,d=null!==(i=null===(r=o[4])||void 0===r?void 0:r.match(/([0-9]+)s?/))&&void 0!==i?i:null;let m=0;return(null==l?void 0:l[1])&&(m+=3600*parseInt(l[1],10)),(null==c?void 0:c[1])&&(m+=60*parseInt(c[1],10)),(null==d?void 0:d[1])&&(m+=parseInt(d[1],10)),"&start=".concat(m)}(t),s=h.a.createElement("h4",null,h.a.createElement("span",{className:"video-type"},"YouTube - "),h.a.createElement("span",{className:"video-title"},h.a.createElement("a",{href:this.props.link,target:"blank",rel:"noopener noreferrer"},e.title)));let i;if(this.state.playing)i=h.a.createElement("iframe",{src:"https://www.youtube.com/embed/"+a+"?autoplay=1&autohide=1&border=0&wmode=opaque&fs=1&enablejsapi=1"+n,width:"480px",height:"360px",type:"text/html",frameBorder:"0",allowFullScreen:"allowfullscreen"});else{const t=e.images[0];i=h.a.createElement("div",{className:"embed-responsive video-div__placeholder"},h.a.createElement("div",{className:"video-thumbnail__container"},h.a.createElement(Jo.a,{src:t.secure_url||t.url},e=>h.a.createElement("img",{src:e,alt:"youtube video thumbnail",className:"video-thumbnail"})),h.a.createElement("div",{className:"block"},h.a.createElement("span",{className:"play-button"},h.a.createElement("span",null)))))}return h.a.createElement("div",{className:"post__embed-container"},h.a.createElement("div",null,s,h.a.createElement("div",{className:"video-div embed-responsive-item",onClick:this.play},i)))}static isYoutubeLink(e){return e.trim().match(Pl)}}Nl(Il,"propTypes",{link:u.a.string.isRequired,show:u.a.bool.isRequired,metadata:u.a.object});var Rl=Object(s.connect)((function(e,t){const a=Object(i.getConfig)(e);return{currentChannelId:Object(B.getCurrentChannelId)(e),googleDeveloperKey:a.GoogleDeveloperKey,hasImageProxy:"true"===a.HasImageProxy,metadata:Object(R.getOpenGraphMetadataForUrl)(e,t.postId,t.link)}}))(Il);function Al(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class jl extends h.a.PureComponent{constructor(...e){super(...e),Al(this,"toggleEmbedVisibility",()=>{this.props.actions.toggleEmbedVisibility(this.props.post.id)}),Al(this,"getEmbed",()=>{const{metadata:e}=this.props.post;return Object(Ti.getEmbedFromMetadata)(e)}),Al(this,"isEmbedToggleable",e=>{const t=this.props.pluginPostWillRenderEmbedComponents||[];for(const a of t)if(a.match(e))return Boolean(a.toggleable);return"image"===e.type||"opengraph"===e.type&&Rl.isYoutubeLink(e.url)}),Al(this,"renderEmbed",e=>{const t=this.props.pluginPostWillRenderEmbedComponents||[];for(const a of t)if(a.match(e)){const t=a.component;return this.props.isEmbedVisible&&h.a.createElement(t,{embed:e})}switch(e.type){case"image":return this.props.isEmbedVisible?h.a.createElement(Ml,{imageMetadata:this.props.post.metadata.images[e.url],link:e.url,post:this.props.post}):null;case"message_attachment":{let e=[];return this.props.post.props&&this.props.post.props.attachments&&(e=this.props.post.props.attachments),h.a.createElement(bl,{attachments:e,postId:this.props.post.id,options:this.props.options,imagesMetadata:this.props.post.metadata.images})}case"opengraph":return Rl.isYoutubeLink(e.url)?this.props.isEmbedVisible?h.a.createElement(Rl,{postId:this.props.post.id,link:e.url,show:this.props.isEmbedVisible}):null:h.a.createElement(Ol,{postId:this.props.post.id,link:e.url,isEmbedVisible:this.props.isEmbedVisible,post:this.props.post,toggleEmbedVisibility:this.toggleEmbedVisibility});default:return null}}),Al(this,"renderToggle",e=>h.a.createElement("button",{key:"toggle",className:"style--none post__embed-visibility color--link ".concat(e?"pull-left":""),"data-expanded":this.props.isEmbedVisible,"aria-label":"Toggle Embed Visibility",onClick:this.toggleEmbedVisibility}))}render(){const e=this.getEmbed();if(e){const t=this.isEmbedToggleable(e),a=/^\s*https?:\/\/.*$/.test(this.props.post.message);return h.a.createElement("div",null,t&&a&&this.renderToggle(!0),this.props.children,t&&!a&&this.renderToggle(!1),this.renderEmbed(e))}return this.props.children}}Al(jl,"propTypes",{post:u.a.object.isRequired,pluginPostWillRenderEmbedComponents:u.a.arrayOf(u.a.object),children:u.a.element,isEmbedVisible:u.a.bool,options:u.a.object,actions:u.a.shape({toggleEmbedVisibility:u.a.func.isRequired}).isRequired});var xl=Object(s.connect)((function(e,t){return{isEmbedVisible:Object(ia.b)(e,t.post.id),pluginPostWillRenderEmbedComponents:e.plugins.components.PostWillRenderEmbedComponent}}),(function(e){return{actions:Object(n.bindActionCreators)({toggleEmbedVisibility:ta.m},e)}}))(jl);function Ll(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class kl extends h.a.PureComponent{constructor(e){super(e),Ll(this,"imageProps",void 0),Ll(this,"handleHeightReceived",e=>{e>0&&this.setState(e=>({checkOverflow:e.checkOverflow+1}))}),Ll(this,"handleFormattedTextClick",e=>z.O(e,this.props.currentRelativeTeamUrl)),this.state={collapse:!0,hasOverflow:!1,checkOverflow:0},this.imageProps={onImageLoaded:this.handleHeightReceived}}renderDeletedPost(){return h.a.createElement("p",null,h.a.createElement(q.a,{id:"post_body.deleted",defaultMessage:"(message deleted)"}))}renderEditedIndicator(){return ca.l(this.props.post)?h.a.createElement("span",{id:"postEdited_".concat(this.props.post.id),className:"post-edited__indicator"},h.a.createElement(q.a,{id:"post_message_view.edited",defaultMessage:"(edited)"})):null}render(){const{post:e,enableFormatting:t,options:a,pluginPostTypes:n,compactDisplay:s,isRHS:i,theme:r}=this.props;if(e.state===W.Posts.POST_DELETED)return this.renderDeletedPost();if(!t)return h.a.createElement("span",null,e.message);const o=e.props&&e.props.type?e.props.type:e.type;if(n&&n.hasOwnProperty(o)){const t=n[o].component;return h.a.createElement(t,{post:e,compactDisplay:s,isRHS:i,theme:r})}let l=e.message;const c=z.gb(e);if(s&&c){const e=z.ob("post_info.message.visible.compact"," (Only visible to you)");l=l.concat(e)}const d=i?"rhsPostMessageText_".concat(e.id):"postMessageText_".concat(e.id);return h.a.createElement($o,{checkOverflow:this.state.checkOverflow,text:l},h.a.createElement("div",{"aria-readonly":"true",tabIndex:0,id:d,className:"post-message__text",onClick:this.handleFormattedTextClick},h.a.createElement(Ie,{message:l,imageProps:this.imageProps,isRHS:i,options:a,post:e,channelId:e.channel_id,mentionKeys:[]})),this.renderEditedIndicator(),h.a.createElement(Et.a,{pluggableName:"PostMessageAttachment",postId:e.id,onHeightChange:this.handleHeightReceived}))}}Ll(kl,"propTypes",{post:u.a.any.isRequired,enableFormatting:u.a.bool,options:u.a.any,compactDisplay:u.a.bool,isRHS:u.a.bool,isRHSOpen:u.a.bool,isRHSExpanded:u.a.bool,theme:u.a.any.isRequired,pluginPostTypes:u.a.any,currentRelativeTeamUrl:u.a.string.isRequired}),Ll(kl,"defaultProps",{options:{},isRHS:!1,pluginPostTypes:{}});var Dl=Object(s.connect)((function(e){return{enableFormatting:Object(K.getBool)(e,W.Preferences.CATEGORY_ADVANCED_SETTINGS,"formatting",!0),isRHSExpanded:Object(ui.a)(e),isRHSOpen:Object(ui.c)(e),pluginPostTypes:e.plugins.postTypes,theme:Object(K.getTheme)(e),currentRelativeTeamUrl:Object(o.getCurrentRelativeTeamUrl)(e)}}))(kl);function Ul({post:e,previewCollapsed:t,previewEnabled:a,isEmbedVisible:n,pluginPostTypes:s}){const i=e.type&&s.hasOwnProperty(e.type);let r;const o=h.a.createElement(Dl,{post:e,isRHS:!0,hasMention:!0});return r=e.state===W.Posts.POST_DELETED||i?o:h.a.createElement(xl,{post:e,previewCollapsed:t,previewEnabled:a,isEmbedVisible:n},o),r}var ql=a(1391);function Hl(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{className:"svg-text-color","aria-label":t({id:"generic_icons.info",defaultMessage:"Info Icon"}),width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},h.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},h.a.createElement("g",{transform:"translate(-1015.000000, -516.000000)",fill:"inherit"},h.a.createElement("path",{d:"M1027,540 C1020.37258,540 1015,534.627417 1015,528 C1015,521.372583 1020.37258,516 1027,516 C1033.62742,516 1039,521.372583 1039,528 C1039,534.627417 1033.62742,540 1027,540 Z M1027,527 C1025.89543,527 1025,527.895431 1025,529 L1025,533 C1025,534.104569 1025.89543,535 1027,535 C1028.10457,535 1029,534.104569 1029,533 L1029,529 C1029,527.895431 1028.10457,527 1027,527 Z M1027,525 C1028.10457,525 1029,524.104569 1029,523 C1029,521.895431 1028.10457,521 1027,521 C1025.89543,521 1025,521.895431 1025,523 C1025,524.104569 1025.89543,525 1027,525 Z"})))))}function Fl(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let Bl;var Gl;!function(e){e[e.Flagged=0]="Flagged",e[e.Pinned=1]="Pinned",e[e.PinnedAndFlagged=2]="PinnedAndFlagged",e[e.Neither=3]="Neither"}(Bl||(Bl={})),function(e){e.Flagged="flagged",e.Pinned="pinned",e.PinnedAndFlagged="pinnedAndFlagged"}(Gl||(Gl={}));class Vl extends h.a.PureComponent{constructor(...e){super(...e),Fl(this,"messageInfos",{flagged:{id:Object(J.b)("post_pre_header.flagged"),defaultMessage:"Saved"},pinned:{id:Object(J.b)("post_pre_header.pinned"),defaultMessage:"Pinned"}}),Fl(this,"handleLinkClick",(e,t)=>{e===Gl.Pinned&&t?this.props.actions.showPinnedPosts(t):this.props.actions.showFlaggedPosts()})}getPostStatus(e,t){return e?t?Bl.PinnedAndFlagged:Bl.Flagged:t?Bl.Pinned:Bl.Neither}getMessageInfo(e,t,a){if(t&&a)return!1;if(e===Bl.PinnedAndFlagged){if(!a&&!t)return Gl.PinnedAndFlagged;if(a)return Gl.Flagged;if(t)return Gl.Pinned}return e!==Bl.Flagged||t?e===Bl.Pinned&&!a&&Gl.Pinned:Gl.Flagged}render(){const{isFlagged:e,isPinned:t,skipPinned:a,skipFlagged:n,channelId:s}=this.props,i=this.getMessageInfo(this.getPostStatus(e,t),n,a);return(e||t)&&i?h.a.createElement("div",{className:"post-pre-header"},h.a.createElement("div",{className:"post-pre-header__icons-container"},t&&!a&&h.a.createElement("span",{className:"icon-pin icon icon--post-pre-header"}),e&&!n&&h.a.createElement(So,{className:"icon icon--post-pre-header"})),h.a.createElement("div",{className:"post-pre-header__text-container"},i&&i!==Gl.PinnedAndFlagged&&h.a.createElement("span",null,h.a.createElement("a",{onClick:()=>this.handleLinkClick(i,s)},h.a.createElement(q.a,{id:this.messageInfos[i].id,defaultMessage:this.messageInfos[i].defaultMessage}))),i&&i===Gl.PinnedAndFlagged&&h.a.createElement("span",null,h.a.createElement("a",{onClick:()=>this.handleLinkClick(Gl.Pinned,s)},h.a.createElement(q.a,{id:this.messageInfos[Gl.Pinned].id,defaultMessage:this.messageInfos[Gl.Pinned].defaultMessage})),h.a.createElement("span",{className:"post-pre-header__link-separator"},"⬤"),h.a.createElement("a",{onClick:()=>this.handleLinkClick(Gl.Flagged)},h.a.createElement(q.a,{id:this.messageInfos[Gl.Flagged].id,defaultMessage:this.messageInfos[Gl.Flagged].defaultMessage}))))):null}}Fl(Vl,"propTypes",{intl:u.a.any.isRequired,isFlagged:u.a.bool.isRequired,isPinned:u.a.bool,skipPinned:u.a.bool,skipFlagged:u.a.bool,channelId:u.a.string.isRequired,actions:u.a.shape({showFlaggedPosts:u.a.func.isRequired,showPinnedPosts:u.a.func.isRequired}).isRequired});var Wl=Object(Z.c)(Vl);var zl=Object(s.connect)(null,e=>({actions:Object(n.bindActionCreators)({showFlaggedPosts:mi.m,showPinnedPosts:mi.o},e)}))(Wl),Yl=a(1377);function Kl(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Zl extends h.a.PureComponent{constructor(e){super(e),Kl(this,"handleShortcutReactToLastPost",e=>{if(e){const{isReadOnly:e,channelIsArchived:t,enableEmojiPicker:a,post:n,actions:{emitShortcutReactToLastPostFrom:s}}=this.props;s(fe.x.NO_WHERE);const i=n&&n.state===W.Posts.POST_DELETED,r=n&&Object(Ti.isPostEphemeral)(n),o=n&&ca.p(n),l=n&&ca.e(n),c=n&&n.failed,d=this.postHeaderRef.current.getBoundingClientRect();!(d.top-110>0&&d.bottom<window.innerHeight)||r||o||e||c||l||i||t||Object(z.fb)()||!a||this.setState({hover:!0},()=>{this.toggleEmojiPicker()})}}),Kl(this,"removePost",()=>{this.props.removePost(this.props.post)}),Kl(this,"createRemovePostButton",()=>h.a.createElement("button",{className:"post__remove theme color--link style--none",type:"button",onClick:this.removePost},"×")),Kl(this,"renderPostTime",()=>{const e=this.props.post,t=!(W.Posts.POST_DELETED===e.state||Object(Ti.isPostPendingOrFailed)(e));return h.a.createElement(Ao,{isPermalink:t,eventTime:e.create_at,postId:e.id,location:fe.x.RHS_COMMENT})}),Kl(this,"toggleEmojiPicker",()=>{const e=!this.state.showEmojiPicker;this.setState({showEmojiPicker:e})}),Kl(this,"getClassName",(e,t,a)=>{let n="post post--thread same--root post--comment";return this.props.currentUserId===e.user_id&&(n+=" current--user"),(t||a)&&(n+=" post--system"),this.props.compactDisplay&&(n+=" post--compact"),(this.state.dropdownOpened||this.state.showEmojiPicker)&&(n+=" post--hovered"),this.props.isConsecutivePost&&(n+=" same--user"),this.state.alt&&!this.props.channelIsArchived&&(n+=" cursor--pointer"),n}),Kl(this,"handleAlt",e=>{this.state.alt!==e.altKey&&this.setState({alt:e.altKey})}),Kl(this,"handleDropdownOpened",e=>{this.setState({dropdownOpened:e})}),Kl(this,"getDotMenuRef",()=>this.dotMenuRef.current),Kl(this,"setHover",()=>{this.setState({hover:!0})}),Kl(this,"unsetHover",()=>{this.setState({hover:!1})}),Kl(this,"handleA11yActivateEvent",()=>{this.setState({a11yActive:!0})}),Kl(this,"handleA11yDeactivateEvent",()=>{this.setState({a11yActive:!1})}),Kl(this,"handlePostClick",e=>{this.props.channelIsArchived||e.altKey&&this.props.actions.markPostAsUnread(this.props.post)}),Kl(this,"handlePostFocus",()=>{const{post:e,author:t,reactions:a,isFlagged:n,intl:s,emojiMap:i}=this.props;this.setState({currentAriaLabel:ca.d(e,t,n,a,s,i)})}),this.postRef=h.a.createRef(),this.dotMenuRef=h.a.createRef(),this.state={showEmojiPicker:!1,dropdownOpened:!1,alt:!1,hover:!1,a11yActive:!1,currentAriaLabel:""},this.postHeaderRef=h.a.createRef()}componentDidMount(){document.addEventListener("keydown",this.handleAlt),document.addEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.addEventListener(fe.c.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.addEventListener(fe.c.DEACTIVATE,this.handleA11yDeactivateEvent))}componentWillUnmount(){document.removeEventListener("keydown",this.handleAlt),document.removeEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.removeEventListener(fe.c.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.removeEventListener(fe.c.DEACTIVATE,this.handleA11yDeactivateEvent))}componentDidUpdate(e){const{shortcutReactToLastPostEmittedFrom:t,isLastPost:a}=this.props;this.state.a11yActive&&this.postRef.current.dispatchEvent(new Event(fe.c.UPDATE));e.shortcutReactToLastPostEmittedFrom!==t&&t===fe.x.RHS_ROOT&&this.handleShortcutReactToLastPost(a)}render(){const{post:e,isConsecutivePost:t,isReadOnly:a,channelIsArchived:n}=this.props,s=e&&e.state===W.Posts.POST_DELETED,i=Object(Ti.isPostEphemeral)(e),r=ca.p(e),o=Object(Ti.isMeMessage)(e),l=ca.e(e);let c,d,m,u,p=null;(this.props.compactDisplay||Object(z.fb)())&&(p=h.a.createElement(Yl.a,{userId:e.user_id,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0})),t||(p=h.a.createElement(Yl.a,{userId:e.user_id,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0}),d=h.a.createElement(yo,{compactDisplay:this.props.compactDisplay,isBusy:this.props.isBusy,isRHS:!0,post:e,userId:e.user_id}),e.props&&e.props.from_webhook?(p=e.props.override_username&&this.props.enablePostUsernameOverride?h.a.createElement(Yl.a,{userId:e.user_id,hideStatus:!0,overwriteName:e.props.override_username,disablePopover:!0}):h.a.createElement(Yl.a,{userId:e.user_id,hideStatus:!0,disablePopover:!0}),c=h.a.createElement(Le.a,{className:"col col__name"})):l?(p=h.a.createElement("span",{className:"auto-responder"},h.a.createElement(Yl.a,{userId:e.user_id,hideStatus:!0,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0})),c=h.a.createElement(ql.a,{className:"col col__name"},h.a.createElement(q.a,{id:"post_info.auto_responder",defaultMessage:"AUTOMATIC REPLY"}))):r&&this.props.isBot?(p=h.a.createElement(Yl.a,{userId:e.user_id,hideStatus:!0}),m=h.a.createElement("span",{className:"post__visibility"},h.a.createElement(q.a,{id:"post_info.message.visible",defaultMessage:"(Only visible to you)"}))):r&&(p=h.a.createElement(Yl.a,{overwriteName:h.a.createElement(q.a,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:fe.Z.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0}),m=h.a.createElement("span",{className:"post__visibility"},h.a.createElement(q.a,{id:"post_info.message.visible",defaultMessage:"(Only visible to you)"}))));let g="";e.failed&&(g+=" post-failed",u=h.a.createElement(Oo,{post:this.props.post})),ca.l(this.props.post)&&(g+=" post--edited");let b,f=null;e.file_ids&&e.file_ids.length>0&&(f=h.a.createElement(go,{post:e,compactDisplay:this.props.compactDisplay})),a||i||e.failed||r||!this.props.enableEmojiPicker||n||(b=h.a.createElement(Lo,{channelId:e.channel_id,postId:e.id,teamId:this.props.teamId,getDotMenuRef:this.getDotMenuRef,location:fe.x.RHS_COMMENT,showEmojiPicker:this.state.showEmojiPicker,toggleEmojiPicker:this.toggleEmojiPicker}));let _,C=null;if(Object(z.fb)()||i||e.failed||r||(C=h.a.createElement(Po,{location:fe.x.RHS_COMMENT,postId:e.id,isFlagged:this.props.isFlagged})),i)_=h.a.createElement("div",{className:"col col__remove"},this.createRemovePostButton());else if(s)_=null;else if(!r&&(Object(z.fb)()||this.state.hover||this.state.a11yActive||this.state.dropdownOpened||this.state.showEmojiPicker)){const e=h.a.createElement(eo,{post:this.props.post,location:fe.x.RHS_COMMENT,isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened,handleAddReactionClick:this.toggleEmojiPicker,isReadOnly:a||n,isMenuOpen:this.state.dropdownOpened,enableEmojiPicker:this.props.enableEmojiPicker});_=h.a.createElement("div",{ref:this.dotMenuRef,className:"col post-menu"},e,b,C)}const y=this.renderPostTime();let E;return e.props&&e.props.card&&(E=h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:h.a.createElement(Vi.a,null,h.a.createElement(q.a,{id:"post_info.info.view_additional_info",defaultMessage:"View additional info"}))},h.a.createElement("button",{className:"card-icon__container icon--show style--none",onClick:e=>{e.preventDefault(),this.props.handleCardClick(this.props.post)}},h.a.createElement(Hl,{className:"icon icon__info","aria-hidden":"true"})))),h.a.createElement("div",{role:"listitem",ref:this.postRef,id:"rhsPost_"+e.id,tabIndex:"-1",className:"a11y__section ".concat(this.getClassName(e,r,o)),onClick:this.handlePostClick,onMouseOver:this.setHover,onMouseLeave:this.unsetHover,"aria-label":this.state.currentAriaLabel,onFocus:this.handlePostFocus,"data-a11y-sort-order":this.props.a11yIndex},h.a.createElement(zl,{isFlagged:this.props.isFlagged,isPinned:e.is_pinned,channelId:e.channel_id}),h.a.createElement("div",{role:"application",className:"post__content"},h.a.createElement("div",{className:"post__img"},d),h.a.createElement("div",null,h.a.createElement("div",{className:"post__header",ref:this.postHeaderRef},h.a.createElement("div",{className:"col col__name"},p,c),h.a.createElement("div",{className:"col"},y,E,m),_),h.a.createElement("div",{className:"post__body"},h.a.createElement("div",{className:g},u,h.a.createElement(Ul,{post:e,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isEmbedVisible:this.props.isEmbedVisible,pluginPostTypes:this.props.pluginPostTypes})),f,h.a.createElement(Wo,{post:e,isReadOnly:a||n})))))}}Kl(Zl,"propTypes",{post:u.a.object,teamId:u.a.string.isRequired,currentUserId:u.a.string.isRequired,compactDisplay:u.a.bool,author:u.a.string,reactions:u.a.object,isFlagged:u.a.bool.isRequired,isBusy:u.a.bool,removePost:u.a.func.isRequired,previewCollapsed:u.a.string.isRequired,previewEnabled:u.a.bool.isRequired,isEmbedVisible:u.a.bool,enableEmojiPicker:u.a.bool.isRequired,enablePostUsernameOverride:u.a.bool.isRequired,isReadOnly:u.a.bool.isRequired,pluginPostTypes:u.a.object,channelIsArchived:u.a.bool.isRequired,isConsecutivePost:u.a.bool,handleCardClick:u.a.func,a11yIndex:u.a.number,isBot:u.a.bool.isRequired,isLastPost:u.a.bool,shortcutReactToLastPostEmittedFrom:u.a.string,intl:X.a.isRequired,actions:u.a.shape({markPostAsUnread:u.a.func.isRequired,emitShortcutReactToLastPostFrom:u.a.func}),emojiMap:u.a.object.isRequired});var Jl=Object(Z.c)(Zl);function Xl(e,t){const a=t.post,n=t.previousPostId&&Object(R.getPost)(e,t.previousPostId);let s=!1;if(n){const e=Boolean(a.props&&a.props.from_webhook),t=Boolean(n.props&&n.props.from_webhook);!(n&&n.user_id===a.user_id&&a.create_at-n.create_at<=W.Posts.POST_COLLAPSE_TIMEOUT)||e||t||Object(Ti.isSystemMessage)(a)||Object(Ti.isSystemMessage)(n)||n.root_id!==a.root_id&&n.id!==a.root_id||(s=!0)}return s}var Ql=Object(s.connect)((function(e,t){const a=Object(R.makeGetReactionsForPost)(),n=Object(r.makeGetDisplayName)(),s=Object(Xe.a)(e),l=Object(i.getConfig)(e),c="true"===l.EnableEmojiPicker,d="true"===l.EnablePostUsernameOverride,m=t.teamId||Object(o.getCurrentTeamId)(e),u=e.entities.channels.channels[t.post.channel_id],p=Object(Xe.c)(e),h=Object(r.getUser)(e,t.post.user_id),g=Boolean(h&&h.is_bot);return{author:n(e,t.post.user_id),reactions:a(e,t.post.id),enableEmojiPicker:c,enablePostUsernameOverride:d,isEmbedVisible:Object(ia.b)(e,t.post.id),isReadOnly:Object(B.isChannelReadOnlyById)(e,t.post.channel_id),teamId:m,pluginPostTypes:e.plugins.postTypes,channelIsArchived:Object(G.c)(u),isConsecutivePost:Xl(e,t),isFlagged:null!=Object(K.get)(e,fe.F.CATEGORY_FLAGGED_POST,t.post.id,null),compactDisplay:Object(K.get)(e,fe.F.CATEGORY_DISPLAY_SETTINGS,fe.F.MESSAGE_DISPLAY,fe.F.MESSAGE_DISPLAY_DEFAULT)===fe.F.MESSAGE_DISPLAY_COMPACT,shortcutReactToLastPostEmittedFrom:p,emojiMap:s,isBot:g}}),(function(e){return{actions:Object(n.bindActionCreators)({markPostAsUnread:ta.h,emitShortcutReactToLastPostFrom:ta.d},e)}}),null,{forwardRef:!0})(Jl);function $l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ec extends h.a.PureComponent{constructor(...e){super(...e),$l(this,"handleBack",e=>{switch(e.preventDefault(),this.props.previousRhsState){case fe.G.SEARCH:this.props.actions.showSearchResults();break;case fe.G.MENTION:this.props.actions.showMentions();break;case fe.G.FLAG:this.props.actions.showFlaggedPosts();break;case fe.G.PIN:this.props.actions.showPinnedPosts()}}),$l(this,"handleJumpClick",()=>{Object(z.fb)()&&this.props.actions.closeRightHandSide(),this.props.actions.setRhsExpanded(!1);const e=this.props.relativeTeamUrl;N.a.push("".concat(e,"/pl/").concat(this.props.rootPostId))})}render(){let e;const t=h.a.createElement(Vi.a,{id:"closeSidebarTooltip"},h.a.createElement(q.a,{id:"rhs_header.closeSidebarTooltip",defaultMessage:"Close"}));let a;switch(this.props.previousRhsState){case fe.G.SEARCH:case fe.G.MENTION:a=h.a.createElement(Vi.a,{id:"backToResultsTooltip"},h.a.createElement(q.a,{id:"rhs_header.backToResultsTooltip",defaultMessage:"Back to search results"}));break;case fe.G.FLAG:a=h.a.createElement(Vi.a,{id:"backToResultsTooltip"},h.a.createElement(q.a,{id:"rhs_header.backToFlaggedTooltip",defaultMessage:"Back to saved posts"}));break;case fe.G.PIN:a=h.a.createElement(Vi.a,{id:"backToResultsTooltip"},h.a.createElement(q.a,{id:"rhs_header.backToPinnedTooltip",defaultMessage:"Back to pinned posts"}))}const n=h.a.createElement(Vi.a,{id:"expandSidebarTooltip"},h.a.createElement(q.a,{id:"rhs_header.expandSidebarTooltip",defaultMessage:"Expand Sidebar"})),s=h.a.createElement(Vi.a,{id:"shrinkSidebarTooltip"},h.a.createElement(q.a,{id:"rhs_header.collapseSidebarTooltip",defaultMessage:"Collapse Sidebar"})),i=this.props.channel.display_name;return a&&(e=h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:a},h.a.createElement("a",{href:"#",onClick:this.handleBack,className:"sidebar--right__back"},h.a.createElement(q.a,{id:"generic_icons.back",defaultMessage:"Back Icon"},e=>h.a.createElement("i",{className:"icon icon-arrow-back-ios","aria-label":e}))))),h.a.createElement("div",{className:"sidebar--right__header"},h.a.createElement("span",{className:"sidebar--right__title"},e,h.a.createElement(q.a,{id:"rhs_header.details",defaultMessage:"Thread"}),i&&h.a.createElement("button",{onClick:this.handleJumpClick,className:"style--none sidebar--right__title__channel"},i)),h.a.createElement("div",{className:"pull-right"},h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:this.props.isExpanded?s:n},h.a.createElement("button",{type:"button",className:"sidebar--right__expand btn-icon","aria-label":"Expand",onClick:this.props.actions.toggleRhsExpanded},h.a.createElement(q.a,{id:"rhs_header.expandSidebarTooltip.icon",defaultMessage:"Expand Sidebar Icon"},e=>h.a.createElement("i",{className:"icon icon-arrow-expand","aria-label":e})),h.a.createElement(q.a,{id:"rhs_header.collapseSidebarTooltip.icon",defaultMessage:"Collapse Sidebar Icon"},e=>h.a.createElement("i",{className:"icon icon-arrow-collapse","aria-label":e})))),h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:t},h.a.createElement("button",{id:"rhsCloseButton",type:"button",className:"sidebar--right__close btn-icon","aria-label":"Close",onClick:this.props.actions.closeRightHandSide},h.a.createElement(q.a,{id:"rhs_header.closeTooltip.icon",defaultMessage:"Close Sidebar Icon"},e=>h.a.createElement("i",{className:"icon icon-close","aria-label":e}))))))}}$l(ec,"propTypes",{isExpanded:u.a.bool.isRequired,rootPostId:u.a.string.isRequired,previousRhsState:u.a.string,relativeTeamUrl:u.a.string.isRequired,channel:u.a.any.isRequired,actions:u.a.shape({setRhsExpanded:u.a.func.isRequired,showMentions:u.a.func.isRequired,showSearchResults:u.a.func.isRequired,showFlaggedPosts:u.a.func.isRequired,showPinnedPosts:u.a.func.isRequired,closeRightHandSide:u.a.func.isRequired,toggleRhsExpanded:u.a.func.isRequired}).isRequired});var tc=Object(s.connect)((function(e){return{isExpanded:Object(ui.a)(e),relativeTeamUrl:Object(o.getCurrentRelativeTeamUrl)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({setRhsExpanded:mi.l,showSearchResults:mi.q,showMentions:mi.n,showFlaggedPosts:mi.m,showPinnedPosts:mi.o,closeRightHandSide:mi.b,toggleRhsExpanded:mi.t},e)}}))(ec);function ac(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class nc extends h.a.PureComponent{constructor(e){super(e),ac(this,"handleShortcutReactToLastPost",e=>{if(e){const{post:t,enableEmojiPicker:a,channelIsArchived:n,actions:{emitShortcutReactToLastPostFrom:s}}=this.props;s(fe.x.NO_WHERE);const i=t&&t.state===W.Posts.POST_DELETED,r=t&&z.gb(t),o=t&&ca.p(t),l=t&&t.failed,c=t&&t.type===fe.Z.PostTypes.FAKE_PARENT_DELETED,d=this.postHeaderRef.current.getBoundingClientRect();d.top-110>0&&d.bottom<window.innerHeight&&(r||o||i||l||z.fb()||n||c||!a||this.toggleEmojiPicker(e))}}),ac(this,"renderPostTime",e=>{const t=this.props.post;if(t.type===fe.Z.PostTypes.FAKE_PARENT_DELETED)return null;const a=!(e||W.Posts.POST_DELETED===t.state||Ti.isPostPendingOrFailed(t));return h.a.createElement(Ao,{isPermalink:a,eventTime:t.create_at,postId:t.id,location:fe.x.RHS_ROOT})}),ac(this,"toggleEmojiPicker",()=>{const e=!this.state.showEmojiPicker;this.setState({showEmojiPicker:e})}),ac(this,"getClassName",(e,t,a)=>{let n="post post--root post--thread";return this.props.currentUserId===e.user_id&&(n+=" current--user"),(t||a)&&(n+=" post--system"),this.props.compactDisplay&&(n+=" post--compact"),(this.state.dropdownOpened||this.state.showEmojiPicker)&&(n+=" post--hovered"),this.state.alt&&!this.props.channelIsArchived&&(n+=" cursor--pointer"),n}),ac(this,"handleAlt",e=>{this.state.alt!==e.altKey&&this.setState({alt:e.altKey})}),ac(this,"handleDropdownOpened",e=>{this.setState({dropdownOpened:e})}),ac(this,"handlePostClick",e=>{this.props.channelIsArchived||e.altKey&&this.props.actions.markPostAsUnread(this.props.post)}),ac(this,"handlePostFocus",()=>{const{post:e,author:t,reactions:a,isFlagged:n,emojiMap:s}=this.props;this.setState({currentAriaLabel:ca.d(e,t,n,a,this.props.intl,s)})}),ac(this,"getDotMenuRef",()=>this.refs.dotMenu),this.state={alt:!1,showEmojiPicker:!1,testStateObj:!0,dropdownOpened:!1,currentAriaLabel:""},this.postHeaderRef=h.a.createRef()}componentDidMount(){document.addEventListener("keydown",this.handleAlt),document.addEventListener("keyup",this.handleAlt)}componentWillUnmount(){document.removeEventListener("keydown",this.handleAlt),document.removeEventListener("keyup",this.handleAlt)}componentDidUpdate(e){const{shortcutReactToLastPostEmittedFrom:t,isLastPost:a}=this.props;e.shortcutReactToLastPostEmittedFrom!==t&&t===fe.x.RHS_ROOT&&this.handleShortcutReactToLastPost(a)}render(){const{post:e,isReadOnly:t,teamId:a,channelIsArchived:n}=this.props,s=e&&e.state===W.Posts.POST_DELETED,i=z.gb(e),r=ca.p(e),o=Ti.isMeMessage(e);let l;t||i||e.failed||r||!this.props.enableEmojiPicker||n||(l=h.a.createElement(Lo,{channelId:e.channel_id,postId:e.id,teamId:a,getDotMenuRef:this.getDotMenuRef,location:fe.x.RHS_ROOT,showEmojiPicker:this.state.showEmojiPicker,toggleEmojiPicker:this.toggleEmojiPicker}));let c,d,m=null;e.file_ids&&e.file_ids.length>0&&(m=h.a.createElement(go,{post:e,compactDisplay:this.props.compactDisplay})),r?c=h.a.createElement(Yl.a,{overwriteName:h.a.createElement(q.a,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:fe.Z.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0}):e.props&&e.props.from_webhook?(c=e.props.override_username&&this.props.enablePostUsernameOverride?h.a.createElement(Yl.a,{key:e.user_id,userId:e.user_id,hideStatus:!0,overwriteName:e.props.override_username,disablePopover:!0}):h.a.createElement(Yl.a,{key:e.user_id,userId:e.user_id,hideStatus:!0,disablePopover:!0}),d=h.a.createElement(Le.a,null)):c=h.a.createElement(Yl.a,{key:e.user_id,userId:e.user_id,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0});let u="";ca.l(this.props.post)&&(u+=" post--edited");const p=h.a.createElement(eo,{post:this.props.post,location:fe.x.RHS_ROOT,isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened,handleAddReactionClick:this.toggleEmojiPicker,commentCount:this.props.commentCount,isMenuOpen:this.state.dropdownOpened,isReadOnly:t||n,enableEmojiPicker:this.props.enableEmojiPicker});let g;let b,f;return!(i||e.failed||r||z.fb())&&(g=h.a.createElement(Po,{location:fe.x.RHS_ROOT,postId:e.id,isFlagged:this.props.isFlagged})),s||this.props.post.type===fe.Z.PostTypes.FAKE_PARENT_DELETED||(b=h.a.createElement("div",{ref:"dotMenu",className:"col post-menu"},p,l,g)),this.props.post.props&&this.props.post.props.card&&(f=h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:h.a.createElement(Vi.a,null,h.a.createElement(q.a,{id:"post_info.info.view_additional_info",defaultMessage:"View additional info"}))},h.a.createElement("button",{className:"card-icon__container icon--show style--none",onClick:e=>{e.preventDefault(),this.props.handleCardClick(this.props.post)}},h.a.createElement(Hl,{className:"icon icon__info","aria-hidden":"true"})))),h.a.createElement("div",{role:"listitem",id:"rhsPost_"+e.id,tabIndex:"-1",className:"thread__root a11y__section ".concat(this.getClassName(e,r,o)),"aria-label":this.state.currentAriaLabel,onClick:this.handlePostClick,onFocus:this.handlePostFocus,"data-a11y-sort-order":"0"},h.a.createElement(zl,{isFlagged:this.props.isFlagged,isPinned:e.is_pinned,channelId:e.channel_id}),h.a.createElement("div",{role:"application",className:"post__content"},h.a.createElement("div",{className:"post__img"},h.a.createElement(yo,{compactDisplay:this.props.compactDisplay,isBusy:this.props.isBusy,isRHS:!0,post:e,userId:e.user_id})),h.a.createElement("div",null,h.a.createElement("div",{className:"post__header",ref:this.postHeaderRef},h.a.createElement("div",{className:"col__name"},c,d),h.a.createElement("div",{className:"col"},this.renderPostTime(i),f),b),h.a.createElement("div",{className:"post__body"},h.a.createElement("div",{className:u},h.a.createElement(Ul,{post:e,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isEmbedVisible:this.props.isEmbedVisible,pluginPostTypes:this.props.pluginPostTypes})),m,h.a.createElement(Wo,{post:e,isReadOnly:t||n})))))}}ac(nc,"propTypes",{post:u.a.object.isRequired,teamId:u.a.string.isRequired,currentUserId:u.a.string.isRequired,compactDisplay:u.a.bool,commentCount:u.a.number.isRequired,author:u.a.string,reactions:u.a.object,isFlagged:u.a.bool.isRequired,previewCollapsed:u.a.string,previewEnabled:u.a.bool,isBusy:u.a.bool,isEmbedVisible:u.a.bool,enableEmojiPicker:u.a.bool.isRequired,enablePostUsernameOverride:u.a.bool.isRequired,isReadOnly:u.a.bool.isRequired,pluginPostTypes:u.a.object,channelIsArchived:u.a.bool.isRequired,handleCardClick:u.a.func.isRequired,isLastPost:u.a.bool,shortcutReactToLastPostEmittedFrom:u.a.string,intl:X.a.isRequired,actions:u.a.shape({markPostAsUnread:u.a.func.isRequired,emitShortcutReactToLastPostFrom:u.a.func}),emojiMap:u.a.object.isRequired}),ac(nc,"defaultProps",{commentCount:0});var sc=Object(Z.c)(nc);var ic=Object(s.connect)((function(e,t){const a=Object(R.makeGetReactionsForPost)(),n=Object(r.makeGetDisplayName)(),s=Object(i.getConfig)(e),l="true"===s.EnableEmojiPicker,c="true"===s.EnablePostUsernameOverride,d=t.teamId||Object(o.getCurrentTeamId)(e),m=Object(B.getChannel)(e,t.post.channel_id),u=Object(Xe.a)(e),p=Object(Xe.c)(e);return{author:n(e,t.post.user_id),reactions:a(e,t.post.id),emojiMap:u,enableEmojiPicker:l,enablePostUsernameOverride:c,isEmbedVisible:Object(ia.b)(e,t.post.id),isReadOnly:Object(B.isChannelReadOnlyById)(e,t.post.channel_id),teamId:d,pluginPostTypes:e.plugins.postTypes,channelIsArchived:Object(G.c)(m),isFlagged:null!=Object(K.get)(e,fe.F.CATEGORY_FLAGGED_POST,t.post.id,null),compactDisplay:Object(K.get)(e,fe.F.CATEGORY_DISPLAY_SETTINGS,fe.F.MESSAGE_DISPLAY,fe.F.MESSAGE_DISPLAY_DEFAULT)===fe.F.MESSAGE_DISPLAY_COMPACT,shortcutReactToLastPostEmittedFrom:p}}),(function(e){return{actions:Object(n.bindActionCreators)({markPostAsUnread:ta.h,emitShortcutReactToLastPostFrom:ta.d},e)}}),null,{forwardRef:!0})(sc);function rc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(a),!0).forEach((function(t){lc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function lc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cc(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function dc(){return h.a.createElement("div",null)}function mc(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}class uc extends h.a.Component{static getDerivedStateFromProps(e,t){let a={selected:e.selected};return t.selected&&e.selected&&t.selected.id!==e.selected.id&&(a=oc(oc({},a),{},{openTime:(new Date).getTime()})),a}constructor(e){super(e),lc(this,"scrollStopAction",void 0),lc(this,"rhspostlistRef",void 0),lc(this,"containerRef",void 0),lc(this,"postCreateContainerRef",void 0),lc(this,"handleResize",()=>{this.setState({windowWidth:z.Db(),windowHeight:z.Cb()}),y.p()&&"reply_textbox"===document.activeElement.id&&this.scrollToBottom(),this.resizeRhsPostList()}),lc(this,"handleCardClick",e=>{e&&this.props.actions.selectPostCard(e)}),lc(this,"handleCardClickPost",e=>{e&&this.props.actions.selectPostCard(e)}),lc(this,"filterPosts",(e,t,a)=>{const n=[];return e.forEach(e=>{"system_ephemeral"===e.type&&e.create_at<a||e.root_id===t.id&&n.unshift(e)}),n}),lc(this,"scrollToBottom",()=>{Ci()(".post-right__scroll")[0]&&Ci()(".post-right__scroll").parent().scrollTop(Ci()(".post-right__scroll")[0].scrollHeight)}),lc(this,"updateFloatingTimestamp",()=>{if(z.fb()&&this.props.posts){const e=this.rhspostlistRef.current.childNodes,t=this.rhspostlistRef.current.getBoundingClientRect();let a="";const n=100;for(let s=0;s<e.length;s++)if(e[s].offsetTop+t.top-n>0){a=this.props.posts[s].id;break}a!==this.state.topRhsPostId&&this.setState({topRhsPostId:a})}}),lc(this,"handleScroll",e=>{var t;this.updateFloatingTimestamp();const a=e.target,n=a.scrollHeight-a.getBoundingClientRect().height,s=a.scrollTop,i=null===(t=this.getLastPost())||void 0===t?void 0:t.getBoundingClientRect();if(this.state.isScrolling||this.setState({isScrolling:!0}),i){const e=s>=n-i.height;this.setState({userScrolledToBottom:e})}this.scrollStopAction.fireAfter(fe.Z.SCROLL_DELAY)}),lc(this,"handleScrollStop",()=>{this.setState({isScrolling:!1})}),lc(this,"handlePostCommentResize",()=>{this.resizeRhsPostList(),this.scrollToBottom()}),this.scrollStopAction=new wi(this.handleScrollStop);const t=(new Date).getTime();this.state={windowWidth:z.Db(),windowHeight:z.Cb(),isScrolling:!1,topRhsPostId:"",openTime:t,postsContainerHeight:0,userScrolledToBottom:!1},this.rhspostlistRef=h.a.createRef(),this.containerRef=h.a.createRef(),this.postCreateContainerRef=h.a.createRef()}getLastPost(){var e;const t=null===(e=this.rhspostlistRef.current)||void 0===e?void 0:e.children;return t&&t[t.length-1]}resizeRhsPostList(){var e,t;const a=null===(e=this.containerRef.current)||void 0===e?void 0:e.getBoundingClientRect().height,n=null===(t=this.postCreateContainerRef.current)||void 0===t?void 0:t.getBoundingClientRect().height;a&&n&&this.setState({postsContainerHeight:a-(n+56)})}componentDidMount(){this.scrollToBottom(),this.resizeRhsPostList(),window.addEventListener("resize",this.handleResize),this.props.posts.length<z.J(this.props.posts).reply_count+1&&this.props.actions.getPostThread(this.props.selected.id,!0)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){const t=e.posts||[],a=this.props.posts||[];if(this.props.socketConnectionStatus&&!e.socketConnectionStatus&&this.props.actions.getPostThread(this.props.selected.id),t.length>=a.length)return;(a[0].user_id===this.props.currentUserId||this.state.userScrolledToBottom)&&this.scrollToBottom()}shouldComponentUpdate(e,t){return!z.e(t.postsArray,this.props.posts)||(!z.e(t.selected,this.props.selected)||(e.previewEnabled!==this.props.previewEnabled||(t.isBusy!==this.state.isBusy||(t.isScrolling!==this.state.isScrolling||t.topRhsPostId!==this.state.topRhsPostId))))}render(){if(null==this.props.posts||null==this.props.selected||!this.props.channel)return h.a.createElement("div",null);const e=this.filterPosts(this.props.posts,this.props.selected,this.state.openTime),t=e.length,{selected:a,currentUserId:n}=this.props;let s=!1,i={};0===t?s=!0:i=e[t-1];let r=a.create_at;!r&&this.props.posts.length>0&&(r=this.props.posts[this.props.posts.length-1].create_at);const o=z.v(r);let l=o;const c=[];let d,m=1;for(let a=0;a<t;a++){const t=e[a],s=a>0?e[a-1].id:"",r=z.v(t.create_at);r.toDateString()!==l.toDateString()&&(l=r,c.push(h.a.createElement(Gr,{key:r.toString(),date:r})));const o=t.id?t.id:t.pending_post_id;c.push(h.a.createElement(Ql,{key:o+"commentKey",ref:t.id,post:t,previousPostId:s,teamId:this.props.channel.team_id,currentUserId:n,isBusy:this.state.isBusy,removePost:this.props.actions.removePost,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,handleCardClick:this.handleCardClickPost,a11yIndex:m++,isLastPost:t.id===i.id}))}const u=a.type===fe.Z.PostTypes.FAKE_PARENT_DELETED,p=0!==this.props.channel.delete_at;if(u||(d=p?h.a.createElement("div",{className:"channel-archived-warning"},h.a.createElement(Pr.b,{id:"archivedChannelMessage",defaultMessage:"You are viewing an **archived channel**. New messages cannot be posted."})):h.a.createElement("div",{className:"post-create__container",ref:this.postCreateContainerRef},h.a.createElement(Ur,{onHeightChange:this.handlePostCommentResize,channelId:a.channel_id,rootId:a.id,rootDeleted:a.state===W.Posts.POST_DELETED,latestPostId:t>0?e[t-1].id:a.id}))),this.props.channel.type===fe.Z.DM_CHANNEL){const e=this.props.directTeammate;e&&e.delete_at&&(d=h.a.createElement("div",{className:"post-create-message"},h.a.createElement(Pr.b,{id:"create_post.deactivated",defaultMessage:"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted."})))}return h.a.createElement("div",{id:"rhsContainer",className:"sidebar-right__body",ref:this.containerRef},h.a.createElement(Kr,{isScrolling:this.state.isScrolling,isMobile:z.fb(),postId:this.state.topRhsPostId,isRhsPost:!0}),h.a.createElement(tc,{rootPostId:a.id,channel:this.props.channel,previousRhsState:this.props.previousRhsState}),h.a.createElement(Ei.a,{autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:dc,renderThumbVertical:mc,autoHeightMax:this.state.postsContainerHeight,renderView:cc,onScroll:this.handleScroll},h.a.createElement("div",{className:"post-right__scroll"},h.a.createElement("div",{role:"application",id:"rhsContent","aria-label":z.ob("accessibility.sections.rhsContent","message details complimentary region"),className:"post-right__content a11y__region","data-a11y-sort-order":"3","data-a11y-focus-child":!0,"data-a11y-order-reversed":!0},!u&&h.a.createElement(Gr,{date:o}),h.a.createElement(ic,{ref:a.id,post:a,commentCount:t,teamId:this.props.channel.team_id,currentUserId:this.props.currentUserId,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isBusy:this.state.isBusy,handleCardClick:this.handleCardClick,isLastPost:s}),u&&o&&h.a.createElement(Gr,{date:o}),h.a.createElement("div",{ref:this.rhspostlistRef,className:"post-right-comments-container",id:"rhsPostList"},c)),d)))}}lc(uc,"propTypes",{posts:u.a.arrayOf(u.a.any).isRequired,channel:u.a.oneOfType([u.a.any,u.a.oneOf([null])]),selected:u.a.oneOfType([u.a.any,u.a.any]).isRequired,previousRhsState:u.a.string,currentUserId:u.a.string.isRequired,previewCollapsed:u.a.string.isRequired,previewEnabled:u.a.bool.isRequired,socketConnectionStatus:u.a.bool.isRequired,actions:u.a.shape({removePost:u.a.func.isRequired,selectPostCard:u.a.func.isRequired,getPostThread:u.a.func.isRequired}).isRequired,directTeammate:u.a.any.isRequired});var pc=Object(s.connect)((function(){const e=Object(R.makeGetPostsForThread)();return function(t){const a=Object(ui.p)(t),n=Object(fi.a)(t),s=Object(ui.n)(t);let i=[];a&&(i=e(t,{rootId:a.id}));const r=Object(K.get)(t,fe.F.CATEGORY_DISPLAY_SETTINGS,fe.F.COLLAPSE_DISPLAY,fe.F.COLLAPSE_DISPLAY_DEFAULT);return{selected:a,channel:s,posts:i,socketConnectionStatus:n.connected,previewCollapsed:r,previewEnabled:Object(K.getBool)(t,fe.F.CATEGORY_DISPLAY_SETTINGS,fe.F.LINK_PREVIEW_DISPLAY,"true"===fe.F.LINK_PREVIEW_DISPLAY_DEFAULT),directTeammate:Object(z.x)(t,null==s?void 0:s.id)}}}),(function(e){return{actions:Object(n.bindActionCreators)({removePost:be.removePost,selectPostCard:mi.h,getPostThread:be.getPostThread},e)}}))(uc);function hc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class gc extends h.a.PureComponent{constructor(...e){super(...e),hc(this,"handleBack",e=>{switch(e.preventDefault(),this.props.previousRhsState){case fe.G.SEARCH:this.props.actions.showSearchResults();break;case fe.G.MENTION:this.props.actions.showMentions();break;case fe.G.FLAG:this.props.actions.showFlaggedPosts();break;case fe.G.PIN:this.props.actions.showPinnedPosts()}})}render(){let e,t;switch(this.props.previousRhsState){case fe.G.SEARCH:case fe.G.MENTION:t=h.a.createElement(Vi.a,{id:"backToResultsTooltip"},h.a.createElement(q.a,{id:"rhs_header.backToResultsTooltip",defaultMessage:"Back to search results"}));break;case fe.G.FLAG:t=h.a.createElement(Vi.a,{id:"backToResultsTooltip"},h.a.createElement(q.a,{id:"rhs_header.backToFlaggedTooltip",defaultMessage:"Back to saved posts"}));break;case fe.G.PIN:t=h.a.createElement(Vi.a,{id:"backToResultsTooltip"},h.a.createElement(q.a,{id:"rhs_header.backToPinnedTooltip",defaultMessage:"Back to pinned posts"}))}const a=h.a.createElement(Vi.a,{id:"closeSidebarTooltip"},h.a.createElement(q.a,{id:"rhs_header.closeSidebarTooltip",defaultMessage:"Close"})),n=h.a.createElement(Vi.a,{id:"expandSidebarTooltip"},h.a.createElement(q.a,{id:"rhs_header.expandSidebarTooltip",defaultMessage:"Expand Sidebar"})),s=h.a.createElement(Vi.a,{id:"shrinkSidebarTooltip"},h.a.createElement(q.a,{id:"rhs_header.collapseSidebarTooltip",defaultMessage:"Collapse Sidebar"}));return t&&(e=h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:t},h.a.createElement("a",{href:"#",onClick:this.handleBack,className:"sidebar--right__back"},h.a.createElement(q.a,{id:"generic_icons.back",defaultMessage:"Back Icon"},e=>h.a.createElement("i",{className:"icon icon-arrow-back-ios","aria-label":e}))))),h.a.createElement("div",{className:"sidebar--right__header"},h.a.createElement("span",{className:"sidebar--right__title"},e,h.a.createElement(q.a,{id:"search_header.title5",defaultMessage:"Extra information"})),h.a.createElement("div",{className:"pull-right"},h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:this.props.isExpanded?s:n},h.a.createElement("button",{type:"button",className:"sidebar--right__expand btn-icon","aria-label":"Expand",onClick:this.props.actions.toggleRhsExpanded},h.a.createElement(q.a,{id:"rhs_header.expandSidebarTooltip.icon",defaultMessage:"Expand Sidebar Icon"},e=>h.a.createElement("i",{className:"icon icon-arrow-expand","aria-label":e})),h.a.createElement(q.a,{id:"rhs_header.collapseSidebarTooltip.icon",defaultMessage:"Collapse Sidebar Icon"},e=>h.a.createElement("i",{className:"icon icon-arrow-collapse","aria-label":e})))),h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:a},h.a.createElement("button",{type:"button",className:"sidebar--right__close btn-icon","aria-label":"Close",onClick:this.props.actions.closeRightHandSide},h.a.createElement(q.a,{id:"rhs_header.closeTooltip.icon",defaultMessage:"Close Sidebar Icon"},e=>h.a.createElement("i",{className:"icon icon-close","aria-label":e}))))))}}hc(gc,"propTypes",{previousRhsState:u.a.oneOf(Object.values(fe.G)),isExpanded:u.a.bool.isRequired,actions:u.a.shape({showMentions:u.a.func,showSearchResults:u.a.func,showFlaggedPosts:u.a.func,showPinnedPosts:u.a.func,closeRightHandSide:u.a.func,toggleRhsExpanded:u.a.func.isRequired})});var bc=Object(s.connect)((function(e){return{isExpanded:Object(ui.a)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({showMentions:mi.n,showSearchResults:mi.q,showFlaggedPosts:mi.m,showPinnedPosts:mi.o,closeRightHandSide:mi.b,toggleRhsExpanded:mi.t},e)}}))(gc);function fc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _c(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function Cc(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"}))}function yc(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}class Ec extends h.a.Component{constructor(e){super(e),fc(this,"handleScroll",()=>{this.state.isScrolling||this.setState({isScrolling:!0}),this.scrollStopAction.fireAfter(fe.Z.SCROLL_DELAY)}),fc(this,"handleScrollStop",()=>{this.setState({isScrolling:!1})}),fc(this,"handleClick",()=>{z.fb()&&w.c()}),this.scrollStopAction=new wi(this.handleScrollStop),this.state={isScrolling:!1,topRhsPostCreateAt:0}}shouldComponentUpdate(e,t){return!z.e(t.selected,this.props.selected)||t.isScrolling!==this.state.isScrolling}render(){if(null==this.props.selected)return h.a.createElement("div",null);const{selected:e,pluginPostCardTypes:t,teamUrl:a}=this.props,n=e.type;let s=null;if(t.hasOwnProperty(n)){const a=t[n].component;s=h.a.createElement(a,{post:e})}s||(s=h.a.createElement("div",{className:"info-card"},h.a.createElement(V.a,{message:e.props&&e.props.card})));let i=h.a.createElement(Yl.a,{userId:e.user_id,hideStatus:!0,disablePopover:!0});e.props.override_username&&this.props.enablePostUsernameOverride&&(i=h.a.createElement(Yl.a,{userId:e.user_id,hideStatus:!0,disablePopover:!0,overwriteName:e.props.override_username}));const r=h.a.createElement(yo,{compactDisplay:!1,post:e,userId:e.user_id});return h.a.createElement("div",{className:"sidebar-right__body sidebar-right__card"},h.a.createElement(bc,{previousRhsState:this.props.previousRhsState}),h.a.createElement(Ei.a,{autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:Cc,renderThumbVertical:yc,renderView:_c,onScroll:this.handleScroll},h.a.createElement("div",{className:"post-right__scroll"},s,h.a.createElement("div",{className:"d-flex post-card--info"},h.a.createElement("div",{className:"post-card--post-by overflow--ellipsis"},h.a.createElement(q.a,{id:"rhs_card.message_by",defaultMessage:"Message by {avatar} {user}",values:{user:i,avatar:r}})),h.a.createElement("div",{className:"post-card--view-post"},h.a.createElement(vs.Link,{to:"".concat(a,"/pl/").concat(e.id),className:"post__permalink",onClick:this.handleClick},h.a.createElement(q.a,{id:"rhs_card.jump",defaultMessage:"Jump"})))))))}}fc(Ec,"propTypes",{selected:u.a.object,pluginPostCardTypes:u.a.object,previousRhsState:u.a.oneOf(Object.values(fe.G)),enablePostUsernameOverride:u.a.bool,teamUrl:u.a.string}),fc(Ec,"defaultProps",{pluginPostCardTypes:{}});var vc=Object(s.connect)((function(e){const t=Object(ui.q)(e);return{enablePostUsernameOverride:"true"===Object(i.getConfig)(e).EnablePostUsernameOverride,selected:t,pluginPostCardTypes:e.plugins.postCardTypes,teamUrl:Object(o.getCurrentRelativeTeamUrl)(e)}}))(Ec);a(132),a(193);class wc extends Ue.a{render(){const{item:e,isSelection:t,teammate:a,currentUser:n}=this.props;let s="search-autocomplete__item";t&&(s+=" selected a11y--focused");const i=function(e,t){let a=e;if(e.type===fe.Z.DM_CHANNEL){const n=h.a.createElement(De.a,{username:e.username,url:Object(z.R)(Object(We.getUserIdFromChannelName)(t,e.name),e.last_picture_update),size:"sm"});a=h.a.createElement(h.a.Fragment,null,n,h.a.createElement("span",{className:"ml-3"},"@",e.display_name))}return e.type===fe.Z.GM_CHANNEL&&(a=h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"search-autocomplete__icon"},h.a.createElement("div",{className:"status status--group"},"G")),h.a.createElement("span",{className:"ml-3"},"@",e.display_name.replace(/ /g,"")))),e.type===fe.Z.OPEN_CHANNEL&&(a=h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"search-autocomplete__icon"},h.a.createElement("i",{className:"icon light icon--standard icon--no-spacing icon-globe"})),h.a.createElement("span",{className:"ml-3"},e.display_name),h.a.createElement("span",{className:"ml-2 light"},"~",e.name))),e.type===fe.Z.PRIVATE_CHANNEL&&(a=h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"search-autocomplete__icon"},h.a.createElement("i",{className:"icon light icon--standard icon--no-spacing icon-lock-outline"})),h.a.createElement("span",{className:"ml-3"},e.display_name),h.a.createElement("span",{className:"ml-2 light"},"~",e.name))),a}(e,n);let r=null;return e.type===fe.Z.DM_CHANNEL&&(r=h.a.createElement(Le.a,{show:Boolean(a&&a.is_bot),className:"badge-popoverlist"})),h.a.createElement("div",Object.assign({onClick:this.handleClick,onMouseMove:this.handleMouseMove,className:s,ref:e=>{this.node=e}},Ue.a.baseProps),h.a.createElement("span",{"data-testid":"listItem",className:"search-autocomplete__name"},i),r)}}var Oc=Object(s.connect)((e,t)=>({teammate:Object(z.x)(e,t.item.id),currentUser:Object(r.getCurrentUserId)(e)}),null,null,{forwardRef:!0})(wc);const Sc=ze.a.getState;function Tc(e,t){const a=e?"":"@";return t.type===fe.Z.DM_CHANNEL?a+t.display_name:t.type===fe.Z.GM_CHANNEL?a+t.display_name.replace(/ /g,""):(t.type===fe.Z.OPEN_CHANNEL||(t.type,fe.Z.PRIVATE_CHANNEL),t.name)}class Mc extends xe.a{constructor(e){super(),this.autocompleteChannelsForSearch=e}handlePretextChanged(e,t){const a=/\b(?:in|channel):\s*(\S*)$/i.exec(e.toLowerCase());if(a){let e=a[1];const n=e.startsWith("@");n&&(e=e.replace(/^@/,"")),this.startNewRequest(e),this.autocompleteChannelsForSearch(e,a=>{if(this.shouldCancelDispatch(e))return;let s=a;n&&(s=s.filter(e=>Object(We.isDirectChannel)(e)||Object(We.isGroupChannel)(e)));const i=Object(Mt.a)(Sc());s=s.sort(We.sortChannelsByTypeListAndDisplayName.bind(null,i,[fe.Z.OPEN_CHANNEL,fe.Z.PRIVATE_CHANNEL,fe.Z.DM_CHANNEL,fe.Z.GM_CHANNEL]));const r=s.map(Tc.bind(null,n));t({matchedPretext:e,terms:r,items:s,component:Oc})})}return Boolean(a)}}var Pc=a(1357);function Nc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ic(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Rc extends ut.a{constructor(e){super(e),Ic(this,"getContent",()=>Ci()(mr.a.findDOMNode(this.popoverRef.current)).find(".popover-content")),this.itemRefs=new Map,this.popoverRef=h.a.createRef(),this.suggestionReadOut=h.a.createRef()}generateLabel(e){e.username?(this.currentLabel=e.username,(e.first_name||e.last_name)&&e.nickname?this.currentLabel+=" ".concat(e.first_name," ").concat(e.last_name," ").concat(e.nickname):e.nickname?this.currentLabel+=" ".concat(e.nickname):(e.first_name||e.last_name)&&(this.currentLabel+=" ".concat(e.first_name," ").concat(e.last_name))):e.type===fe.Z.DM_CHANNEL||e.type===fe.Z.GM_CHANNEL?this.currentLabel=e.display_name:this.currentLabel=e.name,this.currentLabel&&(this.currentLabel=this.currentLabel.toLowerCase()),this.announceLabel()}renderChannelDivider(e){let t;return t=e===fe.Z.OPEN_CHANNEL?h.a.createElement(q.a,{id:"suggestion.search.public",defaultMessage:"Public Channels"}):e===fe.Z.PRIVATE_CHANNEL?h.a.createElement(q.a,{id:"suggestion.search.private",defaultMessage:"Private Channels"}):h.a.createElement(q.a,{id:"suggestion.search.direct",defaultMessage:"Direct Messages"}),h.a.createElement("div",{key:e+"-divider",className:"search-autocomplete__divider"},h.a.createElement("span",null,t))}render(){if(0===this.props.items.length)return null;const e=[];let t=!1;for(let a=0;a<this.props.items.length;a++){const n=this.props.items[a],s=this.props.terms[a],i=s===this.props.selection,r=this.props.components[a];this.props.renderDividers&&(0!==a&&n.type===this.props.items[a-1].type||(n.type===fe.Z.DM_CHANNEL||n.type===fe.Z.GM_CHANNEL?(t||e.push(this.renderChannelDivider(fe.Z.DM_CHANNEL)),t=!0):n.type===fe.Z.PRIVATE_CHANNEL?e.push(this.renderChannelDivider(fe.Z.PRIVATE_CHANNEL)):n.type===fe.Z.OPEN_CHANNEL&&e.push(this.renderChannelDivider(fe.Z.OPEN_CHANNEL)))),i&&(this.currentItem=n),e.push(h.a.createElement(r,{key:s,ref:e=>this.itemRefs.set(s,e),item:n,term:s,matchedPretext:this.props.matchedPretext[a],isSelection:i,onClick:this.props.onCompleteWord,onMouseMove:this.props.onItemHover}))}return h.a.createElement(Pc.a,{ref:this.popoverRef,id:"search-autocomplete__popover",className:"search-help-popover autocomplete visible",placement:"bottom"},h.a.createElement("div",{ref:this.suggestionReadOut,"aria-live":"polite",className:"hidden-label"}),e)}}Ic(Rc,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Nc(Object(a),!0).forEach((function(t){Ic(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Nc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},ut.a.propTypes));class Ac extends h.a.PureComponent{render(){if(0===this.props.items.length)return null;const e=this.props.items[0],t=this.props.terms[0],a=this.props.components[0],n=h.a.createElement(a,{key:t,ref:t,item:e,term:t,matchedPretext:this.props.matchedPretext[0],isSelection:!1,onClick:this.props.onCompleteWord});return h.a.createElement(Pc.a,{id:"search-autocomplete__popover",className:"search-help-popover autocomplete visible",placement:"bottom"},n)}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Ac,"propTypes",{onCompleteWord:u.a.func.isRequired,items:u.a.array.isRequired,terms:u.a.array.isRequired,components:u.a.array.isRequired,matchedPretext:u.a.array.isRequired});class jc extends Ue.a{render(){const{item:e,isSelection:t}=this.props;let a="search-autocomplete__item";t&&(a+=" selected a11y--focused");const n=e.username;let s="";return(e.first_name||e.last_name)&&e.nickname?s="".concat(z.C(e)," (").concat(e.nickname,")"):e.nickname?s="(".concat(e.nickname,")"):(e.first_name||e.last_name)&&(s="".concat(z.C(e))),h.a.createElement("div",Object.assign({className:a,ref:e=>{this.node=e},onClick:this.handleClick,onMouseMove:this.handleMouseMove},Ue.a.baseProps),h.a.createElement(De.a,{size:"sm",username:n,url:z.R(e.id,e.last_picture_update)}),h.a.createElement("div",{className:"mention--align ml-3"},h.a.createElement("span",null,"@",n),h.a.createElement(Le.a,{show:Boolean(e.is_bot),className:"badge-autocomplete"}),h.a.createElement("span",{className:"ml-2 mention__fullname"},s)))}}class xc extends xe.a{constructor(e){super(),this.autocompleteUsersInTeam=e}handlePretextChanged(e,t){const a=/\bfrom:\s*(\S*)$/i.exec(e.toLowerCase());return this.doAutocomplete(a,t),Boolean(a)}async doAutocomplete(e,t){if(!e)return;const a=e[1];this.startNewRequest(a);const n=await this.autocompleteUsersInTeam(a);if(this.shouldCancelDispatch(a))return;const s=Object.assign([],n.users);t({matchedPretext:a,terms:s.map(e=>e.username),items:s,component:jc})}allowDividers(){return!0}}var Lc=a(195),kc=a(197),Dc=a(124),Uc=a(2114),qc=a.n(Uc);a(2122);class Hc extends Ue.a{constructor(...e){super(...e),function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(this,"handleDayClick",e=>{const t=e.toISOString().split("T")[0];this.props.onClick(t,this.props.matchedPretext)})}render(){let e;return this.props.currentDate&&(e={today:this.props.currentDate}),h.a.createElement(qc.a,{onDayClick:this.handleDayClick,showOutsideDays:!0,modifiers:e,ref:e=>{this.node=e}})}}var Fc=Object(s.connect)((function(e){const t=Object(r.getCurrentUserId)(e),a=Object(Lc.getUserTimezone)(e,t);let n;return Object(Dc.a)(e)&&(n=a.useAutomaticTimezone?Object(kc.c)(a.automaticTimezone):Object(kc.c)(a.manualTimezone)),{currentDate:n}}))(Hc);class Bc extends xe.a{handlePretextChanged(e,t){const a=/\b(?:on|before|after):\s*(\S*)$/i.exec(e.toLowerCase());if(a){const e=a[1];this.startNewRequest(e);const n=Object.assign([],[{label:"Selected Date",date:e}]);t({matchedPretext:e,terms:n.map(e=>e.date),items:n,component:Fc})}return Boolean(a)}allowDividers(){return!1}presentationType(){return"date"}}function Gc({iconComponent:e,ariaLabel:t,buttonClass:a,buttonId:n,onClick:s,tooltipKey:i,tooltipText:r,isRhsOpen:o}){const l={flaggedPosts:{class:"text-nowrap",id:"flaggedTooltip",messageID:Object(J.b)("channel_header.flagged"),message:"Saved posts"},pinnedPosts:{class:"",id:"pinnedPostTooltip",messageID:Object(J.b)("channel_header.pinnedPosts"),message:"Pinned posts"},recentMentions:{class:"",id:"recentMentionsTooltip",messageID:Object(J.b)("channel_header.recentMentions"),message:"Recent mentions"},search:{class:"",id:"searchTooltip",messageID:Object(J.b)("channel_header.search"),message:"Search"}};let c,d;return c="plugin"===i&&r?h.a.createElement(Vi.a,{id:"pluginTooltip",className:""},h.a.createElement("span",null,r)):function(e){return null==l[e]?null:h.a.createElement(Vi.a,{id:l[e].id,className:l[e].class},h.a.createElement(q.a,{id:l[e].messageID,defaultMessage:l[e].message}))}(i),t&&(d="".concat(Object(z.ob)(l[i].messageID,l[i].message))),c?h.a.createElement("div",{className:"flex-child"},h.a.createElement(Wi.a,{trigger:["hover"],delayShow:fe.l.OVERLAY_TIME_DELAY,placement:"bottom",overlay:o?h.a.createElement(h.a.Fragment,null):c},h.a.createElement("button",{id:n,"aria-label":d,className:a||"channel-header__icon",onClick:s},e))):h.a.createElement("div",{className:"flex-child"},h.a.createElement("button",{id:n,className:a||"channel-header__icon",onClick:s},e))}Gc.propTypes={ariaLabel:u.a.bool,buttonClass:u.a.string,buttonId:u.a.string.isRequired,iconComponent:u.a.element.isRequired,onClick:u.a.func.isRequired,tooltipKey:u.a.string,tooltipText:u.a.node,isRhsOpen:u.a.bool};const Vc=e=>h.a.createElement(h.a.Fragment,null,e.withTitle&&h.a.createElement("h4",{className:"search-hint__title"},h.a.createElement(q.a,{id:"search_bar.usage.title",defaultMessage:"Search Options"})),h.a.createElement("ul",{role:"list",className:"search-hint__suggestions-list",onMouseDown:e.onMouseDown},e.options.map((t,a)=>h.a.createElement("li",{className:la()("search-hint__suggestions-list__option",{highlighted:a===e.highlightedIndex}),key:t.searchTerm,onMouseDown:()=>e.onOptionSelected(t.searchTerm),onMouseOver:()=>(t=>{e.onOptionHover&&e.onOptionHover(t)})(a)},h.a.createElement("div",{className:"search-hint__suggestion-list__flex-wrap"},h.a.createElement("span",{className:"search-hint__suggestion-list__label"},t.additionalDisplay?t.additionalDisplay:t.searchTerm)),h.a.createElement("div",{className:"search-hint__suggestion-list__value"},h.a.createElement(q.a,{id:t.message.id,defaultMessage:t.message.defaultMessage}))))));Vc.propTypes={withTitle:u.a.bool,onOptionSelected:u.a.func.isRequired,onMouseDown:u.a.func,options:u.a.arrayOf(u.a.shape({searchTerm:u.a.string.isRequired,message:u.a.any.isRequired,additionalDisplay:u.a.string})).isRequired,highlightedIndex:u.a.number,onOptionHover:u.a.func};var Wc=Vc,zc=a(1307);class Yc extends h.a.PureComponent{render(){return h.a.createElement("span",this.props,h.a.createElement(q.a,{id:"generic_icons.userGuide",defaultMessage:"Help"},e=>h.a.createElement("svg",{width:"18px",height:"18px",viewBox:"1 1 22 22",role:"img","aria-label":e,style:{width:"18px",height:"18px"}},h.a.createElement("path",{d:"M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z"}))))}}function Kc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Zc extends h.a.PureComponent{constructor(e){super(e),Kc(this,"toggleShortcutsModal",e=>{e.preventDefault(),w.m()}),Kc(this,"buttonToggleState",e=>{this.setState({buttonActive:e})}),Kc(this,"askTheCommunityClick",()=>{Object(v.e)("ui","help_ask_the_community")}),Kc(this,"renderDropdownItems",()=>{const{intl:e}=this.props;return h.a.createElement(pr.a.Group,null,"true"===this.props.enableAskCommunityLink&&h.a.createElement(pr.a.ItemExternalLink,{id:"askTheCommunityLink",url:"https://mattermost.com/pl/default-ask-mattermost-community/",text:e.formatMessage({id:"userGuideHelp.askTheCommunity",defaultMessage:"Ask the community"}),onClick:this.askTheCommunityClick}),h.a.createElement(pr.a.ItemExternalLink,{id:"helpResourcesLink",url:this.props.helpLink,text:e.formatMessage({id:"userGuideHelp.helpResources",defaultMessage:"Help resources"})}),h.a.createElement(pr.a.ItemExternalLink,{id:"reportAProblemLink",url:this.props.reportAProblemLink,text:e.formatMessage({id:"userGuideHelp.reportAProblem",defaultMessage:"Report a problem"})}),h.a.createElement(pr.a.ItemAction,{id:"keyboardShortcuts",onClick:this.toggleShortcutsModal,text:e.formatMessage({id:"userGuideHelp.keyboardShortcuts",defaultMessage:"Keyboard shortcuts"})}))}),this.state={buttonActive:!1}}render(){const{intl:e}=this.props,t=h.a.createElement(Vi.a,{id:"userGuideHelpTooltip",className:"hidden-xs"},h.a.createElement(q.a,{id:"channel_header.userHelpGuide",defaultMessage:"Help"}));return h.a.createElement(ur.a,{className:"userGuideHelp",onToggle:this.buttonToggleState},h.a.createElement(Wi.a,{delayShow:500,placement:"bottom",overlay:this.state.buttonActive?h.a.createElement(h.a.Fragment,null):t},h.a.createElement("button",{id:"channelHeaderUserGuideButton",className:la()("channel-header__icon",{"channel-header__icon--active":this.state.buttonActive}),type:"button","aria-expanded":"true"},h.a.createElement(Yc,{className:"icon"}))),h.a.createElement(pr.a,{openLeft:!0,openUp:!1,id:"AddChannelDropdown",ariaLabel:e.formatMessage({id:"sidebar_left.add_channel_dropdown.dropdownAriaLabel",defaultMessage:"Add Channel Dropdown"})},this.renderDropdownItems()))}}Kc(Zc,"propTypes",{intl:u.a.any.isRequired,helpLink:u.a.string.isRequired,reportAProblemLink:u.a.string.isRequired,enableAskCommunityLink:u.a.string.isRequired});var Jc=Object(Z.c)(Zc);var Xc=Object(s.connect)((function(e){const{HelpLink:t,ReportAProblemLink:a,EnableAskCommunityLink:n}=Object(i.getConfig)(e);return{helpLink:t,reportAProblemLink:a,enableAskCommunityLink:n}}))(Jc);function Qc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const{KeyCodes:$c}=fe.Z;class ed extends h.a.PureComponent{constructor(e){super(e),Qc(this,"handleClose",()=>{this.props.actions.closeRightHandSide()}),Qc(this,"handleKeyDown",e=>{const{highlightedSearchHintIndex:t,visibleSearchHintOptions:a}=this.state;if(z.cb(e,$c.ESCAPE)&&(this.search.blur(),e.stopPropagation(),e.preventDefault()),z.cb(e,$c.DOWN)){const e=t===a.length-1?0:t+1;this.setState({highlightedSearchHintIndex:e,indexChangedViaKeyPress:!0})}if(z.cb(e,$c.UP)){const e=t<=0?a.length-1:t-1;this.setState({highlightedSearchHintIndex:e,indexChangedViaKeyPress:!0})}z.cb(e,$c.ENTER)&&t>=0&&this.state.indexChangedViaKeyPress&&(this.handleUpdateSearchTerm(a[t].searchTerm),this.setState({keepInputFocused:!0})),z.cb(e,$c.ENTER)&&this.props.isMentionSearch&&this.props.actions.updateRhsState(fe.G.SEARCH)}),Qc(this,"handleChange",e=>{var t=e.target.value;this.props.actions.updateSearchTerms(t)}),Qc(this,"handleUserBlur",()=>{setTimeout(()=>{!0===this.state.keepInputFocused?this.setState({keepInputFocused:!1}):this.setState({focused:!1})},0),this.setState({highlightedSearchHintIndex:-1})}),Qc(this,"onClear",()=>{this.props.isMentionSearch&&(this.setState({keepInputFocused:!1}),this.props.actions.updateRhsState(fe.G.SEARCH)),this.props.actions.updateSearchTerms("")}),Qc(this,"handleUserFocus",()=>{this.setState({focused:!0})}),Qc(this,"handleSearch",async e=>{if(e.length){const{error:e}=await this.props.actions.showSearchResults(this.props.isMentionSearch);e||this.handleSearchOnSuccess()}}),Qc(this,"handleSearchOnSuccess",()=>{z.fb()&&this.search&&(this.search.value="")}),Qc(this,"handleSubmit",e=>{e.preventDefault();const t=this.props.searchTerms.trim();0!==t.length&&(this.handleSearch(t),this.search.blur())}),Qc(this,"searchMentions",e=>{e.preventDefault(),this.props.isMentionSearch?this.props.actions.closeRightHandSide():this.props.actions.showMentions()}),Qc(this,"getFlagged",e=>{e.preventDefault(),this.props.isFlaggedPosts?this.props.actions.closeRightHandSide():this.props.actions.showFlaggedPosts()}),Qc(this,"handleUpdateSearchTerm",e=>{const t=this.props.searchTerms.split(" ");t.pop(),t.push(e.toLowerCase()),this.props.actions.updateSearchTerms(t.join(" ")),this.focus(),this.setState({highlightedSearchHintIndex:-1,indexChangedViaKeyPress:!1})}),Qc(this,"focus",()=>{setTimeout(()=>{this.search.focus(),this.setState({focused:!0})},0),'""'===this.search.value?(this.search.selectionStart=this.search.length-1,this.search.selectionEnd=this.search.length-1):this.search.selectionStart=this.search.length}),Qc(this,"keepInputFocused",()=>{this.setState({keepInputFocused:!0})}),Qc(this,"setHoverHintIndex",e=>{this.setState({highlightedSearchHintIndex:e,indexChangedViaKeyPress:!1})}),Qc(this,"renderHintPopover",()=>{if(z.fb())return null;const{visibleSearchHintOptions:e}=this.state;let t=0;if(this.props.searchTerms.split(/[: ]/g).forEach(e=>{fe.bb.some(({searchTerm:t})=>t.toLowerCase()===e.toLowerCase())&&t++}),e.length>0&&!this.props.isMentionSearch){let a="search-help-popover";return this.state.focused&&t<=2&&(a+=" visible"),h.a.createElement(Pc.a,{id:this.props.isSideBarRight?"sbr-searchbar-help-popup":"searchbar-help-popup",placement:"bottom",className:a},h.a.createElement(Wc,{options:e,withTitle:!0,onOptionSelected:this.handleUpdateSearchTerm,onMouseDown:this.keepInputFocused,highlightedIndex:this.state.highlightedSearchHintIndex,onOptionHover:this.setHoverHintIndex}))}return h.a.createElement(h.a.Fragment,null)}),Qc(this,"getSearch",e=>{this.search=e,this.props.getFocus&&this.props.getFocus(this.focus)}),this.state={focused:!1,keepInputFocused:!1,highlightedSearchHintIndex:-1,visibleSearchHintOptions:ed.determineVisibleSearchHintOptions(e.searchTerms),lastSearchTerms:""},this.suggestionProviders=[new Bc,new Mc(e.actions.autocompleteChannelsForSearch),new xc(e.actions.autocompleteUsersInTeam)]}componentDidMount(){z.fb()&&setTimeout(()=>{const e=document.querySelector(".app__body .sidebar--menu");e&&e.classList.remove("visible")})}static getDerivedStateFromProps(e,t){const{searchTerms:a}=e;return a!==t.lastSearchTerms?{visibleSearchHintOptions:ed.determineVisibleSearchHintOptions(a),lastSearchTerms:a}:null}render(){let e,t,a;if(this.props.showMentionFlagBtns){e=h.a.createElement(Gc,{iconComponent:h.a.createElement(Hn.a,{className:"icon icon--standard","aria-hidden":"true"}),ariaLabel:!0,buttonClass:la()("channel-header__icon",{"channel-header__icon--active":this.props.isMentionSearch}),buttonId:this.props.isSideBarRight?"sbrChannelHeaderMentionButton":"channelHeaderMentionButton",onClick:this.searchMentions,tooltipKey:"recentMentions",isRhsOpen:this.props.isRhsOpen});var n=this.props.isFlaggedPosts?"channel-header__icon--active":"";t=h.a.createElement(Gc,{iconComponent:h.a.createElement(qn,{className:"icon icon--standard"}),ariaLabel:!0,buttonClass:"channel-header__icon "+n,buttonId:this.props.isSideBarRight?"sbrChannelHeaderFlagButton":"channelHeaderFlagButton",onClick:this.getFlagged,tooltipKey:"flaggedPosts",isRhsOpen:this.props.isRhsOpen}),a=h.a.createElement(Xc,null)}let s="search__form";return this.state.focused&&(s+=" search__form--focused"),h.a.createElement("div",{className:"sidebar-right__table"},h.a.createElement("div",{className:"sidebar-collapse__container"},h.a.createElement("div",{id:this.props.isSideBarRight?"sbrSidebarCollapse":"sidebarCollapse",className:"sidebar-collapse",onClick:this.handleClose},h.a.createElement(q.a,{id:"generic_icons.back",defaultMessage:"Back Icon"},e=>h.a.createElement("span",{className:"fa fa-2x fa-angle-left",title:e})))),h.a.createElement("div",{id:this.props.isSideBarRight?"sbrSearchFormContainer":"searchFormContainer",className:"search-form__container"},h.a.createElement("form",{role:"application",className:s,onSubmit:this.handleSubmit,style:td.searchForm,autoComplete:"off","aria-labelledby":"searchBox"},h.a.createElement("div",{className:"search__font-icon"},h.a.createElement("i",{className:"icon icon-magnify icon-16"})),h.a.createElement(mt.a,{ref:this.getSearch,id:this.props.isSideBarRight?"sbrSearchBox":"searchBox",tabIndex:"0",className:"search-bar a11y__region",containerClass:"w-full","data-a11y-sort-order":"9","aria-describedby":this.props.isSideBarRight?"sbr-searchbar-help-popup":"searchbar-help-popup","aria-label":z.ob("search_bar.search","Search"),placeholder:z.ob("search_bar.search","Search"),value:this.props.searchTerms,onFocus:this.handleUserFocus,onBlur:this.handleUserBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown,listComponent:Rc,dateComponent:Ac,providers:this.suggestionProviders,type:"search",autoFocus:this.props.isFocus&&""===this.props.searchTerms,delayInputUpdate:!0,renderDividers:!0,clearable:!0,onClear:this.onClear}),this.props.isSearchingTerm&&h.a.createElement(zc.a,null),this.renderHintPopover())),e,t,a)}}Qc(ed,"propTypes",{isSearchingTerm:u.a.bool,searchTerms:u.a.string,isMentionSearch:u.a.bool,isFlaggedPosts:u.a.bool,showMentionFlagBtns:u.a.bool,isFocus:u.a.bool,isSideBarRight:u.a.bool,isRhsOpen:u.a.bool,getFocus:u.a.func,actions:u.a.shape({updateSearchTerms:u.a.func,showSearchResults:u.a.func,showMentions:u.a.func,showFlaggedPosts:u.a.func,closeRightHandSide:u.a.func,autocompleteChannelsForSearch:u.a.func.isRequired,autocompleteUsersInTeam:u.a.func.isRequired,updateRhsState:u.a.func})}),Qc(ed,"defaultProps",{showMentionFlagBtns:!0,isFocus:!1,indexChangedViaKeyPress:!1}),Qc(ed,"determineVisibleSearchHintOptions",e=>{let t=[];if(""===e.trim())t=fe.bb;else{const a=e.split(/\s+/g),n=a[a.length-1],s=a[a.length-2];if(s?!fe.bb.some(({searchTerm:e})=>s.toLowerCase().endsWith(e.toLowerCase())):!fe.bb.some(({searchTerm:t})=>e.toLowerCase().endsWith(t.toLowerCase())))try{t=fe.bb.filter(e=>new RegExp(n,"ig").test(e.searchTerm)&&e.searchTerm.toLowerCase()!==n.toLowerCase())}catch(e){t=[]}}return t});const td={searchForm:{overflow:"visible"}};var ad=Object(s.connect)((function(e){const t=Object(ui.k)(e);return{isSearchingTerm:Object(ui.g)(e),searchTerms:Object(ui.m)(e),isMentionSearch:t===fe.G.MENTION,isFlaggedPosts:t===fe.G.FLAG,isRhsOpen:Object(ui.c)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({updateSearchTerms:mi.v,showSearchResults:mi.q,showMentions:mi.n,showFlaggedPosts:mi.m,closeRightHandSide:mi.b,autocompleteChannelsForSearch:U.c,autocompleteUsersInTeam:$s.c,updateRhsState:mi.u},e)}}))(ed),nd=a(147),sd=a(1702);class id extends h.a.PureComponent{render(){const e=h.a.createElement(Vi.a,{id:"closeSidebarTooltip"},h.a.createElement(q.a,{id:"rhs_header.closeSidebarTooltip",defaultMessage:"Close"})),t=h.a.createElement(Vi.a,{id:"expandSidebarTooltip"},h.a.createElement(q.a,{id:"rhs_header.expandSidebarTooltip",defaultMessage:"Expand Sidebar"})),a=h.a.createElement(Vi.a,{id:"shrinkSidebarTooltip"},h.a.createElement(q.a,{id:"rhs_header.collapseSidebarTooltip",defaultMessage:"Collapse Sidebar"}));return h.a.createElement("div",{className:"sidebar--right__header"},h.a.createElement("span",{className:"sidebar--right__title"},this.props.children),h.a.createElement("div",{className:"pull-right"},h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:this.props.isExpanded?a:t},h.a.createElement("button",{type:"button",className:"sidebar--right__expand btn-icon",onClick:this.props.actions.toggleRhsExpanded},h.a.createElement(q.a,{id:"rhs_header.expandSidebarTooltip.icon",defaultMessage:"Expand Sidebar Icon"},e=>h.a.createElement("i",{className:"icon icon-arrow-expand","aria-label":e})),h.a.createElement(q.a,{id:"rhs_header.collapseSidebarTooltip.icon",defaultMessage:"Collapse Sidebar Icon"},e=>h.a.createElement("i",{className:"icon icon-arrow-collapse","aria-label":e})))),h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:e},h.a.createElement("button",{id:"searchResultsCloseButton",type:"button",className:"sidebar--right__close btn-icon","aria-label":"Close",onClick:this.props.actions.closeRightHandSide},h.a.createElement(q.a,{id:"rhs_header.closeTooltip.icon",defaultMessage:"Close Sidebar Icon"},e=>h.a.createElement("i",{className:"icon icon-close","aria-label":e}))))))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(id,"propTypes",{isExpanded:u.a.bool.isRequired,children:u.a.node,actions:u.a.shape({closeRightHandSide:u.a.func.isRequired,toggleRhsExpanded:u.a.func.isRequired})});var rd=Object(s.connect)((function(e){return{isExpanded:Object(ui.a)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({closeRightHandSide:mi.b,toggleRhsExpanded:mi.t},e)}}))(id);function od(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"16px",height:"14px",viewBox:"0 0 16 14",style:ld,role:"img","aria-label":t({id:"generic_icons.reply",defaultMessage:"Reply Icon"})},h.a.createElement("path",{d:"M5.2 3.88001V5.48001L6.72 5.56001C8.85333 5.63467 10.64 6.51467 12.08 8.20001C11.312 7.94401 10.448 7.76801 9.488 7.67201C8.76267 7.59734 7.84 7.56001 6.72 7.56001H5.12V9.72001L2.16 6.76001L5.2 3.88001ZM6.64 0.600005C6.48 0.600005 6.34667 0.626672 6.24 0.680005L0.08 6.44001C0.048 6.47201 0.0266667 6.50934 0.016 6.55201C0.00533333 6.59467 0 6.66934 0 6.77601C0 6.87201 0.0266667 6.94667 0.08 7.00001L6.24 12.92C6.29333 12.9733 6.4 13 6.56 13C6.61333 12.9467 6.65067 12.8987 6.672 12.856C6.704 12.792 6.72 12.7067 6.72 12.6V9.08001C8.17067 9.08001 9.328 9.16001 10.192 9.32001C11.312 9.53334 12.272 9.91734 13.072 10.472C13.9573 11.0907 14.72 11.9867 15.36 13.16C15.4667 13.2667 15.5467 13.32 15.6 13.32H15.68C15.7653 13.2773 15.824 13.2187 15.856 13.144C15.888 13.0693 15.8827 12.9947 15.84 12.92C15.872 12.8133 15.8453 12.5413 15.76 12.104C15.6533 11.5707 15.4827 11.0107 15.248 10.424C14.96 9.66667 14.5973 8.95201 14.16 8.28001C13.2853 6.88267 12.2187 5.81067 10.96 5.06401C9.70133 4.30667 8.288 3.88534 6.72 3.80001V0.840006C6.752 0.765339 6.75733 0.706672 6.736 0.664005C6.71467 0.621339 6.68267 0.600005 6.64 0.600005Z"})))}const ld={enableBackground:"new -158 242 18 18"};function cd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class dd extends h.a.PureComponent{render(){let e=null,t="post-menu__item post-menu__item--wide";this.props.commentCount>0?(t+=" post-menu__item--show",e=h.a.createElement("span",{className:"post-menu__comment-count"},this.props.commentCount)):""!==this.props.searchStyle&&(t=t+" "+this.props.searchStyle);const a=h.a.createElement(Vi.a,{id:"comment-icon-tooltip",className:"hidden-xs"},h.a.createElement(q.a,{id:"post_info.comment_icon.tooltip.reply",defaultMessage:"Reply"}));return h.a.createElement(Wi.a,{delayShow:500,placement:"top",overlay:a},h.a.createElement("button",{id:"".concat(this.props.location,"_commentIcon_").concat(this.props.postId),"aria-label":Object(z.ob)("post_info.comment_icon.tooltip.reply","Reply").toLowerCase(),className:t+" "+this.props.extraClass,onClick:this.props.handleCommentClick},h.a.createElement("span",{className:"d-flex align-items-center"},h.a.createElement(od,{className:"icon icon--small"}),e)))}}cd(dd,"propTypes",{location:u.a.oneOf(["CENTER","SEARCH"]),handleCommentClick:u.a.func.isRequired,searchStyle:u.a.string,commentCount:u.a.number,postId:u.a.string,extraClass:u.a.string}),cd(dd,"defaultProps",{location:"CENTER",searchStyle:"",commentCount:0,extraClass:""});var md=a(1378);function ud(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class pd extends h.a.PureComponent{constructor(e){super(e),ud(this,"handleFocusRHSClick",e=>{e.preventDefault(),this.props.actions.selectPost(this.props.post)}),ud(this,"handleJumpClick",e=>{e.preventDefault(),z.fb()&&this.props.actions.closeRightHandSide(),this.props.actions.setRhsExpanded(!1),N.a.push("/".concat(this.props.currentTeamName,"/pl/").concat(this.props.post.id))}),ud(this,"handleCardClick",e=>{e&&this.props.actions.selectPostCard(e)}),ud(this,"handleDropdownOpened",e=>{this.setState({dropdownOpened:e})}),ud(this,"renderPostTime",()=>{const e=this.props.post,t=!(W.Posts.POST_DELETED===e.state||Ti.isPostPendingOrFailed(e));return h.a.createElement(Ao,{isPermalink:t,eventTime:e.create_at,postId:e.id,location:fe.x.SEARCH})}),ud(this,"getClassName",()=>{let e="post post--thread";return this.props.compactDisplay&&(e+=" post--compact"),this.state.dropdownOpened&&(e+=" post--hovered"),e}),ud(this,"handleSearchItemFocus",()=>{this.setState({currentAriaLabel:"".concat(this.getChannelName(),", ").concat(this.props.createAriaLabel(this.props.intl))})}),ud(this,"getChannelName",()=>{const{channelType:e}=this.props;let{channelName:t}=this.props;return e===fe.Z.DM_CHANNEL&&(t=this.props.intl.formatMessage({id:"search_item.direct",defaultMessage:"Direct Message (with {username})"},{username:this.props.displayName})),t}),this.state={dropdownOpened:!1}}render(){const{post:e,channelIsArchived:t}=this.props,a=this.getChannelName();let n,s=!1;e.props&&e.props.from_webhook&&e.props.override_username&&this.props.enablePostUsernameOverride&&(n=e.props.override_username,s=!0);const i=h.a.createElement(yo,{compactDisplay:this.props.compactDisplay,post:e,userId:e.user_id}),r=h.a.createElement("div",{className:"post__img"},i);let o="";ca.l(this.props.post)&&(o+=" post--edited");let l,c,d,m,u=null;e.file_ids&&e.file_ids.length>0&&(u=h.a.createElement(go,{post:e,compactDisplay:this.props.compactDisplay})),e.state===fe.Z.POST_DELETED||e.state===W.Posts.POST_DELETED?l=h.a.createElement("p",null,h.a.createElement(q.a,{id:"post_body.deleted",defaultMessage:"(message deleted)"})):(z.fb()||(c=h.a.createElement(Po,{location:fe.x.SEARCH,postId:e.id,isFlagged:this.props.isFlagged})),e.props&&e.props.card&&(d=h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:h.a.createElement(Vi.a,null,h.a.createElement(q.a,{id:"post_info.info.view_additional_info",defaultMessage:"View additional info"}))},h.a.createElement("button",{className:"card-icon__container icon--show style--none",onClick:e=>{e.preventDefault(),this.handleCardClick(this.props.post)}},h.a.createElement(Hl,{className:"icon icon__info","aria-hidden":"true"})))),m=h.a.createElement("div",{className:"col__controls post-menu"},h.a.createElement(eo,{post:e,location:fe.x.SEARCH,isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened,commentCount:this.props.commentCountForPost,isMenuOpen:this.state.dropdownOpened,isReadOnly:t||null}),c,h.a.createElement(dd,{location:fe.x.SEARCH,handleCommentClick:this.handleFocusRHSClick,commentCount:this.props.replyCount,postId:e.id,searchStyle:"search-item__comment",extraClass:this.props.replyCount?"icon--visible":""}),h.a.createElement("a",{href:"#",onClick:this.handleJumpClick,className:"search-item__jump"},h.a.createElement(q.a,{id:"search_item.jump",defaultMessage:"Jump"}))),l=h.a.createElement(xl,{post:e,options:{searchTerm:this.props.term,searchMatches:this.props.matches}},h.a.createElement(Dl,{post:e,options:{searchTerm:this.props.term,searchMatches:this.props.matches,mentionHighlight:this.props.isMentionSearch},isRHS:!0})));const p=z.v(e.create_at);return h.a.createElement("div",{"data-testid":"search-item-container",className:"search-item__container"},h.a.createElement(Gr,{date:p}),h.a.createElement("div",{className:"a11y__section ".concat(this.getClassName()),id:"searchResult_"+e.id,"aria-label":this.state.currentAriaLabel,onFocus:this.handleSearchItemFocus,"data-a11y-sort-order":this.props.a11yIndex},h.a.createElement("div",{className:"search-channel__name","aria-hidden":"true"},a,t&&h.a.createElement("span",{className:"search-channel__archived"},h.a.createElement(md.a,{className:"icon icon__archive channel-header-archived-icon svg-text-color"}),h.a.createElement(q.a,{id:"search_item.channelArchived",defaultMessage:"Archived"}))),h.a.createElement(zl,{isFlagged:this.props.isFlagged,isPinned:e.is_pinned,skipPinned:this.props.isPinnedPosts,skipFlagged:this.props.isFlaggedPosts,channelId:e.channel_id}),h.a.createElement("div",{role:"application",className:"post__content"},r,h.a.createElement("div",null,h.a.createElement("div",{className:"post__header"},h.a.createElement("div",{className:"col col__name"},h.a.createElement(Yl.a,{userId:e.user_id,overwriteName:n,disablePopover:s,isRHS:!0}),h.a.createElement(Le.a,{show:Boolean(e.props&&e.props.from_webhook&&!this.props.isBot)})),h.a.createElement("div",{className:"col"},this.renderPostTime(),d),m),h.a.createElement("div",{className:"search-item-snippet post__body"},h.a.createElement("div",{className:o},l,u))))))}}ud(pd,"propTypes",{post:u.a.object,createAriaLabel:u.a.func,matches:u.a.array,channelName:u.a.string,channelType:u.a.string,channelIsArchived:u.a.bool,compactDisplay:u.a.bool,isMentionSearch:u.a.bool,term:u.a.string,isFlagged:u.a.bool.isRequired,currentTeamName:u.a.string,commentCountForPost:u.a.number,enablePostUsernameOverride:u.a.bool.isRequired,isBot:u.a.bool.isRequired,a11yIndex:u.a.number,actions:u.a.shape({closeRightHandSide:u.a.func.isRequired,selectPost:u.a.func.isRequired,selectPostCard:u.a.func.isRequired,setRhsExpanded:u.a.func.isRequired}).isRequired,intl:X.a.isRequired,directTeammate:u.a.string.isRequired,displayName:u.a.string.isRequired,replyCount:u.a.number,isFlaggedPosts:u.a.bool,isPinnedPosts:u.a.bool}),ud(pd,"defaultProps",{isBot:!1,channelIsArchived:!1});var hd=Object(Z.c)(pd);var gd=Object(s.connect)((function(){const e=Object(ca.r)(),t=Object(ca.q)(),a=Object(R.makeGetCommentCountForPost)();return(n,s)=>{const l=Object(i.getConfig)(n),c=Object(K.getMyPreferences)(n),d="true"===l.EnablePostUsernameOverride,{post:m}=s,u=Object(r.getUser)(n,m.user_id),p=Object(B.getChannel)(n,m.channel_id)||{delete_at:0},h=Object(z.x)(n,p.id);return{createAriaLabel:t(n,m),channelId:p.id,channelName:p.display_name,channelType:p.type,channelIsArchived:0!==p.delete_at,currentTeamName:Object(o.getCurrentTeam)(n).name,commentCountForPost:a(n,{post:m}),enablePostUsernameOverride:d,isFlagged:Object(Ti.isPostFlagged)(m.id,c),isBot:!!u&&u.is_bot,directTeammate:h,displayName:Object(z.z)(n,h),replyCount:e(n,m)}}}),(function(e){return{actions:Object(n.bindActionCreators)({closeRightHandSide:mi.b,selectPost:mi.j,selectPostCard:mi.i,setRhsExpanded:mi.l},e)}}))(hd);function bd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fd(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function _d(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"}))}function Cd(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}class yd extends h.a.Component{constructor(e){super(e),bd(this,"handleResize",()=>{this.setState({windowWidth:z.Db(),windowHeight:z.Cb()})}),bd(this,"scrollToTop",()=>{this.scrollbars.current.scrollToTop()}),bd(this,"handleScroll",()=>{if(!(this.props.isFlaggedPosts||this.props.isPinnedPosts||this.props.isSearchingTerm||this.props.isSearchGettingMore)){const e=this.scrollbars.current.getScrollHeight();this.scrollbars.current.getScrollTop()+this.scrollbars.current.getClientHeight()+30>=e&&this.loadMorePosts()}}),bd(this,"loadMorePosts",Object(sr.debounce)(()=>{this.props.actions.getMorePostsForSearch()},100)),this.state={windowWidth:z.Db(),windowHeight:z.Cb()},this.scrollbars=h.a.createRef()}componentDidMount(){this.scrollToTop(),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}shouldComponentUpdate(e,t){return function(e,t,a,n){for(const a in t)if(t.hasOwnProperty(a)&&"results"!==a&&t[a]!==e[a])return!0;for(const e in n)if(n.hasOwnProperty(e)&&n[e]!==a[e])return!0;const s=e.results,i=t.results;if(s.length!==i.length)return!0;for(let e=0;e<s.length;e++)if(s[e]!==i[e])return!0;return!1}(this.props,e,this.state,t)}componentDidUpdate(e){this.props.searchTerms!==e.searchTerms&&this.scrollToTop()}render(){const e=this.props.results,t=!e||0===e.length,a=this.props.searchTerms;0!==this.props.searchPage||t||this.props.isSearchAtEnd||this.loadMorePosts();let n=null,s=null;if(this.props.isSearchingTerm||this.props.isSearchingFlaggedPost||this.props.isSearchingPinnedPost||!this.props.isOpened)n=h.a.createElement("div",{className:"sidebar--right__subheader a11y__section"},h.a.createElement("div",{className:"sidebar--right__loading"},h.a.createElement(el.a,{text:z.ob("search_header.loading","Searching")})));else if(this.props.isFlaggedPosts&&t)n=h.a.createElement("div",{className:la()(["sidebar--right__subheader a11y__section",{"sidebar-expanded":this.props.isSideBarExpanded&&t}])},h.a.createElement(Xn,{variant:Gn.FlaggedPosts,subtitleValues:{icon:h.a.createElement(qn,{className:"icon  no-results__mini_icon"})}}));else if(this.props.isPinnedPosts&&t)n=h.a.createElement("div",{className:la()(["sidebar--right__subheader a11y__section",{"sidebar-expanded":this.props.isSideBarExpanded&&t}])},h.a.createElement(Xn,{variant:Gn.PinnedPosts,subtitleValues:{text:h.a.createElement("strong",null,"Pin to Channel")}}));else if(a||!t||this.props.isMentionSearch)if(this.props.isMentionSearch&&t)n=h.a.createElement("div",{className:la()(["sidebar--right__subheader a11y__section",{"sidebar-expanded":this.props.isSideBarExpanded&&t}])},h.a.createElement(Xn,{variant:Gn.Mentions}));else if(t)n=h.a.createElement("div",{className:la()(["sidebar--right__subheader a11y__section",{"sidebar-expanded":this.props.isSideBarExpanded&&t}])},h.a.createElement(Xn,{variant:Gn.ChannelSearch,titleValues:{channelName:'"'.concat(this.props.searchTerms,'"')}}));else{let t;this.props.isPinnedPosts?(t=[...e],t.sort((e,t)=>t.create_at-e.create_at)):t=e,n=t.map((e,t)=>h.a.createElement(gd,{key:e.id,compactDisplay:this.props.compactDisplay,post:e,matches:this.props.matches[e.id],term:this.props.isFlaggedPosts||this.props.isPinnedPosts||this.props.isMentionSearch?"":a,isMentionSearch:this.props.isMentionSearch,a11yIndex:t,isFlaggedPosts:this.props.isFlaggedPosts,isPinnedPosts:this.props.isPinnedPosts}),this),this.props.isSearchAtEnd||this.props.isFlaggedPosts||this.props.isPinnedPosts||(s=h.a.createElement("div",{className:"loading-screen"},h.a.createElement("div",{className:"loading__content"},h.a.createElement("div",{className:"round round-1"}),h.a.createElement("div",{className:"round round-2"}),h.a.createElement("div",{className:"round round-3"}))))}else n=h.a.createElement("div",{className:"sidebar--right__subheader search__hints a11y__section"},h.a.createElement(Wc,{onOptionSelected:this.props.updateSearchTerms,options:fe.bb}));var i=this.props.intl.formatMessage({id:"search_header.results",defaultMessage:"Search Results"});const r=this.props.channelDisplayName;return this.props.isMentionSearch?i=this.props.intl.formatMessage({id:"search_header.title2",defaultMessage:"Recent Mentions"}):this.props.isFlaggedPosts?i=this.props.intl.formatMessage({id:"search_header.title3",defaultMessage:"Saved Posts"}):this.props.isPinnedPosts?i=this.props.intl.formatMessage({id:"channel_header.pinnedPosts",defaultMessage:"Pinned Posts"}):this.props.isCard?i=this.props.intl.formatMessage({id:"search_header.title5",defaultMessage:"Extra information"}):!a&&t&&(i=this.props.intl.formatMessage({id:"search_bar.search",defaultMessage:"Search"})),h.a.createElement("div",{id:"searchContainer",className:"sidebar-right__body"},h.a.createElement(rd,null,i,r&&h.a.createElement("div",{className:"sidebar--right__title__channel"},r)),h.a.createElement(Ei.a,{ref:this.scrollbars,autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:_d,renderThumbVertical:Cd,renderView:fd,onScroll:this.handleScroll},h.a.createElement("div",{id:"search-items-container",role:"application",className:la()(["search-items-container post-list__table a11y__region",{"no-results":t}]),"data-a11y-sort-order":"3","data-a11y-focus-child":!0,"data-a11y-loop-navigation":!1,"aria-label":this.props.intl.formatMessage({id:"accessibility.sections.rhs",defaultMessage:"{regionTitle} complimentary region"},{regionTitle:i})},n,s)))}}bd(yd,"propTypes",{results:u.a.array,matches:u.a.object,searchTerms:u.a.string,isSearchingTerm:u.a.bool,isSearchingFlaggedPost:u.a.bool,isSearchingPinnedPost:u.a.bool,isSearchGettingMore:u.a.bool,isSearchAtEnd:u.a.bool,searchPage:u.a.number,compactDisplay:u.a.bool,isMentionSearch:u.a.bool,isFlaggedPosts:u.a.bool,isPinnedPosts:u.a.bool,isCard:u.a.bool,channelDisplayName:u.a.string.isRequired,isOpened:u.a.bool,updateSearchTerms:u.a.func.isRequired,actions:u.a.shape({getMorePostsForSearch:u.a.func.isRequired}),intl:X.a.isRequired,isSideBarExpanded:u.a.bool}),bd(yd,"defaultProps",{matches:{}});var Ed=Object(Z.c)(yd);var vd=Object(s.connect)((function(){let e,t;return function(a){var n;const s="true"===Object(i.getConfig)(a).ExperimentalViewArchivedChannels,r=Object(R.getSearchResults)(a);r&&r!==e&&(e=r,t=[],e.forEach(e=>{if(!e)return;const n=Object(B.getChannel)(a,e.channel_id);n&&0!==n.delete_at&&!s||t.push(e)}));const o=Object(sd.getCurrentSearchForCurrentTeam)(a)||{};return{results:t,matches:Object(R.getSearchMatches)(a),searchTerms:Object(ui.l)(a),isSearchingTerm:Object(ui.g)(a),isSearchingFlaggedPost:Object(ui.e)(a),isSearchingPinnedPost:Object(ui.f)(a),isSearchGettingMore:Object(ui.d)(a),isSearchAtEnd:o.isEnd,searchPage:null===(n=o.params)||void 0===n?void 0:n.page,compactDisplay:K.get(a,fe.F.CATEGORY_DISPLAY_SETTINGS,fe.F.MESSAGE_DISPLAY,fe.F.MESSAGE_DISPLAY_DEFAULT)===fe.F.MESSAGE_DISPLAY_COMPACT}}}),(function(e){return{actions:Object(n.bindActionCreators)({getMorePostsForSearch:nd.getMorePostsForSearch},e)}}))(Ed);class wd extends h.a.PureComponent{render(){return h.a.createElement("div",{id:"rhsContainer",className:"sidebar-right__body"},h.a.createElement(rd,null,this.props.title),this.props.showPluggable&&h.a.createElement(Et.a,{pluggableName:"RightHandSidebarComponent",pluggableId:this.props.pluggableId}))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(wd,"propTypes",{showPluggable:u.a.bool.isRequired,pluggableId:u.a.string.isRequired,title:u.a.oneOfType([u.a.string,u.a.object])});var Od=Object(s.connect)((function(e){const t=e.plugins.components.RightHandSidebarComponent,a=Object(ui.h)(e),n=t.find(e=>e.id===a),s=n?n.title:"";return{showPluggable:Boolean(n),pluggableId:a,title:s}}))(wd);function Sd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Td extends h.a.PureComponent{constructor(e){super(e),Sd(this,"setPrevious",()=>{this.props.isOpen&&(this.previous={searchVisible:this.props.searchVisible,isMentionSearch:this.props.isMentionSearch,isPinnedPosts:this.props.isPinnedPosts,isFlaggedPosts:this.props.isFlaggedPosts,selectedPostId:this.props.selectedPostId,selectedPostCardId:this.props.selectedPostCardId,previousRhsState:this.props.previousRhsState})}),Sd(this,"handleShortcut",e=>{z.g(e)&&z.cb(e,fe.Z.KeyCodes.PERIOD)&&(e.preventDefault(),this.props.isOpen?this.props.actions.closeRightHandSide():this.props.actions.openAtPrevious(this.previous))}),Sd(this,"determineTransition",()=>{const e=window.getComputedStyle(this.sidebarRight.current).getPropertyValue("transition"),t=Boolean(e)&&"all 0s ease 0s"!==e;this.sidebarRight.current&&t?(this.setState({isOpened:this.props.isOpen}),this.sidebarRight.current.addEventListener("transitionend",this.onFinishTransition)):(this.setState({isOpened:!0}),this.sidebarRight.current&&this.sidebarRight.current.removeEventListener("transitionend",this.onFinishTransition))}),Sd(this,"onFinishTransition",e=>{"transform"===e.propertyName&&this.setState({isOpened:this.props.isOpen})}),Sd(this,"onShrink",()=>{this.props.actions.setRhsExpanded(!1)}),Sd(this,"handleUpdateSearchTerms",e=>{this.props.actions.updateSearchTerms(e),this.focusSearchBar()}),Sd(this,"getSearchBarFocus",e=>{this.focusSearchBar=e}),this.sidebarRight=h.a.createRef(),this.state={isOpened:!1}}componentDidMount(){window.addEventListener("resize",this.determineTransition),document.addEventListener("keydown",this.handleShortcut),this.determineTransition()}componentWillUnmount(){window.removeEventListener("resize",this.determineTransition),document.removeEventListener("keydown",this.handleShortcut),this.sidebarRight.current&&this.sidebarRight.current.removeEventListener("transitionend",this.onFinishTransition)}componentDidUpdate(e){const t=e.searchVisible||e.postRightVisible,a=this.props.searchVisible||this.props.postRightVisible;!t&&a&&(this.determineTransition(),Object(v.e)("ui","ui_rhs_opened"));const{actions:n,isPinnedPosts:s,rhsChannel:i,channel:r}=this.props;s&&e.isPinnedPosts===s&&i.id!==e.rhsChannel.id&&n.showPinnedPosts(i.id),r&&e.channel&&r.id!==e.channel.id&&this.props.actions.setRhsExpanded(!1),this.setPrevious()}render(){const{rhsChannel:e,currentUserId:t,isFlaggedPosts:a,isMentionSearch:n,isPinnedPosts:s,postRightVisible:i,postCardVisible:r,previousRhsState:o,searchVisible:l,isPluginView:c,isExpanded:d}=this.props;let m=null,u="";this.props.isExpanded&&(u="sidebar--right--expanded");var p=null;t&&(p=h.a.createElement(ad,{isFocus:l&&!a&&!s,isSideBarRight:!0,getFocus:this.getSearchBarFocus}));let g="";return e&&(g=e.display_name),l?m=h.a.createElement("div",{className:"sidebar--right__content"},h.a.createElement("div",{className:"search-bar__container channel-header alt"},p),h.a.createElement(vd,{isMentionSearch:n,isFlaggedPosts:a,isPinnedPosts:s,toggleSize:this.toggleSize,shrink:this.onShrink,channelDisplayName:g,isOpened:this.state.isOpened,updateSearchTerms:this.handleUpdateSearchTerms,isSideBarExpanded:d})):i?m=h.a.createElement("div",{className:"post-right__container"},h.a.createElement(bi,{overlayType:"right"}),h.a.createElement("div",{className:"search-bar__container channel-header alt"},p),h.a.createElement(pc,{previousRhsState:o,currentUserId:t,toggleSize:this.toggleSize,shrink:this.onShrink})):c?m=h.a.createElement("div",{className:"post-right__container"},h.a.createElement("div",{className:"search-bar__container channel-header alt"},p),h.a.createElement(Od,null)):r&&(m=h.a.createElement("div",{className:"post-right__container"},h.a.createElement("div",{className:"search-bar__container channel-header alt"},p),h.a.createElement(vc,{previousRhsState:o}))),m||(u=""),h.a.createElement("div",{className:la()("sidebar--right",u,{"move--left":this.props.isOpen}),id:"sidebar-right",role:"complementary",ref:this.sidebarRight},h.a.createElement("div",{onClick:this.onShrink,className:"sidebar--right__bg"}),h.a.createElement("div",{className:"sidebar-right-container"},m))}}Sd(Td,"propTypes",{isExpanded:u.a.bool.isRequired,isOpen:u.a.bool.isRequired,currentUserId:u.a.string.isRequired,channel:u.a.object,postRightVisible:u.a.bool,postCardVisible:u.a.bool,searchVisible:u.a.bool,isMentionSearch:u.a.bool,isFlaggedPosts:u.a.bool,isPinnedPosts:u.a.bool,isPluginView:u.a.bool,previousRhsState:u.a.string,rhsChannel:u.a.object,selectedPostId:u.a.string,selectedPostCardId:u.a.string,actions:u.a.shape({setRhsExpanded:u.a.func.isRequired,showPinnedPosts:u.a.func.isRequired,openRHSSearch:u.a.func.isRequired,closeRightHandSide:u.a.func.isRequired,openAtPrevious:u.a.func.isRequired,updateSearchTerms:u.a.func.isRequired})});var Md=Object(s.connect)((function(e){const t=Object(ui.k)(e),a=Object(B.getCurrentChannel)(e),n=Object(ui.t)(e),s=Object(ui.r)(e);return{isExpanded:Object(ui.a)(e),isOpen:Object(ui.c)(e),channel:a,currentUserId:Object(r.getCurrentUserId)(e),postRightVisible:Boolean(n),postCardVisible:Boolean(s),searchVisible:Boolean(t)&&t!==fe.G.PLUGIN,previousRhsState:Object(ui.j)(e),isMentionSearch:t===fe.G.MENTION,isFlaggedPosts:t===fe.G.FLAG,isPinnedPosts:t===fe.G.PIN,isPluginView:t===fe.G.PLUGIN,rhsChannel:Object(ui.n)(e),selectedPostId:n,selectedPostCardId:s}}),(function(e){return{actions:Object(n.bindActionCreators)({setRhsExpanded:mi.l,showPinnedPosts:mi.o,openRHSSearch:mi.f,closeRightHandSide:mi.b,openAtPrevious:mi.d,updateSearchTerms:mi.v},e)}}))(Td),Pd=a(2435),Nd=a.p+"files/4f99c2f6b91b67d35afdb9344dd442d0.gif",Id=a.p+"files/e5be3dc87420090bc22a4fd084ddf15d.gif";function Rd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ad=fe.Z.Preferences,jd=fe.Z.TutorialSteps;class xd extends h.a.PureComponent{constructor(e){super(e),Rd(this,"targetRef",void 0),Rd(this,"show",()=>{this.setState({show:!0})}),Rd(this,"hide",()=>{this.setState({show:!1})}),Rd(this,"handleNext",()=>{if(this.state.currentScreen<this.props.screens.length-1)return void this.setState({currentScreen:this.state.currentScreen+1});if(this.props.telemetryTag){let e=this.props.telemetryTag;this.props.screens.length>1&&(e+="_"+(this.state.currentScreen+1).toString()),this.state.currentScreen===this.props.screens.length-1?e+="_okay":e+="_next",Object(v.e)("tutorial",e)}const{currentUserId:e,actions:t}=this.props,{closeRhsMenu:a,savePreferences:n}=t,s=[{user_id:e,category:Ad.TUTORIAL_STEP,name:e,value:(this.props.step+1).toString()}];a(),this.hide(),n(e,s)}),Rd(this,"skipTutorial",e=>{if(e.preventDefault(),this.props.telemetryTag){let e=this.props.telemetryTag;this.props.screens.length>1&&(e+="_"+this.state.currentScreen),e+="_skip",Object(v.e)("tutorial",e)}const{currentUserId:t,actions:a}=this.props,n=[{user_id:t,category:Ad.TUTORIAL_STEP,name:t,value:jd.FINISHED.toString()}];a.savePreferences(t,n)}),Rd(this,"handleCircleClick",(e,t)=>{e.preventDefault(),this.setState({currentScreen:t})}),Rd(this,"getTarget",()=>this.targetRef.current),this.state={currentScreen:0,show:!1},this.targetRef=h.a.createRef()}render(){const e=this.state.currentScreen===this.props.screens.length-1?h.a.createElement(q.a,{id:"tutorial_tip.ok",defaultMessage:"Okay"}):h.a.createElement(q.a,{id:"tutorial_tip.next",defaultMessage:"Next"}),t=[];if(this.props.screens.length>1)for(let e=0;e<this.props.screens.length;e++){let a="circle";e===this.state.currentScreen&&(a+=" active"),t.push(h.a.createElement("a",{href:"#",key:"dotactive"+e,className:a,"data-screen":e,onClick:t=>this.handleCircleClick(t,e)}))}let a=Nd;return"tip-overlay--header"!==this.props.overlayClass&&"tip-overlay--sidebar"!==this.props.overlayClass&&"tip-overlay--header--up"!==this.props.overlayClass||(a=Id),h.a.createElement("div",{id:"tipButton",className:"tip-div "+this.props.overlayClass,onClick:this.show},h.a.createElement("img",{alt:"tutorial tip",className:"tip-button",src:a,width:"35",onClick:this.show,ref:this.targetRef}),h.a.createElement(_a.a,{show:this.state.show},h.a.createElement("div",{className:"tip-backdrop"})),h.a.createElement(_a.a,{placement:this.props.placement,show:this.state.show,rootClose:!0,onHide:this.hide,target:this.getTarget},h.a.createElement("div",{className:"tip-overlay "+this.props.overlayClass},h.a.createElement("div",{className:"arrow"}),this.props.screens[this.state.currentScreen],h.a.createElement("div",{className:"tutorial__footer"},h.a.createElement("div",{className:"tutorial__circles"},t),h.a.createElement("div",{className:"text-right"},h.a.createElement("button",{id:"tipNextButton",className:"btn btn-primary",onClick:this.handleNext},e),h.a.createElement("div",{className:"tip-opt"},h.a.createElement(q.a,{id:"tutorial_tip.seen",defaultMessage:"Seen this before? "}),h.a.createElement("a",{href:"#",onClick:this.skipTutorial},h.a.createElement(q.a,{id:"tutorial_tip.out",defaultMessage:"Opt out of these tips."}))))))))}}Rd(xd,"propTypes",{currentUserId:u.a.string.isRequired,step:u.a.number.isRequired,screens:u.a.any.isRequired,placement:u.a.string.isRequired,overlayClass:u.a.string,telemetryTag:u.a.string,actions:u.a.shape({closeRhsMenu:u.a.func.isRequired,savePreferences:u.a.func.isRequired}).isRequired}),Rd(xd,"defaultProps",{overlayClass:""});var Ld=Object(s.connect)((function(e){const t=Object(r.getCurrentUserId)(e);return{currentUserId:t,step:Object(K.getInt)(e,fe.F.TUTORIAL_STEP,t,0)}}),(function(e){return{actions:Object(n.bindActionCreators)({closeRhsMenu:mi.a,savePreferences:Qs.savePreferences},e)}}))(xd);const kd=({toggleFunc:e,onBottom:t})=>{const a=[];a.push(h.a.createElement("div",null,h.a.createElement("h4",null,h.a.createElement(q.a,{id:"sidebar_header.tutorial.title",defaultMessage:"Main Menu"})),h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"sidebar_header.tutorial.body1",defaultMessage:"The **Main Menu** is where you can **Invite New Members**, access your **Account Settings** and set your **Theme Color**."})),h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"sidebar_header.tutorial.body2",defaultMessage:"Team administrators can also access their **Team Settings** from this menu."})),h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"sidebar_header.tutorial.body3",defaultMessage:"System administrators will find a **System Console** option to administrate the entire system."}))));let n="right",s="left";return t&&(n="bottom",s="up"),h.a.createElement("div",{onClick:e},h.a.createElement(Ld,{placement:n,screens:a,overlayClass:"tip-overlay--header--"+s,telemetryTag:"tutorial_tip_3_main_menu"}))};kd.propTypes={toggleFunc:u.a.func,onBottom:u.a.bool.isRequired};var Dd=kd,Ud=a(1321);function qd(e){return{type:fe.f.SET_SHOW_NEXT_STEPS_VIEW,show:e}}const Hd=()=>async(e,t)=>{const a=Object(r.getCurrentUserId)(t());e(qd(!0)),e(Object(Qs.savePreferences)(a,[{user_id:a,category:fe.F.RECOMMENDED_NEXT_STEPS,name:fe.H.HIDE,value:"false"}]))};var Fd=a(1344);function Bd(e){return e?"cloud_first_user_onboarding":"cloud_end_user_onboarding"}function Gd(e,t){const a=t.split(" ");return Object(Fd.isEqual)(a.sort(),e.roles.sort())||0===e.roles.length}var Vd=a(1426);a(657),a(2123);function Wd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wd(Object(a),!0).forEach((function(t){Yd(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wd(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Yd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Kd=e=>{const{name:t,src:a,defaultSrc:n,placeholder:s,loadingPicture:i,onSelect:r,onRemove:o}=e,[l,c]=Object(p.useState)(),[d,m]=Object(p.useState)(),u=h.a.createRef(),g=h.a.createRef(),b=()=>{o(),c(n||void 0)};let f;return Object(p.useEffect)(()=>{l||(a?c(a):n&&c(n))},[a,l]),l&&l!==n&&(f=h.a.createElement("button",{"data-testid":"PictureSelector__removeButton",className:"PictureSelector__removeButton",disabled:i,onClick:b},h.a.createElement(q.a,{id:"picture_selector.remove_picture",defaultMessage:"Remove picture"}))),h.a.createElement("div",{className:"PictureSelector"},h.a.createElement("input",{name:t,"data-testid":"PictureSelector__input-".concat(t),ref:u,className:"PictureSelector__input hidden",accept:".jpg,.png,.bmp",type:"file",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0],a=new FileReader;a.onload=e=>{c(URL.createObjectURL(t));const a=Yi.c(e.target.result);m(Yi.e(a))},a.readAsArrayBuffer(t),r(t)}},disabled:i,"aria-hidden":!0,tabIndex:-1}),h.a.createElement("div",{className:"PictureSelector__imageContainer"},h.a.createElement("div",{"aria-label":Object(z.ob)("picture_selector.image.ariaLabel","Picture selector image"),className:"PictureSelector__image",style:zd({backgroundImage:"url("+l+")"},d)},!l&&s),h.a.createElement("button",{ref:g,"data-testid":"PictureSelector__selectButton",className:"PictureSelector__selectButton",disabled:i,onClick:()=>{var t;e.onOpenDialog&&e.onOpenDialog(),u&&u.current&&(null===(t=g.current)||void 0===t||t.blur(),u.current.value="",u.current.click())},"aria-label":Object(z.ob)("picture_selector.select_button.ariaLabel","Select picture")},h.a.createElement("i",{className:"icon icon-pencil-outline"}))),f)};Kd.propTypes={name:u.a.string.isRequired,src:u.a.string,defaultSrc:u.a.string,placeholder:u.a.node,loadingPicture:u.a.bool,onOpenDialog:u.a.func,onSelect:u.a.func.isRequired,onRemove:u.a.func.isRequired};var Zd=Kd;a(2124);function Jd(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Xd extends h.a.PureComponent{constructor(e){super(e),Jd(this,"handleInputChange",e=>{let t;e.target.value?e.target.value.length>128&&(t=z.ob("next_steps_view.complete_profile_step.fullNameTooBig","Your name must be less than 128 character")):t=z.ob("next_steps_view.complete_profile_step.fullNameCannotBeBlank","Your full name cannot be blank"),this.setState({fullName:e.target.value,fullNameError:t})}),Jd(this,"isFinishDisabled",()=>Boolean(!this.state.fullName||this.state.fullNameError||this.state.profilePictureError)),Jd(this,"onSkip",()=>{this.props.onSkip(this.props.id)}),Jd(this,"onFinish",()=>{const e=this.state.fullName.split(" "),t=e[0].slice(0,64),a=e.slice(1).join(" ").slice(0,64),n=Object.assign({},this.props.currentUser,{first_name:t,last_name:a});this.props.actions.updateMe(n),this.state.profilePicture?this.props.actions.uploadProfileImage(this.props.currentUser.id,this.state.profilePicture):this.state.removeProfilePicture&&this.props.actions.setDefaultProfileImage(this.props.currentUser.id),Object(v.e)(Bd(this.props.isAdmin),"click_save_profile"),this.props.onFinish(this.props.id)}),Jd(this,"onOpenPictureDialog",()=>{Object(v.e)(Bd(this.props.isAdmin),"click_add_profile_photo")}),Jd(this,"onSelectPicture",e=>{if(!fe.e.includes(e.type)||e.size>this.props.maxFileSize)return Object(v.e)(Bd(this.props.isAdmin),"error_profile_photo_invalid"),void this.setState({profilePictureError:!0});this.setState({profilePicture:e,profilePictureError:!1,removeProfilePicture:!1})}),Jd(this,"onRemovePicture",()=>{Object(v.e)(Bd(this.props.isAdmin),"click_remove_photo"),this.setState({profilePicture:void 0,profilePictureError:!1,removeProfilePicture:!0})});const t=e.currentUser;this.state={fullName:t.first_name||t.last_name?"".concat(t.first_name," ").concat(t.last_name):"",profilePictureError:!1,removeProfilePicture:!1}}componentDidMount(){this.props.expanded&&Object(v.d)(Bd(this.props.isAdmin),"pageview_complete_profile")}componentDidUpdate(e){e.expanded!==this.props.expanded&&this.props.expanded&&Object(v.d)(Bd(this.props.isAdmin),"pageview_complete_profile")}render(){const{currentUser:e}=this.props,t=e.last_picture_update?z.R(e.id,e.last_picture_update):void 0,a=z.k(e.id);return h.a.createElement("div",{className:"NextStepsView__stepWrapper"},h.a.createElement("div",{className:"CompleteProfileStep"},h.a.createElement("div",{className:"CompleteProfileStep__profilePicture"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"next_steps_view.complete_profile_step.addAPhoto",defaultMessage:"Add a photo"})),h.a.createElement(Zd,{name:"CompleteProfileStep__profilePicture",onOpenDialog:this.onOpenPictureDialog,onSelect:this.onSelectPicture,onRemove:this.onRemovePicture,src:t,defaultSrc:a})),h.a.createElement("div",{className:"CompleteProfileStep__fullName"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"next_steps_view.complete_profile_step.enterYourName",defaultMessage:"Enter your name"})),h.a.createElement(Vd.a,{name:"fullName",type:"text",value:this.state.fullName,onChange:this.handleInputChange,placeholder:z.ob("next_steps_view.complete_profile_step.yourFullName","Your full name"),error:this.state.fullNameError,info:z.ob("next_steps_view.complete_profile_step.nameWillBeDisplayed","Your name will be displayed with your messages")}))),this.state.profilePictureError&&h.a.createElement("span",{className:"CompleteProfileStep__pictureError"},h.a.createElement("i",{className:"icon icon-alert-outline"}),h.a.createElement(Pr.b,{id:"next_steps_view.complete_profile_step.pictureError",defaultMessage:"Photos must be in BMP, JPG or PNG format. Maximum file size is {max}.",values:{max:z.p(this.props.maxFileSize)}})),h.a.createElement("div",{className:"NextStepsView__wizardButtons"},h.a.createElement("button",{"data-testid":"CompleteProfileStep__saveProfileButton",className:la()("NextStepsView__button NextStepsView__finishButton primary",{disabled:this.isFinishDisabled()}),onClick:this.onFinish,disabled:this.isFinishDisabled()},h.a.createElement(q.a,{id:"next_steps_view.complete_profile_step.saveProfile",defaultMessage:"Save profile"}))))}}Jd(Xd,"propTypes",{maxFileSize:u.a.number.isRequired,actions:u.a.shape({updateMe:u.a.func.isRequired,setDefaultProfileImage:u.a.func.isRequired,uploadProfileImage:u.a.func.isRequired}).isRequired});var Qd=Object(s.connect)((function(e){const t=Object(i.getConfig)(e);return{maxFileSize:parseInt(t.MaxFileSize,10)}}),(function(e){return{actions:Object(n.bindActionCreators)({updateMe:Y.updateMe,setDefaultProfileImage:Y.setDefaultProfileImage,uploadProfileImage:Y.uploadProfileImage},e)}}))(Xd);a(2125);function $d(e){return h.a.createElement("div",{className:"TextCardWithAction"},h.a.createElement("div",{className:"card-body"},h.a.createElement(q.a,{id:e.cardBodyMessageId,defaultMessage:e.cardBodyDefaultMessage})),h.a.createElement("div",{className:"NextStepsView__wizardButtons"},h.a.createElement("button",{className:"NextStepsView__button NextStepsView__finishButton primary",onClick:e.onClick},h.a.createElement(q.a,{id:e.buttonMessageId,defaultMessage:e.buttonDefaultMessage}))))}var em=a(50),tm=a(1358);a(2126);function am(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function nm(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function sm(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nm(Object(a),!0).forEach((function(t){im(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nm(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function im(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const rm={input:e=>sm(sm({},e),{},{color:"var(--center-channel-color)"})},om=e=>h.a.createElement("div",{className:la()("MultiInput__multiValueContainer",{error:e.data.error})},h.a.createElement(tm.a.MultiValueContainer,e)),lm=e=>h.a.createElement("div",{className:"MultiInput__multiValueRemove"},h.a.createElement(tm.a.MultiValueRemove,e,h.a.createElement("i",{className:"icon icon-close-circle"}))),cm=e=>h.a.createElement("div",{className:"MultiInput__placeholder"},h.a.createElement(tm.a.Placeholder,e)),dm=e=>{const{value:t,placeholder:a,className:n,addon:s,name:i,textPrefix:r,legend:o,onChange:l,styles:c}=e,d=am(e,["value","placeholder","className","addon","name","textPrefix","legend","onChange","styles"]),[m,u]=Object(p.useState)(!1),g=Boolean(m||t.length);return h.a.createElement("div",{className:"MultiInput Input_container"},h.a.createElement("fieldset",{className:la()("Input_fieldset",n,{Input_fieldset___legend:g})},h.a.createElement("legend",{className:la()("Input_legend",{Input_legend___focus:g})},g?o||a:null),h.a.createElement("div",{className:"Input_wrapper",onFocus:t=>{const{onFocus:a}=e;u(!0),a&&a(t)},onBlur:t=>{const{onBlur:a}=e;u(!1),a&&a(t)}},r&&h.a.createElement("span",null,r),h.a.createElement(tm.b,Object.assign({id:"MultiInput_".concat(i),components:{Menu:()=>null,IndicatorsContainer:()=>null,MultiValueContainer:om,MultiValueRemove:lm,Placeholder:cm},isMulti:!0,isClearable:!1,openMenuOnFocus:!1,menuIsOpen:!1,placeholder:m?"":a,className:la()("Input",n,{Input__focus:g}),value:t,onChange:l,styles:sm(sm({},rm),c)},d))),s))};dm.propTypes={value:u.a.arrayOf(u.a.any).isRequired,legend:u.a.string,onChange:u.a.func.isRequired};var mm=dm;a(2127);function um(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pm(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?um(Object(a),!0).forEach((function(t){hm(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):um(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function hm(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const gm={control:()=>({alignItems:"flex-start"}),valueContainer:e=>pm(pm({},e),{},{padding:"0"})};class bm extends h.a.PureComponent{constructor(e){super(e),hm(this,"inviteLinkRef",void 0),hm(this,"timeout",void 0),hm(this,"onInputChange",(e,t)=>{if(t&&"input-blur"!==t.action&&"menu-close"!==t.action&&this.state.emailInput!==e)if(-1!==e.indexOf(" ")||-1!==e.indexOf(",")){const t=e.split(/[\s,]+/).filter(e=>e.length).map(e=>({label:e,value:e,error:!Object(em.isEmail)(e)})),a=[...this.state.emails,...t];this.setState({emails:a,emailInput:"",emailError:a.length>10?z.ob("next_steps_view.invite_members_step.tooManyEmails","Invitations are limited to 10 email addresses."):void 0})}else this.setState({emailInput:e})}),hm(this,"onChange",(e,t)=>{"remove-value"!==t.action&&"pop-value"!==t.action||(e.some(e=>e.error)||this.setState({emailError:void 0}),e.length>10&&this.setState({emailError:z.ob("next_steps_view.invite_members_step.tooManyEmails","Invitations are limited to 10 email addresses.")}),this.setState({emails:e}))}),hm(this,"onBlur",()=>{if(this.state.emailInput){const e=this.state.emailInput.split(/[\s,]+/).filter(e=>e.length).map(e=>({label:e,value:e,error:!Object(em.isEmail)(e)})),t=[...this.state.emails,...e];this.setState({emails:t,emailInput:"",emailError:t.length>10?z.ob("next_steps_view.invite_members_step.tooManyEmails","Invitations are limited to 10 email addresses."):void 0})}}),hm(this,"sendEmailInvites",async()=>{if(this.state.emails.some(e=>e.error))return void this.setState({emailError:z.ob("next_steps_view.invite_members_step.invalidEmail","One or more email addresses are invalid"),emailsSent:void 0});Object(v.e)(Bd(this.props.isAdmin),"click_send_invitations",{num_invitations:this.state.emails.length});const e=this.state.emails.map(e=>e.value),{data:t,error:a}=await this.props.actions.sendEmailInvitesToTeamGracefully(this.props.team.id,e);if(a||!t.length||t.some(e=>e.error))return Object(v.e)(Bd(this.props.isAdmin),"error_sending_invitations"),void this.setState({emailError:z.ob("next_steps_view.invite_members_step.errorSendingEmails","There was a problem sending your invitations. Please try again."),emailsSent:void 0});Object(v.e)(Bd(this.props.isAdmin),"invitations_sent",{num_invitations_sent:t.length}),this.setState({emailError:void 0,emailsSent:t.length},()=>{setTimeout(()=>this.setState({emailsSent:void 0}),4e3)})}),hm(this,"onSkip",()=>{this.props.onSkip(this.props.id)}),hm(this,"onFinish",()=>{this.props.onFinish(this.props.id)}),hm(this,"copyLink",()=>{Object(v.e)(Bd(this.props.isAdmin),"click_copy_invite_link");const e=navigator.clipboard;if(e)e.writeText(this.getInviteURL()),this.setState({copiedLink:!0});else{const e=document.createElement("textarea");e.innerText=this.getInviteURL(),e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select();try{this.setState({copiedLink:document.execCommand("copy")})}catch(e){this.setState({copiedLink:!1})}e.remove()}this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.setState({copiedLink:!1})},4e3)}),hm(this,"getInviteURL",()=>"".concat(Object(Mi.e)(),"/signup_user_complete/?id=").concat(this.props.team.invite_id)),this.inviteLinkRef=h.a.createRef(),this.state={copiedLink:!1,emailInput:"",emails:[]}}componentDidMount(){this.props.expanded&&Object(v.d)(Bd(this.props.isAdmin),"pageview_invite_members"),this.props.team.invite_id||this.props.actions.regenerateTeamInviteId(this.props.team.id)}componentDidUpdate(e){e.expanded!==this.props.expanded&&this.props.expanded&&Object(v.d)(Bd(this.props.isAdmin),"pageview_invite_members")}render(){return h.a.createElement("div",{className:"NextStepsView__stepWrapper"},h.a.createElement("div",{className:"InviteMembersStep"},this.props.isEmailInvitesEnabled&&h.a.createElement("div",{className:"InviteMembersStep__emailInvitations"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"next_steps_view.invite_members_step.sendInvitationsViaEmail",defaultMessage:"Send invitations via email"})),h.a.createElement(q.a,{id:"next_steps_view.invite_members_step.youCanInviteUpTo",defaultMessage:"You can invite up to 10 team members using a space or comma between addresses"}),h.a.createElement(mm,{onBlur:this.onBlur,onInputChange:this.onInputChange,onChange:this.onChange,value:this.state.emails,inputValue:this.state.emailInput,legend:z.ob("next_steps_view.invite_members_step.emailAddresses","Email addresses"),placeholder:z.ob("next_steps_view.invite_members_step.enterEmailAddresses","Enter email addresses"),styles:gm,name:"InviteMembersStep__membersListInput"}),h.a.createElement("div",{className:"InviteMembersStep__send"},h.a.createElement("button",{"data-testid":"InviteMembersStep__sendButton",className:la()("NextStepsView__button InviteMembersStep__sendButton secondary",{disabled:!this.state.emails.length||Boolean(this.state.emailsSent)||this.state.emailError}),disabled:!this.state.emails.length||Boolean(this.state.emailsSent)||Boolean(this.state.emailError),onClick:this.sendEmailInvites},h.a.createElement("i",{className:"icon icon-send"}),h.a.createElement(q.a,{id:"next_steps_view.invite_members_step.send",defaultMessage:"Send"})),h.a.createElement("div",{className:la()("InviteMembersStep__invitationResults",{error:this.state.emailError})},this.state.emailsSent&&h.a.createElement(h.a.Fragment,null,h.a.createElement("i",{className:"icon icon-check"}),h.a.createElement(Pr.b,{id:"next_steps_view.invite_members_step.invitationsSent",defaultMessage:"{num} invitations sent",values:{num:this.state.emailsSent}})),this.state.emailError&&h.a.createElement(h.a.Fragment,null,h.a.createElement("i",{className:"icon icon-alert-outline"}),h.a.createElement("span",null,this.state.emailError))))),h.a.createElement("div",{className:"InviteMembersStep__shareInviteLink"},h.a.createElement("h3",null,this.props.isEmailInvitesEnabled&&h.a.createElement(q.a,{id:"next_steps_view.invite_members_step.orShareThisLink",defaultMessage:"Or share this link to invite members"}),!this.props.isEmailInvitesEnabled&&h.a.createElement(q.a,{id:"next_steps_view.invite_members_step.shareThisLink",defaultMessage:"Share this link to invite members"})),h.a.createElement("div",{className:"InviteMembersStep__shareLinkBlock"},h.a.createElement("input",{ref:this.inviteLinkRef,className:"InviteMembersStep__shareLinkInput form-control",type:"text",readOnly:!0,value:this.getInviteURL(),"aria-label":z.ob({id:"next_steps_view.invite_members_step.shareLinkInput",defaultMessage:"team invite link"}),"data-testid":"InviteMembersStep__shareLinkInput"}),h.a.createElement("button",{className:la()("NextStepsView__button InviteMembersStep__shareLinkInputButton secondary",{copied:this.state.copiedLink}),onClick:this.copyLink,"data-testid":"InviteMembersStep__shareLinkInputButton"},!this.state.copiedLink&&h.a.createElement(h.a.Fragment,null,h.a.createElement("i",{className:"icon icon-link-variant"}),h.a.createElement(q.a,{id:"next_steps_view.invite_members_step.copy_button",defaultMessage:"Copy Link"})),this.state.copiedLink&&h.a.createElement(h.a.Fragment,null,h.a.createElement("i",{className:"icon icon-check"}),h.a.createElement(q.a,{id:"next_steps_view.invite_members_step.link_copied",defaultMessage:"Copied"})))))),h.a.createElement("div",{className:"NextStepsView__wizardButtons"},h.a.createElement("button",{"data-testid":"InviteMembersStep__finishButton",className:"NextStepsView__button NextStepsView__finishButton primary",onClick:this.onFinish},h.a.createElement(q.a,{id:"next_steps_view.invite_members_step.finish",defaultMessage:"Finish"}))))}}hm(bm,"propTypes",{team:u.a.any.isRequired,isEmailInvitesEnabled:u.a.bool.isRequired,actions:u.a.shape({sendEmailInvitesToTeamGracefully:u.a.func.isRequired,regenerateTeamInviteId:u.a.func.isRequired}).isRequired});var fm=Object(s.connect)((function(e){const t=Object(i.getConfig)(e);return{team:Object(o.getCurrentTeam)(e),isEmailInvitesEnabled:"true"===t.EnableEmailInvitations}}),(function(e){return{actions:Object(n.bindActionCreators)({sendEmailInvitesToTeamGracefully:xt.sendEmailInvitesToTeamGracefully,regenerateTeamInviteId:xt.regenerateTeamInviteId},e)}}))(bm);a(2128);function _m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Cm extends h.a.PureComponent{constructor(e){super(e),_m(this,"handleNameInputChange",e=>{let t;e.target.value?e.target.value.length>64&&(t=z.ob("next_steps_view.team_profile_step.nameTooBig","Team name must be less than 64 characters")):t=z.ob("next_steps_view.team_profile_step.nameCannotBeBlank","Team name cannot be blank"),this.setState({teamName:e.target.value,teamNameError:t})}),_m(this,"isFinishDisabled",()=>Boolean(!this.state.teamName||this.state.teamNameError||this.state.profilePictureError)),_m(this,"onSkip",()=>{this.props.onSkip(this.props.id)}),_m(this,"onFinish",()=>{const e=Object.assign({},this.props.team,{display_name:this.state.teamName});this.props.actions.patchTeam(e),this.state.profilePicture?this.props.actions.setTeamIcon(this.props.team.id,this.state.profilePicture):this.state.removeProfilePicture&&this.props.actions.removeTeamIcon(this.props.team.id),Object(v.e)(Bd(this.props.isAdmin),"click_save_team"),this.props.onFinish(this.props.id)}),_m(this,"onOpenPictureDialog",()=>{Object(v.e)(Bd(this.props.isAdmin),"click_add_team_image")}),_m(this,"onSelectPicture",e=>{if(!fe.e.includes(e.type)||e.size>this.props.maxFileSize)return Object(v.e)(Bd(this.props.isAdmin),"error_profile_photo_invalid"),void this.setState({profilePictureError:!0});this.setState({profilePicture:e,profilePictureError:!1,removeProfilePicture:!1})}),_m(this,"onRemovePicture",()=>{Object(v.e)(Bd(this.props.isAdmin),"click_remove_photo"),this.setState({profilePicture:void 0,profilePictureError:!1,removeProfilePicture:!0})}),this.state={teamName:e.team.display_name,profilePictureError:!1,removeProfilePicture:!1}}componentDidMount(){this.props.expanded&&Object(v.d)(Bd(this.props.isAdmin),"pageview_name_team")}componentDidUpdate(e){e.expanded!==this.props.expanded&&this.props.expanded&&Object(v.d)(Bd(this.props.isAdmin),"pageview_name_team")}render(){const{team:e}=this.props,t=e.last_team_icon_update&&!this.state.removeProfilePicture&&z.Q(e)||void 0;return h.a.createElement("div",{className:"NextStepsView__stepWrapper"},h.a.createElement("div",{className:"TeamProfileStep"},h.a.createElement("div",{className:"TeamProfileStep__profilePicture"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"next_steps_view.team_profile_step.teamImage",defaultMessage:"Team image"})),h.a.createElement(Zd,{name:"TeamProfileStep__teamIcon",onOpenDialog:this.onOpenPictureDialog,onSelect:this.onSelectPicture,onRemove:this.onRemovePicture,src:t,placeholder:h.a.createElement("div",{"data-testid":"teamIconInitial",className:"TeamIcon__initials TeamIcon__initials__lg","aria-label":"Team Initials"},this.props.team.display_name?this.props.team.display_name.replace(/\s/g,"").substring(0,2):"??")})),h.a.createElement("div",{className:"TeamProfileStep__textInputs"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"next_steps_view.team_profile_step.enterYourNameAndURL",defaultMessage:"Enter your team name"})),h.a.createElement(Vd.a,{name:"teamName",type:"text",value:this.state.teamName,onChange:this.handleNameInputChange,placeholder:z.ob("next_steps_view.team_profile_step.teamName","Team name"),error:this.state.teamNameError,info:z.ob("next_steps_view.team_profile_step.nameWillBeDisplayed","Your team name will be displayed in your sidebar")}))),this.state.profilePictureError&&h.a.createElement("span",{className:"TeamProfileStep__pictureError"},h.a.createElement("i",{className:"icon icon-alert-outline"}),h.a.createElement(Pr.b,{id:"next_steps_view.team_profile_step.pictureError",defaultMessage:"Photos must be in BMP, JPG or PNG format. Maximum file size is {max}.",values:{max:z.p(this.props.maxFileSize)}})),h.a.createElement("div",{className:"NextStepsView__wizardButtons"},h.a.createElement("button",{"data-testid":"TeamProfileStep__saveTeamButton",className:la()("NextStepsView__button NextStepsView__finishButton primary",{disabled:this.isFinishDisabled()}),onClick:this.onFinish,disabled:this.isFinishDisabled()},h.a.createElement(q.a,{id:"next_steps_view.team_profile_step.saveTeam",defaultMessage:"Save team"}))))}}_m(Cm,"propTypes",{team:u.a.oneOfType([u.a.any,u.a.shape({last_team_icon_update:u.a.number})]).isRequired,siteURL:u.a.string.isRequired,maxFileSize:u.a.number.isRequired,actions:u.a.shape({patchTeam:u.a.func.isRequired,removeTeamIcon:u.a.func.isRequired,setTeamIcon:u.a.func.isRequired}).isRequired});var ym=Object(s.connect)((function(e){const t=Object(i.getConfig)(e);return{team:Object(o.getCurrentTeam)(e),siteURL:t.SiteURL,maxFileSize:parseInt(t.MaxFileSize,10)}}),(function(e){return{actions:Object(n.bindActionCreators)({patchTeam:xt.patchTeam,removeTeamIcon:xt.removeTeamIcon,setTeamIcon:xt.setTeamIcon},e)}}))(Cm),Em=a(296);const vm=[{id:fe.H.COMPLETE_PROFILE,title:Object(z.ob)("next_steps_view.titles.completeProfile","Complete your profile"),component:Qd,roles:[]},{id:fe.H.TEAM_SETUP,title:Object(z.ob)("next_steps_view.titles.teamSetup","Name your team"),roles:["system_admin","system_user"],component:ym},{id:fe.H.INVITE_MEMBERS,title:Object(z.ob)("next_steps_view.titles.inviteMembers","Invite members to the team"),roles:["system_admin","system_user"],component:fm},{id:fe.H.NOTIFICATION_SETUP,title:Object(z.ob)("next_steps_view.notificationSetup.setNotifications","Set up desktop notifications"),roles:["system_user"],component:function(e){Object(p.useEffect)(()=>{e.expanded&&Object(v.d)(Bd(e.isAdmin),"pageview_enable_notifications")},[e.expanded]);const t=async()=>{Object(v.e)(Bd(e.isAdmin),"click_enable_notifications");try{await Object(Em.a)({title:z.ob("next_steps_view.notificationSetup.notficationsEnabledTitle","Notifications Enabled!"),body:z.ob("next_steps_view.notificationSetup.notficationsEnabledBody","This is how notifications from Mattermost will appear"),requireInteraction:!1,silent:!1,onClick:()=>{}})}catch(e){}e.onFinish(e.id)};return"Notification"in window&&"denied"!==Notification.permission?h.a.createElement($d,{cardBodyMessageId:"next_steps_view.notificationSetup",cardBodyDefaultMessage:"We recommend enabling desktop notifications so you don’t miss any important communications.",buttonMessageId:"next_steps_view.notificationSetup.setNotifications",buttonDefaultMessage:"Set up notifications",onClick:t}):h.a.createElement("div",null,h.a.createElement($d,{cardBodyMessageId:"next_steps_view.notificationSetupNotificationsDisabled",cardBodyDefaultMessage:"Notifications were previously disabled or you may be browsing in private mode. You'll need to open your browser settings or turn off private mode to enable notifications.",buttonMessageId:"next_steps_view.notificationSetup.skipThisStep",buttonDefaultMessage:"Skip this step",onClick:t}))}},{id:fe.H.PREFERENCES_SETUP,title:Object(z.ob)("next_steps_view.titles.preferenceSetup","Set your preferences"),roles:["system_user"],component:function(e){Object(p.useEffect)(()=>{e.expanded&&Object(v.d)(Bd(e.isAdmin),"pageview_enable_notifications")},[e.expanded]);const t=Object(s.useDispatch)(),a=()=>{e.onFinish(e.id)};return h.a.createElement(h.a.Fragment,null,h.a.createElement($d,{cardBodyMessageId:"next_steps_view.preferenceSetup",cardBodyDefaultMessage:"You can change how you receive notifications, update your profile, customize display settings and more. Preferences can be accessed through the Main Menu.",buttonMessageId:"next_steps_view.preferenceSetup.setPreferences",buttonDefaultMessage:"Set Preferences",onClick:()=>{Object(v.e)(Bd(e.isAdmin),"click_set_preferences"),t(Object(_t.b)({modalId:fe.y.USER_SETTINGS,dialogType:Pi.a,dialogProps:{onExit:a}}))}}))}}],wm=Object(F.a)(e=>Object(r.getCurrentUser)(e),e=>Object(r.getUsers)(e),(e,t)=>{if(!e.roles.includes("system_admin"))return!1;const a=Object.keys(t);for(const n of a){const a=t[n];if(a.roles.includes("system_admin")&&a.create_at<e.create_at)return!1}return!0}),Om=Object(F.a)(e=>Object(r.getCurrentUser)(e),e=>wm(e),(e,t)=>{let a=e.roles;return t||(a="system_user"),vm.filter(e=>Gd(e,a))}),Sm=Object(K.makeGetCategory)(),Tm=Object(F.a)(e=>Pm(e),e=>Nm(e),e=>Object(i.getLicense)(e),e=>e.views.nextSteps.show,(e,t,a,n)=>!n&&"true"===a.Cloud&&(e||t)),Mm=Object(F.a)(e=>Sm(e,fe.F.RECOMMENDED_NEXT_STEPS),e=>e.some(e=>e.name===fe.H.HIDE&&"true"===e.value)),Pm=Object(F.a)(e=>Sm(e,fe.F.RECOMMENDED_NEXT_STEPS),e=>Object(i.getLicense)(e),e=>Im(e),(e,t,a)=>!e.some(e=>e.name===fe.H.SKIP&&"true"===e.value)&&("true"===t.Cloud&&a)),Nm=Object(F.a)(e=>Sm(e,fe.F.RECOMMENDED_NEXT_STEPS),e=>Object(i.getLicense)(e),e=>Im(e),(e,t,a)=>!!e.some(e=>e.name===fe.H.SKIP&&"true"===e.value)||"true"===t.Cloud&&!a),Im=Object(F.a)(e=>Sm(e,fe.F.RECOMMENDED_NEXT_STEPS),e=>Object(r.getCurrentUser)(e),e=>wm(e),(e,t,a)=>{let n=t.roles;a||(n="system_user");return!vm.every(t=>e.some(e=>e.name===t.id&&"true"===e.value||!Gd(t,n)))});var Rm=a(1338);function Am(e,t,a){return async(n,s)=>{t.length>0&&await n(xt.getTeamMembersByIds(e,t.map(e=>e.id)));const i=s(),r=[],l=[],c=[];for(const a of t){const t=Object(o.getTeamMember)(i,e,a.id);Object(z.bb)(a)?l.push({user:a,reason:Object(z.ob)("invite.members.user-is-guest","Contact your admin to make this guest a full member.")}):t?l.push({user:a,reason:Object(z.ob)("invite.members.already-member","This person is already a team member.")}):c.push(a)}if(c.length>0){const t=(await n(Object(qt.c)(e,c.map(e=>e.id)))).data||[];for(const e of c){const a=t.find(t=>t.user_id===e.id&&t.error);a?l.push({user:e,reason:a.error.message}):r.push({user:e,reason:Object(z.ob)("invite.members.added-to-team","This member has been added to the team.")})}}if(a.length>0){let t;try{t=await n(xt.sendEmailInvitesToTeamGracefully(e,a))}catch(e){t={data:a.map(e=>({email:e,error:{error:Object(z.ob)("invite.members.unable-to-add-the-user-to-the-team","Unable to add the user to the team.")}}))}}const s=t.data||[];if(t.error){"app.email.rate_limit_exceeded.app_error"===t.error.server_error_id&&(t.error.message=Object(z.ob)("invite.rate-limit-exceeded","Invite emails rate limit exceeded."));for(const e of a)l.push({email:e,reason:t.error.message})}else for(const e of a){const t=s.find(t=>e===t.email&&t.error);t?l.push({email:e,reason:t.error.message}):r.push({email:e,reason:Object(z.ob)("invite.members.invite-sent","An invitation email has been sent.")})}}return{sent:r,notSent:l}}}function jm(e,t,a,n,s){return async(i,r)=>{a.length>0&&await i(xt.getTeamMembersByIds(e,a.map(e=>e.id)));const o=r(),l=[],c=[],d=Object(B.getChannelMembersInChannels)(o),m=await Promise.all(a.map(a=>async function(e,t,a,n,s){if(!Object(z.bb)(t))return{notSent:{user:t,reason:Object(z.ob)("invite.members.user-is-not-guest","This person is already a member.")}};let i=!0,r=!1;for(const e of n){s&&s[e]&&s[e][t.id]?r=!0:i=!1}if(i)return{notSent:{user:t,reason:Object(z.ob)("invite.guests.already-all-channels-member","This person is already a member of all the channels.")}};try{await e(Object(qt.c)(a,[t.id]));for(const i of n){s&&s[i]&&s[i][t.id]||await e(Object(ge.joinChannel)(t.id,a,i))}}catch(e){return{notSent:{user:t,reason:Object(z.ob)("invite.guests.unable-to-add-the-user-to-the-channels","Unable to add the guest to the channels.")}}}return r?{notSent:{user:t,reason:Object(z.ob)("invite.guests.already-some-channels-member","This person is already a member of some of the channels.")}}:{sent:{user:t,reason:{id:Object(J.b)("invite.guests.new-member"),message:"This guest has been added to the team and {count, plural, one {channel} other {channels}}.",values:{count:n.length}}}}}(i,a,e,t,d)));for(const e of m)e.sent&&l.push(e.sent),e.notSent&&c.push(e.notSent);if(n.length>0){let a;try{a=await i(xt.sendEmailGuestInvitesToChannelsGracefully(e,t,n,s))}catch(e){a={data:n.map(e=>({email:e,error:{error:Object(z.ob)("invite.guests.unable-to-add-the-user-to-the-channels","Unable to add the guest to the channels.")}}))}}if(a.error){"app.email.rate_limit_exceeded.app_error"===a.error.server_error_id&&(a.error.message=Object(z.ob)("invite.rate-limit-exceeded","Invite emails rate limit exceeded."));for(const e of n)c.push({email:e,reason:a.error.message})}else for(const e of a.data||[])e.error?c.push({email:e.email,reason:e.error.message}):l.push({email:e.email,reason:Object(z.ob)("invite.guests.added-to-channel","An invitation email has been sent.")})}return{sent:l,notSent:c}}}var xm=a(1612),Lm=a(1563);function km(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"126px",height:"32px",viewBox:"0 0 126 32",role:"img","aria-label":t({id:"generic_icons.invite",defaultMessage:"Invite Icon"})},h.a.createElement("path",{d:"M 106,18 86,5.52 V 4 c 0,-2.22 1.78,-4 4,-4 h 32 c 2.20914,0 4,1.790861 4,4 v 1.5 z m 20,10 c 0,2.209139 -1.79086,4 -4,4 H 90 c -2.22,0 -4,-1.8 -4,-4 V 10.22 l 4,2.5 V 28 h 32 V 12.72 l 4,-2.5 z M 1,15 h 62 c 0.552285,0 1,0.447715 1,1 0,0.552285 -0.447715,1 -1,1 H 1 C 0.44771525,17 0,16.552285 0,16 0,15.447715 0.44771525,15 1,15 Z M 21,5 h 48 c 0.552285,0 1,0.447715 1,1 0,0.552285 -0.447715,1 -1,1 H 21 C 20.447715,7 20,6.552285 20,6 20,5.447715 20.447715,5 21,5 Z m 0,20 h 48 c 0.552285,0 1,0.447715 1,1 0,0.552285 -0.447715,1 -1,1 H 21 c -0.552285,0 -1,-0.447715 -1,-1 0,-0.552285 0.447715,-1 1,-1 z"})))}function Dm(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img",title:t({id:"generic_icons.channel.arrow-right",defaultMessage:"Arrow right"})},h.a.createElement("path",{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"})))}a(2129);function Um(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class qm extends h.a.PureComponent{constructor(...e){super(...e),Um(this,"onMembersKeyDown",e=>{const t=e.which;13!==t&&32!==t||this.props.goToMembers()}),Um(this,"onGuestsKeyDown",e=>{const t=e.which;13!==t&&32!==t||this.props.goToGuests()})}render(){const e=this.props.teamName;return h.a.createElement("div",{className:"InvitationModalInitialStep"},h.a.createElement("div",{className:"modal-icon"},h.a.createElement(km,null)),h.a.createElement("h1",{id:"invitation_modal_title"},h.a.createElement(Pr.b,{id:"invitation_modal.title",defaultMessage:"Invite people to **{teamName}**",values:{teamName:e}})),h.a.createElement("div",{className:"invitation-modal-option",onClick:this.props.goToMembers,"data-testid":"inviteMembersLink",tabIndex:"0",onKeyDown:this.onMembersKeyDown,"aria-labelledby":"inviteMembersSectionHeader","aria-describedby":"inviteMembersSectionDescription"},h.a.createElement("div",{"data-testid":"inviteMembersSection"},h.a.createElement("h2",{id:"inviteMembersSectionHeader"},h.a.createElement(Pr.b,{id:"invitation_modal.invite_members.title",defaultMessage:"Invite **Members**"})),this.props.emailInvitationsEnabled&&h.a.createElement(q.a,{id:"invitation_modal.invite_members.description",defaultMessage:"Invite new team members with a link or by email. Team members have access to messages and files in open teams and public channels."},e=>h.a.createElement("span",{id:"inviteMembersSectionDescription"},e)),!this.props.emailInvitationsEnabled&&h.a.createElement(q.a,{id:"invitation_modal.invite_members.description-email-disabled",defaultMessage:"Invite new team members with a link. Team members have access to messages and files in open teams and public channels."},e=>h.a.createElement("span",{id:"inviteMembersSectionDescription"},e))),h.a.createElement(Dm,{className:"arrow"})),h.a.createElement("div",{className:"invitation-modal-option",onClick:this.props.goToGuests,"data-testid":"inviteGuestLink",tabIndex:"0",onKeyDown:this.onGuestsKeyDown,"aria-labelledby":"inviteGuestsSectionHeader","aria-describedby":"inviteGuestsSectionDescription"},h.a.createElement("div",null,h.a.createElement("h2",{id:"inviteGuestsSectionHeader"},h.a.createElement(Pr.b,{id:"invitation_modal.invite_guests.title",defaultMessage:"Invite **Guests**"})),h.a.createElement(q.a,{id:"invitation_modal.invite_guests.description",defaultMessage:"Invite guests to one or more channels. Guests only have access to messages, files, and people in the channels they are members of."},e=>h.a.createElement("span",{id:"inviteGuestsSectionDescription"},e))),h.a.createElement(Dm,{className:"arrow"})))}}Um(qm,"propTypes",{teamName:u.a.string.isRequired,goToMembers:u.a.func.isRequired,goToGuests:u.a.func.isRequired,emailInvitationsEnabled:u.a.bool.isRequired});var Hm=a(1298);function Fm(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"126px",height:"38px",viewBox:"0 0 126 38",role:"img","aria-label":t({id:"generic_icons.invite_members",defaultMessage:"Invite Members Icon"})},h.a.createElement("path",{d:"M 108.83398 0.03515625 C 108.64165 0.03515625 108.4496 0.04983111 108.25977 0.08203125 C 109.08339 0.57981559 109.86736 1.165576 110.60156 1.8359375 C 113.34699 4.3426243 115.07813 7.1515117 115.07812 10.777344 L 115.07812 15.908203 C 115.07812 17.577458 114.81586 19.392207 114.32812 21.453125 C 114.19039 22.035006 114.02467 22.601886 113.83008 23.152344 C 116.57398 24.811724 118.17106 25.88194 118.62109 26.361328 C 120.0119 27.842823 120.78516 29.798054 120.78516 31.830078 L 120.78516 32 C 122.99178 32 124.78125 32.008356 124.78125 30.001953 C 124.78125 26.755542 122.78085 23.90476 118.77734 21.453125 L 118.46875 21.267578 L 118.46094 21.285156 C 118.44384 21.330296 118.43871 21.318446 118.44531 21.253906 L 118.46875 21.267578 L 118.47266 21.251953 C 118.52056 21.104379 118.6246 20.690139 118.78516 20.011719 C 119.2074 18.22759 119.07227 17.224165 119.07227 15.908203 L 119.07227 10.777344 C 119.07227 8.5210935 117.78998 3.8565489 115.79297 2.0332031 C 113.81134 0.22387865 111.50192 0.03515625 108.83594 0.03515625 L 108.83398 0.03515625 z M 100.84375 2.0332031 C 98.23721 2.0332031 95.848767 2.9659792 93.835938 4.7363281 C 91.761167 6.5611731 90.535156 8.4793085 90.535156 10.777344 L 90.535156 15.908203 C 90.535156 17.293336 90.80759 18.870238 91.328125 20.703125 C 91.751681 22.194536 92.389981 23.518449 93.25 24.634766 L 87.810547 27.792969 C 87.734577 27.827779 87.659451 27.865141 87.585938 27.904297 C 87.562827 27.916627 87.538385 27.928746 87.515625 27.941406 C 87.254658 28.067724 87.009242 28.216755 86.775391 28.382812 L 86.509766 28.574219 C 85.454567 29.323561 84.826172 30.535879 84.826172 31.830078 L 84.826172 33.994141 C 84.826172 36.20075 86.615661 37.992188 88.822266 37.992188 L 112.79492 37.992188 C 115.00153 37.992188 116.79102 36.20075 116.79102 33.994141 L 116.79102 31.830078 C 116.79102 30.814065 116.40241 29.834497 115.70703 29.09375 C 115.33382 28.696209 114.89968 28.36777 114.42188 28.113281 L 114.13867 27.962891 C 114.10527 27.945041 114.06897 27.932866 114.03516 27.916016 C 113.99746 27.894746 113.96392 27.869949 113.92578 27.849609 L 108.53711 24.673828 C 109.43906 23.498248 110.06724 22.107856 110.43945 20.535156 C 110.86169 18.751027 111.08203 17.224166 111.08203 15.908203 L 111.08203 10.777344 C 111.08203 8.5210941 109.90325 6.6104541 107.90625 4.7871094 C 105.92461 2.977785 103.50974 2.0332043 100.84375 2.0332031 z M 100.84375 6.0273438 C 102.50853 6.0273438 103.96628 6.5982778 105.21484 7.7382812 C 106.46343 8.878286 107.08789 9.8906745 107.08789 10.777344 L 107.08789 15.908203 C 107.08789 16.870874 106.90948 18.105944 106.55273 19.613281 C 106.19601 21.12062 105.52977 22.279175 104.55469 23.089844 C 104.24552 23.343181 104.012 23.661015 103.85742 24.041016 C 103.70244 24.421017 103.65168 24.811463 103.69922 25.216797 C 103.72302 25.622132 103.84065 25.997842 104.05469 26.339844 C 104.26872 26.681846 104.54401 26.953582 104.87695 27.15625 L 112.04492 31.375 C 112.09262 31.40033 112.13432 31.425832 112.16992 31.451172 C 112.20552 31.476502 112.23401 31.488281 112.25781 31.488281 L 112.54297 31.640625 C 112.63817 31.691295 112.72361 31.754092 112.79492 31.830078 L 112.79492 33.994141 L 88.822266 33.994141 L 88.822266 31.830078 L 89.089844 31.640625 C 89.196862 31.564625 89.297447 31.513613 89.392578 31.488281 C 89.416398 31.462951 89.439071 31.442357 89.462891 31.429688 C 89.486711 31.416988 89.513289 31.412109 89.537109 31.412109 L 96.921875 27.117188 C 97.254845 26.939854 97.526184 26.681846 97.740234 26.339844 C 97.954274 25.997845 98.073886 25.622132 98.097656 25.216797 C 98.145256 24.811463 98.089577 24.421017 97.935547 24.041016 C 97.780967 23.661012 97.562734 23.343179 97.277344 23.089844 C 96.302254 22.279177 95.599958 21.120619 95.171875 19.613281 C 94.743792 18.105943 94.529297 16.870874 94.529297 15.908203 L 94.529297 10.777344 C 94.529297 9.8906751 95.178468 8.8782834 96.474609 7.7382812 C 97.770749 6.5982776 99.22654 6.0273453 100.84375 6.0273438 z M 21 7.9707031 C 20.447715 7.9707031 20 8.4184181 20 8.9707031 C 20 9.5229881 20.447715 9.9707031 21 9.9707031 L 69 9.9707031 C 69.552285 9.9707031 70 9.5229881 70 8.9707031 C 70 8.4184181 69.552285 7.9707031 69 7.9707031 L 21 7.9707031 z M 1 17.970703 C 0.4477153 17.970703 -2.220446e-16 18.418418 0 18.970703 C 0 19.522988 0.4477153 19.970703 1 19.970703 L 63 19.970703 C 63.552285 19.970703 64 19.522988 64 18.970703 C 64 18.418418 63.552285 17.970703 63 17.970703 L 1 17.970703 z M 21 27.970703 C 20.447715 27.970703 20 28.418418 20 28.970703 C 20 29.522988 20.447715 29.970703 21 29.970703 L 69 29.970703 C 69.552285 29.970703 70 29.522988 70 28.970703 C 70 28.418418 69.552285 27.970703 69 27.970703 L 21 27.970703 z"})))}var Bm=a(2131),Gm=a.n(Bm);function Vm(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.mail",defaultMessage:"Mail Icon"})},h.a.createElement("path",{d:"M4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4M12,11L20,6H4L12,11M4,18H20V8.37L12,13.36L4,8.37V18Z"})))}function Wm(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.add-mail",defaultMessage:"Add Mail Icon"})},h.a.createElement("path",{d:"M3,4C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H14V18H3V8.37L11,13.36L19,8.37V13H21V6A2,2 0 0,0 19,4H3M3,6H19L11,11L3,6M19,15V18H16V20H19V23H21V20H24V18H21V15H19Z"})))}function zm(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.close",defaultMessage:"Close Icon"})},h.a.createElement("path",{d:"m 8,0 c 4.424,0 8,3.576 8,8 0,4.424 -3.576,8 -8,8 C 3.576,16 0,12.424 0,8 0,3.576 3.576,0 8,0 Z M 10.872,4 8,6.872 5.128,4 4,5.128 6.872,8 4,10.872 5.128,12 8,9.128 10.872,12 12,10.872 9.128,8 12,5.128 Z"})))}a(2130);function Ym(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Km extends h.a.PureComponent{constructor(e){super(e),Ym(this,"renderUserName",e=>{const t=Object(z.F)(e);let a=null;t.fullName&&(a=h.a.createElement("span",{className:"fullname"},t.fullName));let n=null;return t.nickname&&(n=h.a.createElement("span",{className:"nickname"},t.nickname)),h.a.createElement(h.a.Fragment,null,t.displayName,a,n)}),Ym(this,"loadingMessage",()=>{const e=h.a.createElement(q.a,{id:this.props.loadingMessageId,defaultMessage:this.props.loadingMessageDefault});return h.a.createElement(zc.a,{text:e})}),Ym(this,"getOptionValue",e=>e.id||e.value),Ym(this,"formatOptionLabel",(e,t)=>{const a=Object(z.R)(e.id,e.last_picture_update);let n=null,s=null;return e.is_bot&&(s=h.a.createElement(Le.a,null)),!Object(em.isEmail)(e.value)&&Object(z.bb)(e)&&(n=h.a.createElement(ke.a,null)),"menu"===t.context?e.value&&Object(em.isEmail)(e.value)?this.getCreateLabel(e.value):h.a.createElement(h.a.Fragment,null,h.a.createElement(De.a,{size:"lg",username:e.username,url:a}),this.renderUserName(e),s,n):e.value&&Object(em.isEmail)(e.value)?h.a.createElement(h.a.Fragment,null,h.a.createElement(Vm,{className:"mail-icon"}),h.a.createElement("span",null,e.value)):h.a.createElement(h.a.Fragment,null,h.a.createElement(De.a,{size:"sm",username:e.username,url:a}),Object(z.y)(e),s,n)}),Ym(this,"onChange",e=>{this.props.onChange&&this.props.onChange(e.map(e=>e.id?e:e.value))}),Ym(this,"getCreateLabel",e=>h.a.createElement(h.a.Fragment,null,h.a.createElement(Wm,{className:"mail-plus-icon"}),h.a.createElement(Pr.b,{key:"widgets.users_emails_input.valid_email",id:this.props.validAddressMessageId,defaultMessage:this.props.validAddressMessageDefault,values:{email:e},disableLinks:!0}))),Ym(this,"NoOptionsMessage",e=>{const t=e.selectProps.inputValue;return t?h.a.createElement("div",{className:"users-emails-input__option users-emails-input__option--no-matches"},h.a.createElement(Pr.b,{id:this.props.noMatchMessageId,defaultMessage:this.props.noMatchMessageDefault,values:{text:t},disableLinks:!0},t=>h.a.createElement(tm.a.NoOptionsMessage,e,t))):null}),Ym(this,"MultiValueRemove",({children:e,innerProps:t})=>h.a.createElement("div",t,e||h.a.createElement(zm,null))),Ym(this,"components",{NoOptionsMessage:this.NoOptionsMessage,MultiValueRemove:this.MultiValueRemove,IndicatorsContainer:()=>null}),Ym(this,"handleInputChange",(e,t)=>{if("input-blur"===t.action&&""!==e){const e=this.props.value.map(e=>e.id?e:{label:e,value:e});for(const t of this.state.options){if(this.props.inputValue===t.username||this.props.inputValue==="@"+t.username)return this.onChange([...e,t]),void this.props.onInputChange("");if(this.props.inputValue===t.email)return this.onChange([...e,t]),void this.props.onInputChange("")}if(this.props.emailInvitationsEnabled&&Object(em.isEmail)(this.props.inputValue)){const t=this.props.inputValue;this.onChange([...e,{value:t,label:t}]),this.props.onInputChange("")}}"input-blur"!==t.action&&"menu-close"!==t.action&&this.props.onInputChange(e)}),Ym(this,"optionsLoader",(e,t)=>{const a=e=>{this.setState({options:e}),t(e)},n=this.props.usersLoader(this.props.inputValue,a);n&&n.then&&n.then(a)}),Ym(this,"showAddEmail",(e,t,a)=>this.props.emailInvitationsEnabled&&0===a.length&&Object(em.isEmail)(e)),Ym(this,"onFocus",()=>{this.selectRef.current.handleInputChange(this.props.inputValue,{action:"custom"})}),Ym(this,"onBlur",()=>{this.selectRef.current.handleInputChange(this.props.inputValue,{action:"input-blur"})}),this.selectRef=h.a.createRef(),this.state={options:[]}}render(){const e=this.props.value.map(e=>e.id?e:{label:e,value:e});return h.a.createElement(h.a.Fragment,null,h.a.createElement(Gm.a,{ref:this.selectRef,styles:this.customStyles,onChange:this.onChange,loadOptions:this.optionsLoader,isValidNewOption:this.showAddEmail,isMulti:!0,isClearable:!1,className:la()("UsersEmailsInput",this.props.showError?"error":"",{empty:""===this.props.inputValue}),classNamePrefix:"users-emails-input",placeholder:this.props.placeholder,components:this.components,getOptionValue:this.getOptionValue,formatOptionLabel:this.formatOptionLabel,defaultOptions:!1,defaultMenuIsOpen:!1,openMenuOnClick:!1,loadingMessage:this.loadingMessage,onInputChange:this.handleInputChange,inputValue:this.props.inputValue,openMenuOnFocus:!0,onFocus:this.onFocus,onBlur:this.onBlur,tabSelectsValue:!0,value:e,"aria-label":this.props.ariaLabel}),this.props.showError&&h.a.createElement("div",{className:"InputErrorBox"},h.a.createElement(Pr.b,{id:this.props.errorMessageId,defaultMessage:this.props.errorMessageDefault,values:this.props.errorMessageValues||null,disableLinks:!0},e=>h.a.createElement(tm.a.NoOptionsMessage,null,e))))}}function Zm(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.link",defaultMessage:"Link Icon"})},h.a.createElement("path",{d:"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z"})))}Ym(Km,"propTypes",{placeholder:u.a.string,ariaLabel:u.a.string.isRequired,usersLoader:u.a.func,onChange:u.a.func,showError:u.a.bool,errorMessageId:u.a.string,errorMessageDefault:u.a.string,errorMessageValues:u.a.object,value:u.a.arrayOf(u.a.oneOfType([u.a.object,u.a.string])),onInputChange:u.a.func,inputValue:u.a.string,noMatchMessageId:u.a.string,noMatchMessageDefault:u.a.string,validAddressMessageId:u.a.string,validAddressMessageDefault:u.a.string,loadingMessageId:u.a.string,loadingMessageDefault:u.a.string,emailInvitationsEnabled:u.a.bool}),Ym(Km,"defaultProps",{noMatchMessageId:Object(J.b)("widgets.users_emails_input.no_user_found_matching"),noMatchMessageDefault:"No one found matching **{text}**, type email address",validAddressMessageId:Object(J.b)("widgets.users_emails_input.valid_email"),validAddressMessageDefault:"Add **{email}**",loadingMessageId:Object(J.b)("widgets.users_emails_input.loading"),loadingMessageDefault:"Loading",showError:!1});a(2149);function Jm(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Xm extends h.a.PureComponent{constructor(e){super(e),Jm(this,"copyLink",()=>{this.props.isCloud&&Object(v.e)("cloud_invite_users","click_copy_link");const e=this.inviteLinkRef.current,t=document.createElement("textarea");t.innerText=e.value,t.style.position="fixed",t.style.opacity=0,document.body.appendChild(t),t.select();try{this.setState({copiedLink:document.execCommand("copy")})}catch(e){this.setState({copiedLink:!1})}t.remove(),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.setState({copiedLink:!1})},3e3)}),Jm(this,"debouncedSearchProfiles",Object(sr.debounce)((e,t)=>{this.props.searchProfiles(e).then(({data:a})=>{t(a),0===a.length?this.setState({termWithoutResults:e}):this.setState({termWithoutResults:null})}).catch(()=>{t([])})},150)),Jm(this,"usersLoader",(e,t)=>{if(this.state.termWithoutResults&&e.startsWith(this.state.termWithoutResults))t([]);else try{this.debouncedSearchProfiles(e,t)}catch(e){t([])}}),Jm(this,"onChange",e=>{this.setState({usersAndEmails:e},()=>{this.shouldShowPickerError()&&this.props.isCloud&&Object(v.e)("cloud_invite_users","warning_near_limit",{remaining:this.props.userLimit-(this.props.analytics.TOTAL_USERS+this.state.usersAndEmails.length)})}),this.props.onEdit(e.length>0||this.state.usersInputValue)}),Jm(this,"onUsersInputChange",e=>{this.setState({usersInputValue:e}),this.props.onEdit(this.state.usersAndEmails.length>0||e)}),Jm(this,"submit",()=>{this.props.isCloud&&Object(v.e)("cloud_invite_users","click_send_invitations",{num_invitations:this.state.usersAndEmails.length});const e=[],t=[];for(const a of this.state.usersAndEmails)Object(em.isEmail)(a)?t.push(a):e.push(a);this.props.onSubmit(e,t,this.state.usersInputValue)}),Jm(this,"shouldShowPickerError",()=>{const{userLimit:e,analytics:t,userIsAdmin:a,isCloud:n,subscription:s}=this.props;if(null===s)return!1;if("true"===s.is_paid_tier)return!1;if("0"===e||!a||!n)return!1;const i=e-(t.TOTAL_USERS+this.state.usersAndEmails.length);return 0===i&&""!==this.state.usersInputValue||i<0}),this.inviteLinkRef=h.a.createRef(),this.timeout=null,this.state={usersAndEmails:[],copiedLink:!1,termWithoutResults:null,usersInputValue:""}}componentDidMount(){this.props.analytics||this.props.actions.getStandardAnalytics(),this.props.subscription||this.props.actions.getCloudSubscription()}render(){const e=Object(Mi.e)()+"/signup_user_complete/?id="+this.props.inviteId;let t=Object(z.ob)("invitation_modal.members.search-and-add.placeholder","Add members or email addresses"),a=Object(J.b)("invitation_modal.members.users_emails_input.no_user_found_matching"),n="No one found matching **{text}**, type email to invite";this.props.emailInvitationsEnabled||(t=Object(z.ob)("invitation_modal.members.search-and-add.placeholder-email-disabled","Add members"),a=Object(J.b)("invitation_modal.members.users_emails_input.no_user_found_matching-email-disabled"),n="No one found matching **{text}**");const s=this.props.userLimit-this.props.analytics.TOTAL_USERS,i=this.state.usersAndEmails.length>fe.l.MAX_ADD_MEMBERS_BATCH||0===this.state.usersAndEmails.length,r={showError:this.shouldShowPickerError(),errorMessageId:Object(J.b)("invitation_modal.invite_members.hit_cloud_user_limit"),errorMessageDefault:"You have reached the user limit for your tier",errorMessageValues:{text:s<0?"0":s}};return this.state.usersAndEmails.length>fe.l.MAX_ADD_MEMBERS_BATCH&&(r.showError=!0,r.errorMessageId=Object(J.b)("invitation_modal.invite_members.exceeded_max_add_members_batch"),r.errorMessageDefault="No more than **{text}** people can be invited at once",r.errorMessageValues.text=fe.l.MAX_ADD_MEMBERS_BATCH),h.a.createElement("div",{className:"InvitationModalMembersStep"},h.a.createElement("div",{className:"modal-icon"},h.a.createElement(Fm,null)),h.a.createElement("h1",{id:"invitation_modal_title"},h.a.createElement(Pr.b,{id:"invitation_modal.members.title",defaultMessage:"Invite **Members** to {teamName}",values:{teamName:this.props.teamName}})),h.a.createElement("div",{className:"share-link","data-testid":"shareLink"},h.a.createElement("h2",null,h.a.createElement(q.a,{id:"invitation_modal.members.share_link.title",defaultMessage:"Share This Link"})),h.a.createElement("div",{className:"share-link-input-block"},h.a.createElement("input",{ref:this.inviteLinkRef,className:"share-link-input",type:"text",readOnly:!0,value:e,"aria-label":this.props.intl.formatMessage({id:"invitation_modal.members.share_link.input",defaultMessage:"team invite link"}),"data-testid":"shareLinkInput"}),h.a.createElement("button",{className:"share-link-input-button",onClick:this.copyLink,"data-testid":"shareLinkInputButton"},h.a.createElement(Zm,null),!this.state.copiedLink&&h.a.createElement(q.a,{id:"invitation_modal.members.share_link.copy_button",defaultMessage:"Copy Link"}),this.state.copiedLink&&h.a.createElement(q.a,{id:"invitation_modal.members.share_link.link_copied",defaultMessage:"Link Copied"}))),h.a.createElement("div",{className:"help-text"},h.a.createElement(q.a,{id:"invitation_modal.members.share_link.description",defaultMessage:"Share this link to invite people to this team."}))),h.a.createElement("div",{className:"invitation-modal-or"},h.a.createElement("hr",null),h.a.createElement("div",null,h.a.createElement(q.a,{id:"invitation_modal.members.or",defaultMessage:"OR"}))),h.a.createElement("div",{className:"search-and-add","data-testid":"searchAdd"},h.a.createElement("h2",null,h.a.createElement(q.a,{id:"invitation_modal.members.search_and_add.title",defaultMessage:"Add or Invite People"})),h.a.createElement("div",{"data-testid":"inputPlaceholder"},h.a.createElement(Km,Object.assign({},r,{usersLoader:this.usersLoader,placeholder:t,ariaLabel:Object(z.ob)("invitation_modal.members.search_and_add.title","Invite People"),onChange:this.onChange,value:this.state.usersAndEmails,validAddressMessageId:Object(J.b)("invitation_modal.members.users_emails_input.valid_email"),validAddressMessageDefault:"Invite **{email}** as a team member",noMatchMessageId:a,noMatchMessageDefault:n,onInputChange:this.onUsersInputChange,inputValue:this.state.usersInputValue,emailInvitationsEnabled:this.props.emailInvitationsEnabled}))),h.a.createElement("div",{className:"help-text"},this.props.emailInvitationsEnabled&&h.a.createElement(q.a,{id:"invitation_modal.members.search-and-add.description",defaultMessage:"Add existing members or send email invites to new members."}),!this.props.emailInvitationsEnabled&&h.a.createElement(q.a,{id:"invitation_modal.members.search-and-add.description-email-disabled",defaultMessage:"Add existing members to this team."}))),h.a.createElement("div",{className:"invite-members"},h.a.createElement("button",{className:"btn "+(i?"btn-inactive":"btn-primary"),onClick:this.submit,disabled:i,id:"inviteMembersButton"},h.a.createElement(q.a,{id:"invitation_modal.members.invite_button",defaultMessage:"Invite Members"}))))}}Jm(Xm,"propTypes",{teamName:u.a.string.isRequired,currentTeamId:u.a.string.isRequired,intl:u.a.any,inviteId:u.a.string.isRequired,searchProfiles:u.a.func.isRequired,emailInvitationsEnabled:u.a.bool.isRequired,onEdit:u.a.func.isRequired,onSubmit:u.a.func.isRequired,userLimit:u.a.string.isRequired,currentUsers:u.a.number.isRequired,userIsAdmin:u.a.bool.isRequired,isCloud:u.a.bool.isRequired,analytics:u.a.object.isRequired,subscription:u.a.object.isRequired,actions:u.a.shape({getStandardAnalytics:u.a.func.isRequired,getCloudSubscription:u.a.func.isRequired}).isRequired});var Qm=Object(Z.c)(Xm);var $m=Object(s.connect)((function(e){return{userLimit:Object(i.getConfig)(e).ExperimentalCloudUserLimit,analytics:e.entities.admin.analytics,userIsAdmin:Object(z.U)(Object(r.getCurrentUser)(e).roles),isCloud:"true"===Object(i.getLicense)(e).Cloud,subscription:e.entities.cloud.subscription}}),(function(e){return{actions:Object(n.bindActionCreators)({getStandardAnalytics:Hm.getStandardAnalytics,getCloudSubscription:Ud.getCloudSubscription},e)}}))(Qm);function eu(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.close",defaultMessage:"Close Icon"})},h.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"})))}var tu=a(1736),au=a.n(tu),nu=a(1401),su=a(1402);a(2150);function iu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ru extends h.a.PureComponent{constructor(e){super(e),iu(this,"getOptionValue",e=>e.id),iu(this,"handleInputChange",(e,t)=>{if("input-blur"===t.action&&""!==e)for(const e of this.state.options)if(this.props.inputValue===e.name)return this.onChange([...this.props.value,e]),void this.props.onInputChange("");"input-blur"!==t.action&&"menu-close"!==t.action&&this.props.onInputChange(e)}),iu(this,"optionsLoader",(e,t)=>{const a=e=>{this.setState({options:e}),t(e)},n=this.props.channelsLoader(this.props.inputValue,a);n&&n.then&&n.then(a)}),iu(this,"loadingMessage",()=>{const e=h.a.createElement(q.a,{id:this.props.loadingMessageId,defaultMessage:this.props.loadingMessageDefault});return h.a.createElement(zc.a,{text:e})}),iu(this,"NoOptionsMessage",e=>{const t=e.selectProps.inputValue;return t?h.a.createElement("div",{className:"channels-input__option channels-input__option--no-matches"},h.a.createElement(Pr.b,{id:this.props.noOptionsMessageId,defaultMessage:this.props.noOptionsMessageDefault,values:{text:t}},t=>h.a.createElement(tm.a.NoOptionsMessage,e,t))):null}),iu(this,"formatOptionLabel",e=>{let t=h.a.createElement(nu.a,{className:"public-channel-icon"});return e.type===fe.l.PRIVATE_CHANNEL&&(t=h.a.createElement(su.a,{className:"private-channel-icon"})),h.a.createElement(h.a.Fragment,null,t,e.display_name,h.a.createElement("span",{className:"channel-name"},e.name))}),iu(this,"onChange",e=>{this.props.onChange&&this.props.onChange(e)}),iu(this,"MultiValueRemove",({children:e,innerProps:t})=>h.a.createElement("div",t,e||h.a.createElement(zm,null))),iu(this,"components",{NoOptionsMessage:this.NoOptionsMessage,MultiValueRemove:this.MultiValueRemove,IndicatorsContainer:()=>null}),iu(this,"onFocus",()=>{this.selectRef.current.handleInputChange(this.props.inputValue,{action:"custom"})}),this.selectRef=h.a.createRef(),this.state={options:[]}}render(){return h.a.createElement(au.a,{ref:this.selectRef,styles:this.customStyles,onChange:this.onChange,loadOptions:this.optionsLoader,isMulti:!0,isClearable:!1,className:la()("ChannelsInput",{empty:""===this.props.inputValue}),classNamePrefix:"channels-input",placeholder:this.props.placeholder,components:this.components,getOptionValue:this.getOptionValue,formatOptionLabel:this.formatOptionLabel,noOptionsMessage:this.noOptionsMessage,loadingMessage:this.loadingMessage,defaultOptions:!1,defaultMenuIsOpen:!1,openMenuOnClick:!1,onInputChange:this.handleInputChange,inputValue:this.props.inputValue,openMenuOnFocus:!0,onFocus:this.onFocus,tabSelectsValue:!0,value:this.props.value,"aria-label":this.props.ariaLabel})}}iu(ru,"propTypes",{placeholder:u.a.string,ariaLabel:u.a.string.isRequired,channelsLoader:u.a.func,onChange:u.a.func,value:u.a.arrayOf(u.a.object),onInputChange:u.a.func,inputValue:u.a.string,loadingMessageId:u.a.string,loadingMessageDefault:u.a.string,noOptionsMessageId:u.a.string,noOptionsMessageDefault:u.a.string}),iu(ru,"defaultProps",{loadingMessageId:Object(J.b)("widgets.channels_input.loading"),loadingMessageDefault:"Loading",noOptionsMessageId:Object(J.b)("widgets.channels_input.empty"),noOptionsMessageDefault:"No channels found"});a(2151);function ou(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class lu extends h.a.PureComponent{constructor(e){super(e),ou(this,"onUsersEmailsChange",e=>{this.setState({usersAndEmails:e}),this.props.onEdit(e.length>0||this.state.channels.length>0||""!==this.state.customMessage||this.state.usersInputValue||this.state.channelsInputValue)}),ou(this,"onChannelsChange",e=>{this.setState({channels:e}),this.props.onEdit(this.state.usersAndEmails.length>0||e.length>0||""!==this.state.customMessage||this.state.usersInputValue||this.state.channelsInputValue)}),ou(this,"onMessageChange",e=>{this.setState({customMessage:e.target.value}),this.props.onEdit(this.state.usersAndEmails.length>0||this.state.channels.length>0||""!==e.target.value||this.state.usersInputValue||this.state.channelsInputValue)}),ou(this,"onUsersInputChange",e=>{this.setState({usersInputValue:e}),this.props.onEdit(this.state.usersAndEmails.length>0||this.state.channels.length>0||""!==this.state.customMessage||e||this.state.channelsInputValue)}),ou(this,"onChannelsInputChange",e=>{this.setState({channelsInputValue:e}),this.props.onEdit(this.state.usersAndEmails.length>0||this.state.channels.length>0||""!==this.state.customMessage||this.state.usersInputValue||e)}),ou(this,"debouncedSearchProfiles",Object(sr.debounce)((e,t)=>{this.props.searchProfiles(e).then(({data:a})=>{t(a),0===a.length?this.setState({termWithoutResults:e}):this.setState({termWithoutResults:null})}).catch(()=>{t([])})},150)),ou(this,"usersLoader",(e,t)=>{if(this.state.termWithoutResults&&e.startsWith(this.state.termWithoutResults))t([]);else try{this.debouncedSearchProfiles(e,t)}catch(e){t([])}}),ou(this,"debouncedSearchChannels",Object(sr.debounce)(e=>this.props.searchChannels(this.props.currentTeamId,e),150)),ou(this,"channelsLoader",async e=>e?(this.debouncedSearchChannels(e),this.props.myInvitableChannels.filter(t=>t.display_name.toLowerCase().startsWith(e.toLowerCase())||t.name.toLowerCase().startsWith(e.toLowerCase()))):this.props.myInvitableChannels),ou(this,"openCustomMessage",()=>{this.setState({customMessageOpen:!0}),setTimeout(()=>{this.textareaRef.current&&this.textareaRef.current.focus()})}),ou(this,"closeCustomMessage",()=>{this.setState({customMessageOpen:!1})}),ou(this,"sendInvites",()=>{const e=[],t=[];for(const a of this.state.usersAndEmails)Object(em.isEmail)(a)?t.push(a):e.push(a);this.props.onSubmit(e,t,this.state.channels,this.state.customMessageOpen?this.state.customMessage:"",this.state.usersInputValue,this.state.channelsInputValue)}),ou(this,"shouldShowPickerError",()=>{const{userLimit:e,analytics:t,userIsAdmin:a,isCloud:n,subscription:s}=this.props;if(null===s)return!1;if("true"===s.is_paid_tier)return!1;if("0"===e||!a||!n)return!1;const i=e-(t.TOTAL_USERS+this.state.usersAndEmails.length);return 0===i&&""!==this.state.usersInputValue||i<0}),this.textareaRef=h.a.createRef(),this.state={customMessageOpen:Boolean(e.defaultMessage),customMessage:e.defaultMessage||"",usersAndEmails:[],channels:e.defaultChannels||[],usersInputValue:"",channelsInputValue:""}}componentDidMount(){this.props.analytics||this.props.actions.getStandardAnalytics(),this.props.subscription||this.props.actions.getCloudSubscription()}render(){let e=Object(z.ob)("invitation_modal.guests.search-and-add.placeholder","Add guests or email addresses"),t=Object(J.b)("invitation_modal.guests.users_emails_input.no_user_found_matching"),a="No one found matching **{text}**, type email to invite";this.props.emailInvitationsEnabled||(e=Object(z.ob)("invitation_modal.guests.search-and-add.placeholder-email-disabled","Add guests"),t=Object(J.b)("invitation_modal.guests.users_emails_input.no_user_found_matching-email-disabled"),a="No one found matching **{text}**");const n=this.props.userLimit-this.props.analytics.TOTAL_USERS;return h.a.createElement("div",{className:"InvitationModalGuestsStep"},h.a.createElement("div",{className:"modal-icon"},h.a.createElement(km,null)),h.a.createElement("h1",{id:"invitation_modal_title"},h.a.createElement(Pr.b,{id:"invitation_modal.guests.title",defaultMessage:"Invite **Guests** to {teamName}",values:{teamName:this.props.teamName}})),h.a.createElement("div",{className:"add-people","data-testid":"addPeople"},h.a.createElement("h2",null,h.a.createElement(q.a,{id:"invitation_modal.guests.add_people.title",defaultMessage:"Invite People"})),h.a.createElement("div",{"data-testid":"emailPlaceholder"},h.a.createElement(Km,{usersLoader:this.usersLoader,placeholder:e,ariaLabel:Object(z.ob)("invitation_modal.guests.add_people.title","Invite People"),showError:this.shouldShowPickerError(),errorMessageId:Object(J.b)("invitation_modal.invite_members.hit_cloud_user_limit"),errorMessageDefault:"You have reached the user limit for your tier",errorMessageValues:{text:n<0?"0":n},onChange:this.onUsersEmailsChange,value:this.state.usersAndEmails,onInputChange:this.onUsersInputChange,inputValue:this.state.usersInputValue,validAddressMessageId:Object(J.b)("invitation_modal.guests.users_emails_input.valid_email"),validAddressMessageDefault:"Invite **{email}** as a guest",noMatchMessageId:t,noMatchMessageDefault:a,emailInvitationsEnabled:this.props.emailInvitationsEnabled})),h.a.createElement("div",{className:"help-text"},this.props.emailInvitationsEnabled&&h.a.createElement(q.a,{id:"invitation_modal.guests.add_people.description",defaultMessage:"Add existing guests or send email invites to new guests."}),!this.props.emailInvitationsEnabled&&h.a.createElement(q.a,{id:"invitation_modal.guests.add_people.description-email-disabled",defaultMessage:"Add existing guests."}))),h.a.createElement("div",{className:"add-channels","data-testid":"channelPlaceholder"},h.a.createElement("h2",null,h.a.createElement(q.a,{id:"invitation_modal.guests.add_channels.title",defaultMessage:"Search and Add Channels"})),h.a.createElement("div",null,h.a.createElement(q.a,{id:"invitation_modal.guests.add_channels.placeholder",defaultMessage:"Search and add channels"},e=>h.a.createElement(ru,{placeholder:e,ariaLabel:Object(z.ob)("invitation_modal.guests.add_channels.title","Search and Add Channels"),channelsLoader:this.channelsLoader,onChange:this.onChannelsChange,onInputChange:this.onChannelsInputChange,inputValue:this.state.channelsInputValue,value:this.state.channels}))),h.a.createElement("div",{className:"help-text"},h.a.createElement(q.a,{id:"invitation_modal.guests.add-channels.description",defaultMessage:"Specify the channels the guests have access to."}))),h.a.createElement("div",{className:"custom-message","data-testid":"customMessage"},!this.state.customMessageOpen&&h.a.createElement("a",{onClick:this.openCustomMessage,href:"#"},h.a.createElement(q.a,{id:"invitation_modal.guests.custom-message.link",defaultMessage:"Set a custom message"})),this.state.customMessageOpen&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,h.a.createElement(q.a,{id:"invitation_modal.guests.custom-message.title",defaultMessage:"Custom message"}),h.a.createElement(eu,{onClick:this.closeCustomMessage})),h.a.createElement("textarea",{ref:this.textareaRef,onChange:this.onMessageChange,value:this.state.customMessage})),h.a.createElement("div",{className:"help-text"},h.a.createElement(q.a,{id:"invitation_modal.guests.custom-message.description",defaultMessage:"Create a custom message to make your invite more personal."}))),h.a.createElement("div",{className:"invite-guests"},h.a.createElement("button",{className:"btn "+(0===this.state.channels.length||0===this.state.usersAndEmails.length?"btn-inactive":"btn-primary"),disabled:0===this.state.channels.length||0===this.state.usersAndEmails.length,onClick:this.sendInvites,id:"inviteGuestButton"},h.a.createElement(q.a,{id:"invitation_modal.guests.invite_button",defaultMessage:"Invite Guests"}))))}}ou(lu,"propTypes",{teamName:u.a.string.isRequired,myInvitableChannels:u.a.array.isRequired,currentTeamId:u.a.string.isRequired,searchProfiles:u.a.func.isRequired,searchChannels:u.a.func.isRequired,defaultChannels:u.a.array,defaultMessage:u.a.string,onEdit:u.a.func.isRequired,onSubmit:u.a.func.isRequired,emailInvitationsEnabled:u.a.bool.isRequired,userLimit:u.a.string.isRequired,currentUsers:u.a.number.isRequired,userIsAdmin:u.a.bool.isRequired,isCloud:u.a.bool.isRequired,analytics:u.a.object.isRequired,subscription:u.a.object.isRequired,actions:u.a.shape({getStandardAnalytics:u.a.func.isRequired,getCloudSubscription:u.a.func.isRequired}).isRequired});var cu=Object(s.connect)((function(e){return{userLimit:Object(i.getConfig)(e).ExperimentalCloudUserLimit,analytics:e.entities.admin.analytics,userIsAdmin:Object(z.U)(Object(r.getCurrentUser)(e).roles),isCloud:"true"===Object(i.getLicense)(e).Cloud,subscription:e.entities.cloud.subscription}}),(function(e){return{actions:Object(n.bindActionCreators)({getStandardAnalytics:Hm.getStandardAnalytics,getCloudSubscription:Ud.getCloudSubscription},e)}}))(lu);function du(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.alert",defaultMessage:"Alert Icon"})},h.a.createElement("path",{d:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"})))}a(2152);class mu extends h.a.PureComponent{render(){const{invitation:e}=this.props;let t,a,n,s,i;if(e.user){n="name";const r=Object(z.R)(e.user.id,e.user.last_picture_update);t=h.a.createElement(De.a,{username:e.user.username,url:r,size:"lg"}),a=Object(z.E)(e.user),e.user.is_bot&&(i=h.a.createElement(Le.a,null)),Object(z.bb)(e.user)&&(s=h.a.createElement(ke.a,null))}else e.email?(n="email",t=h.a.createElement(Vm,{className:"mail-icon"}),a=e.email):(n="name",t=h.a.createElement(du,{className:"alert-icon"}),a=e.text);let r=e.reason;return e.reason&&e.reason.id&&(r=h.a.createElement(q.a,{id:e.reason.id,defaultMessage:e.reason.message,values:e.reason.values})),h.a.createElement("div",{className:"InvitationModalConfirmStepRow"},h.a.createElement("div",{className:"username-or-icon"},t,h.a.createElement("span",{className:n},a,i,s)),h.a.createElement("div",{className:"reason"},r))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(mu,"propTypes",{invitation:u.a.object.isRequired});a(2153);class uu extends h.a.PureComponent{render(){return h.a.createElement("div",{className:"InvitationModalConfirmStepTable"},h.a.createElement("div",{className:"table-header"},h.a.createElement("div",{className:"people-header"},h.a.createElement(q.a,{id:"invitation-modal.confirm.people-header",defaultMessage:"People"})),h.a.createElement("div",{className:"details-header"},h.a.createElement(q.a,{id:"invitation-modal.confirm.details-header",defaultMessage:"Details"}))),h.a.createElement("div",{className:"rows"},this.props.invites.map(e=>h.a.createElement(mu,{key:e.text||e.email||e.user.id,invitation:e}))))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(uu,"propTypes",{invites:u.a.arrayOf(u.a.object).isRequired});a(2154);function pu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class hu extends h.a.PureComponent{constructor(...e){super(...e),pu(this,"getInvitesCountsMessage",(e,t)=>e>0&&t>0?h.a.createElement(Pr.b,{id:"invitation_modal.confirm.members_subtitle",defaultMessage:"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited, and **{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent",values:{sentCount:e,notSentCount:t}}):e>0&&0===t?h.a.createElement(Pr.b,{id:"invitation_modal.confirm.members_subtitle_without_not_sent",defaultMessage:"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited",values:{sentCount:e}}):0===e&&t>0?h.a.createElement(Pr.b,{id:"invitation_modal.confirm.members_subtitle_without_sent",defaultMessage:"**{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent",values:{notSentCount:t}}):h.a.createElement(Pr.b,{id:"invitation_modal.confirm.members_subtitle_without_sent_and_not_sent",defaultMessage:"No invitation sent"}))}render(){const{teamName:e,invitesType:t,invitesSent:a,invitesNotSent:n,onDone:s,onInviteMore:i}=this.props;return h.a.createElement("div",{className:"InvitationModalConfirmStep"},h.a.createElement("div",{className:"modal-icon"},h.a.createElement(km,null)),t===fe.t.INVITE_MEMBER&&h.a.createElement("h1",{id:"invitation_modal_title"},h.a.createElement(Pr.b,{id:"invitation_modal.confirm.members_title",defaultMessage:"**Members** Invited to **{teamName}**",values:{teamName:e}})),t===fe.t.INVITE_GUEST&&h.a.createElement("h1",{id:"invitation_modal_title"},h.a.createElement(Pr.b,{id:"invitation_modal.confirm.guests_title",defaultMessage:"**Guests** Invited to **{teamName}**",values:{teamName:e}})),h.a.createElement("h2",{className:"subtitle"},this.getInvitesCountsMessage(a.length,n.length)),a.length>0&&h.a.createElement("div",{className:"invitation-modal-confirm-sent"},h.a.createElement("h2",null,h.a.createElement(q.a,{id:"invitation_modal.confirm.sent-header",defaultMessage:"Successful Invites"})),h.a.createElement(uu,{invites:a})),n.length>0&&h.a.createElement("div",{className:"invitation-modal-confirm-not-sent"},h.a.createElement("h2",null,h.a.createElement(q.a,{id:"invitation_modal.confirm.not-sent-header",defaultMessage:"Invitations Not Sent"})),h.a.createElement(uu,{invites:n})),h.a.createElement("div",{className:"button-input-block"},h.a.createElement("button",{className:"btn invite-more",onClick:i},h.a.createElement(q.a,{id:"invitation_modal.invite.more",defaultMessage:"Invite More People"})),h.a.createElement("button",{className:"btn btn-primary confirm-done",onClick:s},h.a.createElement(q.a,{id:"invitation_modal.confirm.done",defaultMessage:"Done"}))))}}pu(hu,"propTypes",{teamName:u.a.string.isRequired,onDone:u.a.func.isRequired,onInviteMore:u.a.func.isRequired,invitesType:u.a.oneOf([fe.t.INVITE_MEMBER,fe.t.INVITE_GUEST]).isRequired,invitesSent:u.a.array.isRequired,invitesNotSent:u.a.array.isRequired});a(2155);function gu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class bu extends h.a.PureComponent{constructor(e){super(e),gu(this,"modal",h.a.createRef()),gu(this,"goToFirstStep",()=>{this.props.canAddUsers&&this.props.canInviteGuests?this.goToInitialStep():this.props.canAddUsers?this.goToMembers():this.props.canInviteGuests?this.goToGuests():this.close()}),gu(this,"goToInitialStep",()=>{this.state.hasChanges?this.setState({confirmBack:!0}):this.setState({step:"initial",hasChanges:!1,lastInviteChannels:[],lastInviteMesssage:"",prevStep:this.state.step}),this.modal&&this.modal.current&&this.modal.current.enforceFocus()}),gu(this,"goToMembers",()=>{this.props.isCloud&&Object(v.e)("cloud_invite_users","click_invite_members"),this.setState({step:"members",prevStep:this.state.step,hasChanges:!1,invitesSent:[],invitesNotSent:[],invitesType:fe.t.INVITE_MEMBER}),this.modal&&this.modal.current&&this.modal.current.enforceFocus()}),gu(this,"goToGuests",()=>{this.props.isCloud&&Object(v.e)("cloud_invite_users","click_invite_guests"),this.setState({step:"guests",prevStep:this.state.step,hasChanges:!1,invitesSent:[],invitesNotSent:[],invitesType:fe.t.INVITE_GUEST}),this.modal&&this.modal.current&&this.modal.current.enforceFocus()}),gu(this,"goToPrevStep",()=>{"guests"===this.state.prevStep?this.setState({step:"guests",prevStep:this.state.step,hasChanges:!1,invitesSent:[],invitesNotSent:[],invitesType:fe.t.INVITE_GUEST}):"members"===this.state.prevStep&&this.setState({step:"members",prevStep:this.state.step,hasChanges:!1,invitesSent:[],invitesNotSent:[],invitesType:fe.t.INVITE_MEMBER}),this.modal&&this.modal.current&&this.modal.current.enforceFocus()}),gu(this,"getBackFunction",()=>"confirm"===this.state.step&&this.state.invitesNotSent.length>0?this.goToPrevStep:("members"===this.state.step||"guests"===this.state.step)&&this.props.canInviteGuests&&this.props.canAddUsers?this.goToInitialStep:null),gu(this,"onEdit",e=>{this.setState({hasChanges:e})}),gu(this,"close",()=>{this.state.hasChanges?this.setState({confirmModal:!0}):this.props.actions.closeModal()}),gu(this,"confirmBack",()=>{this.setState({step:"initial",hasChanges:!1,confirmBack:!1})}),gu(this,"cancelBack",()=>{this.setState({confirmBack:!1})}),gu(this,"confirmClose",()=>{this.props.actions.closeModal(),this.setState({confirmModal:!1})}),gu(this,"cancelClose",()=>{this.setState({confirmModal:!1})}),gu(this,"onMembersSubmit",async(e,t,a)=>{const n=await this.props.actions.sendMembersInvites(this.props.currentTeam.id,e,t);this.props.isCloud&&Object(v.e)("cloud_invite_users","invitations_sent",{num_invitations_sent:n.sent}),""!==a&&n.notSent.push({text:a,reason:h.a.createElement(q.a,{id:"invitation-modal.confirm.not-valid-user-or-email",defaultMessage:"Does not match a valid user or email."})}),this.setState({step:"confirm",prevStep:this.state.step,invitesSent:n.sent,invitesNotSent:n.notSent,invitesType:fe.t.INVITE_MEMBER,hasChanges:!1})}),gu(this,"onGuestsSubmit",async(e,t,a,n,s,i)=>{const r=await this.props.actions.sendGuestsInvites(this.props.currentTeam.id,a.map(e=>e.id),e,t,n);""!==s&&r.notSent.push({text:s,reason:h.a.createElement(q.a,{id:"invitation-modal.confirm.not-valid-user-or-email",defaultMessage:"Does not match a valid user or email."})}),""!==i&&r.notSent.push({text:i,reason:h.a.createElement(q.a,{id:"invitation-modal.confirm.not-valid-channel",defaultMessage:"Does not match a valid channel name."})}),this.setState({step:"confirm",prevStep:this.state.step,lastInviteChannels:a,lastInviteMessage:n,invitesSent:r.sent,invitesNotSent:r.notSent,invitesType:fe.t.INVITE_GUEST,hasChanges:!1})});let t="initial";e.canInviteGuests||(t="members"),e.canAddUsers||(t="guests"),this.state={step:t,prevStep:null,lastInviteChannels:[],lastInviteMessage:"",confirmModal:!1,confirmBack:!1,hasChanges:!1,invitesType:fe.t.INVITE_MEMBER,invitesSent:[],invitesNotSent:[]}}componentDidMount(){this.props.isCloud&&Object(v.d)("cloud_invite_users","pageview_invite_users")}componentDidUpdate(e,t){"members"!==this.state.step||"members"===t.step||this.props.currentTeam.invite_id||this.props.actions.getTeam(this.props.currentTeam.id)}render(){return h.a.createElement(Lm.a,null,h.a.createElement(xm.a,{show:Boolean(this.props.show),onClose:this.close,onGoBack:this.getBackFunction(),ref:this.modal,ariaLabelledBy:"invitation_modal_title"},h.a.createElement("div",{"data-testid":"invitationModal",className:"InvitationModal"},h.a.createElement(Ks.a,{show:this.state.confirmModal||this.state.confirmBack,title:h.a.createElement(q.a,{id:"invitation-modal.discard-changes.title",defaultMessage:"Discard Changes"}),message:h.a.createElement(q.a,{id:"invitation-modal.discard-changes.message",defaultMessage:"You have unsent invitations, are you sure you want to discard them?"}),confirmButtonText:h.a.createElement(q.a,{id:"invitation-modal.discard-changes.button",defaultMessage:"Yes, Discard"}),modalClass:"invitation-modal-confirm",onConfirm:this.state.confirmModal?this.confirmClose:this.confirmBack,onCancel:this.state.confirmModal?this.cancelClose:this.cancelBack}),"initial"===this.state.step&&h.a.createElement(qm,{teamName:this.props.currentTeam.display_name,goToMembers:this.goToMembers,goToGuests:this.goToGuests,emailInvitationsEnabled:this.props.emailInvitationsEnabled}),"members"===this.state.step&&h.a.createElement($m,{teamName:this.props.currentTeam.display_name,currentTeamId:this.props.currentTeam.id,inviteId:this.props.currentTeam.invite_id,searchProfiles:this.props.actions.searchProfiles,emailInvitationsEnabled:this.props.emailInvitationsEnabled,onSubmit:this.onMembersSubmit,onEdit:this.onEdit}),"guests"===this.state.step&&h.a.createElement(cu,{teamName:this.props.currentTeam.display_name,currentTeamId:this.props.currentTeam.id,myInvitableChannels:this.props.invitableChannels,searchProfiles:this.props.actions.searchProfiles,searchChannels:this.props.actions.searchChannels,defaultChannels:this.state.lastInviteChannels,defaultMessage:this.state.lastInviteMessage,emailInvitationsEnabled:this.props.emailInvitationsEnabled,onSubmit:this.onGuestsSubmit,onEdit:this.onEdit}),"confirm"===this.state.step&&h.a.createElement(hu,{teamName:this.props.currentTeam.display_name,currentTeamId:this.props.currentTeam.id,onDone:this.close,onInviteMore:this.goToFirstStep,invitesType:this.state.invitesType,invitesSent:this.state.invitesSent,invitesNotSent:this.state.invitesNotSent}))))}}gu(bu,"propTypes",{show:u.a.bool,currentTeam:u.a.object.isRequired,invitableChannels:u.a.array.isRequired,canInviteGuests:u.a.bool.isRequired,canAddUsers:u.a.bool.isRequired,emailInvitationsEnabled:u.a.bool.isRequired,isCloud:u.a.bool.isRequired,actions:u.a.shape({closeModal:u.a.func.isRequired,sendGuestsInvites:u.a.func.isRequired,sendMembersInvites:u.a.func.isRequired,searchProfiles:u.a.func.isRequired,searchChannels:u.a.func.isRequired,getTeam:u.a.func.isRequired}).isRequired});const fu=(e,t={})=>e?Object(Y.searchProfiles)(e,t):Object(Y.getProfiles)(0,20,t),_u=(e,t)=>Object(ge.searchChannels)(e,t);var Cu=Object(s.connect)((function(e){const t=Object(i.getConfig)(e),a=Object(i.getLicense)(e),n=Object(B.getChannelsInCurrentTeam)(e),s=Object(o.getCurrentTeam)(e),r=n.filter(t=>t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL&&(t.type===fe.l.PRIVATE_CHANNEL?Object(A.haveIChannelPermission)(e,{channel:t.id,team:s.id,permission:W.Permissions.MANAGE_PRIVATE_CHANNEL_MEMBERS}):Object(A.haveIChannelPermission)(e,{channel:t.id,team:s.id,permission:W.Permissions.MANAGE_PUBLIC_CHANNEL_MEMBERS}))),l="true"===t.EnableGuestAccounts,c="true"===t.EnableEmailInvitations,d=a&&"true"===a.IsLicensed,m=!Boolean(s.group_constrained)&&d&&l&&Object(A.haveITeamPermission)(e,{team:s.id,permission:W.Permissions.INVITE_GUEST}),u=Object(A.haveITeamPermission)(e,{team:s.id,permission:W.Permissions.ADD_USER_TO_TEAM});return{invitableChannels:r,currentTeam:s,canInviteGuests:m,canAddUsers:u,emailInvitationsEnabled:c,show:Object(Rm.a)(e,fe.y.INVITATION),isCloud:"true"===a.Cloud}}),(function(e){return{actions:Object(n.bindActionCreators)({closeModal:()=>Object(_t.a)(fe.y.INVITATION),sendGuestsInvites:jm,sendMembersInvites:Am,searchProfiles:fu,searchChannels:_u,getTeam:xt.getTeam},e)}}))(bu),yu=a(1399),Eu=a(1605);var vu=()=>h.a.createElement("svg",{width:"512",height:"156",viewBox:"0 0 512 156",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.a.createElement("path",{opacity:"0.1",d:"M282.728 52.6597C281.343 52.398 279.911 52.5537 278.616 53.1067C277.834 53.4519 276.988 53.6284 276.133 53.6246C275.278 53.6209 274.434 53.4369 273.655 53.0848C272.737 52.6839 271.742 52.4863 270.74 52.5057C269.737 52.5251 268.751 52.761 267.849 53.1971C267.334 53.4696 266.76 53.613 266.176 53.6148C263.822 53.6148 261.863 51.2527 261.456 48.1359C261.926 47.7929 262.326 47.3634 262.633 46.8706C264.014 44.655 266.152 43.2334 268.552 43.2334C270.953 43.2334 273.064 44.6379 274.438 46.8315C274.851 47.4949 275.429 48.0407 276.117 48.4156C276.804 48.7905 277.577 48.982 278.361 48.9713H278.422C280.303 48.981 281.926 50.4784 282.728 52.6597Z",fill:"var(--button-bg)"}),h.a.createElement("path",{opacity:"0.1",d:"M346.4 76.0436C344.578 75.7024 342.693 75.9053 340.988 76.6264C339.959 77.0764 338.845 77.3065 337.72 77.3016C336.594 77.2967 335.483 77.0568 334.458 76.5977C333.249 76.0751 331.94 75.8175 330.62 75.8428C329.301 75.8681 328.002 76.1757 326.815 76.7442C326.137 77.0995 325.381 77.2864 324.614 77.2888C321.515 77.2888 318.936 74.2092 318.4 70.1456C319.019 69.6985 319.545 69.1385 319.95 68.4959C321.767 65.6074 324.581 63.7539 327.741 63.7539C330.901 63.7539 333.68 65.5851 335.488 68.4449C336.032 69.3099 336.793 70.0214 337.698 70.5103C338.603 70.9991 339.62 71.2487 340.652 71.2347H340.733C343.208 71.2475 345.345 73.1997 346.4 76.0436Z",fill:"var(--button-bg)"}),h.a.createElement("path",{opacity:"0.1",d:"M289.888 42.8765L286.082 45.2825L288.392 41.0957C287.737 40.5762 286.927 40.2883 286.09 40.2774H286.029C285.764 40.2821 285.5 40.2633 285.239 40.2212L283.954 41.0347L284.508 40.0332C283.594 39.7152 282.804 39.1165 282.252 38.3233L279.942 39.7889L281.414 37.1483C280.063 35.5337 278.243 34.542 276.242 34.542C273.842 34.542 271.703 35.9661 270.323 38.1816C269.915 38.8468 269.336 39.392 268.647 39.7611C267.957 40.1303 267.182 40.3101 266.399 40.2823H266.269C263.619 40.2823 261.471 43.2771 261.471 46.968C261.471 50.6589 263.619 53.6536 266.269 53.6536C266.852 53.6517 267.426 53.5093 267.942 53.2383C268.844 52.8012 269.83 52.5646 270.832 52.5447C271.835 52.5249 272.83 52.7224 273.748 53.1235C274.525 53.4709 275.365 53.6515 276.216 53.6536C277.067 53.6557 277.909 53.4793 278.687 53.1357C279.599 52.7423 280.584 52.5485 281.578 52.5675C282.571 52.5864 283.549 52.8177 284.444 53.2457C284.955 53.5116 285.521 53.6515 286.097 53.6536C288.748 53.6536 290.896 50.6613 290.896 46.968C290.91 45.5414 290.564 44.1343 289.888 42.8765Z",fill:"var(--button-bg)"}),h.a.createElement("path",{opacity:"0.1",d:"M356.257 62.9219L351.187 66.1324L354.265 60.5458C353.392 59.8525 352.313 59.4684 351.197 59.4539H351.116C350.763 59.4601 350.411 59.435 350.064 59.3789L348.352 60.4643L349.09 59.1279C347.872 58.7036 346.82 57.9048 346.085 56.8464L343.008 58.802L344.968 55.2786C343.168 53.1241 340.744 51.8008 338.079 51.8008C334.88 51.8008 332.032 53.701 330.193 56.6573C329.649 57.545 328.878 58.2724 327.96 58.7649C327.042 59.2575 326.008 59.4975 324.966 59.4604H324.793C321.262 59.4604 318.4 63.4564 318.4 68.3814C318.4 73.3064 321.262 77.3024 324.793 77.3024C325.57 77.2999 326.334 77.1098 327.021 76.7483C328.222 76.1651 329.536 75.8493 330.872 75.8228C332.207 75.7964 333.533 76.0599 334.756 76.5951C335.79 77.0586 336.911 77.2996 338.044 77.3024C339.178 77.3053 340.299 77.0698 341.335 76.6114C342.55 76.0864 343.863 75.8278 345.186 75.8531C346.51 75.8784 347.812 76.1871 349.005 76.7581C349.685 77.113 350.44 77.2997 351.207 77.3024C354.738 77.3024 357.6 73.3097 357.6 68.3814C357.619 66.4779 357.157 64.6003 356.257 62.9219Z",fill:"var(--button-bg)"}),h.a.createElement("path",{d:"M255.167 35.4361C255.137 35.2133 255.068 34.9974 254.963 34.7986C254.88 34.6801 254.779 34.5747 254.664 34.4859C254.479 34.3143 254.263 34.18 254.026 34.0902C253.906 34.0435 253.777 34.0267 253.648 34.0412C253.52 34.0556 253.397 34.101 253.291 34.1733C253.101 34.3433 252.986 34.5813 252.972 34.8352C252.92 35.1796 252.981 35.5313 253.144 35.8392C253.34 36.1787 253.678 36.4059 253.96 36.677C254.167 36.8728 254.347 37.0955 254.495 37.339C254.562 37.4662 254.645 37.585 254.74 37.6932C254.788 37.7467 254.848 37.7883 254.914 37.8146C254.981 37.8409 255.053 37.8512 255.125 37.8446C255.245 37.8138 255.353 37.7504 255.439 37.6614C255.554 37.5613 255.868 37.3781 255.878 37.2169C255.888 37.0556 255.633 36.7918 255.581 36.6697C255.4 36.2742 255.261 35.8607 255.167 35.4361Z",fill:"var(--online-indicator)"}),h.a.createElement("path",{d:"M256 156C326.692 156 384 153.485 384 150.382C384 147.279 326.692 144.764 256 144.764C185.308 144.764 128 147.279 128 150.382C128 153.485 185.308 156 256 156Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M251.2 152.213C266.664 152.213 279.2 151.321 279.2 150.221C279.2 149.121 266.664 148.229 251.2 148.229C235.736 148.229 223.2 149.121 223.2 150.221C223.2 151.321 235.736 152.213 251.2 152.213Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M253.016 150.152C252.148 150.321 251.253 150.283 250.403 150.044C249.552 149.804 248.77 149.368 248.119 148.772C247.469 148.176 246.968 147.436 246.658 146.611C246.347 145.787 246.235 144.901 246.332 144.026C246.974 138.369 248.973 129.255 254.438 115.573C260.775 99.7106 258.489 95.8781 251.699 84.5025C249.507 80.8262 247.021 76.6614 244.343 71.3119C237.438 57.5693 240.062 46.9778 243.47 40.5316C247.094 33.6701 252.278 30.0769 252.857 29.6885L258.207 38.5066L257.717 38.9951C257.705 38.9951 257.962 38.9951 258.335 39.6718C256.241 41.4795 254.519 43.6755 253.266 46.1376C250.299 52.0562 250.692 58.8395 254.431 66.2824C256.935 71.2704 259.308 75.2495 261.402 78.7597C265.164 85.0618 268.133 90.04 269.117 96.3251C270.134 102.83 268.871 109.828 264.926 119.726C259.725 132.743 258.06 140.89 257.553 145.262C257.416 146.45 256.904 147.564 256.089 148.442C255.275 149.32 254.201 149.918 253.023 150.147L253.016 150.152Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M228.291 22.6071L250.985 0L273.9 22.6071H258.327V39.894H243.864V22.717L228.291 22.6071Z",fill:"var(--button-bg)"}),h.a.createElement("path",{d:"M300.8 149.822C308.753 149.822 315.2 149.287 315.2 148.627C315.2 147.967 308.753 147.432 300.8 147.432C292.847 147.432 286.4 147.967 286.4 148.627C286.4 149.287 292.847 149.822 300.8 149.822Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M301.631 148.924C301.178 149.012 300.711 148.993 300.267 148.868C299.823 148.743 299.414 148.515 299.075 148.204C298.735 147.893 298.474 147.507 298.311 147.076C298.149 146.646 298.091 146.183 298.142 145.726C298.475 142.773 299.52 138.015 302.374 130.872C305.682 122.589 304.488 120.588 300.945 114.648C299.799 112.73 298.492 110.554 297.097 107.759C293.498 100.585 294.866 95.0575 296.646 91.6915C297.819 89.4517 299.498 87.5136 301.55 86.0293L304.343 90.6338L304.083 90.878C304.083 90.878 304.216 90.878 304.407 91.2322C303.313 92.1757 302.413 93.3222 301.759 94.608C300.211 97.698 300.417 101.237 302.369 105.126C303.676 107.73 304.915 109.809 306.008 111.641C307.97 114.931 309.522 117.53 310.037 120.813C310.567 124.209 309.912 127.863 307.847 133.027C305.133 139.822 304.262 144.075 303.997 146.359C303.928 146.98 303.661 147.562 303.236 148.021C302.811 148.481 302.249 148.792 301.634 148.911L301.631 148.924Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M288.721 82.3295L300.569 70.5264L312.536 82.3295H304.404V91.3552H296.852V82.3881L288.721 82.3295Z",fill:"var(--button-bg)"}),h.a.createElement("path",{d:"M201.6 149.026C209.553 149.026 216 148.49 216 147.83C216 147.17 209.553 146.635 201.6 146.635C193.647 146.635 187.2 147.17 187.2 147.83C187.2 148.49 193.647 149.026 201.6 149.026Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M200.561 148.924C201.013 149.012 201.481 148.993 201.925 148.868C202.369 148.743 202.777 148.515 203.117 148.204C203.457 147.893 203.718 147.507 203.88 147.076C204.042 146.646 204.1 146.183 204.05 145.726C203.716 142.773 202.672 138.015 199.818 130.872C196.51 122.589 197.704 120.588 201.247 114.648C202.392 112.73 203.699 110.554 205.094 107.759C208.694 100.585 207.326 95.0575 205.546 91.6915C204.372 89.4517 202.694 87.5136 200.641 86.0293L197.848 90.6338L198.108 90.878C198.108 90.878 197.976 90.878 197.785 91.2322C198.879 92.1757 199.778 93.3222 200.433 94.608C201.98 97.698 201.774 101.237 199.822 105.126C198.515 107.73 197.277 109.809 196.184 111.641C194.222 114.931 192.67 117.53 192.155 120.813C191.625 124.209 192.28 127.863 194.344 133.027C197.059 139.822 197.929 144.075 198.194 146.359C198.264 146.98 198.531 147.562 198.956 148.021C199.381 148.481 199.942 148.792 200.558 148.911L200.561 148.924Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M213.471 82.3295L201.623 70.5264L189.656 82.3295H197.787V91.3552H205.34V82.3881L213.471 82.3295Z",fill:"var(--button-bg)"}),h.a.createElement("path",{d:"M344.079 148.526H333.663C333.09 148.526 332.54 148.299 332.135 147.895C331.73 147.492 331.502 146.945 331.502 146.374C331.502 145.803 331.73 145.256 332.135 144.852C332.54 144.449 333.09 144.222 333.663 144.222C333.373 144.232 333.084 144.183 332.814 144.079C332.544 143.976 332.297 143.819 332.088 143.618C331.88 143.417 331.714 143.177 331.601 142.911C331.488 142.645 331.43 142.36 331.43 142.071C331.43 141.782 331.488 141.497 331.601 141.231C331.714 140.965 331.88 140.725 332.088 140.524C332.297 140.323 332.544 140.166 332.814 140.063C333.084 139.959 333.373 139.91 333.663 139.92H334.138C334.411 138.069 336.507 136.627 339.057 136.625C341.608 136.623 343.716 138.061 343.984 139.91H344.079C344.369 139.901 344.658 139.949 344.928 140.053C345.199 140.157 345.445 140.313 345.654 140.514C345.862 140.715 346.028 140.955 346.141 141.221C346.254 141.487 346.312 141.773 346.312 142.061C346.312 142.35 346.254 142.636 346.141 142.901C346.028 143.167 345.862 143.408 345.654 143.608C345.445 143.809 345.199 143.966 344.928 144.07C344.658 144.173 344.369 144.222 344.079 144.212C344.652 144.212 345.202 144.439 345.607 144.842C346.012 145.246 346.24 145.793 346.24 146.364C346.24 146.935 346.012 147.482 345.607 147.886C345.202 148.289 344.652 148.516 344.079 148.516V148.526Z",fill:"var(--online-indicator)"}),h.a.createElement("path",{opacity:"0.1",d:"M346.238 142.069C346.237 142.64 346.01 143.186 345.605 143.59C345.201 143.993 344.652 144.22 344.08 144.222H333.666L344.014 139.91H344.078C344.652 139.911 345.201 140.14 345.606 140.544C346.011 140.949 346.239 141.498 346.238 142.069Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),h.a.createElement("path",{opacity:"0.1",d:"M331.566 146.395C331.568 146.965 331.797 147.511 332.201 147.914C332.606 148.317 333.155 148.543 333.727 148.545H344.143L333.788 144.253H333.732C333.16 144.254 332.612 144.479 332.206 144.88C331.801 145.281 331.571 145.826 331.566 146.395Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),h.a.createElement("path",{d:"M280.766 145.955H274.854C274.529 145.955 274.217 145.827 273.987 145.598C273.757 145.368 273.628 145.058 273.628 144.734C273.628 144.41 273.757 144.099 273.987 143.87C274.217 143.641 274.529 143.513 274.854 143.513C274.529 143.513 274.217 143.384 273.987 143.155C273.757 142.926 273.628 142.615 273.628 142.291C273.628 141.967 273.757 141.657 273.987 141.428C274.217 141.199 274.529 141.07 274.854 141.07H275.126C275.278 140.019 276.47 139.201 277.917 139.201C279.363 139.201 280.555 140.015 280.712 141.065H280.766C281.091 141.065 281.403 141.194 281.633 141.423C281.863 141.652 281.992 141.962 281.992 142.286C281.992 142.61 281.863 142.921 281.633 143.15C281.403 143.379 281.091 143.508 280.766 143.508C281.091 143.508 281.403 143.636 281.633 143.865C281.863 144.094 281.992 144.405 281.992 144.729C281.992 145.053 281.863 145.364 281.633 145.593C281.403 145.822 281.091 145.95 280.766 145.95V145.955Z",fill:"var(--online-indicator)"}),h.a.createElement("path",{opacity:"0.1",d:"M281.993 142.292C281.993 142.616 281.863 142.926 281.633 143.155C281.404 143.384 281.092 143.513 280.767 143.513H274.854L280.74 141.07H280.767C281.092 141.07 281.404 141.199 281.633 141.428C281.863 141.657 281.993 141.968 281.993 142.292Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),h.a.createElement("path",{opacity:"0.1",d:"M273.668 144.742C273.668 145.066 273.797 145.376 274.027 145.605C274.257 145.835 274.569 145.963 274.894 145.963H280.804L274.919 143.521H274.882C274.559 143.524 274.25 143.654 274.023 143.883C273.795 144.111 273.668 144.42 273.668 144.742Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),h.a.createElement("path",{d:"M170.042 152.885H157.536C157.189 152.896 156.843 152.837 156.52 152.712C156.196 152.587 155.901 152.399 155.652 152.158C155.403 151.918 155.205 151.63 155.069 151.311C154.934 150.993 154.864 150.651 154.864 150.305C154.864 149.959 154.934 149.617 155.069 149.298C155.205 148.98 155.403 148.692 155.652 148.451C155.901 148.211 156.196 148.022 156.52 147.897C156.843 147.772 157.189 147.713 157.536 147.724C157.189 147.735 156.843 147.676 156.52 147.551C156.196 147.426 155.901 147.238 155.652 146.997C155.403 146.756 155.205 146.468 155.069 146.15C154.934 145.831 154.864 145.489 154.864 145.143C154.864 144.798 154.934 144.455 155.069 144.137C155.205 143.819 155.403 143.53 155.652 143.29C155.901 143.049 156.196 142.861 156.52 142.736C156.843 142.611 157.189 142.552 157.536 142.563H158.105C158.431 140.342 160.949 138.613 164.007 138.61C167.065 138.608 169.586 140.332 169.917 142.55H170.029C170.703 142.571 171.341 142.852 171.81 143.334C172.279 143.815 172.542 144.46 172.542 145.131C172.542 145.802 172.279 146.447 171.81 146.929C171.341 147.41 170.703 147.691 170.029 147.712C170.703 147.732 171.341 148.013 171.81 148.495C172.279 148.977 172.542 149.622 172.542 150.293C172.542 150.964 172.279 151.608 171.81 152.09C171.341 152.572 170.703 152.853 170.029 152.873L170.042 152.885Z",fill:"var(--online-indicator)"}),h.a.createElement("path",{opacity:"0.1",d:"M172.628 145.142C172.627 145.826 172.354 146.481 171.869 146.965C171.384 147.449 170.727 147.722 170.041 147.724H157.535L169.948 142.551H170.024C170.366 142.55 170.704 142.617 171.02 142.747C171.336 142.877 171.623 143.068 171.865 143.309C172.107 143.55 172.299 143.836 172.43 144.15C172.561 144.465 172.628 144.802 172.628 145.142Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),h.a.createElement("path",{opacity:"0.1",d:"M155.027 150.321C155.031 151.005 155.305 151.66 155.791 152.142C156.277 152.625 156.935 152.897 157.622 152.898H170.127L157.703 147.749H157.627C156.94 147.75 156.282 148.02 155.795 148.502C155.309 148.984 155.033 149.638 155.027 150.321Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),h.a.createElement("path",{opacity:"0.1",d:"M195.678 37.3877C194.705 37.2017 193.698 37.3089 192.787 37.6955C192.243 37.9378 191.654 38.063 191.058 38.063C190.462 38.063 189.873 37.9378 189.329 37.6955C188.686 37.415 187.99 37.2767 187.288 37.2902C186.586 37.3037 185.895 37.4686 185.264 37.7737C184.903 37.9642 184.502 38.0647 184.094 38.0668C182.446 38.0668 181.075 36.4131 180.791 34.2293C181.12 33.99 181.4 33.6898 181.615 33.3451C182.581 31.794 184.067 30.7998 185.757 30.7998C187.446 30.7998 188.917 31.7769 189.883 33.3182C190.172 33.7806 190.576 34.1613 191.055 34.4235C191.534 34.6857 192.073 34.8208 192.62 34.8156H192.664C193.976 34.8131 195.111 35.8611 195.678 37.3877Z",fill:"var(--button-bg)"}),h.a.createElement("path",{opacity:"0.1",d:"M200.685 30.5407L198.022 32.2237L199.638 29.2925C199.181 28.927 198.614 28.7249 198.027 28.7184H197.986C197.801 28.7227 197.616 28.7096 197.434 28.6793L196.529 29.2485L196.917 28.5474C196.277 28.3247 195.725 27.9067 195.337 27.353L193.717 28.3764L194.737 26.5273C193.793 25.3988 192.517 24.7051 191.117 24.7051C189.438 24.7051 187.93 25.6993 186.973 27.2504C186.687 27.7131 186.282 28.0924 185.801 28.3497C185.32 28.607 184.78 28.7334 184.234 28.716H184.153C182.3 28.716 180.794 30.8118 180.794 33.3962C180.794 35.9805 182.3 38.0764 184.153 38.0764C184.561 38.0755 184.963 37.9748 185.323 37.7832C185.955 37.4782 186.645 37.3132 187.347 37.2997C188.049 37.2862 188.746 37.4245 189.389 37.7051C189.936 37.9484 190.528 38.0749 191.127 38.0764C191.718 38.0756 192.303 37.9517 192.844 37.7124C193.482 37.4372 194.171 37.3017 194.867 37.3152C195.562 37.3287 196.246 37.4908 196.872 37.7906C197.23 37.977 197.627 38.0751 198.03 38.0764C199.886 38.0764 201.389 35.9805 201.389 33.3962C201.398 32.4007 201.156 31.4188 200.685 30.5407Z",fill:"var(--button-bg)"}),h.a.createElement("path",{opacity:"0.1",d:"M160.52 64.2579C161.489 64.0743 162.49 64.1815 163.398 64.5656C163.942 64.808 164.53 64.9333 165.126 64.9333C165.721 64.9333 166.31 64.808 166.853 64.5656C167.496 64.2851 168.193 64.1468 168.895 64.1603C169.597 64.1738 170.287 64.3388 170.919 64.6438C171.279 64.834 171.681 64.9346 172.089 64.9369C173.736 64.9369 175.11 63.2832 175.394 61.0995C175.064 60.8608 174.784 60.5605 174.57 60.2152C173.604 58.6641 172.106 57.6699 170.426 57.6699C168.746 57.6699 167.268 58.647 166.302 60.1883C166.012 60.6517 165.606 61.0328 165.125 61.2946C164.644 61.5565 164.103 61.6904 163.555 61.6833H163.514C162.209 61.6833 161.071 62.7312 160.52 64.2579Z",fill:"var(--button-bg)"}),h.a.createElement("path",{opacity:"0.1",d:"M155.498 57.4103L158.161 59.0933L156.543 56.1621C157.001 55.797 157.568 55.5949 158.154 55.588H158.198C158.383 55.5923 158.568 55.5792 158.75 55.549L159.652 56.1181L159.265 55.4171C159.905 55.1945 160.458 54.7765 160.846 54.2226L162.462 55.2436L161.44 53.3945C162.386 52.266 163.659 51.5723 165.062 51.5723C166.741 51.5723 168.237 52.5664 169.206 54.1176C169.492 54.5805 169.896 54.9599 170.377 55.2172C170.858 55.4746 171.399 55.6008 171.945 55.5832H172.033C173.889 55.5832 175.392 57.679 175.392 60.2634C175.392 62.8477 173.889 64.9436 172.033 64.9436C171.625 64.9421 171.223 64.8414 170.863 64.6504C170.232 64.3454 169.541 64.1804 168.839 64.1669C168.137 64.1534 167.441 64.2917 166.798 64.5723C166.251 64.8156 165.66 64.9421 165.062 64.9436C164.47 64.9433 163.885 64.8193 163.345 64.5796C162.707 64.3043 162.017 64.1689 161.321 64.1823C160.626 64.1958 159.941 64.358 159.314 64.6578C158.957 64.8445 158.56 64.9425 158.157 64.9436C156.303 64.9436 154.797 62.8477 154.797 60.2634C154.788 59.2689 155.029 58.288 155.498 57.4103Z",fill:"var(--button-bg)"}));a(2156);function wu(e){Object(p.useEffect)(()=>{Object(v.d)(fe.P.CLOUD_PURCHASING,"pageview_modal_user_limit_reached")},[]);const t=()=>{Object(v.e)(fe.P.CLOUD_PURCHASING,"click_modal_user_limit_not_now"),e.actions.closeModal()};return h.a.createElement(h.a.Fragment,null,e.show&&h.a.createElement(ra.a,{className:"UserLimitModal",show:e.show,id:"userLimitModal",role:"dialog",onHide:t},h.a.createElement(ra.a.Header,{closeButton:!0}),h.a.createElement(ra.a.Body,null,h.a.createElement(vu,null),h.a.createElement("div",{className:"title"},h.a.createElement(q.a,{id:"upgrade.cloud_modal_title",defaultMessage:"You've reached the user limit\""})),h.a.createElement("div",{className:"description"},h.a.createElement(q.a,{id:"upgrade.cloud_modal_body",defaultMessage:"The free tier is limited to 10 users. Upgrade Mattermost Cloud for more users."})),h.a.createElement("div",{className:"buttons"},h.a.createElement(yu.a,{className:"dismiss-link",onClick:t},h.a.createElement(q.a,{id:"cloud.upgrade.notrightnow",defaultMessage:"Not right now"})),h.a.createElement(yu.a,{className:"confirm-button",onClick:()=>{Object(v.e)(fe.P.CLOUD_PURCHASING,"click_modal_user_limit_upgrade"),e.actions.closeModal(),e.actions.openModal({modalId:fe.y.CLOUD_PURCHASE,dialogType:Eu.a})}},h.a.createElement(q.a,{id:"upgrade.cloud",defaultMessage:"Upgrade Mattermost Cloud"}))))))}wu.propTypes={show:u.a.bool.isRequired,actions:u.a.shape({closeModal:u.a.func.isRequired,openModal:u.a.func.isRequired}).isRequired};var Ou=Object(s.connect)((function(e,t){return{userLimit:Object(i.getConfig)(e).ExperimentalCloudUserLimit,currentUsers:e.entities.admin.analytics.TOTAL_USERS,userIsAdmin:Object(z.U)(Object(o.getMyTeamMember)(e,t.currentTeamId).roles),show:Object(Rm.a)(e,fe.y.UPGRADE_CLOUD_ACCOUNT)}}),(function(e){return{actions:Object(n.bindActionCreators)({closeModal:()=>Object(_t.a)(fe.y.UPGRADE_CLOUD_ACCOUNT),openModal:e=>Object(_t.b)(e)},e)}}))(wu),Su=a(1383),Tu=a(1364);function Mu(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 164 164",style:Pu,role:"img","aria-label":t({id:"navbar_dropdown.leave.icon",defaultMessage:"Leave Team Icon"})},h.a.createElement("path",{d:"M26.023,164L26.023,7.035L26.022,0.32L137.658,0.32L137.658,164L124.228,164L124.228, 13.749L39.452,13.749L39.452,164L26.023, 164ZM118.876,164L118.876,18.619L58.137,32.918L58.137,149.701L118.876,164Z"})))}const Pu={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421};function Nu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Iu extends h.a.PureComponent{constructor(...e){super(...e),Nu(this,"handleKeyPress",e=>{Object(z.cb)(e,fe.Z.KeyCodes.ENTER)&&this.handleSubmit()}),Nu(this,"handleSubmit",()=>{this.props.onHide(),this.props.actions.leaveTeam(this.props.currentTeamId,this.props.currentUserId),this.props.actions.toggleSideBarRightMenu()})}componentDidMount(){this.props.show&&document.addEventListener("keypress",this.handleKeyPress)}componentWillUnmount(){document.removeEventListener("keypress",this.handleKeyPress)}render(){const{currentUser:e}=this.props,t=z.bb(e),a=this.props.publicChannels.length,n=this.props.privateChannels.length;let s;return s=t?0!==a&&0!==n?h.a.createElement(Pr.b,{id:"leave_team_modal_guest.desc",defaultMessage:"** You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} and {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?",values:{num_of_public_channels:a,num_of_private_channels:n}}):0===a?h.a.createElement(Pr.b,{id:"leave_team_modal_guest_only_private.desc",defaultMessage:"** You will be removed from {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?",values:{num_of_public_channels:a,num_of_private_channels:n}}):h.a.createElement(Pr.b,{id:"leave_team_modal_guest_only_public.desc",defaultMessage:"** You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?",values:{num_of_public_channels:a,num_of_private_channels:n}}):0!==a&&0!==n?h.a.createElement(Pr.b,{id:"leave_team_modal.desc",defaultMessage:"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels} } and {num_of_private_channels} private {num_of_private_channels,one {channel} other {channels}} on this team.** If the team is private you won't be able to rejoin it without an invitation from another team member. Are you sure?",values:{num_of_public_channels:a,num_of_private_channels:n}}):0===a?h.a.createElement(Pr.b,{id:"leave_team_modal_private.desc",defaultMessage:"**You will be removed from {num_of_private_channels} private {num_of_private_channels,one {channel} other {channels}} on this team.** If the team is private you won't be able to rejoin it without an invitation from another team member. Are you sure?",values:{num_of_public_channels:a,num_of_private_channels:n}}):h.a.createElement(Pr.b,{id:"leave_team_modal_public.desc",defaultMessage:"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels} } on this team.** Are you sure?",values:{num_of_public_channels:a,num_of_private_channels:n}}),h.a.createElement(ra.a,{dialogClassName:"a11y__modal",className:"modal-confirm",show:this.props.show,onHide:this.props.onHide,id:"leaveTeamModal",role:"dialog","aria-labelledby":"leaveTeamModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!1},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"leaveTeamModalLabel"},h.a.createElement(q.a,{id:"leave_team_modal.title",defaultMessage:"Leave the team?"}))),h.a.createElement(ra.a.Body,null,s),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{type:"button",className:"btn btn-link",onClick:this.props.onHide,id:"leaveTeamNo"},h.a.createElement(q.a,{id:"leave_team_modal.no",defaultMessage:"No"})),h.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.handleSubmit,id:"leaveTeamYes"},h.a.createElement(q.a,{id:"leave_team_modal.yes",defaultMessage:"Yes"}))))}}Nu(Iu,"propTypes",{currentUser:u.a.any.isRequired,currentUserId:u.a.string.isRequired,currentTeamId:u.a.string.isRequired,publicChannels:u.a.arrayOf(u.a.any).isRequired,privateChannels:u.a.arrayOf(u.a.any).isRequired,onHide:u.a.func.isRequired,show:u.a.bool.isRequired,actions:u.a.shape({leaveTeam:u.a.func.isRequired,toggleSideBarRightMenu:u.a.func.isRequired}).isRequired});var Ru=Object(s.connect)((function(e){const t=fe.y.LEAVE_TEAM,a=Object(r.getCurrentUserId)(e),n=Object(o.getCurrentTeamId)(e),s=Object(B.getPrivateChannels)(e),i=Object(B.getPublicChannels)(e);return{currentUserId:a,currentTeamId:n,show:Object(Rm.a)(e,t),currentUser:Object(r.getCurrentUser)(e),privateChannels:s,publicChannels:i}}),(function(e){return{actions:Object(n.bindActionCreators)({leaveTeam:xt.removeUserFromTeam,toggleSideBarRightMenu:w.n},e)}}))(Iu),Au=a(1324),ju=a(1849);function xu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Lu extends h.a.PureComponent{constructor(e){super(e),xu(this,"handleTermChange",e=>{this.setState({term:e})}),xu(this,"nextPage",()=>{this.setState({page:this.state.page+1}),this.props.nextPage(this.state.page+1)}),xu(this,"previousPage",()=>{this.setState({page:this.state.page-1})}),xu(this,"search",e=>{this.props.search(e),""!==e&&this.setState({page:0})}),this.state={term:"",page:0}}render(){return h.a.createElement(ju.a,Object.assign({},this.props,{nextPage:this.nextPage,previousPage:this.previousPage,search:this.search,page:this.state.page,term:this.state.term,onTermChange:this.handleTermChange}))}}xu(Lu,"propTypes",{users:u.a.arrayOf(u.a.object),usersPerPage:u.a.number,total:u.a.number,extraInfo:u.a.object,nextPage:u.a.func.isRequired,search:u.a.func.isRequired,actions:u.a.arrayOf(u.a.func),actionProps:u.a.object,actionUserProps:u.a.object,focusOnMount:u.a.bool});var ku=a(1403);function Du(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Uu extends h.a.PureComponent{constructor(e){super(e),Du(this,"handleMakeMember",async()=>{const e=this.props.currentUser;if(this.props.user.id===e.id&&e.roles.includes("system_admin"))this.handleDemote(this.props.user,"team_user");else{const{error:t}=await this.props.actions.updateTeamMemberSchemeRoles(this.props.teamMember.team_id,this.props.user.id,!0,!1);t?this.setState({serverError:t.message}):(this.props.actions.getUser(this.props.user.id),this.props.actions.getTeamMember(this.props.teamMember.team_id,this.props.user.id),this.props.user.id===e.id&&(await this.props.actions.getMyTeamMembers(),this.props.actions.getMyTeamUnreads()))}}),Du(this,"handleRemoveFromTeam",async()=>{const{error:e}=await this.props.actions.removeUserFromTeamAndGetStats(this.props.teamMember.team_id,this.props.user.id);e&&this.setState({serverError:e.message})}),Du(this,"handleMakeAdmin",async()=>{const e=this.props.currentUser;if(this.props.user.id===e.id&&e.roles.includes("system_admin"))this.handleDemote(this.props.user,"team_user team_admin");else{const{error:e}=await this.props.actions.updateTeamMemberSchemeRoles(this.props.teamMember.team_id,this.props.user.id,!0,!0);e?this.setState({serverError:e.message}):(this.props.actions.getUser(this.props.user.id),this.props.actions.getTeamMember(this.props.teamMember.team_id,this.props.user.id))}}),Du(this,"handleDemote",(e,t)=>{this.setState({serverError:this.state.serverError,showDemoteModal:!0,user:e,role:t})}),Du(this,"handleDemoteCancel",()=>{this.setState({serverError:null,showDemoteModal:!1,user:null,role:null})}),Du(this,"handleDemoteSubmit",async()=>{const{error:e}=await this.props.actions.updateTeamMemberSchemeRoles(this.props.teamMember.team_id,this.props.user.id,!0,!1);e?this.setState({serverError:e.message}):(this.props.actions.getUser(this.props.user.id),N.a.push(this.props.teamUrl))}),this.state={serverError:null,showDemoteModal:!1,user:null,role:null}}render(){let e=null;this.state.serverError&&(e=h.a.createElement("div",{className:"has-error"},h.a.createElement("label",{className:"has-error control-label"},this.state.serverError)));const{currentTeam:t,teamMember:a,user:n}=this.props;let s=null;s=z.bb(n)?h.a.createElement(q.a,{id:"team_members_dropdown.guest",defaultMessage:"Guest"}):n.roles.length>0&&z.hb(n.roles)?h.a.createElement(q.a,{id:"team_members_dropdown.systemAdmin",defaultMessage:"System Admin"}):a.roles.length>0&&z.U(a.roles)||a.scheme_admin?h.a.createElement(q.a,{id:"team_members_dropdown.teamAdmin",defaultMessage:"Team Admin"}):h.a.createElement(q.a,{id:"team_members_dropdown.member",defaultMessage:"Member"});const i=this.props.currentUser;let r=!z.bb(n)&&(z.U(a.roles)||a.scheme_admin)&&!z.hb(n.roles),o=!(z.bb(n)||z.U(a.roles)||z.hb(n.roles)||a.scheme_admin);n.delete_at>0&&(s=h.a.createElement(q.a,{id:"team_members_dropdown.inactive",defaultMessage:"Inactive"}),r=!1,o=!1);const l=n.id!==i.id&&(!t.group_constrained||n.is_bot);let c=null;if(n.id===i.id){const t=h.a.createElement(q.a,{id:"team_members_dropdown.confirmDemoteRoleTitle",defaultMessage:"Confirm Demotion from System Admin Role"}),a=h.a.createElement("div",null,h.a.createElement(q.a,{id:"team_members_dropdown.confirmDemoteDescription",defaultMessage:"If you demote yourself from the System Admin role and there is not another user with System Admin privileges, you'll need to re-assign a System Admin by accessing the Mattermost server through a terminal and running the following command."}),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement(q.a,{id:"team_members_dropdown.confirmDemotionCmd",defaultMessage:"platform roles system_admin {username}",values:{username:i.username}}),e),n=h.a.createElement(q.a,{id:"team_members_dropdown.confirmDemotion",defaultMessage:"Confirm Demotion"});c=h.a.createElement(Ks.a,{show:this.state.showDemoteModal,title:t,message:a,confirmButtonText:n,onConfirm:this.handleDemoteSubmit,onCancel:this.handleDemoteCancel})}if(!l&&!o&&!r)return h.a.createElement("div",null,s);const{index:d,totalUsers:m}=this.props;let u=!1;return m>3&&m-d<=3&&(u=!0),h.a.createElement(ur.a,null,h.a.createElement("button",{id:"teamMembersDropdown_".concat(n.username),className:"dropdown-toggle theme color--link style--none",type:"button","aria-expanded":"true"},h.a.createElement("span",null,s," "),h.a.createElement(ku.a,null)),h.a.createElement("div",null,h.a.createElement(pr.a,{openLeft:!0,openUp:u,ariaLabel:z.ob("team_members_dropdown.menuAriaLabel","Change the role of a team member")},h.a.createElement(pr.a.ItemAction,{id:"removeFromTeam",show:l,onClick:this.handleRemoveFromTeam,text:z.ob("team_members_dropdown.leave_team","Remove From Team")}),h.a.createElement(pr.a.ItemAction,{show:o,onClick:this.handleMakeAdmin,text:z.ob("team_members_dropdown.makeAdmin","Make Team Admin")}),h.a.createElement(pr.a.ItemAction,{show:r,onClick:this.handleMakeMember,text:z.ob("team_members_dropdown.makeMember","Make Member")})),c,e))}}Du(Uu,"propTypes",{user:u.a.any.isRequired,currentUser:u.a.any.isRequired,teamMember:u.a.any.isRequired,teamUrl:u.a.string.isRequired,currentTeam:u.a.any.isRequired,index:u.a.number.isRequired,totalUsers:u.a.number.isRequired,actions:u.a.shape({getMyTeamMembers:u.a.func.isRequired,getMyTeamUnreads:u.a.func.isRequired,getUser:u.a.func.isRequired,getTeamMember:u.a.func.isRequired,getTeamStats:u.a.func.isRequired,getChannelStats:u.a.func.isRequired,updateTeamMemberSchemeRoles:u.a.func.isRequired,updateUserActive:u.a.func.isRequired,removeUserFromTeamAndGetStats:u.a.func.isRequired}).isRequired});var qu=Object(s.connect)((function(e){return{currentUser:Object(r.getCurrentUser)(e),teamUrl:Object(o.getCurrentRelativeTeamUrl)(e),currentTeam:Object(o.getCurrentTeam)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({getMyTeamMembers:xt.getMyTeamMembers,getMyTeamUnreads:xt.getMyTeamUnreads,getUser:Y.getUser,getTeamMember:xt.getTeamMember,getTeamStats:xt.getTeamStats,getChannelStats:ge.getChannelStats,updateUserActive:Y.updateUserActive,updateTeamMemberSchemeRoles:xt.updateTeamMemberSchemeRoles,removeUserFromTeamAndGetStats:qt.d},e)}}))(Uu);function Hu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Fu extends h.a.PureComponent{constructor(e){super(e),Hu(this,"searchTimeoutId",void 0),Hu(this,"loadComplete",()=>{this.setState({loading:!1})}),Hu(this,"nextPage",async e=>{this.setState({loading:!0}),await Promise.all([this.props.actions.loadProfilesAndTeamMembers(e,50,this.props.currentTeamId,{active:!0}),this.props.actions.getTeamMembers(this.props.currentTeamId,e,fe.Z.DEFAULT_MAX_USERS_PER_TEAM,{sort:W.Teams.SORT_USERNAME_OPTION,exclude_deleted_users:!0})]),this.loadComplete()}),Hu(this,"search",e=>{this.props.actions.setModalSearchTerm(e)}),this.searchTimeoutId=0,this.state={loading:!0}}async componentDidMount(){await Promise.all([this.props.actions.loadProfilesAndTeamMembers(0,fe.Z.PROFILE_CHUNK_SIZE,this.props.currentTeamId,{active:!0}),this.props.actions.getTeamMembers(this.props.currentTeamId,0,fe.Z.DEFAULT_MAX_USERS_PER_TEAM,{sort:W.Teams.SORT_USERNAME_OPTION,exclude_deleted_users:!0}),this.props.actions.getTeamStats(this.props.currentTeamId)]),this.loadComplete()}componentWillUnmount(){this.props.actions.setModalSearchTerm("")}componentDidUpdate(e){if(e.searchTerm!==this.props.searchTerm){clearTimeout(this.searchTimeoutId);const e=this.props.searchTerm;if(""===e)return this.loadComplete(),void(this.searchTimeoutId=0);const t=window.setTimeout(async()=>{const{loadStatusesForProfilesList:a,loadTeamMembersForProfilesList:n,searchProfiles:s}=this.props.actions,{data:i}=await s(e,{team_id:this.props.currentTeamId});t===this.searchTimeoutId&&(this.setState({loading:!0}),a(i),n(i,this.props.currentTeamId,!0).then(({data:e})=>{e&&this.loadComplete()}))},fe.Z.SEARCH_TIMEOUT_MILLISECONDS);this.searchTimeoutId=t}}render(){let e=null;this.props.canManageTeamMembers&&(e=[qu]);const t=this.props.teamMembers,a=this.props.users,n={};let s;if(this.state.loading)s=null;else{s=[];for(let e=0;e<a.length;e++){const i=a[e];t[i.id]&&0===i.delete_at&&(s.push(i),n[i.id]={teamMember:t[i.id]})}}return h.a.createElement(Lu,{users:s,usersPerPage:50,total:this.props.totalTeamMembers,nextPage:this.nextPage,search:this.search,actions:e,actionUserProps:n,focusOnMount:!y.p()})}}Hu(Fu,"propTypes",{searchTerm:u.a.string.isRequired,users:u.a.any.isRequired,teamMembers:u.a.objectOf(u.a.any).isRequired,currentTeamId:u.a.string.isRequired,totalTeamMembers:u.a.number.isRequired,canManageTeamMembers:u.a.bool,actions:u.a.shape({getTeamMembers:u.a.func.isRequired,searchProfiles:u.a.func.isRequired,getTeamStats:u.a.func.isRequired,loadProfilesAndTeamMembers:u.a.func.isRequired,loadStatusesForProfilesList:u.a.func.isRequired,loadTeamMembersForProfilesList:u.a.func.isRequired,setModalSearchTerm:u.a.func.isRequired}).isRequired});var Bu=Object(s.connect)((function(e,t){const a=Object(A.haveITeamPermission)(e,{team:t.teamId,permission:W.Permissions.MANAGE_TEAM_ROLES}),n=e.views.search.modalSearch;let s;s=n?Object(r.searchProfilesInCurrentTeam)(e,n):Object(r.getProfilesInCurrentTeam)(e);const i=Object(o.getCurrentTeamStats)(e)||{active_member_count:0};return{searchTerm:n,users:s,teamMembers:Object(o.getMembersInCurrentTeam)(e)||{},currentTeamId:e.entities.teams.currentTeamId,totalTeamMembers:i.active_member_count,canManageTeamMembers:a}}),(function(e){return{actions:Object(n.bindActionCreators)({searchProfiles:Y.searchProfiles,getTeamStats:xt.getTeamStats,getTeamMembers:xt.getTeamMembers,loadProfilesAndTeamMembers:$s.j,loadStatusesForProfilesList:Ut.b,loadTeamMembersForProfilesList:$s.p,setModalSearchTerm:Au.b},e)}}))(Fu);function Gu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Vu extends h.a.PureComponent{constructor(e){super(e),Gu(this,"handleHide",()=>{this.setState({show:!1})}),Gu(this,"handleExit",()=>{this.props.onHide()}),Gu(this,"handleInvitePeople",()=>{const{actions:e}=this.props;e.openModal({modalId:fe.y.INVITATION,dialogType:Cu}),this.handleExit()}),this.state={show:!0}}componentDidMount(){this.props.onLoad&&this.props.onLoad()}render(){let e="";return this.props.currentTeam&&(e=this.props.currentTeam.display_name),h.a.createElement(ra.a,{dialogClassName:"a11y__modal more-modal",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,role:"dialog","aria-labelledby":"teamMemberModalLabel",id:"teamMembersModal"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"teamMemberModalLabel"},h.a.createElement(q.a,{id:"team_member_modal.members",defaultMessage:"{team} Members",values:{team:e}})),h.a.createElement(Su.a,{teamId:this.props.currentTeam.id,permissions:[x.a.ADD_USER_TO_TEAM,x.a.INVITE_GUEST]},h.a.createElement("button",{id:"invitePeople",type:"button",className:"btn btn-primary invite-people-btn",onClick:this.handleInvitePeople},h.a.createElement(q.a,{id:"team_member_modal.invitePeople",defaultMessage:"Invite People"})))),h.a.createElement(ra.a.Body,null,h.a.createElement(Bu,{teamId:this.props.currentTeam.id})))}}Gu(Vu,"propTypes",{currentTeam:u.a.shape({id:u.a.string.isRequired,display_name:u.a.string.isRequired}).isRequired,onHide:u.a.func.isRequired,onLoad:u.a.func,actions:u.a.shape({openModal:u.a.func.isRequired}).isRequired});var Wu=Object(s.connect)((function(e){const t=fe.y.TEAM_MEMBERS;return{currentTeam:Object(o.getCurrentTeam)(e),show:Object(Rm.a)(e,t)}}),(function(e){return{actions:Object(n.bindActionCreators)({openModal:_t.b},e)}}))(Vu),zu=a(1302),Yu=a(1320),Ku=a(1746),Zu=a(1429);function Ju(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ju(Object(a),!0).forEach((function(t){Qu(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ju(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Qu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const $u=["image/jpeg","image/png","image/bmp"];class ep extends h.a.PureComponent{constructor(e){super(e),Qu(this,"updateSection",e=>{this.setState(this.setupInitialState(this.props)),this.props.updateSection(e)}),Qu(this,"handleOpenInviteRadio",e=>{this.setState({allow_open_invite:e})}),Qu(this,"handleAllowedDomainsSubmit",async()=>{var e={serverError:"",clientError:""},t=Xu({},this.props.team);t.allowed_domains=this.state.allowed_domains;const{error:a}=await this.props.actions.patchTeam(t);a?(e.serverError=a.message,this.setState(e)):this.updateSection("")}),Qu(this,"handleOpenInviteSubmit",async()=>{var e={serverError:"",clientError:""},t=Xu({},this.props.team);t.allow_open_invite=this.state.allow_open_invite;const{error:a}=await this.props.actions.patchTeam(t);a?(e.serverError=a.message,this.setState(e)):this.updateSection("")}),Qu(this,"handleNameSubmit",async()=>{var e={serverError:"",clientError:""};let t=!0;const a=this.state.name.trim();if(a?a.length<fe.Z.MIN_TEAMNAME_LENGTH?(e.clientError=h.a.createElement(q.a,{id:"general_tab.teamNameRestrictions",defaultMessage:"Team Name must be {min} or more characters up to a maximum of {max}. You can add a longer team description.",values:{min:fe.Z.MIN_TEAMNAME_LENGTH,max:fe.Z.MAX_TEAMNAME_LENGTH}}),t=!1):e.clientError="":(e.clientError=z.ob("general_tab.required","This field is required"),t=!1),this.setState(e),!t)return;var n=Xu({},this.props.team);n.display_name=this.state.name;const{error:s}=await this.props.actions.patchTeam(n);s?(e.serverError=s.message,this.setState(e)):this.updateSection("")}),Qu(this,"handleInviteIdSubmit",async()=>{const e={serverError:"",clientError:""};this.setState(e);const{error:t}=await this.props.actions.regenerateTeamInviteId(this.props.team.id);t?(e.serverError=t.message,this.setState(e)):this.updateSection("")}),Qu(this,"handleClose",()=>{this.updateSection("")}),Qu(this,"handleDescriptionSubmit",async()=>{var e={serverError:"",clientError:""};let t=!0;if(this.state.description.trim()===this.props.team.description?(e.clientError=z.ob("general_tab.chooseDescription","Please choose a new description for your team"),t=!1):e.clientError="",this.setState(e),!t)return;var a=Xu({},this.props.team);a.description=this.state.description;const{error:n}=await this.props.actions.patchTeam(a);n?(e.serverError=n.message,this.setState(e)):this.updateSection("")}),Qu(this,"handleTeamIconSubmit",async()=>{if(!this.state.teamIconFile)return;if(!this.state.submitActive)return;this.setState({loadingIcon:!0,clientError:"",serverError:""});const{error:e}=await this.props.actions.setTeamIcon(this.props.team.id,this.state.teamIconFile);e?this.setState({loadingIcon:!1,serverError:e.message}):(this.setState({loadingIcon:!1,submitActive:!1}),this.updateSection(""))}),Qu(this,"handleTeamIconRemove",async()=>{this.setState({loadingIcon:!0,clientError:"",serverError:""});const{error:e}=await this.props.actions.removeTeamIcon(this.props.team.id);e?this.setState({loadingIcon:!1,serverError:e.message}):(this.setState({loadingIcon:!1,submitActive:!1}),this.updateSection(""))}),Qu(this,"handleUpdateSection",e=>{"invite_id"!==e||this.props.activeSection===e||this.props.team.invite_id?this.updateSection(e):this.setState({shouldFetchTeam:!0},()=>{this.updateSection(e)})}),Qu(this,"updateName",e=>{this.setState({name:e.target.value})}),Qu(this,"updateDescription",e=>{this.setState({description:e.target.value})}),Qu(this,"updateTeamIcon",e=>{if(e&&e.target&&e.target.files&&e.target.files[0]){const t=e.target.files[0];$u.includes(t.type)?t.size>this.props.maxFileSize?this.setState({clientError:z.ob("general_tab.teamIconTooLarge","Unable to upload team icon. File is too large.")}):this.setState({teamIconFile:e.target.files[0],clientError:"",submitActive:!0}):this.setState({clientError:z.ob("general_tab.teamIconInvalidFileType","Only BMP, JPG or PNG images may be used for team icons")})}else this.setState({teamIconFile:null,clientError:z.ob("general_tab.teamIconError","An error occurred while selecting the image.")})}),Qu(this,"updateAllowedDomains",e=>{this.setState({allowed_domains:e.target.value})}),this.state=this.setupInitialState(e)}setupInitialState(e){const t=e.team;return{name:t.display_name,invite_id:t.invite_id,allow_open_invite:t.allow_open_invite,description:t.description,allowed_domains:t.allowed_domains,serverError:"",clientError:"",teamIconFile:null,loadingIcon:!1,submitActive:!1,isInitialState:!0}}static getDerivedStateFromProps(e,t){const{team:a}=e;return t.isInitialState?null:{name:a.display_name,description:a.description,allowed_domains:a.allowed_domains,invite_id:a.invite_id,allow_open_invite:a.allow_open_invite,isInitialState:!1}}componentDidUpdate(e,t){!t.shouldFetchTeam&&this.state.shouldFetchTeam&&this.fetchTeam()}fetchTeam(){this.state.serverError||this.props.actions.getTeam(this.props.team.id).then(({error:e})=>{const t={shouldFetchTeam:!1};e&&(t.serverError=e.message),this.setState(t)})}componentDidMount(){Ci()("#team_settings").on("hidden.bs.modal",this.handleClose)}componentWillUnmount(){Ci()("#team_settings").off("hidden.bs.modal",this.handleClose)}render(){const e=this.props.team;let t,a,n,s,i,r,o=null,l=null;if(this.state.clientError&&(o=this.state.clientError),this.state.serverError&&(l=this.state.serverError),"open_invite"===this.props.activeSection){let a;a=e.group_constrained?[h.a.createElement("div",{key:"userOpenInviteOptions"},h.a.createElement("div",null,h.a.createElement(Pr.b,{id:"team_settings.openInviteDescription.groupConstrained",defaultMessage:"No, members of this team are added and removed by linked groups. [Learn More](!https://mattermost.com/pl/default-ldap-group-constrained-team-channel.html)"})))]:[h.a.createElement("fieldset",{key:"userOpenInviteOptions"},h.a.createElement("legend",{className:"form-legend hidden-label"},h.a.createElement(q.a,{id:"team_settings.openInviteDescription.ariaLabel",defaultMessage:"Invite Code"})),h.a.createElement("div",{className:"radio"},h.a.createElement("label",null,h.a.createElement("input",{id:"teamOpenInvite",name:"userOpenInviteOptions",type:"radio",defaultChecked:this.state.allow_open_invite,onChange:this.handleOpenInviteRadio.bind(this,!0)}),h.a.createElement(q.a,{id:"general_tab.yes",defaultMessage:"Yes"})),h.a.createElement("br",null)),h.a.createElement("div",{className:"radio"},h.a.createElement("label",null,h.a.createElement("input",{id:"teamOpenInviteNo",name:"userOpenInviteOptions",type:"radio",defaultChecked:!this.state.allow_open_invite,onChange:this.handleOpenInviteRadio.bind(this,!1)}),h.a.createElement(q.a,{id:"general_tab.no",defaultMessage:"No"})),h.a.createElement("br",null)),h.a.createElement("div",{className:"mt-5"},h.a.createElement(q.a,{id:"general_tab.openInviteDesc",defaultMessage:'When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team. Changing from "Yes" to "No" will regenerate the  invitation code, create a new invitation link and invalidate the previous link.'})))],t=h.a.createElement(zu.a,{title:z.ob("general_tab.openInviteTitle","Allow any user with an account on this server to join this team"),inputs:a,submit:this.handleOpenInviteSubmit,serverError:l,updateSection:this.handleUpdateSection})}else{let a="";a=!0===this.state.allow_open_invite?z.ob("general_tab.yes","Yes"):e.group_constrained?z.ob("team_settings.openInviteSetting.groupConstrained","No, members of this team are added and removed by linked groups."):z.ob("general_tab.no","No"),t=h.a.createElement(Yu.a,{title:z.ob("general_tab.openInviteTitle","Allow any user with an account on this server to join this team"),describe:a,updateSection:this.handleUpdateSection,section:"open_invite"})}if("invite_id"===this.props.activeSection&&this.props.canInviteTeamMembers){const e=[];e.push(h.a.createElement("div",{key:"teamInviteSetting"},h.a.createElement("div",{className:"row"},h.a.createElement("label",{className:"col-sm-5 control-label visible-xs-block"}),h.a.createElement("div",{className:"col-sm-12"},h.a.createElement("input",{id:"teamInviteId",autoFocus:!0,className:"form-control",type:"text",value:this.state.invite_id,maxLength:"32",onFocus:z.qb,readOnly:!0}))),h.a.createElement("div",{className:"setting-list__hint"},h.a.createElement(q.a,{id:"general_tab.codeLongDesc",defaultMessage:"The Invite Code is part of the unique team invitation link which is sent to members you’re inviting to this team. Regenerating the code creates a new invitation link and invalidates the previous link.",values:{getTeamInviteLink:h.a.createElement("strong",null,h.a.createElement(q.a,{id:"general_tab.getTeamInviteLink",defaultMessage:"Get Team Invite Link"}))}})))),a=h.a.createElement(zu.a,{title:z.ob("general_tab.codeTitle","Invite Code"),inputs:e,submit:this.handleInviteIdSubmit,serverError:l,clientError:o,updateSection:this.handleUpdateSection,saveButtonText:z.ob("general_tab.regenerate","Regenerate")})}else this.props.canInviteTeamMembers&&(a=h.a.createElement(Yu.a,{title:z.ob("general_tab.codeTitle","Invite Code"),describe:z.ob("general_tab.codeDesc","Click 'Edit' to regenerate Invite Code."),updateSection:this.handleUpdateSection,section:"invite_id"}));if("name"===this.props.activeSection){const e=[];let t=h.a.createElement(q.a,{id:"general_tab.teamName",defaultMessage:"Team Name"});z.fb()&&(t=""),e.push(h.a.createElement("div",{key:"teamNameSetting",className:"form-group"},h.a.createElement("label",{className:"col-sm-5 control-label"},t),h.a.createElement("div",{className:"col-sm-7"},h.a.createElement("input",{id:"teamName",autoFocus:!0,className:"form-control",type:"text",maxLength:fe.Z.MAX_TEAMNAME_LENGTH.toString(),onChange:this.updateName,value:this.state.name,onFocus:z.qb}))));const a=h.a.createElement("span",null,z.ob("general_tab.teamNameInfo","Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar."));n=h.a.createElement(zu.a,{title:z.ob("general_tab.teamName","Team Name"),inputs:e,submit:this.handleNameSubmit,serverError:l,clientError:o,updateSection:this.handleUpdateSection,extraInfo:a})}else{var c=this.state.name;n=h.a.createElement(Yu.a,{title:z.ob("general_tab.teamName","Team Name"),describe:c,updateSection:this.handleUpdateSection,section:"name"})}if("description"===this.props.activeSection){const e=[];let t=h.a.createElement(q.a,{id:"general_tab.teamDescription",defaultMessage:"Team Description"});z.fb()&&(t=""),e.push(h.a.createElement("div",{key:"teamDescriptionSetting",className:"form-group"},h.a.createElement("label",{className:"col-sm-5 control-label"},t),h.a.createElement("div",{className:"col-sm-7"},h.a.createElement("input",{id:"teamDescription",autoFocus:!0,className:"form-control",type:"text",maxLength:fe.Z.MAX_TEAMDESCRIPTION_LENGTH.toString(),onChange:this.updateDescription,value:this.state.description,onFocus:z.qb}))));const a=h.a.createElement("span",null,z.ob("general_tab.teamDescriptionInfo","Team description provides additional information to help users select the right team. Maximum of 50 characters."));s=h.a.createElement(zu.a,{title:z.ob("general_tab.teamDescription","Team Description"),inputs:e,submit:this.handleDescriptionSubmit,serverError:l,clientError:o,updateSection:this.handleUpdateSection,extraInfo:a})}else{let e="";e=this.state.description?this.state.description:h.a.createElement(q.a,{id:"general_tab.emptyDescription",defaultMessage:"Click 'Edit' to add a team description."}),s=h.a.createElement(Yu.a,{title:z.ob("general_tab.teamDescription","Team Description"),describe:e,updateSection:this.handleUpdateSection,section:"description"})}if("team_icon"===this.props.activeSection){const t=h.a.createElement(Pr.b,{id:"setting_picture.help.team",defaultMessage:"Upload a team icon in BMP, JPG or PNG format.\\nSquare images with a solid background color are recommended."});i=h.a.createElement(Ku.a,{imageContext:"team",title:z.ob("general_tab.teamIcon","Team Icon"),src:z.Q(e),file:this.state.teamIconFile,serverError:this.state.serverError,clientError:this.state.clientError,loadingPicture:this.state.loadingIcon,submitActive:this.state.submitActive,updateSection:e=>{this.updateSection(""),e.preventDefault()},onFileChange:this.updateTeamIcon,onSubmit:this.handleTeamIconSubmit,onRemove:this.handleTeamIconRemove,helpText:t})}else{let t;t=e.last_team_icon_update?h.a.createElement(q.a,{id:"general_tab.teamIconLastUpdated",defaultMessage:"Image last updated {date}",values:{date:h.a.createElement(ii.a,{value:new Date(e.last_team_icon_update),day:"2-digit",month:"short",year:"numeric"})}}):z.fb()?z.ob("general_tab.teamIconEditHintMobile","Click to upload an image"):z.ob("general_tab.teamIconEditHint","Click 'Edit' to upload an image."),i=h.a.createElement(Yu.a,{title:z.ob("general_tab.teamIcon","Team Icon"),describe:t,section:"team_icon",updateSection:this.handleUpdateSection})}if("allowed_domains"===this.props.activeSection){const e=[];e.push(h.a.createElement("div",{key:"allowedDomainsSetting",className:"form-group"},h.a.createElement("div",{className:"col-sm-12"},h.a.createElement(Na.a,{id:"allowedDomains",autoFocus:!0,className:"form-control",type:"text",onChange:this.updateAllowedDomains,value:this.state.allowed_domains,onFocus:z.qb,placeholder:{id:Object(J.b)("general_tab.AllowedDomainsExample"),defaultMessage:"corp.mattermost.com, mattermost.org"},"aria-label":z.ob("general_tab.allowedDomains.ariaLabel","Allowed Domains")}))));const t=h.a.createElement("span",null,z.ob("general_tab.AllowedDomainsInfo",'Users can only join the team if their email matches a specific domain (e.g. "mattermost.org") or list of comma-separated domains (e.g. "corp.mattermost.com, mattermost.org").'));r=h.a.createElement(zu.a,{title:z.ob("general_tab.allowedDomains","Allow only users with a specific email domain to join this team"),inputs:e,submit:this.handleAllowedDomainsSubmit,serverError:l,clientError:o,updateSection:this.handleUpdateSection,extraInfo:t})}else{let e="";e=this.state.allowed_domains?this.state.allowed_domains:h.a.createElement(q.a,{id:"general_tab.allowedDomainsEdit",defaultMessage:"Click 'Edit' to add an email domain whitelist."}),r=h.a.createElement(Yu.a,{title:z.ob("general_tab.allowedDomains","allowedDomains"),describe:e,updateSection:this.handleUpdateSection,section:"allowed_domains"})}return h.a.createElement("div",null,h.a.createElement("div",{className:"modal-header"},h.a.createElement("button",{id:"closeButton",type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.props.closeModal},h.a.createElement("span",{"aria-hidden":"true"},"×")),h.a.createElement("h4",{className:"modal-title",ref:"title"},h.a.createElement("div",{className:"modal-back"},h.a.createElement("span",{onClick:this.props.collapseModal},h.a.createElement(Zu.a,null))),h.a.createElement(q.a,{id:"general_tab.title",defaultMessage:"General Settings"}))),h.a.createElement("div",{ref:"wrapper",className:"user-settings"},h.a.createElement("h3",{className:"tab-header"},h.a.createElement(q.a,{id:"general_tab.title",defaultMessage:"General Settings"})),h.a.createElement("div",{className:"divider-dark first"}),n,h.a.createElement("div",{className:"divider-light"}),s,h.a.createElement("div",{className:"divider-light"}),i,!e.group_constrained&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"divider-light"}),r),h.a.createElement("div",{className:"divider-light"}),t,!e.group_constrained&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"divider-light"}),a),h.a.createElement("div",{className:"divider-dark"})))}}Qu(ep,"propTypes",{updateSection:u.a.func.isRequired,team:u.a.object.isRequired,activeSection:u.a.string.isRequired,closeModal:u.a.func.isRequired,collapseModal:u.a.func.isRequired,maxFileSize:u.a.number.isRequired,actions:u.a.shape({getTeam:u.a.func.isRequired,patchTeam:u.a.func.isRequired,regenerateTeamInviteId:u.a.func.isRequired,removeTeamIcon:u.a.func.isRequired,setTeamIcon:u.a.func.isRequired}).isRequired,canInviteTeamMembers:u.a.bool.isRequired});var tp=Object(s.connect)((function(e,t){const a=Object(i.getConfig)(e);return{maxFileSize:parseInt(a.MaxFileSize,10),canInviteTeamMembers:Object(A.haveITeamPermission)(e,{team:t.team.id,permission:W.Permissions.INVITE_USER})}}),(function(e){return{actions:Object(n.bindActionCreators)({getTeam:xt.getTeam,patchTeam:xt.patchTeam,regenerateTeamInviteId:xt.regenerateTeamInviteId,removeTeamIcon:xt.removeTeamIcon,setTeamIcon:xt.setTeamIcon},e)}}))(ep);function ap(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class np extends h.a.PureComponent{constructor(e){super(e),ap(this,"doFileSelect",e=>{e.preventDefault();let t=e.target.value;"fakepath"===t.substring(3,11)&&(t=t.substring(12)),this.setState({clientError:"",serverError:"",filename:t})}),ap(this,"openFileSelect",()=>{this.uploadinput.current.value="",this.uploadinput.current.click()}),ap(this,"doSubmit",e=>{e.preventDefault();const t=this.uploadinput.current;t.files&&t.files[0]?this.props.submit(t.files[0]):this.setState({clientError:!0})}),this.uploadinput=h.a.createRef(),this.state={clientError:"",serverError:"",filename:""}}render(){let e=null;this.state.clientError&&(e=h.a.createElement("div",{className:"file-status"},h.a.createElement(q.a,{id:"setting_upload.noFile",defaultMessage:"No file selected."})));let t=null;this.state.serverError&&(t=h.a.createElement("div",{className:"file-status"},this.state.serverError));let a=null,n="btn btn-sm btn-primary disabled";return this.state.filename&&(a=h.a.createElement("div",{className:"file-status file-name"},this.state.filename),n="btn btn-sm btn-primary"),h.a.createElement("ul",{className:"section-max"},h.a.createElement("li",{className:"col-sm-12 section-title"},this.props.title),h.a.createElement("li",{className:"col-sm-offset-3 col-sm-9"},this.props.helpText),h.a.createElement("li",{className:"col-sm-offset-3 col-sm-9"},h.a.createElement("ul",{className:"setting-list"},h.a.createElement("li",{className:"setting-list-item"},h.a.createElement("input",{ref:this.uploadinput,accept:this.props.fileTypesAccepted,type:"file",onChange:this.doFileSelect,tabIndex:"-1","aria-hidden":!0}),h.a.createElement("button",{onClick:this.openFileSelect,className:"btn btn-sm btn-primary btn-file sel-btn"},h.a.createElement(q.a,{id:"setting_upload.select",defaultMessage:"Select file"})),h.a.createElement("a",{className:n,onClick:this.doSubmit},h.a.createElement(q.a,{id:"setting_upload.import",defaultMessage:"Import"})),a,t,e))))}}np.propTypes={title:u.a.node.isRequired,submit:u.a.func.isRequired,fileTypesAccepted:u.a.string.isRequired,helpText:u.a.object};var sp=a(1339);function ip(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const rp=Object(ii.d)({importSlack:{id:Object(J.b)("team_import_tab.importSlack"),defaultMessage:"Import from Slack (Beta)"}});class op extends h.a.PureComponent{constructor(e){super(e),ip(this,"onImportFailure",()=>{this.setState({status:"fail"})}),ip(this,"onImportSuccess",e=>{this.setState({status:"done",link:"data:application/octet-stream;charset=utf-8,"+encodeURIComponent(atob(e.results))})}),ip(this,"doImportSlack",e=>{this.setState({status:"in-progress",link:""}),z.S(this.props.team.id,e,this.onImportSuccess,this.onImportFailure)}),this.state={status:"ready",link:""}}render(){const e=h.a.createElement("a",{href:"https://docs.mattermost.com/administration/migrating.html#migrating-from-slack",target:"_blank",rel:"noopener noreferrer"},h.a.createElement(q.a,{id:"team_import_tab.importHelpDocsLink",defaultMessage:"documentation"})),t=h.a.createElement("strong",null,h.a.createElement(q.a,{id:"team_import_tab.importHelpExportInstructions",defaultMessage:"Slack > Administration > Workspace settings > Import/Export Data > Export > Start Export"})),a=h.a.createElement("a",{href:"https://github.com/grundleborg/slack-advanced-exporter",target:"_blank",rel:"noopener noreferrer"},h.a.createElement(q.a,{id:"team_import_tab.importHelpExporterLink",defaultMessage:"Slack Advanced Exporter"})),n=h.a.createElement("a",{href:"https://docs.mattermost.com/administration/migrating.html#migrating-from-slack-using-the-mattermost-cli",target:"_blank",rel:"noopener noreferrer"},h.a.createElement(q.a,{id:"team_import_tab.importHelpCliDocsLink",defaultMessage:"CLI tool for Slack import"})),s=h.a.createElement("div",null,h.a.createElement("p",null,h.a.createElement(q.a,{id:"team_import_tab.importHelpLine1",defaultMessage:"Slack import to Mattermost supports importing of messages in your Slack team's public channels."})),h.a.createElement("p",null,h.a.createElement(q.a,{id:"team_import_tab.importHelpLine2",defaultMessage:"To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.",values:{exportInstructions:t,uploadDocsLink:e}})),h.a.createElement("p",null,h.a.createElement(q.a,{id:"team_import_tab.importHelpLine3",defaultMessage:"To import posts with attached files, see {slackAdvancedExporterLink} for details.",values:{slackAdvancedExporterLink:a}})),h.a.createElement("p",null,h.a.createElement(q.a,{id:"team_import_tab.importHelpLine4",defaultMessage:"For Slack teams with over 10,000 messages, we recommend using the {cliLink}.",values:{cliLink:n}}))),i=h.a.createElement(np,{title:h.a.createElement(q.a,rp.importSlack),submit:this.doImportSlack,helpText:s,fileTypesAccepted:".zip"});let r;switch(this.state.status){case"ready":r="";break;case"in-progress":r=h.a.createElement("p",{className:"confirm-import alert alert-warning"},h.a.createElement(zc.a,{text:z.ob("team_import_tab.importing","Importing...")}));break;case"done":r=h.a.createElement("p",{className:"confirm-import alert alert-success"},h.a.createElement(Bs.a,null),h.a.createElement(q.a,{id:"team_import_tab.successful",defaultMessage:" Import successful: "}),h.a.createElement("a",{href:this.state.link,download:"MattermostImportSummary.txt"},h.a.createElement(q.a,{id:"team_import_tab.summary",defaultMessage:"View Summary"})));break;case"fail":r=h.a.createElement("p",{className:"confirm-import alert alert-warning"},h.a.createElement(sp.a,null),h.a.createElement(q.a,{id:"team_import_tab.failure",defaultMessage:" Import failure: "}),h.a.createElement("a",{href:this.state.link,download:"MattermostImportSummary.txt"},h.a.createElement(q.a,{id:"team_import_tab.summary",defaultMessage:"View Summary"})))}return h.a.createElement("div",null,h.a.createElement("div",{className:"modal-header"},h.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.props.closeModal},h.a.createElement("span",{"aria-hidden":"true"},"×")),h.a.createElement("h4",{className:"modal-title",ref:"title"},h.a.createElement("div",{className:"modal-back"},h.a.createElement("span",{onClick:this.props.collapseModal},h.a.createElement(Zu.a,null))),h.a.createElement(q.a,{id:"team_import_tab.import",defaultMessage:"Import"}))),h.a.createElement("div",{ref:"wrapper",className:"user-settings"},h.a.createElement("h3",{className:"tab-header"},h.a.createElement(q.a,{id:"team_import_tab.import",defaultMessage:"Import"})),h.a.createElement("div",{className:"divider-dark first"}),i,h.a.createElement("div",{className:"divider-dark"}),r))}}ip(op,"propTypes",{closeModal:u.a.func.isRequired,collapseModal:u.a.func.isRequired}),op.propTypes={closeModal:u.a.func.isRequired,collapseModal:u.a.func.isRequired,team:u.a.object.isRequired};var lp=Object(Z.c)(op);const cp=({activeTab:e,activeSection:t,updateSection:a,closeModal:n,collapseModal:s,team:i})=>{if(!i)return null;let r;switch(e){case"general":r=h.a.createElement("div",null,h.a.createElement(tp,{team:i,activeSection:t,updateSection:a,closeModal:n,collapseModal:s}));break;case"import":r=h.a.createElement("div",null,h.a.createElement(lp,{team:i,activeSection:t,updateSection:a,closeModal:n,collapseModal:s}));break;default:r=h.a.createElement("div",null)}return r};cp.defaultProps={activeTab:"",activeSection:""},cp.propTypes={activeTab:u.a.string.isRequired,activeSection:u.a.string.isRequired,updateSection:u.a.func.isRequired,closeModal:u.a.func.isRequired,collapseModal:u.a.func.isRequired,team:u.a.object};var dp=cp;var mp=Object(s.connect)((function(e){return{team:Object(o.getCurrentTeam)(e)}}))(dp);function up(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const pp=h.a.lazy(()=>a.e(3).then(a.bind(null,2428)));class hp extends h.a.PureComponent{constructor(e){super(e),up(this,"modalBodyRef",void 0),up(this,"updateTab",e=>{this.setState({activeTab:e,activeSection:""})}),up(this,"updateSection",e=>{this.setState({activeSection:e})}),up(this,"collapseModal",()=>{const e=mr.a.findDOMNode(this.modalBodyRef.current);Ci()(e).closest(".modal-dialog").removeClass("display--content"),this.setState({activeTab:"",activeSection:""})}),up(this,"handleHide",()=>{this.setState({show:!1})}),up(this,"handleHidden",()=>{this.setState({activeTab:"general",activeSection:""}),this.props.onHide()}),this.state={activeTab:"general",activeSection:"",show:!0},this.modalBodyRef=h.a.createRef()}render(){const e=[];return e.push({name:"general",uiName:z.ob("team_settings_modal.generalTab","General"),icon:"icon fa fa-cog",iconTitle:z.ob("generic_icons.settings","Settings Icon")}),this.props.isCloud||e.push({name:"import",uiName:z.ob("team_settings_modal.importTab","Import"),icon:"icon fa fa-upload",iconTitle:z.ob("generic_icons.upload","Upload Icon")}),h.a.createElement(ra.a,{dialogClassName:"a11y__modal settings-modal settings-modal--action",show:this.state.show,onHide:this.handleHide,onExited:this.handleHidden,role:"dialog","aria-labelledby":"teamSettingsModalLabel",id:"teamSettingsModal"},h.a.createElement(ra.a.Header,{id:"teamSettingsModalLabel",closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1"},h.a.createElement(q.a,{id:"team_settings_modal.title",defaultMessage:"Team Settings"}))),h.a.createElement(ra.a.Body,{ref:this.modalBodyRef},h.a.createElement("div",{className:"settings-table"},h.a.createElement("div",{className:"settings-links"},h.a.createElement(h.a.Suspense,{fallback:null},h.a.createElement(pp,{tabs:e,activeTab:this.state.activeTab,updateTab:this.updateTab}))),h.a.createElement("div",{className:"settings-content minimize-settings"},h.a.createElement(mp,{activeTab:this.state.activeTab,activeSection:this.state.activeSection,updateSection:this.updateSection,closeModal:this.handleHide,collapseModal:this.collapseModal})))))}}up(hp,"propTypes",{onHide:u.a.func.isRequired,isCloud:u.a.bool});var gp=Object(s.connect)((function(e){const t=fe.y.TEAM_SETTINGS;return{show:Object(Rm.a)(e,t),isCloud:"true"===Object(i.getLicense)(e).Cloud}}))(hp),bp=a(1850),fp=a(1501);const _p=e=>e.views.marketplace.plugins,Cp=e=>Object.values(_p(e)).filter(e=>""!==e.installed_version);function yp(e=!1){return async(t,a)=>{const n=(e=>e.views.marketplace.filter)(a());try{const a=await d.Client4.getMarketplacePlugins(n,e);return t({type:fe.f.RECEIVED_MARKETPLACE_PLUGINS,plugins:a}),{plugins:a}}catch(a){return"app.plugin.marketplace_client.failed_to_fetch"!==a.server_error_id||e||await t(yp(!0)),{error:a}}}}function Ep(e,t){return async(a,n)=>{a({type:fe.f.INSTALLING_MARKETPLACE_PLUGIN,id:e});if(((e,t)=>_p(e).find(e=>e.manifest&&e.manifest.id===t))(n(),e)){try{await d.Client4.installMarketplacePlugin(e,t)}catch(t){return void a({type:fe.f.INSTALLING_MARKETPLACE_PLUGIN_FAILED,id:e,error:t.message})}await a(yp()),a({type:fe.f.INSTALLING_MARKETPLACE_PLUGIN_SUCCEEDED,id:e})}else a({type:fe.f.INSTALLING_MARKETPLACE_PLUGIN_FAILED,id:e,error:"Unknown plugin: "+e})}}function vp(e){return async t=>(t({type:fe.f.FILTER_MARKETPLACE_PLUGINS,filter:e}),t(yp()))}var wp=a(1392);function Op(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"61px",height:"61px",viewBox:"0 0 61 61","aria-label":t({id:"generic_icons.plugin",defaultMessage:"Plugin Icon"})},h.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},h.a.createElement("g",{transform:"translate(-347.000000, -211.000000)",fill:"inherit"},h.a.createElement("g",{transform:"translate(377.585786, 241.500000) rotate(-315.000000) translate(-377.585786, -241.500000) translate(358.585786, 200.000000)"},h.a.createElement("g",{transform:"translate(0.000000, -0.000000)"},h.a.createElement("path",{d:"M3.28846154,6.10822511 L3.05411255,6.10822511 C1.36737277,6.10822511 2.06566048e-16,4.74085234 0,3.05411255 C-2.06566048e-16,1.36737277 1.36737277,-7.78498519e-14 3.05411255,-7.81597009e-14 L34.9458874,-7.81597009e-14 C36.6326272,-8.16905472e-14 38,1.36737277 38,3.05411255 C38,4.74085234 36.6326272,6.10822511 34.9458874,6.10822511 L34.7115385,6.10822511 L34.7115385,14.7316017 C34.7115385,20.9798931 29.0184395,26.1638765 21.5576923,27.1415606 L21.5576923,33.1964286 C21.5576923,34.5081049 20.4943686,35.5714286 19.1826923,35.5714286 C17.871016,35.5714286 16.8076923,34.5081049 16.8076923,33.1964286 L16.8076923,27.1859094 C9.16823824,26.3322077 3.28846154,21.0815081 3.28846154,14.7316017 L3.28846154,6.10822511 Z M19.1431901,14.7316017 C17.8533303,14.7316017 16.8076923,15.7772397 16.8076923,17.0670996 C16.8076923,18.3569594 17.8533303,19.4025974 19.1431901,19.4025974 L19.2221945,19.4025974 C20.5120543,19.4025974 21.5576923,18.3569594 21.5576923,17.0670996 C21.5576923,15.7772397 20.5120543,14.7316017 19.2221945,14.7316017 L19.1431901,14.7316017 Z",transform:"translate(19.000000, 17.785714) rotate(-180.000000) translate(-19.000000, -17.785714) "}),h.a.createElement("path",{d:"M32.1538462,53.5367965 L34.7115385,53.5367965 L34.7115385,62.1601732 C34.7115385,68.4084646 29.0184395,73.592448 21.5576923,74.5701321 L21.5576923,80.625 C21.5576923,81.9366763 20.4943686,83 19.1826923,83 C17.871016,83 16.8076923,81.9366763 16.8076923,80.625 L16.8076923,74.6144809 C9.16823824,73.7607791 3.28846154,68.5100796 3.28846154,62.1601732 L3.28846154,53.5367965 L3.05411255,53.5367965 C1.36737277,53.5367965 2.06566048e-16,52.1694238 0,50.482684 C-2.06566048e-16,48.7959442 1.36737277,47.4285714 3.05411255,47.4285714 L8.40384615,47.4285714 L8.40384615,42.2581169 C8.40384615,40.9464406 9.46716987,39.8831169 10.7788462,39.8831169 C12.0905224,39.8831169 13.1538462,40.9464406 13.1538462,42.2581169 L13.1538462,47.4285714 L24.8461538,47.4285714 L24.8461538,42.2581169 C24.8461538,40.9464406 25.9094776,39.8831169 27.2211538,39.8831169 C28.5328301,39.8831169 29.5961538,40.9464406 29.5961538,42.2581169 L29.5961538,47.4285714 L34.9458874,47.4285714 C36.6326272,47.4285714 38,48.7959442 38,50.482684 C38,52.1694238 36.6326272,53.5367965 34.9458874,53.5367965 L32.1538462,53.5367965 Z M19.1431901,62.1601732 C17.8533303,62.1601732 16.8076923,63.2058112 16.8076923,64.495671 C16.8076923,65.7855308 17.8533303,66.8311688 19.1431901,66.8311688 L19.2221945,66.8311688 C20.5120543,66.8311688 21.5576923,65.7855308 21.5576923,64.495671 C21.5576923,63.2058112 20.5120543,62.1601732 19.2221945,62.1601732 L19.1431901,62.1601732 Z",transform:"translate(19.000000, 61.441558) rotate(-360.000000) translate(-19.000000, -61.441558) "})))))))}var Sp=a(1283),Tp=(a(2158),a(199)),Mp=a.n(Tp);function Pp(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Np=({version:e,releaseNotesUrl:t})=>t?h.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t},e):e;Np.propTypes={version:u.a.string.isRequired,releaseNotesUrl:u.a.string};const Ip=({name:e,description:t,url:a,color:n})=>{const s=h.a.createElement("span",{className:"tag",style:{backgroundColor:n||""}},e.toUpperCase());let i;return i=t?h.a.createElement(Wi.a,{delayShow:fe.l.OVERLAY_TIME_DELAY,placement:"top",overlay:h.a.createElement(Vi.a,{id:"plugin-marketplace_label_"+e.toLowerCase()+"-tooltip"},t)},s):s,a?h.a.createElement("a",{"aria-label":e.toLowerCase(),className:"style--none more-modal__row--link",target:"_blank",rel:"noopener noreferrer",href:a},i):i};Ip.propTypes={name:u.a.string.isRequired,description:u.a.string,url:u.a.string,color:u.a.string};const Rp=({version:e,releaseNotesUrl:t,installedVersion:a,isInstalling:n,onUpdate:s})=>{if(!a||n)return null;var i=!1;try{i=Mp.a.gt(e,a)}catch(e){}return i?h.a.createElement("div",{className:la()("update")},h.a.createElement(q.a,{id:"marketplace_modal.list.update_available",defaultMessage:"Update available:"})," ",h.a.createElement(Np,{version:e,releaseNotesUrl:t})," - ",h.a.createElement("b",null,h.a.createElement("a",{onClick:s},h.a.createElement(q.a,{id:"marketplace_modal.list.update",defaultMessage:"Update"})))):null};Rp.propTypes={version:u.a.string.isRequired,releaseNotesUrl:u.a.string,installedVersion:u.a.string,isInstalling:u.a.bool.isRequired,onUpdate:u.a.func.isRequired};const Ap=({show:e,name:t,version:a,installedVersion:n,releaseNotesUrl:s,onUpdate:i,onCancel:r})=>{if(!n)return null;var o=!1;try{o=Mp.a.gt(a,n)}catch(e){}if(!o)return null;const l=[h.a.createElement("p",{key:"intro"},h.a.createElement(q.a,{id:"marketplace_modal.list.update_confirmation.message.intro",defaultMessage:"Are you sure you want to update the ".concat(t," plugin to ").concat(a,"?"),values:{name:t,version:a}}))];s?l.push(h.a.createElement("p",{key:"current"},h.a.createElement(Pr.b,{id:"marketplace_modal.list.update_confirmation.message.current_with_release_notes",defaultMessage:"You currently have {installedVersion} installed. View the [release notes](!{releaseNotesUrl}) to learn about the changes included in this update.",values:{installedVersion:n,releaseNotesUrl:s}}))):l.push(h.a.createElement("p",{key:"current"},h.a.createElement(q.a,{id:"marketplace_modal.list.update_confirmation.message.current",defaultMessage:"You currently have ".concat(n," installed."),values:{installedVersion:n}})));let c=!1;try{c=Mp.a.major(a)===Mp.a.major(n)}catch(e){}return c||(s?l.push(h.a.createElement("p",{className:"alert alert-warning",key:"warning"},h.a.createElement(Pr.b,{id:"marketplace_modal.list.update_confirmation.message.warning_major_version_with_release_notes",defaultMessage:"This update may contain breaking changes. Consult the [release notes](!{releaseNotesUrl}) before upgrading.",values:{releaseNotesUrl:s}}))):l.push(h.a.createElement("p",{className:"alert alert-warning",key:"warning"},h.a.createElement(q.a,{id:"marketplace_modal.list.update_confirmation.message.warning_major_version",defaultMessage:"This update may contain breaking changes."})))),h.a.createElement(Ks.a,{show:e,title:h.a.createElement(q.a,{id:"marketplace_modal.list.update_confirmation.title",defaultMessage:"Confirm Plugin Update"}),message:l,confirmButtonText:h.a.createElement(q.a,{id:"marketplace_modal.list.update_confirmation.confirm_button",defaultMessage:"Update"}),onConfirm:i,onCancel:r})};Ap.propTypes={show:u.a.bool.isRequired,name:u.a.string.isRequired,version:u.a.string.isRequired,releaseNotesUrl:u.a.string,installedVersion:u.a.string,onUpdate:u.a.func.isRequired,onCancel:u.a.func.isRequired};class jp extends h.a.PureComponent{constructor(){super(),Pp(this,"trackEvent",(e,t=!0)=>{this.props.isDefaultMarketplace&&t?this.props.trackEvent("plugins",e,{plugin_id:this.props.id,version:this.props.version,installed_version:this.props.installedVersion}):this.props.trackEvent("plugins",e)}),Pp(this,"onInstall",()=>{this.trackEvent("ui_marketplace_download"),this.props.actions.installPlugin(this.props.id,this.props.version)}),Pp(this,"showUpdateConfirmationModal",()=>{this.setState({showUpdateConfirmationModal:!0})}),Pp(this,"hideUpdateConfirmationModal",()=>{this.setState({showUpdateConfirmationModal:!1})}),Pp(this,"onUpdate",()=>{this.trackEvent("ui_marketplace_download_update"),this.hideUpdateConfirmationModal(),this.props.actions.installPlugin(this.props.id,this.props.version)}),Pp(this,"onConfigure",()=>{this.trackEvent("ui_marketplace_configure",!1),this.props.actions.closeMarketplaceModal()}),this.state={showUpdateConfirmationModal:!1}}getItemButton(){let e=h.a.createElement(q.a,{id:"marketplace_modal.list.Install",defaultMessage:"Install"});this.props.error&&(e=h.a.createElement(q.a,{id:"marketplace_modal.list.try_again",defaultMessage:"Try Again"}));let t=h.a.createElement("button",{onClick:this.onInstall,className:"btn btn-primary",disabled:this.props.installing},h.a.createElement(el.a,{loading:this.props.installing,text:Object(z.ob)("marketplace_modal.installing","Installing...")},e));return""===this.props.installedVersion||this.props.installing||this.props.error||(t=h.a.createElement(vs.Link,{to:"/admin_console/plugins/plugin_"+this.props.id},h.a.createElement("button",{onClick:this.onConfigure,className:"btn btn-outline"},h.a.createElement(q.a,{id:"marketplace_modal.list.configure",defaultMessage:"Configure"})))),t}render(){let e,t,a="(".concat(this.props.version,")");""!==this.props.installedVersion&&(a="(".concat(this.props.installedVersion,")")),e=this.props.iconData?h.a.createElement("div",{className:"icon__plugin icon__plugin--background"},h.a.createElement("img",{src:this.props.iconData})):h.a.createElement(Op,{className:"icon__plugin icon__plugin--background"}),this.props.labels&&0!==this.props.labels.length&&(t=this.props.labels.map(e=>h.a.createElement(Ip,{key:e.name,name:e.name,description:e.description,url:e.url,color:e.color})));const n=h.a.createElement(h.a.Fragment,null,this.props.name,h.a.createElement("span",{className:"light subtitle"},a)),s=h.a.createElement("p",{className:la()("more-modal__description",{error_text:this.props.error})},this.props.error?this.props.error:this.props.description);let i;return i=this.props.homepageUrl?h.a.createElement(h.a.Fragment,null,h.a.createElement("a",{"aria-label":this.props.name.toLowerCase(),className:"style--none more-modal__row--link",target:"_blank",rel:"noopener noreferrer",href:this.props.homepageUrl},n),t,h.a.createElement("a",{"aria-label":"Plugin's website",className:"style--none more-modal__row--link",target:"_blank",rel:"noopener noreferrer",href:this.props.homepageUrl},s)):h.a.createElement(h.a.Fragment,null,h.a.createElement("span",{"aria-label":this.props.name.toLowerCase(),className:"style--none"},n),t,h.a.createElement("span",{"aria-label":"Plugin\\'s website",className:"style--none"},s)),h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:la()("more-modal__row","more-modal__row--link",{item_error:this.props.error}),key:this.props.id,id:"marketplace-plugin-"+this.props.id},e,h.a.createElement("div",{className:"more-modal__details"},i,h.a.createElement(Rp,{version:this.props.version,installedVersion:this.props.installedVersion,releaseNotesUrl:this.props.releaseNotesUrl,isInstalling:this.props.installing,onUpdate:this.showUpdateConfirmationModal})),h.a.createElement("div",{className:"more-modal__actions"},this.getItemButton()),h.a.createElement(Ap,{show:this.state.showUpdateConfirmationModal,name:this.props.name,version:this.props.version,installedVersion:this.props.installedVersion,releaseNotesUrl:this.props.releaseNotesUrl,onUpdate:this.onUpdate,onCancel:this.hideUpdateConfirmationModal})))}}Pp(jp,"propTypes",{id:u.a.string.isRequired,name:u.a.string.isRequired,description:u.a.string,version:u.a.string.isRequired,homepageUrl:u.a.string,releaseNotesUrl:u.a.string,labels:u.a.array,iconData:u.a.string,installedVersion:u.a.string.isRequired,installing:u.a.bool.isRequired,error:u.a.string,isDefaultMarketplace:u.a.bool.isRequired,trackEvent:u.a.func.isRequired,actions:u.a.shape({installPlugin:u.a.func.isRequired,closeMarketplaceModal:u.a.func.isRequired}).isRequired});var xp=Object(s.connect)((function(e,t){return{installing:((e,t)=>Boolean(e.views.marketplace.installing[t]))(e,t.id),error:((e,t)=>e.views.marketplace.errors[t])(e,t.id),isDefaultMarketplace:"true"===Object(i.getConfig)(e).IsDefaultMarketplace,trackEvent:v.e}}),(function(e){return{actions:Object(n.bindActionCreators)({installPlugin:Ep,closeMarketplaceModal:()=>Object(_t.a)(fe.y.PLUGIN_MARKETPLACE)},e)}}))(jp);function Lp(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class kp extends h.a.PureComponent{constructor(...e){super(...e),Lp(this,"onClick",e=>{e.preventDefault(),this.props.onClick()})}render(){const{onClick:e,messageId:t,defaultMessage:a}=this.props;return h.a.createElement("button",{className:"btn btn-link",onClick:e},h.a.createElement(q.a,{id:t,defaultMessage:a}))}}function Dp(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Lp(kp,"propTypes",{onClick:u.a.func.isRequired,messageId:u.a.string.isRequired,defaultMessage:u.a.string.isRequired});class Up extends h.a.PureComponent{constructor(...e){super(...e),Dp(this,"canShowNextButton",()=>{const{page:e,maximumPerPage:t,total:a}=this.props;return Math.trunc((a-1)/t)>e}),Dp(this,"renderCount",()=>{const{page:e,total:t,maximumPerPage:a}=this.props,n=e*a,s=Math.min(n+a,t);return h.a.createElement(q.a,{id:"marketplace_list.count_total_page",defaultMessage:"{startCount, number} - {endCount, number} {total, plural, one {plugin} other {plugins}} of {total, number} total",values:{startCount:n+1,endCount:s,total:t}})})}render(){const e=qp(this.props.theme);return h.a.createElement("div",{className:"navigation-row"},h.a.createElement("div",{className:"col-xs-2"},this.props.page>0&&h.a.createElement(kp,{onClick:this.props.onPreviousPageButtonClick,messageId:"more_channels.prev",defaultMessage:"Previous"})),h.a.createElement("div",{className:"col-xs-8 count",style:e.count},this.renderCount()),h.a.createElement("div",{className:"col-xs-2"},this.canShowNextButton()&&h.a.createElement(kp,{onClick:this.props.onNextPageButtonClick,messageId:"more_channels.next",defaultMessage:"Next"})))}}Dp(Up,"propTypes",{page:u.a.number.isRequired,total:u.a.number.isRequired,maximumPerPage:u.a.number.isRequired,onNextPageButtonClick:u.a.func.isRequired,onPreviousPageButtonClick:u.a.func.isRequired,theme:u.a.object.isRequired});const qp=Object(wa.makeStyleFromTheme)(e=>({count:{color:Object(wa.changeOpacity)(e.centerChannelColor,.6)}}));var Hp=Object(s.connect)((function(e){return{theme:Object(K.getTheme)(e)}}))(Up);function Fp(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Bp extends h.a.PureComponent{static getDerivedStateFromProps(e,t){return t.page>0&&e.plugins.length<15?{page:0}:null}constructor(e){super(e),Fp(this,"nextPage",()=>{this.setState(e=>({page:e.page+1}))}),Fp(this,"previousPage",()=>{this.setState(e=>({page:e.page-1}))}),this.state={page:0}}render(){const e=15*this.state.page,t=e+15,a=this.props.plugins.slice(e,t);return h.a.createElement("div",{className:"more-modal__list"},a.map(e=>h.a.createElement(xp,{key:e.manifest.id,id:e.manifest.id,name:e.manifest.name,description:e.manifest.description,version:e.manifest.version,isPrepackaged:!1,downloadUrl:e.download_url,homepageUrl:e.homepage_url,releaseNotesUrl:e.release_notes_url,labels:e.labels,iconData:e.icon_data,installedVersion:e.installed_version})),h.a.createElement(Hp,{page:this.state.page,total:this.props.plugins.length,maximumPerPage:15,onNextPageButtonClick:this.nextPage,onPreviousPageButtonClick:this.previousPage}))}}function Gp(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Fp(Bp,"propTypes",{plugins:u.a.array.isRequired});const Vp="allPlugins",Wp="installed",zp=({plugins:e})=>0===e.length?h.a.createElement("div",{className:"no_plugins_div"},h.a.createElement("br",null),h.a.createElement(Op,{className:"icon__plugin"}),h.a.createElement("div",{className:"mt-3 light"},h.a.createElement(q.a,{id:"marketplace_modal.no_plugins",defaultMessage:"There are no plugins available at this time."}))):h.a.createElement(Bp,{plugins:e});zp.propTypes={plugins:u.a.array.isRequired};const Yp=({installedPlugins:e,changeTab:t})=>0===e.length?h.a.createElement("div",{className:"no_plugins_div"},h.a.createElement("br",null),h.a.createElement(Op,{className:"icon__plugin"}),h.a.createElement("div",{className:"mt-3 light"},h.a.createElement(q.a,{id:"marketplace_modal.no_plugins_installed",defaultMessage:"You do not have any plugins installed."})),h.a.createElement("button",{className:"mt-5 style--none color--link",onClick:()=>t(Vp),"data-testid":"Install-Plugins-button"},h.a.createElement(q.a,{id:"marketplace_modal.install_plugins",defaultMessage:"Install Plugins"}))):h.a.createElement(Bp,{plugins:e});Yp.propTypes={installedPlugins:u.a.array.isRequired,changeTab:u.a.func};class Kp extends h.a.PureComponent{constructor(e){super(e),Gp(this,"fetchPlugins",async()=>{const{error:e}=await this.props.actions.fetchPlugins();this.setState({loading:!1,serverError:e})}),Gp(this,"close",()=>{Object(v.e)("plugins","ui_marketplace_closed"),this.props.actions.closeModal()}),Gp(this,"changeTab",e=>{this.setState({tabKey:e})}),Gp(this,"onInput",()=>{this.setState({filter:this.refs.filter.value}),this.debouncedSearch()}),Gp(this,"handleClearSearch",()=>{this.refs.filter.value="",this.setState({filter:this.refs.filter.value},this.doSearch)}),Gp(this,"doSearch",async()=>{Object(v.e)("plugins","ui_marketplace_search",{filter:this.state.filter});const{error:e}=await this.props.actions.filterPlugins(this.state.filter);this.setState({serverError:e})}),Gp(this,"debouncedSearch",ts()(this.doSearch,200)),this.state={tabKey:Vp,loading:!0,serverError:null,filter:""}}componentDidMount(){Object(v.e)("plugins","ui_marketplace_opened"),this.fetchPlugins(),this.refs.filter&&this.refs.filter.focus()}componentDidUpdate(e){this.props.pluginStatuses!==e.pluginStatuses&&this.fetchPlugins()}render(){const e=h.a.createElement("div",{className:"filter-row filter-row--full"},h.a.createElement("div",{className:"col-sm-12"},h.a.createElement(wp.a,{id:"searchMarketplaceTextbox",ref:"filter",className:"form-control filter-textbox search_input",placeholder:{id:Object(J.b)("marketplace_modal.search"),defaultMessage:"Search Plugins"},inputComponent:Na.a,onInput:this.onInput,value:this.state.filter,clearable:!0,onClear:this.handleClearSearch})));let t=null;return this.state.serverError&&(t=h.a.createElement("div",{className:"error-bar",id:"error_bar"},h.a.createElement("div",{className:"error-bar__content"},h.a.createElement(Pr.b,{id:"app.plugin.marketplace_plugins.app_error",defaultMessage:"Error connecting to the marketplace server. Please check your settings in the [System Console]({siteURL}/admin_console/plugins/plugin_management).",values:{siteURL:this.props.siteURL}})))),h.a.createElement(Lm.a,null,h.a.createElement(xm.a,{show:this.props.show,onClose:this.close,ariaLabel:Object(z.ob)("marketplace_modal.title","Plugin Marketplace")},t,h.a.createElement("div",{className:"modal-marketplace",id:"modal_marketplace"},h.a.createElement("h1",null,h.a.createElement("strong",null,h.a.createElement(q.a,{id:"marketplace_modal.title",defaultMessage:"Plugin Marketplace"}))),e,h.a.createElement(ya.a,{id:"marketplaceTabs",className:"tabs",defaultActiveKey:"allPlugins",activeKey:this.state.tabKey,onSelect:this.changeTab,unmountOnExit:!0},h.a.createElement(Ea.a,{eventKey:Vp,title:Object(z.ob)("marketplace_modal.tabs.all_plugins","All Plugins")},this.state.loading?h.a.createElement(Sp.a,null):h.a.createElement(zp,{plugins:this.props.plugins})),h.a.createElement(Ea.a,{eventKey:Wp,title:Object(z.ob)("marketplace_modal.tabs.installed_plugins","Installed")+" (".concat(this.props.installedPlugins.length,")")},h.a.createElement(Yp,{installedPlugins:this.props.installedPlugins,changeTab:this.changeTab}))))))}}Gp(Kp,"propTypes",{show:u.a.bool,plugins:u.a.array.isRequired,installedPlugins:u.a.array.isRequired,siteURL:u.a.string.isRequired,pluginStatuses:u.a.object.isRequired,actions:u.a.shape({closeModal:u.a.func.isRequired,fetchPlugins:u.a.func.isRequired,filterPlugins:u.a.func.isRequired}).isRequired});var Zp=Object(s.connect)((function(e){return{show:Object(Rm.a)(e,fe.y.PLUGIN_MARKETPLACE),plugins:_p(e),installedPlugins:Cp(e),siteURL:Object(Mi.e)(e),pluginStatuses:e.entities.admin.pluginStatuses}}),(function(e){return{actions:Object(n.bindActionCreators)({closeModal:()=>Object(_t.a)(fe.y.PLUGIN_MARKETPLACE),fetchPlugins:yp,filterPlugins:vp},e)}}))(Kp);function Jp(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Xp extends h.a.PureComponent{constructor(e){super(e),Jp(this,"handleHide",()=>{this.setState({show:!1})}),Jp(this,"handleExit",()=>{this.props.onHide&&this.props.onHide()}),Jp(this,"onNext",()=>{const e=this.state.page+1;this.onPageChange(e)}),Jp(this,"onPrev",()=>{const e=this.state.page-1;this.onPageChange(e)}),Jp(this,"onPageChange",async e=>{this.setState({loading:!0});const t=await this.props.loadItems(e,this.state.searchTerm);this.setState({page:e,items:t.items,loading:!1})}),Jp(this,"onSearchInput",async e=>{const{target:t}=e,a=t.value;this.setState({loading:!0,searchTerm:a});const n=await this.props.loadItems(0,a),{items:s,totalCount:i}=n;this.setState({loading:!1,items:s,totalCount:i})}),this.numPerPage=e.numPerPage||50,this.state={show:!0,page:0,items:[],totalCount:0,loading:!0,searchTerm:""}}async componentDidMount(){const{totalCount:e,items:t}=await this.props.loadItems(0,"");this.setState({totalCount:e,items:t,loading:!1})}renderRows(){return this.state.loading?h.a.createElement("div",null,h.a.createElement(Sp.a,{position:"absolute",key:"loading"})):this.state.items.map(e=>this.props.renderRow(e,this))}paginationRange(){let e=this.state.page*this.numPerPage+1;const t=e+this.state.items.length-1;return 0===t&&(e=0),{startCount:e,endCount:t}}render(){if(!this.props.show)return null;const{endCount:e,startCount:t}=this.paginationRange();return h.a.createElement("div",null,h.a.createElement(ra.a,{dialogClassName:"a11y__modal more-modal more-modal--action",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1"},h.a.createElement("span",{className:"name"},this.props.titleText)),this.props.titleBarButtonText&&this.props.titleBarButtonOnClick&&h.a.createElement("a",{className:"btn btn-md btn-primary",href:"#",onClick:this.props.titleBarButtonOnClick},this.props.titleBarButtonText)),h.a.createElement(ra.a.Body,null,h.a.createElement("div",{className:"filtered-user-list"},h.a.createElement("div",{className:"filter-row"},h.a.createElement("div",{className:"col-xs-12"},h.a.createElement("label",{className:"hidden-label",htmlFor:"searchUsersInput"},this.props.searchPlaceholderText),h.a.createElement("input",{id:"searchUsersInput",className:"form-control filter-textbox",placeholder:this.props.searchPlaceholderText,onChange:this.onSearchInput})),h.a.createElement("div",{className:"col-sm-12"},h.a.createElement("span",{className:"member-count pull-left"},h.a.createElement(q.a,{id:"list_modal.paginatorCount",defaultMessage:"{startCount, number} - {endCount, number} of {total, number} total",values:{startCount:t,endCount:e,total:this.state.totalCount}})))),h.a.createElement("div",{className:"more-modal__list"},h.a.createElement("div",null,this.renderRows())),h.a.createElement("div",{className:"filter-controls"},this.state.page>0&&h.a.createElement("button",{onClick:this.onPrev,className:"btn btn-link filter-control filter-control__prev"},h.a.createElement(q.a,{id:"filtered_user_list.prev",defaultMessage:"Previous"})),this.state.items.length>=this.props.numPerPage&&e!==this.state.totalCount&&h.a.createElement("button",{onClick:this.onNext,className:"btn btn-link filter-control filter-control__next"},h.a.createElement(q.a,{id:"filtered_user_list.next",defaultMessage:"Next"})))))))}}Jp(Xp,"propTypes",{loadItems:u.a.func.isRequired,renderRow:u.a.func.isRequired,onHide:u.a.func,titleText:u.a.string,searchPlaceholderText:u.a.string,titleBarButtonText:u.a.string,titleBarButtonOnClick:u.a.func,numPerPage:u.a.number,show:u.a.bool}),Jp(Xp,"defaultProps",{show:!0});var Qp=a(1486);function $p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class eh extends h.a.PureComponent{constructor(...e){super(...e),$p(this,"state",{showConfirmModal:!1,item:{member_count:0},listModal:null}),$p(this,"loadItems",async(e,t)=>{const{data:a}=await this.props.actions.getGroupsAssociatedToTeam(this.props.team.id,t,e,50,!0);return{items:a.groups,totalCount:a.totalGroupCount}}),$p(this,"handleDeleteCanceled",()=>{this.setState({showConfirmModal:!1})}),$p(this,"handleDeleteConfirmed",()=>{this.setState({showConfirmModal:!1});const{item:e,listModal:t}=this.state;this.props.actions.unlinkGroupSyncable(e.id,this.props.team.id,W.Groups.SYNCABLE_TYPE_TEAM).then(async()=>{t.setState({loading:!0});const{items:e,totalCount:a}=await t.props.loadItems(t.setState.page,t.state.searchTerm);t.setState({loading:!1,items:e,totalCount:a})})}),$p(this,"onClickRemoveGroup",(e,t)=>{this.setState({showConfirmModal:!0,item:e,listModal:t})}),$p(this,"onClickConfirmRemoveGroup",(e,t)=>this.props.actions.unlinkGroupSyncable(e.id,this.props.team.id,W.Groups.SYNCABLE_TYPE_TEAM).then(async()=>{t.setState({loading:!0});const{items:e,totalCount:a}=await t.props.loadItems(t.setState.page,t.state.searchTerm);t.setState({loading:!1,items:e,totalCount:a})})),$p(this,"onHide",()=>{this.props.actions.closeModal(fe.y.MANAGE_TEAM_GROUPS)}),$p(this,"titleButtonOnClick",()=>{this.onHide(),this.props.actions.openModal({modalId:fe.y.ADD_GROUPS_TO_TEAM,dialogType:fp.a})}),$p(this,"setTeamMemberStatus",async(e,t,a)=>{this.props.actions.patchGroupSyncable(e.id,this.props.team.id,W.Groups.SYNCABLE_TYPE_TEAM,{scheme_admin:a}).then(async()=>{t.setState({loading:!0});const{items:e,totalCount:a}=await t.props.loadItems(t.setState.page,t.state.searchTerm);this.props.actions.getMyTeamMembers(),t.setState({loading:!1,items:e,totalCount:a})})}),$p(this,"renderRow",(e,t)=>{let a;return a=e.scheme_admin?z.ob("team_members_dropdown.teamAdmins","Team Admins"):z.ob("team_members_dropdown.teamMembers","Team Members"),h.a.createElement("div",{key:e.id,className:"more-modal__row"},h.a.createElement("img",{className:"more-modal__image",src:Qp.a,alt:"group picture",width:"32",height:"32"}),h.a.createElement("div",{className:"more-modal__details"},h.a.createElement("div",{className:"more-modal__name"},e.display_name," ","-"," ","&nbsp;",h.a.createElement("span",{className:"more-modal__name_count"},h.a.createElement(q.a,{id:"numMembers",defaultMessage:"{num, number} {num, plural, one {member} other {members}}",values:{num:e.member_count}})))),h.a.createElement("div",{className:"more-modal__actions"},h.a.createElement(ur.a,null,h.a.createElement("button",{id:"teamGroupsDropdown_".concat(e.display_name),className:"dropdown-toggle theme color--link style--none",type:"button","aria-expanded":"true"},h.a.createElement("span",null,a," "),h.a.createElement(ku.a,null)),h.a.createElement(pr.a,{openLeft:!0,ariaLabel:z.ob("team_members_dropdown.menuAriaLabel","Change the role of a team member")},h.a.createElement(pr.a.ItemAction,{show:!e.scheme_admin,onClick:()=>this.setTeamMemberStatus(e,t,!0),text:z.ob("team_members_dropdown.makeTeamAdmins","Make Team Admins")}),h.a.createElement(pr.a.ItemAction,{show:Boolean(e.scheme_admin),onClick:()=>this.setTeamMemberStatus(e,t,!1),text:z.ob("team_members_dropdown.makeTeamMembers","Make Team Members")}),h.a.createElement(pr.a.ItemAction,{onClick:()=>this.onClickRemoveGroup(e,t),text:z.ob("group_list_modal.removeGroupButton","Remove Group")})))))})}render(){const{formatMessage:e}=this.props.intl,t=this.state.item.member_count;return h.a.createElement(h.a.Fragment,null,h.a.createElement(Xp,{show:!this.state.showConfirmModal,titleText:e({id:"groups",defaultMessage:"{team} Groups"},{team:this.props.team.display_name}),searchPlaceholderText:e({id:"manage_team_groups_modal.search_placeholder",defaultMessage:"Search groups"}),renderRow:this.renderRow,loadItems:this.loadItems,onHide:this.onHide,titleBarButtonText:e({id:"group_list_modal.addGroupButton",defaultMessage:"Add Groups"}),titleBarButtonOnClick:this.titleButtonOnClick}),h.a.createElement(Ks.a,{show:this.state.showConfirmModal,title:e({id:"remove_group_confirm_title",defaultMessage:"Remove Group and {memberCount, number} {memberCount, plural, one {Member} other {Members}}"},{memberCount:t}),message:e({id:"remove_group_confirm_message",defaultMessage:"{memberCount, number} {memberCount, plural, one {member} other {members}} associated to this group will be removed from the team. Are you sure you wish to remove this group and {memberCount} {memberCount, plural, one {member} other {members}}?"},{memberCount:t}),confirmButtonText:e({id:"remove_group_confirm_button",defaultMessage:"Yes, Remove Group and {memberCount, plural, one {Member} other {Members}}"},{memberCount:t}),onConfirm:this.handleDeleteConfirmed,onCancel:this.handleDeleteCanceled}))}}$p(eh,"propTypes",{intl:X.a.isRequired,team:u.a.object.isRequired,actions:u.a.shape({getGroupsAssociatedToTeam:u.a.func.isRequired,unlinkGroupSyncable:u.a.func.isRequired,patchGroupSyncable:u.a.func.isRequired,getMyTeamMembers:u.a.func.isRequired,closeModal:u.a.func.isRequired,openModal:u.a.func.isRequired}).isRequired});var th=Object(Z.c)(eh);var ah=Object(s.connect)((e,t)=>({team:e.entities.teams.teams[t.teamID]}),e=>({actions:Object(n.bindActionCreators)({getGroupsAssociatedToTeam:Lt.getGroupsAssociatedToTeam,closeModal:_t.a,openModal:_t.b,unlinkGroupSyncable:Lt.unlinkGroupSyncable,patchGroupSyncable:Lt.patchGroupSyncable,getMyTeamMembers:xt.getMyTeamMembers},e)}))(th);function nh(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class sh extends h.a.PureComponent{constructor(...e){super(...e),nh(this,"toggleShortcutsModal",e=>{e.preventDefault(),w.m()}),nh(this,"handleKeyDown",e=>{Object(z.g)(e)&&e.shiftKey&&Object(z.cb)(e,fe.l.KeyCodes.A)&&this.props.actions.openModal({ModalId:fe.y.USER_SETTINGS,dialogType:Pi.a})}),nh(this,"handleEmitUserLoggedOutEvent",()=>{w.e()}),nh(this,"getFlagged",e=>{e.preventDefault(),this.props.actions.showFlaggedPosts(),this.props.actions.closeRhsMenu()}),nh(this,"searchMentions",e=>{e.preventDefault(),this.props.isMentionSearch?this.props.actions.closeRightHandSide():(this.props.actions.closeRhsMenu(),this.props.actions.showMentions())}),nh(this,"shouldShowUpgradeModal",()=>{var e;return"true"!==(null===(e=this.props.subscription)||void 0===e?void 0:e.is_paid_tier)&&(this.props.isCloud&&this.props.currentUsers>=this.props.userLimit&&"0"!==this.props.userLimit&&this.props.userIsAdmin)})}async componentDidMount(){document.addEventListener("keydown",this.handleKeyDown),Object(Fd.isEmpty)(this.props.subscription)&&await this.props.actions.getCloudSubscription()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{currentUser:e,teamIsGroupConstrained:t,isLicensedForLDAPGroups:a}=this.props;if(!e)return null;const n=this.props.pluginMenuItems.map(e=>h.a.createElement(pr.a.ItemAction,{id:e.id+"_pluginmenuitem",key:e.id+"_pluginmenuitem",onClick:()=>{e.action&&e.action()},text:e.text,icon:this.props.mobile&&e.mobileIcon})),s=this.props.enableIncomingWebhooks||this.props.enableOutgoingWebhooks||this.props.enableCommands||this.props.enableOAuthServiceProvider||this.props.canManageSystemBots,i=!this.props.mobile&&s&&this.props.canManageIntegrations,{formatMessage:r}=this.props.intl,o=h.a.createElement(pr.a.ItemToggleModalRedux,{id:"invitePeople",modalId:fe.y.INVITATION,dialogType:Cu,text:r({id:"navbar_dropdown.invitePeople",defaultMessage:"Invite People"}),extraText:r({id:"navbar_dropdown.invitePeopleExtraText",defaultMessage:"Add or invite people to the team"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-user-plus"})}),l=h.a.createElement(pr.a.ItemToggleModalRedux,{id:"invitePeople",modalId:fe.y.UPGRADE_CLOUD_ACCOUNT,dialogType:Ou,text:r({id:"navbar_dropdown.invitePeople",defaultMessage:"Invite People"}),extraText:r({id:"navbar_dropdown.invitePeopleExtraText",defaultMessage:"Add or invite people to the team"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-user-plus"})});return h.a.createElement(pr.a,{mobile:this.props.mobile,id:this.props.id,ariaLabel:r({id:"navbar_dropdown.menuAriaLabel",defaultMessage:"main menu"})},h.a.createElement(pr.a.Group,null,h.a.createElement(pr.a.ItemAction,{id:"recentMentions",show:this.props.mobile,onClick:this.searchMentions,icon:this.props.mobile&&h.a.createElement("i",{className:"mentions"},"@"),text:r({id:"sidebar_right_menu.recentMentions",defaultMessage:"Recent Mentions"})}),h.a.createElement(pr.a.ItemAction,{id:"flaggedPosts",show:this.props.mobile,onClick:this.getFlagged,icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-bookmark"}),text:r({id:"sidebar_right_menu.flagged",defaultMessage:"Saved Posts"})})),h.a.createElement(pr.a.Group,null,h.a.createElement(pr.a.ItemToggleModalRedux,{id:"accountSettings",modalId:fe.y.USER_SETTINGS,dialogType:Pi.a,text:r({id:"navbar_dropdown.accountSettings",defaultMessage:"Account Settings"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-cog"})})),h.a.createElement(pr.a.Group,null,h.a.createElement(Su.a,{teamId:this.props.teamId,permissions:[W.Permissions.MANAGE_TEAM]},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"addGroupsToTeam",show:t&&a,modalId:fe.y.ADD_GROUPS_TO_TEAM,dialogType:fp.a,text:r({id:"navbar_dropdown.addGroupsToTeam",defaultMessage:"Add Groups to Team"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-user-plus"})})),h.a.createElement(Su.a,{teamId:this.props.teamId,permissions:[W.Permissions.ADD_USER_TO_TEAM,W.Permissions.INVITE_GUEST]},this.shouldShowUpgradeModal()?l:o)),h.a.createElement(pr.a.Group,null,h.a.createElement(Su.a,{teamId:this.props.teamId,permissions:[W.Permissions.MANAGE_TEAM]},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"teamSettings",modalId:fe.y.TEAM_SETTINGS,dialogType:gp,text:r({id:"navbar_dropdown.teamSettings",defaultMessage:"Team Settings"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-globe"})})),h.a.createElement(Su.a,{teamId:this.props.teamId,permissions:[W.Permissions.MANAGE_TEAM]},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"manageGroups",show:t&&a,modalId:fe.y.MANAGE_TEAM_GROUPS,dialogProps:{teamID:this.props.teamId},dialogType:ah,text:r({id:"navbar_dropdown.manageGroups",defaultMessage:"Manage Groups"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-user-plus"})})),h.a.createElement(Su.a,{teamId:this.props.teamId,permissions:[W.Permissions.REMOVE_USER_FROM_TEAM,W.Permissions.MANAGE_TEAM_ROLES]},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"manageMembers",modalId:fe.y.TEAM_MEMBERS,dialogType:Wu,text:r({id:"navbar_dropdown.manageMembers",defaultMessage:"Manage Members"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-users"})})),h.a.createElement(Su.a,{teamId:this.props.teamId,permissions:[W.Permissions.REMOVE_USER_FROM_TEAM,W.Permissions.MANAGE_TEAM_ROLES],invert:!0},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"viewMembers",modalId:fe.y.TEAM_MEMBERS,dialogType:Wu,text:r({id:"navbar_dropdown.viewMembers",defaultMessage:"View Members"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-users"})}))),h.a.createElement(pr.a.Group,null,h.a.createElement(Tu.a,{permissions:[W.Permissions.CREATE_TEAM]},h.a.createElement(pr.a.ItemLink,{id:"createTeam",to:"/create_team",text:r({id:"navbar_dropdown.create",defaultMessage:"Create a Team"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-plus-square"})})),h.a.createElement(pr.a.ItemLink,{id:"joinTeam",show:!this.props.experimentalPrimaryTeam&&this.props.moreTeamsToJoin,to:"/select_team",text:r({id:"navbar_dropdown.join",defaultMessage:"Join Another Team"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-plus-square"})}),h.a.createElement(pr.a.ItemToggleModalRedux,{id:"leaveTeam",show:!t&&this.props.experimentalPrimaryTeam!==this.props.teamName,modalId:fe.y.LEAVE_TEAM,dialogType:Ru,text:r({id:"navbar_dropdown.leave",defaultMessage:"Leave Team"}),icon:this.props.mobile&&h.a.createElement(Mu,null)})),h.a.createElement(pr.a.Group,null,n),h.a.createElement(pr.a.Group,null,h.a.createElement(pr.a.ItemLink,{id:"integrations",show:i,to:"/"+this.props.teamName+"/integrations",text:r({id:"navbar_dropdown.integrations",defaultMessage:"Integrations"})}),h.a.createElement(Su.a,{teamId:this.props.teamId,permissions:[W.Permissions.MANAGE_SYSTEM]},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"marketplaceModal",modalId:fe.y.PLUGIN_MARKETPLACE,show:!this.props.mobile&&this.props.enablePluginMarketplace,dialogType:Zp,text:r({id:"navbar_dropdown.marketplace",defaultMessage:"Plugin Marketplace"})})),h.a.createElement(pr.a.ItemLink,{id:"customEmojis",show:!this.props.mobile&&this.props.enableCustomEmoji&&this.props.canCreateOrDeleteCustomEmoji,to:"/"+this.props.teamName+"/emoji",text:r({id:"navbar_dropdown.emoji",defaultMessage:"Custom Emoji"})})),h.a.createElement(pr.a.Group,null,h.a.createElement(Tu.a,{permissions:W.Permissions.SYSCONSOLE_READ_PERMISSIONS},h.a.createElement(pr.a.ItemLink,{id:"systemConsole",show:!this.props.mobile,to:"/admin_console",text:r({id:"navbar_dropdown.console",defaultMessage:"System Console"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-wrench"})}))),h.a.createElement(pr.a.Group,null,h.a.createElement(pr.a.ItemExternalLink,{id:"helpLink",show:Boolean(this.props.helpLink),url:this.props.helpLink,text:r({id:"navbar_dropdown.help",defaultMessage:"Help"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-question"})}),h.a.createElement(pr.a.ItemAction,{id:"gettingStarted",show:this.props.showGettingStarted,onClick:()=>this.props.actions.unhideNextSteps(),text:r({id:this.props.showNextStepsTips?"sidebar_next_steps.tipsAndNextSteps":"navbar_dropdown.gettingStarted",defaultMessage:this.props.showNextStepsTips?"Tips & Next Steps":"Getting Started"})}),h.a.createElement(pr.a.ItemAction,{id:"keyboardShortcuts",show:!this.props.mobile,onClick:this.toggleShortcutsModal,text:r({id:"navbar_dropdown.keyboardShortcuts",defaultMessage:"Keyboard Shortcuts"})}),h.a.createElement(pr.a.ItemExternalLink,{id:"reportLink",show:Boolean(this.props.reportAProblemLink),url:this.props.reportAProblemLink,text:r({id:"navbar_dropdown.report",defaultMessage:"Report a Problem"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-phone"})}),h.a.createElement(pr.a.ItemExternalLink,{id:"nativeAppLink",show:this.props.appDownloadLink&&!y.q(),url:Object(Mi.g)(this.props.appDownloadLink),text:r({id:"navbar_dropdown.nativeApps",defaultMessage:"Download Apps"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-mobile"})}),h.a.createElement(pr.a.ItemToggleModalRedux,{id:"about",modalId:fe.y.ABOUT,dialogType:bp.a,text:r({id:"navbar_dropdown.about",defaultMessage:"About {appTitle}"},{appTitle:this.props.siteName||"Mattermost"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-info"})})),h.a.createElement(pr.a.Group,null,h.a.createElement(pr.a.ItemAction,{id:"logout",onClick:this.handleEmitUserLoggedOutEvent,text:r({id:"navbar_dropdown.logout",defaultMessage:"Log Out"}),icon:this.props.mobile&&h.a.createElement("i",{className:"fa fa-sign-out"})})))}}nh(sh,"propTypes",{mobile:u.a.bool.isRequired,id:u.a.string,teamId:u.a.string,teamType:u.a.string,teamName:u.a.string,siteName:u.a.string,currentUser:u.a.object,appDownloadLink:u.a.string,enableCommands:u.a.bool.isRequired,enableCustomEmoji:u.a.bool.isRequired,enableIncomingWebhooks:u.a.bool.isRequired,enableOAuthServiceProvider:u.a.bool.isRequired,enableOutgoingWebhooks:u.a.bool.isRequired,canManageSystemBots:u.a.bool.isRequired,canCreateOrDeleteCustomEmoji:u.a.bool.isRequired,canManageIntegrations:u.a.bool.isRequired,enableUserCreation:u.a.bool.isRequired,enableEmailInvitations:u.a.bool.isRequired,enablePluginMarketplace:u.a.bool.isRequired,experimentalPrimaryTeam:u.a.string,helpLink:u.a.string,reportAProblemLink:u.a.string,moreTeamsToJoin:u.a.bool.isRequired,pluginMenuItems:u.a.arrayOf(u.a.object),isMentionSearch:u.a.bool,teamIsGroupConstrained:u.a.bool.isRequired,isLicensedForLDAPGroups:u.a.bool,currentUsers:u.a.number,userLimit:u.a.string,userIsAdmin:u.a.bool,showGettingStarted:u.a.bool.isRequired,intl:X.a.isRequired,showNextStepsTips:u.a.bool,subscription:u.a.object,isCloud:u.a.bool,actions:u.a.shape({openModal:u.a.func.isRequred,showMentions:u.a.func,showFlaggedPosts:u.a.func,closeRightHandSide:u.a.func.isRequired,closeRhsMenu:u.a.func.isRequired,unhideNextSteps:u.a.func.isRequired,getCloudSubscription:u.a.func}).isRequired}),nh(sh,"defaultProps",{teamType:"",mobile:!1,pluginMenuItems:[]});var ih=Object(Z.c)(sh);var rh=Object(s.connect)((function(e){const t=Object(i.getConfig)(e),a=Object(o.getCurrentTeam)(e),n=Object(r.getCurrentUser)(e),s=t.AppDownloadLink,l="true"===t.EnableCommands,c="true"===t.EnableCustomEmoji,d=t.SiteName,m="true"===t.EnableIncomingWebhooks,u="true"===t.EnableOAuthServiceProvider,p="true"===t.EnableOutgoingWebhooks,h="true"===t.EnableUserCreation,g="true"===t.EnableEmailInvitations,b="true"===t.PluginsEnabled&&"true"===t.EnableMarketplace,f=t.ExperimentalPrimaryTeam,_=t.HelpLink,C=t.ReportAProblemLink;let y=Object(A.haveISystemPermission)(e,{permission:W.Permissions.CREATE_EMOJIS})||Object(A.haveISystemPermission)(e,{permission:W.Permissions.DELETE_EMOJIS});if(!y)for(const t of Object(o.getMyTeams)(e))if(Object(A.haveITeamPermission)(e,{team:t.id,permission:W.Permissions.CREATE_EMOJIS})||Object(A.haveITeamPermission)(e,{team:t.id,permission:W.Permissions.DELETE_EMOJIS})){y=!0;break}const E=Object(A.haveICurrentTeamPermission)(e,{permission:W.Permissions.MANAGE_SLASH_COMMANDS})||Object(A.haveICurrentTeamPermission)(e,{permission:W.Permissions.MANAGE_OAUTH})||Object(A.haveICurrentTeamPermission)(e,{permission:W.Permissions.MANAGE_INCOMING_WEBHOOKS})||Object(A.haveICurrentTeamPermission)(e,{permission:W.Permissions.MANAGE_OUTGOING_WEBHOOKS}),v=Object(A.haveISystemPermission)(e,{permission:W.Permissions.MANAGE_BOTS})||Object(A.haveISystemPermission)(e,{permission:W.Permissions.MANAGE_OTHERS_BOTS}),w=E||v,O=Object(o.getJoinableTeamIds)(e),S=O&&O.length>0,T=Object(ui.k)(e);return{appDownloadLink:s,enableCommands:l,enableCustomEmoji:c,canManageIntegrations:w,enableIncomingWebhooks:m,enableOAuthServiceProvider:u,enableOutgoingWebhooks:p,canManageSystemBots:v,enableUserCreation:h,enableEmailInvitations:g,enablePluginMarketplace:b,experimentalPrimaryTeam:f,helpLink:_,reportAProblemLink:C,pluginMenuItems:e.plugins.components.MainMenu,canCreateOrDeleteCustomEmoji:y,moreTeamsToJoin:S,siteName:d,teamId:a.id,teamName:a.name,teamType:a.type,currentUser:n,isMentionSearch:T===fe.G.MENTION,teamIsGroupConstrained:Boolean(a.group_constrained),isLicensedForLDAPGroups:"true"===e.entities.general.license.LDAPGroups,userLimit:Object(i.getConfig)(e).ExperimentalCloudUserLimit,currentUsers:e.entities.admin.analytics.TOTAL_USERS,userIsAdmin:Object(z.U)(Object(o.getMyTeamMember)(e,a.id).roles),showGettingStarted:Tm(e),showNextStepsTips:Nm(e),showNextSteps:Pm(e),subscription:e.entities.cloud.subscription,isCloud:"true"===Object(i.getLicense)(e).Cloud}}),(function(e){return{actions:Object(n.bindActionCreators)({openModal:_t.b,showMentions:mi.n,showFlaggedPosts:mi.m,closeRightHandSide:mi.b,closeRhsMenu:mi.a,unhideNextSteps:Hd,getCloudSubscription:Ud.getCloudSubscription},e)}}))(ih);function oh(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class lh extends h.a.PureComponent{constructor(...e){super(...e),oh(this,"handleEmitUserLoggedOutEvent",()=>{w.e()})}render(){var e="";null!=this.props.siteName&&(e=this.props.siteName);var t=e;this.props.teamDisplayName&&(t=this.props.teamDisplayName);let a=null;return this.props.showTutorialTip&&(a=h.a.createElement(Dd,{onBottom:!0}),this.props.actions.openRhsMenu()),h.a.createElement("div",{className:la()("sidebar--menu",{"move--left":this.props.isOpen&&z.fb()}),id:"sidebar-menu"},h.a.createElement("div",{className:"team__header theme"},h.a.createElement(vs.Link,{className:"team__name",to:"/channels/".concat(fe.l.DEFAULT_CHANNEL)},t)),h.a.createElement("div",{className:"nav-pills__container mobile-main-menu"},a,h.a.createElement(Pd.a,{in:this.props.isOpen&&z.fb(),classNames:"MobileRightSidebarMenu",enter:!0,exit:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:500,exit:500}},h.a.createElement(rh,{mobile:!0}))))}}oh(lh,"propTypes",{isOpen:u.a.bool.isRequired,teamDisplayName:u.a.string,showTutorialTip:u.a.bool.isRequired,siteName:u.a.string,actions:u.a.shape({openRhsMenu:u.a.func.isRequired})});var ch=Object(s.connect)((function(e){const t=Object(i.getConfig)(e),a=Object(o.getCurrentTeam)(e),n="true"===t.EnableTutorial,s=Object(K.getInt)(e,fe.F.TUTORIAL_STEP,Object(r.getCurrentUserId)(e),fe.Q.FINISHED),l=t.SiteName;return{teamDisplayName:a&&a.display_name,isOpen:Object(ui.b)(e),showTutorialTip:n&&Object(z.fb)()&&s===fe.Q.MENU_POPOVER,siteName:l}}),(function(e){return{actions:Object(n.bindActionCreators)({openRhsMenu:mi.e},e)}}))(lh);function dh(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const mh=fe.Z.ActionTypes;class uh extends h.a.PureComponent{constructor(e){super(e),dh(this,"updateShow",(e,t)=>{this.setState({show:e,callback:t.callback})}),dh(this,"handleSubmit",e=>{var t,a;e.preventDefault();const n=this.state.value;if(!this.isInputValid(n))return void this.setState({inputError:h.a.createElement(q.a,{id:"user.settings.import_theme.submitError",defaultMessage:"Invalid format, please try copying and pasting in again."})});const[s,i,r,o,l,c,d,m]=n.split(","),u={type:"custom",sidebarBg:s,sidebarText:c,sidebarUnreadText:c,sidebarTextHoverBg:l,sidebarTextActiveBorder:r,sidebarTextActiveColor:o,sidebarHeaderBg:i,sidebarHeaderTextColor:c,onlineIndicator:d,mentionBg:m};Object(wa.setThemeDefaults)(u),null===(t=(a=this.state).callback)||void 0===t||t.call(a,u),this.setState({show:!1,callback:null})}),dh(this,"handleChange",e=>{const t=e.target.value;this.setState({value:t}),this.isInputValid(t)?this.setState({inputError:null}):this.setState({inputError:h.a.createElement(q.a,{id:"user.settings.import_theme.submitError",defaultMessage:"Invalid format, please try copying and pasting in again."})})}),dh(this,"handleOnHide",()=>{this.setState({show:!1})}),this.state={value:"",inputError:"",show:!1,callback:null}}componentDidMount(){Fs.addModalListener(mh.TOGGLE_IMPORT_THEME_MODAL,this.updateShow)}componentWillUnmount(){Fs.removeModalListener(mh.TOGGLE_IMPORT_THEME_MODAL,this.updateShow)}isInputValid(e){if(0===e.length)return!1;if(-1!==e.indexOf(" "))return!1;if(e.length>0&&-1===e.indexOf(","))return!1;if(e.length>0){const t=e.split(",");if(8!==t.length)return!1;for(let e=0;e<t.length;e++){if(7!==t[e].length&&4!==t[e].length)return!1;if("#"!==t[e].charAt(0))return!1}}return!0}render(){return h.a.createElement("span",null,h.a.createElement(ra.a,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.handleOnHide,role:"dialog","aria-labelledby":"importThemeModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"importThemeModalLabel"},h.a.createElement(q.a,{id:"user.settings.import_theme.importHeader",defaultMessage:"Import Slack Theme"}))),h.a.createElement("form",{role:"form",className:"form-horizontal"},h.a.createElement(ra.a.Body,null,h.a.createElement("p",null,h.a.createElement(q.a,{id:"user.settings.import_theme.importBody",defaultMessage:'To import a theme, go to a Slack team and look for "Preferences -> Sidebar Theme". Open the custom theme option, copy the theme color values and paste them here:'})),h.a.createElement("div",{className:"form-group less"},h.a.createElement("div",{className:"col-sm-12"},h.a.createElement("input",{id:"themeVector",type:"text",className:"form-control",value:this.state.value,onChange:this.handleChange}),h.a.createElement("div",{className:"input__help"},this.state.inputError)))),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{id:"cancelButton",type:"button",className:"btn btn-link",onClick:this.handleOnHide},h.a.createElement(q.a,{id:"user.settings.import_theme.cancel",defaultMessage:"Cancel"})),h.a.createElement("button",{id:"submitButton",onClick:this.handleSubmit,type:"submit",className:"btn btn-primary"},h.a.createElement(q.a,{id:"user.settings.import_theme.submit",defaultMessage:"Submit"}))))))}}var ph=Object(Z.c)(uh),hh=a(1853);function gh(e){return e.views.lhs.isOpen}var bh=a(1442),fh=a(1421),_h=a(2423);function Ch(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class yh extends h.a.PureComponent{constructor(...e){super(...e),Ch(this,"copy",()=>{let e=this.props.link;-1===e.indexOf("http://")&&-1===e.indexOf("https://")&&(e=this.props.siteURL+e),this.props.actions.copyToClipboard(e)})}render(){const e=h.a.createElement(_h.a,{id:"copy-url-context-menu"+this.props.menuId},h.a.createElement(_h.c,{onClick:this.copy},h.a.createElement(q.a,{id:"copy_url_context_menu.getChannelLink",defaultMessage:"Copy Link"}))),t=h.a.createElement(_h.b,{id:"copy-url-context-menu"+this.props.menuId,holdToDisplay:-1},this.props.children);return h.a.createElement("span",null,e,t)}}Ch(yh,"propTypes",{children:u.a.element,link:u.a.string.isRequired,menuId:u.a.string.isRequired,siteURL:u.a.string.isRequired,actions:u.a.shape({copyToClipboard:u.a.func.isRequired})});var Eh=Object(s.connect)((function(e){return{siteURL:Object(i.getConfig)(e).SiteURL}}),(function(){return{actions:{copyToClipboard:z.i}}}))(yh),vh=a(1404);function wh(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Oh extends h.a.PureComponent{constructor(...e){super(...e),wh(this,"handleSwitch",e=>{e.preventDefault(),Object(v.b)("TeamLink#click"),Object(v.e)("ui","ui_team_sidebar_switch_team"),this.props.switchTeam(this.props.url)}),wh(this,"handleDisabled",e=>{e.preventDefault()})}render(){const{teamIconUrl:e,displayName:t,btnClass:a,mentions:n,unread:s,isDraggable:i=!1,teamIndex:r,teamId:o}=this.props,{formatMessage:l}=this.props.intl;let c=this.props.active?"active":"";const d=this.props.disabled?"team-disabled":"",m=!this.props.url.endsWith("create_team")&&!this.props.url.endsWith("select_team"),u=this.props.active||this.props.disabled?this.handleDisabled:this.handleSwitch;let p,g=l({id:"team.button.ariaLabel",defaultMessage:"{teamName} team"},{teamName:t});c||(c=s?"unread":m?"":"special",g=l({id:"team.button.unread.ariaLabel",defaultMessage:"{teamName} team unread"},{teamName:t}),n&&(g=l({id:"team.button.mentions.ariaLabel",defaultMessage:"{teamName} team, {mentionCount} mentions"},{teamName:t,mentionCount:n}),p=h.a.createElement("span",{className:"badge pull-right small"},n))),g=g.toLowerCase();const b=h.a.createElement(vh.a,{withHover:!0,name:this.props.content||t||"",url:e});let f,_=this.props.tip||Object(z.ob)("team.button.name_undefined","This team does not have a name");if(void 0!==this.props.order&&this.props.order<10){let e;e=Object(z.eb)()?l({id:"team.button.tooltip.mac",defaultMessage:"⌘ ⌥ {order}"},{order:this.props.order}):l({id:"team.button.tooltip",defaultMessage:"Ctrl+Alt+{order}"},{order:this.props.order}),_=h.a.createElement(h.a.Fragment,null,_,h.a.createElement("div",{className:"tooltip-help"},e)),this.props.showOrder&&(f=h.a.createElement("div",{className:"order-indicator"},this.props.order))}const C=h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:this.props.placement,overlay:h.a.createElement(Vi.a,{id:"tooltip-".concat(this.props.url)},_)},h.a.createElement("div",{className:"team-btn "+a},p,b));let E=h.a.createElement(vs.Link,{id:"".concat(this.props.url.slice(1),"TeamButton"),"aria-label":g,className:d,to:this.props.url,onClick:u},C);return Object(y.e)()&&m&&(E=h.a.createElement(Eh,{link:this.props.url,menuId:this.props.url},E)),i?h.a.createElement(bh.b,{draggableId:o,index:r},(e,t)=>h.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{className:la()(["team-container ".concat(c),{isDragging:t.isDragging}])}),E,f)):h.a.createElement("div",{className:"team-container ".concat(c)},E,f)}}wh(Oh,"propTypes",{btnClass:u.a.string,url:u.a.string.isRequired,displayName:u.a.string,content:u.a.string,tip:u.a.oneOfType([u.a.string,u.a.element]).isRequired,order:u.a.number,showOrder:u.a.bool,active:u.a.bool,disabled:u.a.bool,unread:u.a.bool,mentions:u.a.number,placement:u.a.oneOf(["left","right","top","bottom"]),teamIconUrl:u.a.oneOfType([u.a.string,u.a.oneOf([null])]),switchTeam:u.a.func.isRequired,intl:u.a.any.isRequired,isDraggable:u.a.bool,teamIndex:u.a.number,teamId:u.a.string});var Sh=Object(Z.c)(Oh);function Th(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mh(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function Ph(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"}))}function Nh(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}class Ih extends h.a.PureComponent{constructor(e){super(e),Th(this,"switchToPrevOrNextTeam",(e,t,a)=>{if(z.cb(e,fe.l.KeyCodes.UP)||z.cb(e,fe.l.KeyCodes.DOWN)){e.preventDefault();const n=z.cb(e,fe.l.KeyCodes.DOWN)?1:-1,s=a.findIndex(e=>e.id===t)+n;let i;return i=-1===s?a[a.length-1]:s===a.length?a[0]:a[s],this.props.actions.switchTeam("/".concat(i.name)),!0}return!1}),Th(this,"switchToTeamByNumber",(e,t,a)=>{const n=[fe.l.KeyCodes.ONE,fe.l.KeyCodes.TWO,fe.l.KeyCodes.THREE,fe.l.KeyCodes.FOUR,fe.l.KeyCodes.FIVE,fe.l.KeyCodes.SIX,fe.l.KeyCodes.SEVEN,fe.l.KeyCodes.EIGHT,fe.l.KeyCodes.NINE,fe.l.KeyCodes.ZERO];for(const s in n)if(z.cb(e,n[s])&&parseInt(s,10)<a.length){if(e.preventDefault(),a[s].id===t)return!1;const n=a[s];return this.props.actions.switchTeam("/".concat(n.name)),!0}return!1}),Th(this,"handleKeyDown",e=>{if((e.ctrlKey||e.metaKey)&&e.altKey){const{currentTeamId:t}=this.props,a=Object(fh.a)(this.props.myTeams,this.props.locale,this.props.userTeamsOrderPreference);if(this.switchToPrevOrNextTeam(e,t,a))return;if(this.switchToTeamByNumber(e,t,a))return;this.setState({showOrder:!0})}}),Th(this,"handleKeyUp",e=>{(e.ctrlKey||e.metaKey)&&e.altKey||this.setState({showOrder:!1})}),Th(this,"onDragEnd",e=>{const{updateTeamsOrderForUser:t}=this.props.actions;if(!e.destination)return;const a=Object(fh.a)(this.props.myTeams,this.props.locale,this.props.userTeamsOrderPreference),n=e.source.index,s=e.destination.index,i=((e,t,n)=>[...e.slice(0,t),a.find(e=>e.id===n),...e.slice(t,e.length)])((o=n,[...(r=a).slice(0,o),...r.slice(o+1,r.length)]),s,e.draggableId);var r,o;t(i.map(e=>e.id)),this.setState({teamsOrder:i})}),this.state={showOrder:!1,teamsOrder:[]}}componentDidMount(){this.props.actions.getTeams(0,200),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}render(){const e=document.querySelector("#root");if(this.props.myTeams.length<=1)return e.classList.remove("multi-teams"),null;e.classList.add("multi-teams");const t=[],a=Object(fh.a)(this.props.myTeams,this.props.locale,this.props.userTeamsOrderPreference).map((e,t)=>{const a=this.props.myTeamMembers[e.id];return h.a.createElement(Sh,{key:"switch_team_"+e.name,url:"/".concat(e.name),tip:e.display_name,active:e.id===this.props.currentTeamId,displayName:e.display_name,unread:a.msg_count>0,order:t+1,showOrder:this.state.showOrder,mentions:a.mention_count,teamIconUrl:z.Q(e),switchTeam:this.props.actions.switchTeam,isDraggable:!0,teamId:e.id,teamIndex:t})}),n=[];return this.props.moreTeamsToJoin&&!this.props.experimentalPrimaryTeam?n.push(h.a.createElement(Sh,{btnClass:"team-btn__add",key:"more_teams",url:"/select_team",tip:h.a.createElement(q.a,{id:"team_sidebar.join",defaultMessage:"Other teams you can join"}),content:"+",switchTeam:this.props.actions.switchTeam})):n.push(h.a.createElement(Tu.a,{permissions:[x.a.CREATE_TEAM],key:"more_teams"},h.a.createElement(Sh,{btnClass:"team-btn__add",url:"/create_team",tip:h.a.createElement(q.a,{id:"navbar_dropdown.create",defaultMessage:"Create a Team"}),content:"+",switchTeam:this.props.actions.switchTeam}))),t.push(h.a.createElement("div",{key:"team-sidebar-bottom-plugin",className:"team-sidebar-bottom-plugin is-empty"},h.a.createElement(Et.a,{pluggableName:"BottomTeamSidebar"}))),h.a.createElement("div",{className:la()("team-sidebar",{"move--right":this.props.isOpen}),role:"navigation","aria-labelledby":"teamSidebarWrapper"},h.a.createElement("div",{className:"team-wrapper",id:"teamSidebarWrapper"},h.a.createElement(Ei.a,{autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:Ph,renderThumbVertical:Nh,renderView:Mh},h.a.createElement(bh.a,{onDragEnd:this.onDragEnd},h.a.createElement(bh.c,{droppableId:"my_teams",type:"TEAM_BUTTON"},e=>h.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),a,e.placeholder))),n)),t)}}Th(Ih,"propTypes",{myTeams:u.a.arrayOf(u.a.any).isRequired,currentTeamId:u.a.string.isRequired,match:u.a.shape({url:u.a.string.isRequired}).isRequired,moreTeamsToJoin:u.a.bool.isRequired,myTeamMembers:u.a.any.isRequired,isOpen:u.a.bool.isRequired,experimentalPrimaryTeam:u.a.string,locale:u.a.string.isRequired,actions:u.a.shape({getTeams:u.a.func.isRequired,switchTeam:u.a.func.isRequired,updateTeamsOrderForUser:u.a.func.isRequired}).isRequired,userTeamsOrderPreference:u.a.string.isRequired});var Rh=Object(f.o)(Object(s.connect)((function(e){const t=Object(i.getConfig)(e).ExperimentalPrimaryTeam,a=Object(o.getJoinableTeamIds)(e),n=a&&a.length>0;return{currentTeamId:Object(o.getCurrentTeamId)(e),myTeams:Object(o.getMyTeams)(e),myTeamMembers:Object(o.getTeamMemberships)(e),isOpen:gh(e),experimentalPrimaryTeam:t,locale:Object(Mt.a)(e),moreTeamsToJoin:n,userTeamsOrderPreference:Object(K.get)(e,fe.F.TEAMS_ORDER,"","")}}),(function(e){return{actions:Object(n.bindActionCreators)({getTeams:xt.getTeams,switchTeam:qt.e,updateTeamsOrderForUser:qt.f},e)}}))(Ih)),Ah=a(1384),jh=a(1747),xh=a(112),Lh=a(607);function kh(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Dh=new(a.n(Lh).a)({concurrency:2});class Uh extends h.a.PureComponent{constructor(...e){super(...e),kh(this,"prefetchTimeout",void 0),kh(this,"prefetchPosts",e=>{let t;const a=this.props.unreadChannels.find(t=>e===t.id);if(a&&(a.type===fe.l.PRIVATE_CHANNEL||a.type===fe.l.OPEN_CHANNEL)){Date.now()-a.last_post_at<=1e3&&(t=1e3*Math.random())}return this.props.actions.prefetchChannelPosts(e,t)}),kh(this,"prefetchData",()=>{const{prefetchRequestStatus:e,prefetchQueueObj:t}=this.props;for(const a in t){if(!t.hasOwnProperty(a))continue;const n=t[a];for(const t of n)e.hasOwnProperty(t)||Dh.add(async()=>this.prefetchPosts(t))}})}async componentDidUpdate(e){const{currentChannelId:t,prefetchQueueObj:a}=this.props;!e.currentChannelId&&t?(Dh.add(async()=>this.prefetchPosts(t)),await Object($s.m)(),this.prefetchData(),this.props.actions.trackDMGMOpenChannels()):e.prefetchQueueObj!==a&&(clearTimeout(this.prefetchTimeout),await Dh.clear(),this.prefetchData())}render(){return null}}function qh(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Hh(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qh(Object(a),!0).forEach((function(t){Fh(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qh(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Fh(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Bh;kh(Uh,"propTypes",{currentChannelId:u.a.string.isRequired,prefetchQueueObj:u.a.any.isRequired,prefetchRequestStatus:u.a.any.isRequired,unreadChannels:u.a.arrayOf(u.a.any).isRequired,actions:u.a.shape({prefetchChannelPosts:u.a.func.isRequired,trackDMGMOpenChannels:u.a.func.isRequired}).isRequired}),function(e){e[e.high=1]="high",e[e.medium=2]="medium",e[e.low=3]="low"}(Bh||(Bh={}));const Gh=Object(em.memoizeResult)((e,t)=>e.reduce((e,a)=>{const n=a.id,s=t[n];if(s&&!Object(We.isChannelMuted)(s)){if(s.mention_count>0)return Hh(Hh({},e),{},{[Bh.high]:[...e[Bh.high],n]});if(s.notify_props&&"mention"!==s.notify_props.mark_unread&&a.total_msg_count-s.msg_count)return Hh(Hh({},e),{},{[Bh.medium]:[...e[Bh.medium],n]})}return e},{[Bh.high]:[],[Bh.medium]:[],[Bh.low]:[]}));var Vh=Object(s.connect)((function(e){const t=e.views.channel.lastUnreadChannel,a=Object(xh.getMyChannelMemberships)(e),n=Object(B.getUnreadChannels)(e,t);return{prefetchQueueObj:Gh(n,a),prefetchRequestStatus:e.views.channel.channelPrefetchStatus,unreadChannels:n,currentChannelId:Object(B.getCurrentChannelId)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({prefetchChannelPosts:k.l,trackDMGMOpenChannels:$s.s},e)}}))(Uh);function Wh(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class zh extends h.a.PureComponent{static getDerivedStateFromProps(e){return!1===e.show?{displayNameError:""}:null}constructor(e){super(e),Wh(this,"onEnterKeyDown",e=>{const t=z.cb(e,fe.Z.KeyCodes.ENTER),{ctrlSend:a}=this.props;a&&t&&!e.ctrlKey?e.preventDefault():(a&&t&&e.ctrlKey||!a&&t&&!e.shiftKey&&!e.altKey)&&this.handleSubmit(e)}),Wh(this,"handleSubmit",e=>{e.preventDefault();this.displayNameInput.current.value.trim().length<fe.Z.MIN_CHANNELNAME_LENGTH?this.setState({displayNameError:!0}):this.props.onSubmitChannel()}),Wh(this,"handleChange",()=>{const e={displayName:this.displayNameInput.current.value,header:this.channelHeaderInput.current.value,purpose:this.channelPurposeInput.current.value};this.props.onDataChanged(e)}),Wh(this,"handleOnURLChange",e=>{e.preventDefault(),this.props.onChangeURLPressed&&this.props.onChangeURLPressed()}),Wh(this,"handlePublicTypeSelect",()=>{this.props.onTypeSwitched("O")}),Wh(this,"handlePrivateTypeSelect",()=>{this.props.onTypeSwitched("P")}),this.state={displayNameError:""},this.channelHeaderInput=h.a.createRef(),this.channelPurposeInput=h.a.createRef(),this.displayNameInput=h.a.createRef()}render(){const{canCreatePublicChannel:e,canCreatePrivateChannel:t}=this.props,a=e&&t;var n=null,s=null,i="form-group";this.state.displayNameError&&(n=h.a.createElement("p",{className:"input__help error"},h.a.createElement(q.a,{id:"channel_modal.displayNameError",defaultMessage:"Display name must have at least 2 characters."}),this.state.displayNameError),i+=" has-error"),this.props.serverError&&(s=h.a.createElement("div",{className:"form-group has-error"},h.a.createElement("div",{className:"col-sm-12"},h.a.createElement("p",{id:"createChannelError",className:"input__help error"},this.props.serverError))));const r=h.a.createElement("div",{className:"flex-parent"},h.a.createElement(nu.a,{className:"icon icon__globe icon--body type-icon"}),h.a.createElement(q.a,{id:"channel_modal.publicName",defaultMessage:"Public"}),h.a.createElement(q.a,{id:"channel_modal.publicHint",defaultMessage:" - Anyone can join this channel"})),o=h.a.createElement("div",{className:"flex-parent"},h.a.createElement(su.a,{className:"icon icon__lock icon--body type-icon"}),h.a.createElement(q.a,{id:"channel_modal.privateName",defaultMessage:"Private"}),h.a.createElement(q.a,{id:"channel_modal.privateHint",defaultMessage:" - Only invited members can join this channel"}));let l=null;l=a?h.a.createElement("fieldset",{key:"channelType",className:"multi-select__radio"},h.a.createElement("div",{className:"radio"},h.a.createElement("label",null,h.a.createElement("input",{id:"public",type:"radio",name:"channelType",checked:"O"===this.props.channelType,onChange:this.handlePublicTypeSelect,"aria-labelledby":"channelModalTypeLabel"}),r)),h.a.createElement("div",{className:"radio"},h.a.createElement("label",null,h.a.createElement("input",{id:"private",type:"radio",name:"channelType",checked:"P"===this.props.channelType,onChange:this.handlePrivateTypeSelect,"aria-labelledby":"channelModalTypeLabel"}),o))):h.a.createElement("div",{className:"type-container multi-select__radio"},h.a.createElement("div",{className:"radio"},e?r:null,t?o:null));const c=Object(Mi.d)();return h.a.createElement("span",null,h.a.createElement(ra.a,{dialogClassName:"a11y__modal new-channel__modal new-channel",show:this.props.show,bsSize:"large",onHide:this.props.onModalDismissed,onExited:this.props.onModalExited,autoFocus:!0,restoreFocus:!0,role:"dialog","aria-labelledby":"newChannelModalLabel"},h.a.createElement(ra.a.Header,null,h.a.createElement("button",{type:"button",className:"close",onClick:this.props.onModalDismissed,"aria-label":"Close",title:"Close"},h.a.createElement("span",{"aria-hidden":"true"},"×")),h.a.createElement(ra.a.Title,{componentClass:"h1",id:"newChannelModalLabel"},h.a.createElement(q.a,{id:"channel_modal.modalTitle",defaultMessage:"New Channel"}))),h.a.createElement("form",{role:"form",className:"form-horizontal"},h.a.createElement(ra.a.Body,null,h.a.createElement("div",{className:"form-group"},h.a.createElement("label",{className:"col-sm-3 form__label control-label",id:"channelModalTypeLabel"},h.a.createElement(q.a,{id:"channel_modal.type",defaultMessage:"Type"})),h.a.createElement("div",{className:"col-sm-9"},l)),h.a.createElement("div",{className:i},h.a.createElement("label",{className:"col-sm-3 form__label control-label",htmlFor:"newChannelName"},h.a.createElement(q.a,{id:"channel_modal.name",defaultMessage:"Name"})),h.a.createElement("div",{className:"col-sm-9"},h.a.createElement(Na.a,{id:"newChannelName",onChange:this.handleChange,type:"text",ref:this.displayNameInput,className:"form-control",placeholder:{id:Object(J.b)("channel_modal.nameEx"),defaultMessage:'E.g.: "Bugs", "Marketing", "客户支持"'},maxLength:fe.Z.MAX_CHANNELNAME_LENGTH,value:this.props.channelData.displayName,autoFocus:!0,onKeyDown:this.onEnterKeyDown}),n,h.a.createElement("p",{className:"input__help dark"},"URL: "+c+this.props.channelData.name+" (",h.a.createElement("button",{className:"color--link style--none",onClick:this.handleOnURLChange},h.a.createElement(q.a,{id:"channel_modal.edit",defaultMessage:"Edit"})),")"))),h.a.createElement("div",{className:"form-group"},h.a.createElement("div",{className:"col-sm-3"},h.a.createElement("label",{className:"form__label control-label",htmlFor:"newChannelPurpose"},h.a.createElement(q.a,{id:"channel_modal.purpose",defaultMessage:"Purpose"})),h.a.createElement("label",{className:"form__label light"},h.a.createElement(q.a,{id:"channel_modal.optional",defaultMessage:"(optional)"}))),h.a.createElement("div",{className:"col-sm-9"},h.a.createElement("textarea",{id:"newChannelPurpose",className:"form-control no-resize",ref:this.channelPurposeInput,rows:"4",placeholder:z.ob("channel_modal.purposeEx",'E.g.: "A channel to file bugs and improvements"'),maxLength:"250",value:this.props.channelData.purpose,onChange:this.handleChange}),h.a.createElement("p",{className:"input__help"},h.a.createElement(q.a,{id:"channel_modal.descriptionHelp",defaultMessage:"Describe how this channel should be used."})))),h.a.createElement("div",{className:"form-group less"},h.a.createElement("div",{className:"col-sm-3"},h.a.createElement("label",{className:"form__label control-label",htmlFor:"newChannelHeader"},h.a.createElement(q.a,{id:"channel_modal.header",defaultMessage:"Header"})),h.a.createElement("label",{className:"form__label light"},h.a.createElement(q.a,{id:"channel_modal.optional",defaultMessage:"(optional)"}))),h.a.createElement("div",{className:"col-sm-9"},h.a.createElement("textarea",{id:"newChannelHeader",className:"form-control no-resize",ref:this.channelHeaderInput,rows:"4",placeholder:z.ob("channel_modal.headerEx",'E.g.: "[Link Title](http://example.com)"'),maxLength:"1024",value:this.props.channelData.header,onChange:this.handleChange}),h.a.createElement("p",{className:"input__help"},h.a.createElement(q.a,{id:"channel_modal.headerHelp",defaultMessage:"Set text that will appear in the header of the channel beside the channel name. For example, include frequently used links by typing [Link Title](http://example.com)."})),s))),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{id:"cancelNewChannel",type:"button",className:"btn btn-link",onClick:this.props.onModalDismissed,onBlur:()=>document.getElementById("newChannelName").focus()},h.a.createElement(q.a,{id:"channel_modal.cancel",defaultMessage:"Cancel"})),h.a.createElement("button",{id:"submitNewChannel",onClick:this.handleSubmit,type:"submit",className:"btn btn-primary"},h.a.createElement(q.a,{id:"channel_modal.createNew",defaultMessage:"Create Channel"}))))))}}Wh(zh,"propTypes",{show:u.a.bool.isRequired,currentTeamId:u.a.string.isRequired,channelType:u.a.string.isRequired,channelData:u.a.object.isRequired,ctrlSend:u.a.bool,serverError:u.a.node,onSubmitChannel:u.a.func.isRequired,onModalDismissed:u.a.func.isRequired,onModalExited:u.a.func,onTypeSwitched:u.a.func.isRequired,onChangeURLPressed:u.a.func.isRequired,onDataChanged:u.a.func.isRequired,canCreatePublicChannel:u.a.bool.isRequired,canCreatePrivateChannel:u.a.bool.isRequired});var Yh=Object(s.connect)((function(e){return{ctrlSend:Object(K.getBool)(e,W.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),currentTeamId:Object(o.getCurrentTeamId)(e)}}))(zh);function Kh(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Zh extends h.a.PureComponent{constructor(e){super(e),Kh(this,"urlInput",void 0),Kh(this,"onURLChanged",e=>{const t=e.target.value.trim();this.setState({currentURL:t.replace(/[^A-Za-z0-9-_]/g,"").toLowerCase(),userEdit:!0})}),Kh(this,"onSubmit",e=>{var t,a;e.preventDefault(),e.preventDefault();const n=(null===(t=this.urlInput)||void 0===t||null===(a=t.current)||void 0===a?void 0:a.value)||"",s=Object(Mi.h)(n);s.length>0?this.setState({urlErrors:s}):(this.setState({urlErrors:"",userEdit:!1}),this.props.onModalSubmit(n))}),Kh(this,"onCancel",()=>{this.setState({urlErrors:"",userEdit:!1}),this.props.onModalDismissed()}),this.urlInput=h.a.createRef(),this.state={currentURL:e.currentURL,urlErrors:"",userEdit:!1}}static getDerivedStateFromProps(e,t){return t.userEdit?null:{currentURL:e.currentURL}}render(){let e="input-group input-group--limit",t=null,a=null;this.state.urlErrors&&(e+=" has-error"),this.props.serverError||this.state.urlErrors?t=h.a.createElement("div",{className:"has-error"},h.a.createElement("p",{className:"input__help error"},this.state.urlErrors||this.props.serverError)):a=h.a.createElement("p",{className:"input__help"},h.a.createElement(q.a,{id:"change_url.helpText",defaultMessage:"You can use lowercase letters, numbers, dashes, and underscores."}));const n=this.props.currentTeamURL+"/channels",s=Object(Mi.d)(n),i=h.a.createElement(Vi.a,{id:"urlTooltip"},n);return h.a.createElement(ra.a,{dialogClassName:"a11y__modal",show:this.props.show,onHide:this.onCancel,onExited:this.props.onModalExited,role:"dialog","aria-labelledby":"changeUrlModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"changeUrlModalLabel"},this.props.title)),h.a.createElement("form",{role:"form",className:"form-horizontal"},h.a.createElement(ra.a.Body,null,h.a.createElement("div",{className:"form-group"},h.a.createElement("label",{className:"col-sm-3 form__label control-label"},h.a.createElement(q.a,{id:"change_url.urlLabel",defaultMessage:"Channel URL"})),h.a.createElement("div",{className:"col-sm-9"},h.a.createElement("div",{className:e},h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:i},h.a.createElement("span",{className:"input-group-addon"},s)),h.a.createElement("input",{type:"text",ref:this.urlInput,className:"form-control",maxLength:fe.Z.MAX_CHANNELNAME_LENGTH,onChange:this.onURLChanged,value:this.state.currentURL,autoFocus:!0})),t,a))),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onCancel},h.a.createElement(q.a,{id:"change_url.close",defaultMessage:"Close"})),h.a.createElement("button",{onClick:this.onSubmit,type:"submit",className:"btn btn-primary"},this.props.submitButtonText))))}}Kh(Zh,"propTypes",{show:u.a.bool,title:u.a.node,submitButtonText:u.a.node,currentURL:u.a.string,currentTeamURL:u.a.string.isRequired,serverError:u.a.node,onModalSubmit:u.a.func.isRequired,onModalExited:u.a.func,onModalDismissed:u.a.func.isRequired}),Kh(Zh,"defaultProps",{show:!1,title:"Change URL",submitButtonText:"Save",currentURL:"",serverError:null});var Jh=Object(s.connect)((function(e){const t=Object(o.getCurrentTeam)(e);return{currentTeamURL:"".concat(Object(Mi.e)(),"/").concat(t.name)}}))(Zh);function Xh(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Qh(e){let t=e.channelType||fe.Z.OPEN_CHANNEL;return e.canCreatePublicChannel||t!==fe.Z.OPEN_CHANNEL||(t=fe.Z.PRIVATE_CHANNEL),e.canCreatePrivateChannel||t!==fe.Z.PRIVATE_CHANNEL||(t=fe.Z.OPEN_CHANNEL),t}class $h extends h.a.PureComponent{constructor(e){super(e),Xh(this,"onSubmit",()=>{if(!this.state.channelDisplayName)return void this.setState({serverError:z.ob("channel_flow.invalidName","Invalid Channel Name")});if(this.state.channelName.length<2)return void this.setState({flowState:3});const{actions:e,currentTeamId:t}=this.props,a={team_id:t,name:this.state.channelName,display_name:this.state.channelDisplayName,purpose:this.state.channelPurpose,header:this.state.channelHeader,type:this.state.channelType,create_at:0,creator_id:"",delete_at:0,extra_update_at:0,group_constrained:!1,id:"",last_post_at:0,scheme_id:"",total_msg_count:0,update_at:0};e.createChannel(a).then(({data:t,error:a})=>{a?this.onCreateChannelError(a):t&&(this.onModalDismissed(),e.switchToChannel(t))})}),Xh(this,"onModalDismissed",()=>{this.props.actions.closeModal(fe.y.NEW_CHANNEL_FLOW)}),Xh(this,"onCreateChannelError",e=>{"model.channel.is_valid.2_or_more.app_error"===e.server_error_id?this.setState({flowState:3,serverError:h.a.createElement(q.a,{id:"channel_flow.handleTooShort",defaultMessage:"Channel URL must be 2 or more lowercase alphanumeric characters"})}):"store.sql_channel.update.exists.app_error"===e.server_error_id?this.setState({serverError:z.ob("channel_flow.alreadyExist","A channel with that URL already exists")}):this.setState({serverError:e.message})}),Xh(this,"typeSwitched",e=>{this.setState({channelType:e,serverError:""})}),Xh(this,"urlChangeRequested",e=>{e&&e.preventDefault(),this.setState({flowState:2})}),Xh(this,"urlChangeSubmitted",e=>{3===this.state.flowState?this.setState({channelName:e,nameModified:!0},this.onSubmit):this.setState({flowState:1,serverError:null,channelName:e,nameModified:!0})}),Xh(this,"urlChangeDismissed",()=>{this.setState({flowState:1})}),Xh(this,"channelDataChanged",e=>{this.setState({channelDisplayName:e.displayName,channelPurpose:e.purpose,channelHeader:e.header}),this.state.nameModified||this.setState({channelName:Object(Mi.a)(e.displayName.trim())})}),this.state={serverError:"",channelType:Qh(e),flowState:1,channelDisplayName:"",channelName:"",channelPurpose:"",channelHeader:"",nameModified:!1}}render(){const e={name:this.state.channelName,displayName:this.state.channelDisplayName,purpose:this.state.channelPurpose,header:this.state.channelHeader};let t=!1,a=!1,n="",s="";switch(this.state.flowState){case 1:t=!0;break;case 2:a=!0,n=h.a.createElement(q.a,{id:"channel_flow.changeUrlTitle",defaultMessage:"Change Channel URL"}),s=n;break;case 3:a=!0,n=h.a.createElement(q.a,{id:"channel_flow.set_url_title",defaultMessage:"Set Channel URL"}),s=h.a.createElement(q.a,{id:"channel_flow.create",defaultMessage:"Create Channel"})}return h.a.createElement("span",null,h.a.createElement(Yh,{show:t,channelType:this.state.channelType,canCreatePublicChannel:this.props.canCreatePublicChannel,canCreatePrivateChannel:this.props.canCreatePrivateChannel,channelData:e,serverError:this.state.serverError,onSubmitChannel:this.onSubmit,onModalDismissed:this.onModalDismissed,onTypeSwitched:this.typeSwitched,onChangeURLPressed:this.urlChangeRequested,onDataChanged:this.channelDataChanged}),h.a.createElement(Jh,{show:a,title:n,submitButtonText:s,currentURL:this.state.channelName,serverError:this.state.serverError,onModalSubmit:this.urlChangeSubmitted,onModalDismissed:this.urlChangeDismissed}))}}Xh($h,"propTypes",{channelType:u.a.any,currentTeamId:u.a.string.isRequired,canCreatePublicChannel:u.a.bool.isRequired,canCreatePrivateChannel:u.a.bool.isRequired,actions:u.a.shape({createChannel:u.a.func.isRequired,switchToChannel:u.a.func.isRequired,closeModal:u.a.func.isRequired}).isRequired}),Xh($h,"defaultProps",{channelType:fe.Z.OPEN_CHANNEL});var eg=Object(s.connect)((function(e){const t=Object(o.getCurrentTeam)(e),a=Object(B.getCurrentChannelId)(e);let n=!1,s=!1;return t&&(n=Object(A.haveIChannelPermission)(e,{channel:a,team:t.id,permission:x.a.CREATE_PUBLIC_CHANNEL}),s=Object(A.haveIChannelPermission)(e,{channel:a,team:t.id,permission:x.a.CREATE_PRIVATE_CHANNEL})),{currentTeamId:t.id,canCreatePrivateChannel:s,canCreatePublicChannel:n}}),(function(e){return{actions:Object(n.bindActionCreators)({createChannel:ge.createChannel,switchToChannel:k.n,closeModal:_t.a},e)}}))($h);function tg(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ag extends h.a.PureComponent{static getDerivedStateFromProps(e,t){return{isSearch:e.isSearch,page:e.isSearch&&!t.isSearch?0:t.page}}constructor(e){super(e),tg(this,"createChannelRow",e=>{const t="".concat(e.display_name,", ").concat(e.purpose).toLowerCase();let a;const{shouldShowArchivedChannels:n}=this.props;return n&&(a=h.a.createElement("div",{className:"more-modal__icon-container"},h.a.createElement(md.a,{className:"icon icon__archive"}))),h.a.createElement("div",{className:"more-modal__row",key:e.id,id:"ChannelRow-".concat(e.name)},h.a.createElement("div",{className:"more-modal__details"},h.a.createElement("button",{onClick:this.handleJoin.bind(this,e),"aria-label":t,className:"style--none more-modal__name"},a,e.display_name),h.a.createElement("p",{className:"more-modal__description"},e.purpose)),h.a.createElement("div",{className:"more-modal__actions"},h.a.createElement("button",{onClick:this.handleJoin.bind(this,e),className:"btn btn-primary",disabled:this.state.joiningChannel},h.a.createElement(el.a,{loading:this.state.joiningChannel===e.id,text:Object(z.ob)("more_channels.joining","Joining...")},h.a.createElement(q.a,{id:n?"more_channels.view":"more_channels.join",defaultMessage:n?"View":"Join"})))))}),tg(this,"nextPage",e=>{e.preventDefault(),this.setState({page:this.state.page+1,nextDisabled:!0}),this.nextTimeoutId=setTimeout(()=>this.setState({nextDisabled:!1}),500),this.props.nextPage(this.state.page+1),Ci()(mr.a.findDOMNode(this.channelListScroll.current)).scrollTop(0)}),tg(this,"previousPage",e=>{e.preventDefault(),this.setState({page:this.state.page-1}),Ci()(mr.a.findDOMNode(this.channelListScroll.current)).scrollTop(0)}),tg(this,"doSearch",()=>{const e=this.filter.current.value;this.props.search(e),""===e&&this.setState({page:0})}),tg(this,"toggleArchivedChannelsOn",()=>{this.props.toggleArchivedChannels(!0)}),tg(this,"toggleArchivedChannelsOff",()=>{this.props.toggleArchivedChannels(!1)}),this.nextTimeoutId=0,this.state={joiningChannel:"",page:0,nextDisabled:!1},this.filter=h.a.createRef(),this.channelListScroll=h.a.createRef()}componentDidMount(){!y.p()&&this.filter.current&&this.filter.current.focus()}handleJoin(e){this.setState({joiningChannel:e.id}),this.props.handleJoin(e,()=>{this.setState({joiningChannel:""})})}render(){const e=this.props.channels;let t,a,n;if(this.props.loading&&0===e.length)t=h.a.createElement(Sp.a,{style:{marginTop:"50%"}});else if(0===e.length)t=h.a.createElement("div",{className:"no-channel-message"},h.a.createElement("p",{className:"primary-message"},h.a.createElement(q.a,{id:"more_channels.noMore",defaultMessage:"No more channels to join"})),this.props.noResultsText);else{const e=this.state.page*this.props.channelsPerPage,s=e+this.props.channelsPerPage,i=this.props.channels.slice(e,s);t=i.map(this.createChannelRow),i.length>=this.props.channelsPerPage&&s<this.props.channels.length&&(a=h.a.createElement("button",{className:"btn btn-link filter-control filter-control__next",onClick:this.nextPage,disabled:this.state.nextDisabled},h.a.createElement(q.a,{id:"more_channels.next",defaultMessage:"Next"}))),this.state.page>0&&(n=h.a.createElement("button",{className:"btn btn-link filter-control filter-control__prev",onClick:this.previousPage},h.a.createElement(q.a,{id:"more_channels.prev",defaultMessage:"Previous"})))}let s,i=h.a.createElement("div",{className:"filter-row filter-row--full"},h.a.createElement("div",{className:"col-sm-12"},h.a.createElement(wp.a,{id:"searchChannelsTextbox",ref:this.filter,className:"form-control filter-textbox",placeholder:{id:Object(J.b)("filtered_channels_list.search"),defaultMessage:"Search channels"},inputComponent:Na.a,onInput:this.doSearch})));return this.props.createChannelButton&&(i=h.a.createElement("div",{className:"channel_search"},h.a.createElement("div",{className:"search_input"},h.a.createElement(wp.a,{id:"searchChannelsTextbox",ref:this.filter,className:"form-control filter-textbox",placeholder:{id:Object(J.b)("filtered_channels_list.search"),defaultMessage:"Search channels"},inputComponent:Na.a,onInput:this.doSearch})),h.a.createElement("div",{className:"create_button"},this.props.createChannelButton))),this.props.canShowArchivedChannels&&(s=h.a.createElement("div",{className:"more-modal__dropdown"},h.a.createElement(ur.a,{id:"channelsMoreDropdown"},h.a.createElement("a",null,h.a.createElement("span",null,this.props.shouldShowArchivedChannels?Object(z.ob)("more_channels.show_archived_channels","Show: Archived Channels"):Object(z.ob)("more_channels.show_public_channels","Show: Public Channels")),h.a.createElement("span",{className:"caret"})),h.a.createElement(pr.a,{openLeft:!1,ariaLabel:Object(z.ob)("team_members_dropdown.menuAriaLabel","Change the role of a team member")},h.a.createElement(pr.a.ItemAction,{id:"channelsMoreDropdownPublic",onClick:this.toggleArchivedChannelsOff,text:Object(z.ob)("suggestion.search.public","Public Channels")}),h.a.createElement(pr.a.ItemAction,{id:"channelsMoreDropdownArchived",onClick:this.toggleArchivedChannelsOn,text:Object(z.ob)("suggestion.archive","Archived Channels")}))))),h.a.createElement("div",{className:"filtered-user-list"},i,s,h.a.createElement("div",{role:"application",ref:"channelList",className:"more-modal__list"},h.a.createElement("div",{id:"moreChannelsList",ref:this.channelListScroll},t)),h.a.createElement("div",{className:"filter-controls"},n,a))}}function ng(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}ag.defaultProps={channels:[],isSearch:!1},ag.propTypes={channels:u.a.arrayOf(u.a.object),channelsPerPage:u.a.number,nextPage:u.a.func.isRequired,isSearch:u.a.bool,search:u.a.func.isRequired,handleJoin:u.a.func.isRequired,noResultsText:u.a.object,loading:u.a.bool,createChannelButton:u.a.element,toggleArchivedChannels:u.a.func.isRequired,shouldShowArchivedChannels:u.a.bool.isRequired,canShowArchivedChannels:u.a.bool.isRequired};class sg extends h.a.PureComponent{constructor(e){super(e),ng(this,"searchTimeoutId",void 0),ng(this,"handleHide",()=>{this.setState({show:!1}),this.props.bodyOnly&&this.handleExit()}),ng(this,"handleNewChannel",()=>{this.handleExit(),this.props.actions.openModal({modalId:fe.y.NEW_CHANNEL_FLOW,dialogType:eg})}),ng(this,"handleExit",()=>{this.props.actions.closeModal(fe.y.MORE_CHANNELS)}),ng(this,"onChange",e=>{this.state.search&&!e||this.setState({searchedChannels:[],serverError:null})}),ng(this,"nextPage",e=>{this.props.actions.getChannels(this.props.teamId,e+1,50)}),ng(this,"handleJoin",async(e,t)=>{const{actions:a,currentUserId:n,teamId:s,teamName:i}=this.props,r=await a.joinChannel(n,s,e.id);r.error?this.setState({serverError:r.error.message}):(N.a.push(Object(Mi.b)(i,e.name)),this.handleHide()),t&&t()}),ng(this,"search",e=>{if(clearTimeout(this.searchTimeoutId),""===e)return this.onChange(!0),this.setState({search:!1,searchedChannels:[],searching:!1,searchTerm:e}),void(this.searchTimeoutId=0);this.setState({search:!0,searching:!0,searchTerm:e});const t=window.setTimeout(async()=>{try{const{data:a}=await this.props.actions.searchMoreChannels(e,this.state.shouldShowArchivedChannels);if(t!==this.searchTimeoutId)return;a?this.setSearchResults(a):this.setState({searchedChannels:[],searching:!1})}catch(e){this.setState({searchedChannels:[],searching:!1})}},100);this.searchTimeoutId=t}),ng(this,"setSearchResults",e=>{this.setState({searchedChannels:this.state.shouldShowArchivedChannels?e.filter(e=>0!==e.delete_at):e.filter(e=>0===e.delete_at),searching:!1})}),ng(this,"toggleArchivedChannels",e=>{this.search(this.state.searchTerm),this.setState({shouldShowArchivedChannels:e})}),this.searchTimeoutId=0,this.state={show:!0,shouldShowArchivedChannels:"private"===this.props.morePublicChannelsModalType,search:!1,searchedChannels:[],serverError:null,searching:!1,searchTerm:""}}componentDidMount(){this.props.actions.getChannels(this.props.teamId,0,100),this.props.canShowArchivedChannels&&this.props.actions.getArchivedChannels(this.props.teamId,0,100)}render(){const{channels:e,archivedChannels:t,teamId:a,channelsRequestStarted:n,bodyOnly:s}=this.props,{search:i,searchedChannels:r,serverError:o,show:l,searching:c,shouldShowArchivedChannels:d}=this.state;let m,u;m=d?i?r:t:i?r:e,o&&(u=h.a.createElement("div",{className:"form-group has-error"},h.a.createElement("label",{className:"control-label"},o)));const p=h.a.createElement(Su.a,{teamId:a,permissions:[x.a.CREATE_PUBLIC_CHANNEL]},h.a.createElement("button",{id:"createNewChannel",type:"button",className:"btn btn-primary channel-create-btn",onClick:this.handleNewChannel},h.a.createElement(q.a,{id:"more_channels.create",defaultMessage:"Create Channel"}))),g=h.a.createElement(Su.a,{teamId:a,permissions:[x.a.CREATE_PUBLIC_CHANNEL,x.a.CREATE_PRIVATE_CHANNEL]},h.a.createElement("p",{className:"secondary-message"},h.a.createElement(q.a,{id:"more_channels.createClick",defaultMessage:"Click 'Create New Channel' to make a new one"}))),b=h.a.createElement(h.a.Fragment,null,h.a.createElement(ag,{channels:m,channelsPerPage:50,nextPage:this.nextPage,isSearch:i,search:this.search,handleJoin:this.handleJoin,noResultsText:g,loading:i?c:n,createChannelButton:s&&p,toggleArchivedChannels:this.toggleArchivedChannels,shouldShowArchivedChannels:this.state.shouldShowArchivedChannels,canShowArchivedChannels:this.props.canShowArchivedChannels}),u);return s?b:h.a.createElement(ra.a,{dialogClassName:"a11y__modal more-modal more-modal--action",show:l,onHide:this.handleHide,onExited:this.handleExit,role:"dialog",id:"moreChannelsModal","aria-labelledby":"moreChannelsModalLabel"},h.a.createElement(ra.a.Header,{id:"moreChannelsModalHeader",closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"moreChannelsModalLabel"},h.a.createElement(q.a,{id:"more_channels.title",defaultMessage:"More Channels"})),p),h.a.createElement(ra.a.Body,null,b))}}ng(sg,"propTypes",{channels:u.a.arrayOf(u.a.any).isRequired,archivedChannels:u.a.arrayOf(u.a.any).isRequired,currentUserId:u.a.string.isRequired,teamId:u.a.string.isRequired,teamName:u.a.string.isRequired,channelsRequestStarted:u.a.bool,bodyOnly:u.a.bool,canShowArchivedChannels:u.a.bool,morePublicChannelsModalType:u.a.string,actions:u.a.shape({getChannels:u.a.func.isRequired,getArchivedChannels:u.a.func.isRequired,joinChannel:u.a.func.isRequired,searchMoreChannels:u.a.func.isRequired,openModal:u.a.func.isRequired,closeModal:u.a.func.isRequired}).isRequired});const ig=Object(F.a)(B.getOtherChannels,e=>e&&e.filter(e=>0===e.delete_at)),rg=Object(F.a)(B.getChannelsInCurrentTeam,e=>e&&e.filter(e=>0!==e.delete_at));var og=Object(s.connect)((function(e){const t=Object(o.getCurrentTeam)(e)||{};return{channels:ig(e,null)||[],archivedChannels:rg(e)||[],currentUserId:Object(r.getCurrentUserId)(e),teamId:t.id,teamName:t.name,channelsRequestStarted:e.requests.channels.getChannels.status===W.RequestStatus.STARTED,canShowArchivedChannels:"true"===Object(i.getConfig)(e).ExperimentalViewArchivedChannels}}),(function(e){return{actions:Object(n.bindActionCreators)({getChannels:ge.getChannels,getArchivedChannels:ge.getArchivedChannels,joinChannel:ge.joinChannel,searchMoreChannels:U.h,openModal:_t.b,closeModal:_t.a},e)}}))(sg),lg=a(1365),cg=a(1379);function dg(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class mg extends h.a.PureComponent{constructor(...e){super(...e),dg(this,"addValue",()=>{this.props.onAdd(this.props.channel.profiles)})}getStyle(){let e="mentions__name";return this.props.isSelected&&(e+=" suggestion--selected"),e}displayName(){return this.props.channel.profiles.map(e=>"@"+e.username).join(", ")}render(){return h.a.createElement("div",{key:this.props.channel.id,className:"more-modal__row clickable "+this.getStyle(),onClick:this.addValue,ref:this.props.isSelected?this.props.selectedItemRef:this.props.channel.id},h.a.createElement("div",{className:"more-modal__gm-icon bg-text-200"},this.props.channel.profiles.length),h.a.createElement("div",{className:"more-modal__details"},h.a.createElement("div",{className:"more-modal__name"},this.displayName())),h.a.createElement("div",{className:"more-modal__actions"},h.a.createElement("div",{className:"more-modal__actions--round"},h.a.createElement(cg.a,null))))}}function ug(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pg(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ug(Object(a),!0).forEach((function(t){hg(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ug(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function hg(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}dg(mg,"propTypes",{selectedItemRef:u.a.any.isRequired,onAdd:u.a.func.isRequired,isSelected:u.a.bool.isRequired,channel:u.a.oneOfType([u.a.any,u.a.any,u.a.shape({profiles:u.a.arrayOf(u.a.any).isRequired})]).isRequired});const gg=fe.Z.MAX_USERS_IN_GM-1;class bg extends h.a.PureComponent{constructor(e){super(e),hg(this,"searchTimeoutId",void 0),hg(this,"exitToChannel",void 0),hg(this,"multiselect",void 0),hg(this,"selectedItemRef",void 0),hg(this,"loadModalData",()=>{this.getUserProfiles(),this.props.actions.getTotalUsersStats(),this.loadProfilesMissingStatus(this.props.users,this.props.statuses)}),hg(this,"loadProfilesMissingStatus",(e=[],t={})=>{const a=e.filter(e=>!t[e.id]).map(e=>e.id);a.length>0&&this.props.actions.getStatusesByIds(a)}),hg(this,"handleHide",()=>{this.props.actions.setModalSearchTerm(""),this.setState({show:!1}),this.props.bodyOnly&&this.handleExit()}),hg(this,"setUsersLoadingState",e=>{this.setState({loadingUsers:e})}),hg(this,"handleExit",()=>{this.exitToChannel&&N.a.push(this.exitToChannel),this.props.onModalDismissed&&this.props.onModalDismissed(),this.props.onHide&&this.props.onHide()}),hg(this,"handleSubmit",(e=this.state.values)=>{const{actions:t}=this.props;if(this.state.saving)return;const a=e.map(e=>e.id);if(0===a.length)return;this.setState({saving:!0});const n=e=>{const{data:t,error:a}=e;this.setState({saving:!1}),a||(this.exitToChannel="/"+this.props.currentTeamName+"/channels/"+t.name,this.handleHide())};1===a.length?t.openDirectChannelToUserId(a[0]).then(n):t.openGroupChannelToUserIds(a).then(n)}),hg(this,"addValue",e=>{if(Array.isArray(e))this.addUsers(e);else if("profiles"in e)this.addUsers(e.profiles);else{const t=Object.assign([],this.state.values);-1===t.indexOf(e)&&t.push(e),this.setState({values:t})}}),hg(this,"addUsers",e=>{const t=Object.assign([],this.state.values),a=t.map(e=>e.id);for(const n of e)-1===a.indexOf(n.id)&&t.push(n);this.setState({values:t})}),hg(this,"getUserProfiles",e=>{const t=e?e+1:0;"any"===this.props.restrictDirectMessage?this.props.actions.getProfiles(t,100).then(()=>{this.setUsersLoadingState(!1)}):this.props.actions.getProfilesInTeam(this.props.currentTeamId,t,100).then(()=>{this.setUsersLoadingState(!1)})}),hg(this,"handlePageChange",(e,t)=>{e>t&&(this.setUsersLoadingState(!0),this.getUserProfiles(e))}),hg(this,"resetPaging",()=>{this.multiselect.current&&this.multiselect.current.resetPaging()}),hg(this,"search",e=>{this.props.actions.setModalSearchTerm(e)}),hg(this,"handleDelete",e=>{this.setState({values:e})}),hg(this,"renderAriaLabel",e=>e?e.username:""),hg(this,"renderOption",(e,t,a,n)=>{if(e.type&&"G"===e.type)return h.a.createElement(mg,{selectedItemRef:this.selectedItemRef,key:e.id,channel:e,isSelected:t,onAdd:e=>a(e)});const s=Object(z.m)(e);let i=s;e.id===this.props.currentUserId?i=h.a.createElement(q.a,{id:"more_direct_channels.directchannel.you",defaultMessage:"{displayname} (you)",values:{displayname:s}}):e.delete_at&&(i=h.a.createElement(q.a,{id:"more_direct_channels.directchannel.deactivated",defaultMessage:"{displayname} - Deactivated",values:{displayname:s}}));let r="";t&&(r="more-modal__row--selected");const o=e.delete_at||e.is_bot?null:this.props.statuses[e.id],l=e.is_bot?null:e.email;return h.a.createElement("div",{key:e.id,ref:t?this.selectedItemRef:e.id,className:"more-modal__row clickable "+r,onClick:()=>a(e),onMouseMove:()=>n(e)},h.a.createElement(bo.a,{src:d.Client4.getProfilePictureUrl(e.id,e.last_picture_update),status:o,size:"md"}),h.a.createElement("div",{className:"more-modal__details"},h.a.createElement("div",{className:"more-modal__name"},i,h.a.createElement(Le.a,{show:Boolean(e.is_bot),className:"badge-popoverlist"}),h.a.createElement(ke.a,{show:Object(z.bb)(e),className:"badge-popoverlist"})),h.a.createElement("div",{className:"more-modal__description"},l)),h.a.createElement("div",{className:"more-modal__actions"},h.a.createElement("div",{className:"more-modal__actions--round"},h.a.createElement(cg.a,null))))}),hg(this,"handleSubmitImmediatelyOn",e=>e.id===this.props.currentUserId||Boolean(e.delete_at)),this.searchTimeoutId=0,this.multiselect=h.a.createRef(),this.selectedItemRef=h.a.createRef();const t=[];if(e.currentChannelMembers)for(let a=0;a<e.currentChannelMembers.length;a++){const n=Object.assign({},e.currentChannelMembers[a]);n.id!==e.currentUserId&&t.push(n)}this.state={values:t,show:!0,search:!1,saving:!1,loadingUsers:!0}}updateFromProps(e){if(e.searchTerm!==this.props.searchTerm){clearTimeout(this.searchTimeoutId);const e=this.props.searchTerm;if(""===e)this.resetPaging();else{const t="any"===this.props.restrictDirectMessage?"":this.props.currentTeamId;this.searchTimeoutId=setTimeout(async()=>{this.setUsersLoadingState(!0);const[{data:a},{data:n}]=await Promise.all([this.props.actions.searchProfiles(e,{team_id:t}),this.props.actions.searchGroupChannels(e)]);a&&this.props.actions.loadStatusesForProfilesList(a),n&&this.props.actions.loadProfilesForGroupChannels(n),this.resetPaging(),this.setUsersLoadingState(!1)},fe.Z.SEARCH_TIMEOUT_MILLISECONDS)}}e.users.length===this.props.users.length&&Object.keys(e.statuses).length===Object.keys(this.props.statuses).length||this.loadProfilesMissingStatus(this.props.users,this.props.statuses)}componentDidUpdate(e){this.updateFromProps(e)}renderValue(e){return e.data.username}render(){let e;this.props.currentChannelMembers&&(this.state.values&&this.state.values.length>=gg?e=h.a.createElement(q.a,{id:"more_direct_channels.new_convo_note.full",defaultMessage:"You've reached the maximum number of people for this conversation. Consider creating a private channel instead."}):this.props.isExistingChannel&&(e=h.a.createElement(q.a,{id:"more_direct_channels.new_convo_note",defaultMessage:"This will start a new conversation. If you're adding a lot of people, consider creating a private channel instead."})));const t=Object(z.ob)("multiselect.go","Go"),a=Object(z.ob)("multiselect.loading","Loading.."),n=h.a.createElement(q.a,{id:"multiselect.numPeopleRemaining",defaultMessage:"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. ",values:{num:gg-this.state.values.length}});let s=this.props.users||[];if(this.state.values.length)s=s.filter(e=>0===e.delete_at&&e.id!==this.props.currentUserId);else{const e=[],t=[];for(const a of s)(a.delete_at?t:e).push(a);s=e.concat(t)}s=s.filter(e=>{if(0===e.delete_at)return!0;for(const t of this.props.myDirectChannels)if(t.name.indexOf(e.id)>=0)return!0;return!1});const i=[...s.map(e=>pg({label:e.username,value:e.id},e)),...(this.props.groupChannels||[]).map(e=>pg({label:e.display_name,value:e.id},e))],r=h.a.createElement(lg.a,{key:"moreDirectChannelsList",ref:this.multiselect,options:i,optionRenderer:this.renderOption,selectedItemRef:this.selectedItemRef,values:this.state.values,valueRenderer:this.renderValue,ariaLabelRenderer:this.renderAriaLabel,perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,noteText:e,maxValues:gg,numRemainingText:n,buttonSubmitText:t,buttonSubmitLoadingText:a,submitImmediatelyOn:this.handleSubmitImmediatelyOn,saving:this.state.saving,loading:this.state.loadingUsers,users:this.props.users,totalCount:this.props.totalCount,placeholderText:Object(z.ob)("multiselect.placeholder","Search and add members")});return this.props.bodyOnly?r:h.a.createElement(ra.a,{dialogClassName:"a11y__modal more-modal more-direct-channels",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,onEntered:this.loadModalData,role:"dialog","aria-labelledby":"moreDmModalLabel",id:"moreDmModal"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"moreDmModalLabel"},h.a.createElement(q.a,{id:"more_direct_channels.title",defaultMessage:"Direct Messages"}))),h.a.createElement(ra.a.Body,{role:"application"},r),h.a.createElement(ra.a.Footer,{className:"modal-footer--invisible"},h.a.createElement("button",{id:"closeModalButton",type:"button",className:"btn btn-link"},h.a.createElement(q.a,{id:"general_button.close",defaultMessage:"Close"}))))}}hg(bg,"propTypes",{currentUserId:u.a.string.isRequired,currentTeamId:u.a.string.isRequired,currentTeamName:u.a.string.isRequired,searchTerm:u.a.string.isRequired,users:u.a.arrayOf(u.a.any).isRequired,groupChannels:u.a.any.isRequired,myDirectChannels:u.a.arrayOf(u.a.any).isRequired,statuses:u.a.any.isRequired,totalCount:u.a.number,currentChannelMembers:u.a.arrayOf(u.a.any).isRequired,isExistingChannel:u.a.bool.isRequired,restrictDirectMessage:u.a.string,onModalDismissed:u.a.func.isRequired,onHide:u.a.func,bodyOnly:u.a.bool,actions:u.a.shape({getProfiles:u.a.func.isRequired,getProfilesInTeam:u.a.func.isRequired,getStatusesByIds:u.a.func.isRequired,getTotalUsersStats:u.a.func.isRequired,loadStatusesForProfilesList:u.a.func.isRequired,loadProfilesForGroupChannels:u.a.func.isRequired,openDirectChannelToUserId:u.a.func.isRequired,openGroupChannelToUserIds:u.a.func.isRequired,searchProfiles:u.a.func.isRequired,searchGroupChannels:u.a.func.isRequired,setModalSearchTerm:u.a.func.isRequired}).isRequired});const fg=Object(em.memoizeResult)((e,t)=>e.filter(e=>Object(je.filterProfilesStartingWithTerm)(e.profiles,t).length>0)),_g=Object(em.memoizeResult)((e,t)=>Object.values(e).filter(e=>"D"===e.type&&!(e.name&&e.name.indexOf(t)<0)));var Cg=Object(s.connect)(()=>{const e=Object(r.makeSearchProfilesStartingWithTerm)();return(t,a)=>{const n=Object(r.getCurrentUserId)(t);let s=[];a.isExistingChannel&&(s=Object(r.getProfilesInCurrentChannel)(t));const l=Object(i.getConfig)(t).RestrictDirectMessage,c=t.views.search.modalSearch;let d;d=c?"any"===l?e(t,c,!1):Object(r.searchProfilesInCurrentTeam)(t,c,!1):"any"===l?Object(r.getProfiles)(t,{}):Object(r.getProfilesInCurrentTeam)(t);const m=fg(Object(B.getChannelsWithUserProfiles)(t),c),u=_g(Object(B.getAllChannels)(t),n),p=Object(o.getCurrentTeam)(t),h=Object(r.getTotalUsersStats)(t)||{total_users_count:0};return{currentTeamId:p.id,currentTeamName:p.name,searchTerm:c,users:d.sort(je.sortByUsername),myDirectChannels:u,groupChannels:m,statuses:t.entities.users.statuses,currentChannelMembers:s,currentUserId:n,restrictDirectMessage:l,totalCount:h.total_users_count}}},(function(e){return{actions:Object(n.bindActionCreators)({getProfiles:Y.getProfiles,getProfilesInTeam:Y.getProfilesInTeam,getStatusesByIds:Y.getStatusesByIds,getTotalUsersStats:Y.getTotalUsersStats,loadStatusesForProfilesList:Ut.b,loadProfilesForGroupChannels:$s.l,openDirectChannelToUserId:U.f,openGroupChannelToUserIds:U.g,searchProfiles:Y.searchProfiles,searchGroupChannels:ge.searchGroupChannels,setModalSearchTerm:Au.b},e)}}))(bg);function yg(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Eg(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yg(Object(a),!0).forEach((function(t){vg(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yg(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vg(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const wg=ze.a.getState,Og=Object(r.makeSearchProfilesMatchingWithTerm)();class Sg extends Ue.a{static get propTypes(){return Eg(Eg({},super.propTypes),{},{channelMember:u.a.object,hasDraft:u.a.bool,userImageUrl:u.a.string,dmChannelTeammate:u.a.object})}render(){const{item:e,isSelection:t,userImageUrl:a}=this.props,n=e.channel,s=n.delete_at&&0!==n.delete_at,i=this.props.channelMember;let r=null;i&&i.notify_props&&i.mention_count>0&&(r=h.a.createElement("span",{className:"badge"},i.mention_count));let o="mentions__name";t&&(o+=" suggestion--selected");const l=n.display_name;let c=null;c=s?h.a.createElement("div",{className:"suggestion-list__icon suggestion-list__icon--large"},h.a.createElement("i",{className:"icon icon-archive-outline"})):this.props.hasDraft?h.a.createElement("div",{className:"suggestion-list__icon suggestion-list__icon--large"},h.a.createElement("i",{className:"icon icon-pencil-outline"})):n.type===fe.l.OPEN_CHANNEL?h.a.createElement("div",{className:"suggestion-list__icon suggestion-list__icon--large"},h.a.createElement("i",{className:"icon icon-globe"})):n.type===fe.l.PRIVATE_CHANNEL?h.a.createElement("div",{className:"suggestion-list__icon suggestion-list__icon--large"},h.a.createElement("i",{className:"icon icon-lock-outline"})):n.type===fe.l.GM_CHANNEL?h.a.createElement("div",{className:"suggestion-list__icon suggestion-list__icon--large"},h.a.createElement("div",{className:"status status--group"},"G")):h.a.createElement("div",{className:"pull-left"},h.a.createElement(De.a,{size:"sm",url:a}));let d=null;if(n.type===fe.l.DM_CHANNEL){const e=this.props.dmChannelTeammate;d=h.a.createElement(h.a.Fragment,null,h.a.createElement(Le.a,{show:Boolean(e&&e.is_bot),className:"badge-autocomplete"}),h.a.createElement(ke.a,{show:Boolean(e&&z.bb(e)),className:"badge-autocomplete"}))}return h.a.createElement("div",Object.assign({onClick:this.handleClick,onMouseMove:this.handleMouseMove,className:o,role:"listitem",ref:e=>{this.node=e},id:"switchChannel_".concat(n.name),"data-testid":n.name,"aria-label":l||n.name},Ue.a.baseProps),c,h.a.createElement("span",null,l),d,r)}}const Tg=Object(s.connect)((function(e,t){const a=t.item&&t.item.channel,n=a?a.id:"",s=!!n&&Object(ui.i)(e,fe.N.DRAFT,n),i=a&&Object(r.getUser)(e,a.userId),o=i&&z.R(i.id,i.last_picture_update);let l=a&&a.type===fe.l.DM_CHANNEL&&z.x(e,a.id);return a&&z.X(l)&&(l=Object(r.getUser)(e,a.userId)),{channelMember:Object(B.getMyChannelMemberships)(e)[n],hasDraft:s&&Boolean(s.message.trim()||s.fileInfos.length||s.uploadsInProgress.length),userImageUrl:o,dmChannelTeammate:l}}),null,null,{forwardRef:!0})(Sg);let Mg="";function Pg(e,t){const a=!!e.channel.delete_at&&0!==e.channel.delete_at,n=!!t.channel.delete_at&&0!==t.channel.delete_at;if(a&&!n)return 1;if(!a&&n)return-1;if(e.deactivated&&!t.deactivated)return 1;if(t.deactivated&&!e.deactivated)return-1;const s=e.channel,i=t.channel;let r=s.display_name.toLowerCase(),o=i.display_name.toLowerCase();s.type===fe.l.DM_CHANNEL&&r.startsWith("@")&&(r=r.substring(1)),i.type===fe.l.DM_CHANNEL&&o.startsWith("@")&&(o=o.substring(1));const l=r.startsWith(Mg),c=o.startsWith(Mg);return s.type!==fe.l.OPEN_CHANNEL||e.last_viewed_at||i.type===fe.l.OPEN_CHANNEL&&!t.last_viewed_at?i.type!==fe.l.OPEN_CHANNEL||t.last_viewed_at?l&&!c?-1:!l&&c?1:e.last_viewed_at&&t.last_viewed_at?t.last_viewed_at-e.last_viewed_at:e.last_viewed_at?-1:t.last_viewed_at?1:Object(We.sortChannelsByTypeAndDisplayName)("en",s,i):-1:1}class Ng extends xe.a{handlePretextChanged(e,t){if(e){if(Mg=e,this.startNewRequest(e),this.shouldCancelDispatch(e))return!1;const a=Object(B.getChannelsInCurrentTeam)(wg()).concat(Object(B.getDirectAndGroupChannels)(wg())),n=Object.assign([],Og(wg(),e,!1)),s=this.formatList(e,a,n);s&&t(s),this.fetchUsersAndChannels(e,t)}else this.formatUnreadChannelsAndDispatch(t);return!0}async fetchUsersAndChannels(e,t){const a=wg(),n=Object(o.getCurrentTeamId)(a);if(!n)return;let s;s="team"===Object(i.getConfig)(a).RestrictDirectMessage?d.Client4.autocompleteUsers(e,n,""):d.Client4.autocompleteUsers(e,"","");const l=Object(ge.searchChannels)(n,e)(ze.a.dispatch,ze.a.getState);let c=[],m=[];try{c=await s;const{data:e}=await l;m=e}catch(e){ze.a.dispatch(Object(aa.logError)(e))}if(this.shouldCancelDispatch(e))return;const u=Object(r.getCurrentUserId)(a),p=Object(B.getChannelsInCurrentTeam)(a).concat(Object(B.getDirectAndGroupChannels)(a))||[],h=Object.assign([],Og(a,e,!1))||[],g=this.formatList(e,p,h),b=m.concat(Object(B.getGroupChannels)(a))||[],f=Object.assign([],c.users)||[],_=this.formatList(e,b,f,!1);ze.a.dispatch({type:ft.UserTypes.RECEIVED_PROFILES_LIST,data:[...h.filter(e=>e.id!==u),...f.filter(e=>e.id!==u)]});const C=[...g.terms,..._.terms.filter(e=>!g.terms.includes(e))],y=[...g.items,..._.items.filter(e=>!g.terms.includes(e.channel.userId||e.channel.id))];t(Eg(Eg({},g),{items:y,terms:C}))}userWrappedChannel(e,t){let a;return Object(K.getTeammateNameDisplaySetting)(wg())===W.Preferences.DISPLAY_PREFER_FULL_NAME?a=(e.first_name||e.last_name)&&e.nickname?"".concat(z.C(e)," - @").concat(e.username," (").concat(e.nickname,")"):e.nickname?"@".concat(e.username," - (").concat(e.nickname,")"):e.first_name||e.last_name?"".concat(z.C(e)," - @").concat(e.username):"@".concat(e.username):(a="@".concat(e.username),(e.first_name||e.last_name)&&e.nickname?a+=" - ".concat(z.C(e)," (").concat(e.nickname,")"):e.nickname?a+=" - (".concat(e.nickname,")"):(e.first_name||e.last_name)&&(a+=" - ".concat(z.C(e)))),e.delete_at&&(a+=" - "+z.ob("channel_switch_modal.deactivated","Deactivated")),{channel:{display_name:a,name:e.username,id:t?t.id:e.id,userId:e.id,update_at:e.update_at,type:fe.l.DM_CHANNEL,last_picture_update:e.last_picture_update||0},name:e.username,deactivated:e.delete_at}}formatList(e,t,a,n=!0){const s=[],o=Object(B.getMyChannelMemberships)(wg()),l={},c=function(e){const t=e.toLowerCase(),a=wg(),n=Object(r.getUserIdsInChannels)(a),s={};return e=>{let i=e.display_name;if(e.type===fe.l.GM_CHANNEL||e.type===fe.l.DM_CHANNEL){const t=n[e.id]||new Set([]);if(!t.size&&e.type===fe.l.DM_CHANNEL){const n=z.M(e.name);Object(r.getUser)(a,n)&&t.add(n)}for(const e of t){let t=s[e];if(!t){const n=Object(r.getUser)(a,e);if(!n)continue;const{nickname:i,username:o}=n;t="".concat(i).concat(o).concat(z.C(n)),s[e]=t}i+=t}}return i.toLowerCase().includes(t)}}(e),d=wg(),m=Object(i.getConfig)(d),u="true"===m.ExperimentalViewArchivedChannels;for(const e of Object.keys(t)){const i=t[e];if(!l[i.id]&&c(i)){const e=Object.assign({},i),t=0!==i.delete_at;let r={channel:e,name:e.name,deactivated:!1};if(o[i.id])r.last_viewed_at=o[i.id].last_viewed_at;else if(n)continue;if(!u&&t)continue;if(t&&o[i.id])r.type=fe.l.ARCHIVED_CHANNEL;else{if(t&&!o[i.id])continue;if(e.type===fe.l.GM_CHANNEL){e.name=e.display_name,r.name=e.name;if(!Object(We.isGroupChannelVisible)(m,Object(K.getMyPreferences)(d),i,Object(R.getLastPostPerChannel)(d)[i.id],Object(We.isUnreadChannel)(Object(B.getMyChannelMemberships)(d),i))&&n)continue}else if(e.type===fe.l.DM_CHANNEL){const t=z.M(e.name),n=a.find(e=>e.id===t);if(!n)continue;l[n.id]=!0,r=this.userWrappedChannel(n,e),o[i.id]&&(r.last_viewed_at=o[i.id].last_viewed_at)}}l[i.id]=!0,s.push(r)}}for(let e=0;e<a.length;e++){const t=a[e];if(l[t.id])continue;const i=this.userWrappedChannel(t),c=Object(r.getCurrentUserId)(wg()),d=z.w(c,t.id),m=Object(B.getChannelByName)(wg(),d);if(m&&o[m.id])i.last_viewed_at=o[m.id].last_viewed_at;else if(n)continue;l[t.id]=!0,s.push(i)}return{matchedPretext:e,terms:s.sort(Pg).map(e=>e.channel.userId||e.channel.id),items:s,component:Tg}}formatUnreadChannelsAndDispatch(e){const t=Object(B.makeGetChannel)(),a=Object(B.getSortedUnreadChannelIds)(wg(),!1),n=[];for(let e=0;e<a.length;e++){const s=t(wg(),{id:a[e]})||{};let i={channel:s,name:s.name,deactivated:!1};if(s.type===fe.l.GM_CHANNEL)i.name=s.display_name;else if(s.type===fe.l.DM_CHANNEL){const e=Object(r.getUser)(wg(),z.M(s.name));if(!e)continue;i=this.userWrappedChannel(e,s)}i.type=fe.l.MENTION_UNREAD_CHANNELS,n.push(i)}e({matchedPretext:"",terms:n.map(e=>e.channel.id),items:n,component:Tg})}}const Ig=ze.a.getState;class Rg extends Ue.a{render(){const{item:e,isSelection:t}=this.props;let a="mentions__name";return t&&(a+=" suggestion--selected"),h.a.createElement("div",Object.assign({onClick:this.handleClick,className:a,onMouseMove:this.handleMouseMove,ref:e=>{this.node=e}},Ue.a.baseProps),h.a.createElement("div",{className:"status"},h.a.createElement(q.a,{id:"general_tab.teamIcon",defaultMessage:"Team Icon"},e=>h.a.createElement("i",{className:"fa fa-group",title:e}))),e.display_name)}}let Ag="";function jg(e,t){const a=e.display_name.toLowerCase(),n=t.display_name.toLowerCase(),s=a.startsWith(Ag),i=n.startsWith(Ag);if(s&&i){const s=Object(Mt.a)(Ig());return a!==n?a.localeCompare(n,s,{numeric:!0}):e.name.localeCompare(t.name,s,{numeric:!0})}return s?-1:1}class xg extends xe.a{handlePretextChanged(e,t){if(e){Ag=e,this.startNewRequest(e);const a=o.getMyTeams(Ig()).filter(t=>-1!==t.display_name.toLowerCase().indexOf(e)||-1!==t.name.indexOf(e)),n=a.sort(jg).map(e=>e.name);return t({matchedPretext:e,terms:n,items:a,component:Rg}),!0}return!1}}function Lg(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class kg extends h.a.PureComponent{constructor(e){super(e),Lg(this,"focusTextbox",()=>{if(null==this.switchBox)return;const e=this.switchBox.getTextbox();document.activeElement!==e&&(e.focus(),z.sb(e))}),Lg(this,"setSwitchBoxRef",e=>{this.switchBox=e,this.focusTextbox()}),Lg(this,"onShow",()=>{this.setState({text:""})}),Lg(this,"onHide",()=>{this.focusPostTextbox(),this.setState({text:""}),this.props.onHide()}),Lg(this,"focusPostTextbox",()=>{y.p()||setTimeout(()=>{const e=document.querySelector("#post_textbox");e&&e.focus()})}),Lg(this,"onChange",e=>{this.setState({text:e.target.value,shouldShowLoadingSpinner:!0})}),Lg(this,"handleKeyDown",e=>{z.cb(e,fe.Z.KeyCodes.TAB)&&(e.preventDefault(),this.switchMode())}),Lg(this,"handleSubmit",async e=>{if(e)if("channel"===this.state.mode){const{joinChannelById:t,switchToChannel:a}=this.props.actions,n=e.channel;e.type===fe.Z.MENTION_MORE_CHANNELS&&n.type===fe.Z.OPEN_CHANNEL&&await t(n.id),a(n).then(e=>{e.data&&this.onHide()})}else N.a.push("/"+e.name),this.onHide()}),Lg(this,"enableChannelProvider",()=>{this.channelProviders[0].disableDispatches=!1,this.teamProviders[0].disableDispatches=!0}),Lg(this,"enableTeamProvider",()=>{this.teamProviders[0].disableDispatches=!1,this.channelProviders[0].disableDispatches=!0}),Lg(this,"switchMode",()=>{"channel"===this.state.mode&&this.props.showTeamSwitcher?(this.enableTeamProvider(),this.setState({mode:"team"})):"team"===this.state.mode&&(this.enableChannelProvider(),this.setState({mode:"channel"}))}),Lg(this,"handleOnClick",e=>{e.preventDefault();const t=e.currentTarget.getAttribute("data-mode");this.enableChannelProvider(),this.setState({mode:t}),this.focusTextbox()}),Lg(this,"handleSuggestionsReceived",e=>{const t=e.items.some(e=>e.loading);this.setState({shouldShowLoadingSpinner:t,pretext:e.matchedPretext,hasSuggestions:e.items.length>0})}),this.channelProviders=[new Ng],this.teamProviders=[new xg],this.switchBox=null,this.state={text:"",mode:"channel",hasSuggestions:!0,shouldShowLoadingSpinner:!0,pretext:""}}render(){let e=this.channelProviders,t=h.a.createElement("h1",null,h.a.createElement(q.a,{id:"quick_switch_modal.switchChannels",defaultMessage:"Switch Channels"})),a=Object(J.b)("quick_switch_modal.channelsShortcut.windows"),n="CTRL+K";z.eb()&&(a=Object(J.b)("quick_switch_modal.channelsShortcut.mac"),n="CMD+K");let s,i=Object(J.b)("quick_switch_modal.teamsShortcut.windows"),r="CTRL+ALT+K";if(z.eb()&&(i=Object(J.b)("quick_switch_modal.teamsShortcut.mac"),r="CMD+ALT+K"),this.props.showTeamSwitcher){let s="",o="";"team"===this.state.mode?(e=this.teamProviders,o="active"):s="active",t=h.a.createElement("div",{className:"nav nav-tabs"},h.a.createElement("li",{className:s},h.a.createElement("a",{"data-mode":"channel",href:"#",onClick:this.handleOnClick},h.a.createElement(q.a,{id:"quick_switch_modal.channels",defaultMessage:"Channels"}),h.a.createElement("span",{className:"small"},h.a.createElement(q.a,{id:a,defaultMessage:n})))),h.a.createElement("li",{className:o},h.a.createElement("a",{"data-mode":"team",href:"#",onClick:this.handleOnClick},h.a.createElement(q.a,{id:"quick_switch_modal.teams",defaultMessage:"Teams"}),h.a.createElement("span",{className:"small"},h.a.createElement(q.a,{id:i,defaultMessage:r})))))}return s=z.fb()?h.a.createElement(Pr.b,{id:"quick_switch_modal.help_mobile",defaultMessage:"Type to find a channel."}):this.props.showTeamSwitcher?h.a.createElement(Pr.b,{id:"quick_switch_modal.help",defaultMessage:"Start typing then use TAB to toggle channels/teams, **UP/DOWN** to browse, **ENTER** to select, and **ESC** to dismiss."}):h.a.createElement(Pr.b,{id:"quick_switch_modal.help_no_team",defaultMessage:"Type to find a channel. Use **UP/DOWN** to browse, **ENTER** to select, **ESC** to dismiss."}),h.a.createElement(ra.a,{dialogClassName:"a11y__modal channel-switcher",ref:"modal",show:!0,onHide:this.onHide,enforceFocus:!1,restoreFocus:!1,role:"dialog","aria-labelledby":"quickSwitchModalLabel","aria-describedby":"quickSwitchHint",animation:!1},h.a.createElement(ra.a.Header,{id:"quickSwitchModalLabel",closeButton:!0}),h.a.createElement(ra.a.Body,null,h.a.createElement("div",{className:"channel-switcher__header"},t,h.a.createElement("div",{className:"channel-switcher__hint",id:"quickSwitchHint"},s)),h.a.createElement("div",{className:"channel-switcher__suggestion-box"},h.a.createElement("i",{className:"icon icon-magnify icon-16"}),h.a.createElement(mt.a,{id:"quickSwitchInput",ref:this.setSwitchBoxRef,className:"form-control focused",onChange:this.onChange,value:this.state.text,onKeyDown:this.handleKeyDown,onItemSelected:this.handleSubmit,listComponent:ut.a,maxLength:"64",providers:e,listStyle:"bottom",completeOnTab:!1,spellCheck:"false",delayInputUpdate:!0,openWhenEmpty:!0,onSuggestionsReceived:this.handleSuggestionsReceived,forceSuggestionsWhenBlur:!0}),!this.state.shouldShowLoadingSpinner&&!this.state.hasSuggestions&&this.state.text&&h.a.createElement(Xn,{variant:Gn.ChannelSearch,titleValues:{channelName:'"'.concat(this.state.pretext,'"')}}))))}}Lg(kg,"propTypes",{onHide:u.a.func.isRequired,showTeamSwitcher:u.a.bool,actions:u.a.shape({joinChannelById:u.a.func.isRequired,switchToChannel:u.a.func.isRequired}).isRequired});var Dg=Object(s.connect)((function(){return{showTeamSwitcher:!1}}),(function(e){return{actions:Object(n.bindActionCreators)({joinChannelById:k.d,switchToChannel:k.n},e)}}))(kg);function Ug(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.arrow.down",defaultMessage:"Down Arrow Icon"})},h.a.createElement("path",{d:"M8.696 2H7.184V11L3.062 6.878L2 7.94L7.94 13.88L13.88 7.94L12.818 6.878L8.696 11V2Z"})))}a(2161);function qg(e){return h.a.createElement("div",{id:"unreadIndicator"+e.name,className:la()("nav-pills__unread-indicator",{"nav-pills__unread-indicator--visible":e.show},e.extraClass),onClick:e.onClick},h.a.createElement(Ug,{className:"icon icon__unread"}),e.content)}qg.propTypes={onClick:u.a.func.isRequired,show:u.a.bool,extraClass:u.a.string,content:u.a.node,name:u.a.string},qg.defaultProps={show:!1,extraClass:"",content:""};var Hg=qg,Fg=a(1443),Bg=a(1731),Gg=a(1734),Vg=a(1732),Wg=a(1733);function zg(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Yg extends h.a.PureComponent{constructor(...e){super(...e),zg(this,"isUserOutOfOffice",()=>this.props.status===fe.U.OUT_OF_OFFICE),zg(this,"setStatus",e=>{this.props.actions.setStatus({user_id:this.props.userId,status:e})}),zg(this,"setOnline",e=>{e.preventDefault(),this.setStatus(fe.U.ONLINE)}),zg(this,"setOffline",e=>{e.preventDefault(),this.setStatus(fe.U.OFFLINE)}),zg(this,"setAway",e=>{e.preventDefault(),this.setStatus(fe.U.AWAY)}),zg(this,"setDnd",e=>{e.preventDefault(),this.setStatus(fe.U.DND)}),zg(this,"showStatusChangeConfirmation",e=>{const t={ModalId:fe.y.RESET_STATUS,dialogType:si,dialogProps:{newStatus:e}};this.props.actions.openModal(t)}),zg(this,"renderProfilePicture",()=>this.props.profilePicture?h.a.createElement(De.a,{size:"lg",url:this.props.profilePicture}):null),zg(this,"renderDropdownIcon",()=>h.a.createElement(q.a,{id:"generic_icons.dropdown",defaultMessage:"Dropdown Icon"},e=>h.a.createElement("i",{className:"fa fa-caret-down","aria-label":e})))}render(){const e=this.isUserOutOfOffice()&&""===this.props.autoResetPref,t=this.renderProfilePicture(),a=this.renderDropdownIcon(),n=e?()=>this.showStatusChangeConfirmation("online"):this.setOnline,s=e?()=>this.showStatusChangeConfirmation("dnd"):this.setDnd,i=e?()=>this.showStatusChangeConfirmation("away"):this.setAway,r=e?()=>this.showStatusChangeConfirmation("offline"):this.setOffline;return h.a.createElement(ur.a,{onToggle:this.onToggle,style:this.props.style,className:"status-dropdown-menu"},h.a.createElement("div",{className:"status-wrapper status-selector"},t,h.a.createElement("button",{className:"status style--none","aria-label":Object(z.ob)("status_dropdown.menuAriaLabel","Set a status")},h.a.createElement(Fg.a,{status:this.props.status,button:!0})),h.a.createElement("span",{className:"status status-edit edit"},a)),h.a.createElement(pr.a,{ariaLabel:Object(z.ob)("status_dropdown.menuAriaLabel","Set a status"),id:"statusDropdownMenu"},h.a.createElement(pr.a.Header,null,h.a.createElement(q.a,{id:"status_dropdown.set_your_status",defaultMessage:"Status"})),h.a.createElement(pr.a.Group,null,h.a.createElement(pr.a.ItemAction,{show:this.isUserOutOfOffice(),onClick:()=>null,ariaLabel:Object(z.ob)("status_dropdown.set_ooo","Out of office").toLowerCase(),text:Object(z.ob)("status_dropdown.set_ooo","Out of office"),extraText:Object(z.ob)("status_dropdown.set_ooo.extra","Automatic Replies are enabled")})),h.a.createElement(pr.a.Group,null,h.a.createElement(pr.a.ItemAction,{onClick:n,ariaLabel:Object(z.ob)("status_dropdown.set_online","Online").toLowerCase(),text:Object(z.ob)("status_dropdown.set_online","Online"),icon:h.a.createElement(Gg.a,{className:"online--icon"}),id:"status-menu-online"}),h.a.createElement(pr.a.ItemAction,{onClick:i,ariaLabel:Object(z.ob)("status_dropdown.set_away","Away").toLowerCase(),text:Object(z.ob)("status_dropdown.set_away","Away"),icon:h.a.createElement(Bg.a,{className:"away--icon"}),id:"status-menu-away"}),h.a.createElement(pr.a.ItemAction,{onClick:s,ariaLabel:"".concat(Object(z.ob)("status_dropdown.set_dnd","Do not disturb").toLowerCase(),". ").concat(Object(z.ob)("status_dropdown.set_dnd.extra","Disables desktop, email and push notifications").toLowerCase()),text:Object(z.ob)("status_dropdown.set_dnd","Do not disturb"),extraText:Object(z.ob)("status_dropdown.set_dnd.extra","Disables all notifications"),icon:h.a.createElement(Vg.a,{className:"dnd--icon"}),id:"status-menu-dnd"}),h.a.createElement(pr.a.ItemAction,{onClick:r,ariaLabel:Object(z.ob)("status_dropdown.set_offline","Offline").toLowerCase(),text:Object(z.ob)("status_dropdown.set_offline","Offline"),icon:h.a.createElement(Wg.a,null),id:"status-menu-offline"}))))}}zg(Yg,"propTypes",{style:u.a.object,status:u.a.string,userId:u.a.string.isRequired,profilePicture:u.a.string,autoResetPref:u.a.string,actions:u.a.shape({openModal:u.a.func.isRequired,setStatus:u.a.func.isRequired}).isRequired}),zg(Yg,"defaultProps",{userId:"",profilePicture:"",status:fe.U.OFFLINE});var Kg=Object(s.connect)((function(e){const t=Object(r.getCurrentUser)(e);if(!t)return{};const a=t.id;return{userId:a,profilePicture:d.Client4.getProfilePictureUrl(a,t.last_picture_update),autoResetPref:Object(K.get)(e,W.Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS,a,""),status:Object(r.getStatusForUserId)(e,a)}}),(function(e){return{actions:Object(n.bindActionCreators)({openModal:_t.b,setStatus:Y.setStatus},e)}}))(Yg),Zg=a(1487);class Jg extends h.a.PureComponent{render(){let e=null;this.props.showTutorialTip&&(e=h.a.createElement(Dd,{onBottom:!1}));let t=h.a.createElement("h1",{id:"headerTeamName",className:"team__name","data-teamid":this.props.teamId},this.props.teamDisplayName);return this.props.teamDescription&&(t=h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"bottom",overlay:h.a.createElement(Vi.a,{id:"team-name__tooltip"},this.props.teamDescription)},t)),h.a.createElement("div",{className:"SidebarHeaderDropdownButton",id:"sidebarHeaderDropdownButton"},e,h.a.createElement("div",{id:"headerInfo",className:"header__info"},t,h.a.createElement("div",{id:"headerUsername",className:"user__name"},"@"+this.props.currentUser.username),h.a.createElement("button",{className:"style--none sidebar-header-dropdown__icon","aria-label":Object(z.ob)("navbar_dropdown.menuAriaLabel","main menu")},h.a.createElement(Zg.a,null))))}}function Xg(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Jg,"propTypes",{showTutorialTip:u.a.bool.isRequired,teamDescription:u.a.string.isRequired,teamId:u.a.string.isRequired,currentUser:u.a.object.isRequired,teamDisplayName:u.a.string.isRequired});class Qg extends h.a.PureComponent{constructor(...e){super(...e),Xg(this,"toggleShortcutsModal",e=>{e.preventDefault(),w.m()}),Xg(this,"handleKeyDown",e=>{Object(z.g)(e)&&e.shiftKey&&Object(z.cb)(e,fe.l.KeyCodes.A)&&this.props.actions.openModal({ModalId:fe.y.USER_SETTINGS,dialogType:Pi.a})}),Xg(this,"handleEmitUserLoggedOutEvent",()=>{w.e()})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){return this.props.currentUser?h.a.createElement(ur.a,{className:"main-menu"},h.a.createElement(Jg,{showTutorialTip:this.props.showTutorialTip,teamDescription:this.props.teamDescription,currentUser:this.props.currentUser,teamDisplayName:this.props.teamDisplayName,teamId:this.props.teamId}),h.a.createElement(rh,{id:"sidebarDropdownMenu"})):null}}Xg(Qg,"propTypes",{teamDescription:u.a.string.isRequired,teamDisplayName:u.a.string.isRequired,teamId:u.a.string.isRequired,currentUser:u.a.object,showTutorialTip:u.a.bool.isRequired,actions:u.a.shape({openModal:u.a.func.isRequred}).isRequired}),Xg(Qg,"defaultProps",{teamType:"",pluginMenuItems:[]});var $g=Object(s.connect)((function(e){const t=Object(o.getCurrentTeam)(e),a=Object(r.getCurrentUser)(e),n=Object(K.getInt)(e,fe.F.TUTORIAL_STEP,a.id)===fe.Q.MENU_POPOVER&&!z.fb();return{currentUser:a,teamDescription:t.description,teamDisplayName:t.display_name,teamId:t.id,showTutorialTip:n}}),(function(e){return{actions:Object(n.bindActionCreators)({openModal:_t.b},e)}}))(Qg);class eb extends h.a.PureComponent{constructor(e){super(e),function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(this,"handleResize",()=>{const e=z.fb();this.setState({isMobile:e})}),this.state={isMobile:z.fb()}}componentDidMount(){window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const e=z.ob("accessibility.sections.lhsHeader","team menu region");return h.a.createElement("div",{id:"lhsHeader","aria-label":e,tabIndex:"-1",role:"application",className:"SidebarHeader team__header theme a11y__region","data-a11y-sort-order":"5"},h.a.createElement("div",{className:"d-flex"},!this.state.isMobile&&h.a.createElement(Kg,null),h.a.createElement($g,null)))}}var tb=Object(s.connect)((function(e){const t=Object(i.getConfig)(e),a=Object(r.getCurrentUser)(e);return{enableTutorial:"true"===t.EnableTutorial,showTutorialTip:Object(K.getInt)(e,fe.F.TUTORIAL_STEP,a.id)===fe.Q.MENU_POPOVER&&!z.fb()}}))(eb),ab=a(1749),nb=a.n(ab);function sb(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",Object.assign({},e,{id:"draftIcon"}),h.a.createElement("svg",{width:"14px",height:"14px",viewBox:"0 0 50 51",role:"img","aria-label":t({id:"generic_icons.channel.draft",defaultMessage:"Channel Draft Icon"})},h.a.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},h.a.createElement("path",{d:"M11.980198,46.7136356 L14.9834983,43.7103353 L7.22772277,35.9545597 L4.22442244,38.95786 L4.22442244,42.4892132 L8.44884488,42.4892132 L8.44884488,46.7136356 L11.980198,46.7136356 Z M29.2409241,16.0865729 C29.2409241,15.6025221 28.9989023,15.3605003 28.5148515,15.3605003 C28.2948284,15.3605003 28.1078116,15.4375072 27.9537954,15.5915234 L10.0660066,33.4793122 C9.91199043,33.6333283 9.8349835,33.8203452 9.8349835,34.0403683 C9.8349835,34.5244191 10.0770053,34.7664409 10.5610561,34.7664409 C10.7810792,34.7664409 10.968096,34.6894339 11.1221122,34.5354178 L29.009901,16.647629 C29.1639172,16.4936128 29.2409241,16.306596 29.2409241,16.0865729 Z M27.4587459,9.74993922 L41.1881188,23.4793122 L13.7293729,50.938058 L0,50.938058 L0,37.2086851 L27.4587459,9.74993922 Z M50,12.9182561 C50,14.0843785 49.5929634,15.0744676 48.7788779,15.8885531 L43.30033,21.3671009 L29.5709571,7.637728 L35.049505,2.19218345 C35.8415881,1.35609566 36.8316772,0.938058036 38.019802,0.938058036 C39.1859244,0.938058036 40.1870145,1.35609566 41.0231023,2.19218345 L48.7788779,9.91495573 C49.5929634,10.7730458 50,11.7741359 50,12.9182561 Z"}))))}function ib(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"16",height:"13",viewBox:"0 0 36 30",role:"img","aria-label":t({id:"generic_icons.bot",defaultMessage:"Bot Icon"})},h.a.createElement("path",{d:"M0,15.7391304 L0,23.0434783 C0,24.0535326 0.786888587,24.8695652 1.76086957,24.8695652 L3.52173913,24.8695652 L3.52173913,13.9130435 L1.76086957,13.9130435 C0.786888587,13.9130435 0,14.7290761 0,15.7391304 Z M26.0496894,6.50271739 L19.7888199,6.50271739 L19.7888199,2.83423913 C19.7888199,1.81967561 18.989441,1 18,1 C17.010559,1 16.2111801,1.81967561 16.2111801,2.83423913 L16.2111801,6.50271739 L9.95031056,6.50271739 C7.47950311,6.50271739 5.47826087,8.55477242 5.47826087,11.0883152 L5.47826087,26.6793478 C5.47826087,28.7027429 7.0826087,30.3478261 9.05590062,30.3478261 L26.9440994,30.3478261 C28.9173913,30.3478261 30.5217391,28.7027429 30.5217391,26.6793478 L30.5217391,11.0883152 C30.5217391,8.55477242 28.5204969,6.50271739 26.0496894,6.50271739 Z M14.4782609,24.8695652 L10.9565217,24.8695652 L10.9565217,22.9130435 L14.4782609,22.9130435 L14.4782609,24.8695652 Z M12.5217391,17.826087 C11.2245652,17.826087 10.173913,16.7754348 10.173913,15.4782609 C10.173913,14.181087 11.2245652,13.1304348 12.5217391,13.1304348 C13.818913,13.1304348 14.8695652,14.181087 14.8695652,15.4782609 C14.8695652,16.7754348 13.818913,17.826087 12.5217391,17.826087 Z M19.9565217,24.8695652 L16.4347826,24.8695652 L16.4347826,22.9130435 L19.9565217,22.9130435 L19.9565217,24.8695652 Z M25.0434783,24.8695652 L21.5217391,24.8695652 L21.5217391,22.9130435 L25.0434783,22.9130435 L25.0434783,24.8695652 Z M23.2826087,17.826087 C22.0935326,17.826087 21.1304348,16.7754348 21.1304348,15.4782609 C21.1304348,14.181087 22.0935326,13.1304348 23.2826087,13.1304348 C24.4716848,13.1304348 25.4347826,14.181087 25.4347826,15.4782609 C25.4347826,16.7754348 24.4716848,17.826087 23.2826087,17.826087 Z M34.2391304,13.9130435 L32.4782609,13.9130435 L32.4782609,24.8695652 L34.2391304,24.8695652 C35.2131114,24.8695652 36,24.0535326 36,23.0434783 L36,15.7391304 C36,14.7290761 35.2131114,13.9130435 34.2391304,13.9130435 Z"})))}function rb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ob extends h.a.PureComponent{constructor(e){super(e),rb(this,"onSvgLoadError",()=>{this.setState({svgErrorUrl:this.props.botIconUrl})}),rb(this,"onSvgLoad",()=>{this.setState({svgErrorUrl:null})}),this.state={svgErrorUrl:null}}render(){let e=null;return this.props.channelIsArchived?e=h.a.createElement(md.a,{className:"icon icon__archive"}):this.props.hasDraft?e=h.a.createElement(sb,{className:"icon icon__draft"}):this.props.channelType===fe.l.OPEN_CHANNEL?e=h.a.createElement(nu.a,{className:"icon icon__globe"}):this.props.channelType===fe.l.PRIVATE_CHANNEL?e=h.a.createElement(su.a,{className:"icon icon__lock"}):this.props.channelType===fe.l.GM_CHANNEL?e=h.a.createElement("div",{className:"status status--group"},this.props.membersCount):this.props.channelType===fe.l.DM_CHANNEL&&(this.props.teammateId&&this.props.teammateDeletedAt?e=h.a.createElement(md.a,{className:"icon icon__archive"}):this.props.teammateId&&this.props.teammateIsBot?(e=h.a.createElement(ib,{className:"icon icon__bot"}),this.props.botIconUrl&&this.props.botIconUrl!==this.state.svgErrorUrl&&(e=h.a.createElement("span",{className:"icon icon__bot"},h.a.createElement(nb.a,{src:this.props.botIconUrl,onLoad:this.onSvgLoad,onError:this.onSvgLoadError})))):e=h.a.createElement(Fg.a,{type:"avatar",status:this.props.channelStatus})),e}}function lb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}rb(ob,"propTypes",{botIconUrl:u.a.string,channelIsArchived:u.a.bool.isRequired,channelType:u.a.string.isRequired,channelStatus:u.a.string,hasDraft:u.a.bool.isRequired,membersCount:u.a.number,teammateId:u.a.string,teammateDeletedAt:u.a.number,teammateIsBot:u.a.bool});class cb extends h.a.PureComponent{constructor(...e){super(...e),lb(this,"handleClose",e=>{e.stopPropagation(),e.preventDefault(),this.props.handleClose()})}render(){let e=null;if(this.props.handleClose&&!this.props.badge){let t=h.a.createElement(Vi.a,{id:"remove-dm-tooltip"},h.a.createElement(q.a,{id:"sidebar.removeList",defaultMessage:"Remove from this list"}));this.props.channelType!==fe.l.OPEN_CHANNEL&&this.props.channelType!==fe.l.PRIVATE_CHANNEL||(t=h.a.createElement(Vi.a,{id:"remove-dm-tooltip"},h.a.createElement(q.a,{id:"sidebar.leave",defaultMessage:"Leave the channel"}))),e=h.a.createElement(Wi.a,{delayShow:1e3,placement:"top",overlay:t},h.a.createElement("span",{onClick:this.handleClose,className:"btn-close"},"×"))}return e}}function db(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}lb(cb,"propTypes",{handleClose:u.a.func,channelId:u.a.string.isRequired,channelType:u.a.string.isRequired,teammateId:u.a.string,badge:u.a.bool});class mb extends h.a.PureComponent{constructor(e){super(e),db(this,"state",{showTooltip:!1}),db(this,"enableToolTipIfNeeded",()=>{const e=this.displayNameRef.current;e&&e.offsetWidth<e.scrollWidth?this.setState({showTooltip:!0}):this.setState({showTooltip:!1})}),db(this,"trackChannelSelectedEvent",()=>{Object(v.b)("SidebarChannelLink#click"),Object(v.e)("ui","ui_channel_selected")}),db(this,"handleClick",()=>{this.trackChannelSelectedEvent(),N.a.push(this.props.link)}),db(this,"removeTooltipLink",()=>{this.gmItemRef.current.removeAttribute("aria-describedby")}),db(this,"render",()=>{let e=null;this.props.badge&&(e=h.a.createElement("span",{id:"unreadMentions",className:"badge"},this.props.unreadMentions));const t=h.a.createElement(h.a.Fragment,null,h.a.createElement(ob,{channelStatus:this.props.channelStatus,channelType:this.props.channelType,botIconUrl:this.props.botIconUrl,channelIsArchived:this.props.channelIsArchived,hasDraft:this.props.hasDraft,membersCount:this.props.membersCount,teammateId:this.props.teammateId,teammateDeletedAt:this.props.teammateDeletedAt,teammateIsBot:this.props.teammateIsBot}),h.a.createElement("span",{className:"sidebar-item__name"},h.a.createElement("span",{ref:this.displayNameRef},this.props.displayName)),e,h.a.createElement(cb,{handleClose:this.props.handleClose,channelId:this.props.channelId,channelType:this.props.channelType,teammateId:this.props.teammateId,badge:this.props.badge}));let a,n=this.props.displayName;if(this.props.channelType===fe.Z.OPEN_CHANNEL?n+=" ".concat(Object(z.ob)("accessibility.sidebar.types.public","public channel")):this.props.channelType===fe.Z.PRIVATE_CHANNEL&&(n+=" ".concat(Object(z.ob)("accessibility.sidebar.types.private","private channel"))),1===this.props.unreadMentions?n+=" ".concat(this.props.unreadMentions," ").concat(Object(z.ob)("accessibility.sidebar.types.mention","mention")):this.props.unreadMentions>1&&(n+=" ".concat(this.props.unreadMentions," ").concat(Object(z.ob)("accessibility.sidebar.types.mentions","mentions"))),this.props.unreadMsgs>0&&this.props.showUnreadForMsgs&&0===this.props.unreadMentions&&(n+=" ".concat(Object(z.ob)("accessibility.sidebar.types.unread","unread"))),n=n.toLowerCase(),a=Object(y.e)()?h.a.createElement("div",null,h.a.createElement(Eh,{link:this.props.link,menuId:this.props.channelId},h.a.createElement("button",{className:"btn btn-link "+this.props.rowClass,"aria-label":n,onClick:this.handleClick},t))):h.a.createElement(vs.Link,{id:"sidebarItem_".concat(this.props.channelName),"aria-label":n,to:this.props.link,className:this.props.rowClass,onClick:this.trackChannelSelectedEvent},t),this.state.showTooltip){const e=h.a.createElement(Vi.a,{id:"channel-displayname__tooltip",style:ub.channelTooltip},this.props.displayName);a=h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:e,onEntering:this.removeTooltipLink},h.a.createElement("div",{ref:this.gmItemRef},a))}return a}),this.gmItemRef=h.a.createRef(),this.displayNameRef=h.a.createRef()}componentDidMount(){this.enableToolTipIfNeeded()}componentDidUpdate(e){e.displayName!==this.props.displayName&&this.enableToolTipIfNeeded()}}db(mb,"propTypes",{link:u.a.string.isRequired,rowClass:u.a.string.isRequired,channelType:u.a.string.isRequired,channelId:u.a.string.isRequired,channelName:u.a.string.isRequired,displayName:u.a.string.isRequired,botIconUrl:u.a.string,channelStatus:u.a.string,handleClose:u.a.func,hasDraft:u.a.bool.isRequired,badge:u.a.bool,membersCount:u.a.number.isRequired,showUnreadForMsgs:u.a.bool.isRequired,unreadMsgs:u.a.number.isRequired,unreadMentions:u.a.number.isRequired,teammateId:u.a.string,teammateDeletedAt:u.a.number,teammateIsBot:u.a.bool,channelIsArchived:u.a.bool.isRequired});const ub={channelTooltip:{paddingLeft:"8px",maxWidth:"228px"}};function pb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class hb extends h.a.PureComponent{constructor(...e){super(...e),pb(this,"render",()=>{const e=[];let t=fe.l.DEFAULT_CHANNEL_UI_NAME;this.props.townSquareDisplayName&&(t=this.props.townSquareDisplayName);let a=fe.l.OFFTOPIC_CHANNEL_UI_NAME;return this.props.offTopicDisplayName&&(a=this.props.offTopicDisplayName),e.push(h.a.createElement("div",null,h.a.createElement("h4",null,h.a.createElement(q.a,{id:"sidebar.tutorialScreen1.title",defaultMessage:"Channels"})),h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"sidebar.tutorialScreen1.body",defaultMessage:"**Channels** organize conversations across different topics. They're open to everyone on your team. To send private communications use **Direct Messages** for a single person or **Private Channels** for multiple people."})))),e.push(h.a.createElement("div",null,h.a.createElement("h4",null,h.a.createElement(q.a,{id:"sidebar.tutorialScreen2.title",defaultMessage:'"{townsquare}" and "{offtopic}" channels',values:{townsquare:t,offtopic:a}})),h.a.createElement("p",null,h.a.createElement(q.a,{id:"sidebar.tutorialScreen2.body1",defaultMessage:"Here are two public channels to start:"})),h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"sidebar.tutorialScreen2.body2",defaultMessage:"**{townsquare}** is a place for team-wide communication. Everyone in your team is a member of this channel.",values:{townsquare:t}})),h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"sidebar.tutorialScreen2.body3",defaultMessage:"**{offtopic}** is a place for fun and humor outside of work-related channels. You and your team can decide what other channels to create.",values:{offtopic:a}})))),e.push(h.a.createElement("div",null,h.a.createElement("h4",null,h.a.createElement(q.a,{id:"sidebar.tutorialScreen3.title",defaultMessage:"Creating and Joining Channels"})),h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"sidebar.tutorialScreen3.body1",defaultMessage:'Click **"More..."** to create a new channel or join an existing one.'})),h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"sidebar.tutorialScreen3.body2",defaultMessage:'You can also create a new channel by clicking the **"+" symbol** next to the public or private channel header.'})))),h.a.createElement(Ld,{placement:"right",screens:e,overlayClass:"tip-overlay--sidebar",telemetryTag:"tutorial_tip_2_channels"})})}componentDidMount(){(this.props.townSquareDisplayName||this.props.offTopicDisplayName)&&this.props.openLhs()}}function gb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}pb(hb,"propTypes",{townSquareDisplayName:u.a.string,offTopicDisplayName:u.a.string,openLhs:u.a.func});class bb extends h.a.PureComponent{constructor(...e){super(...e),gb(this,"isLeaving",!1),gb(this,"handleLeavePublicChannel",()=>{this.props.actions.leaveChannel(this.props.channelId),Object(v.e)("ui","ui_public_channel_x_button_clicked")}),gb(this,"handleLeavePrivateChannel",()=>{w.k({id:this.props.channelId,display_name:this.props.channelDisplayName}),Object(v.e)("ui","ui_private_channel_x_button_clicked")}),gb(this,"handleLeaveDirectChannel",()=>{if(!this.isLeaving){let e,t;this.isLeaving=!0,this.props.channelType===fe.l.DM_CHANNEL?(e=this.props.channelTeammateId,t=fe.l.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW):(e=this.props.channelId,t=fe.l.Preferences.CATEGORY_GROUP_CHANNEL_SHOW);const a=this.props.currentUserId;this.props.actions.leaveDirectChannel(this.props.channelName),this.props.actions.savePreferences(a,[{user_id:a,category:t,name:e,value:"false"}]).then(()=>{this.isLeaving=!1}),Object(v.e)("ui","ui_direct_channel_x_button_clicked")}this.props.active&&N.a.push("/".concat(this.props.currentTeamName,"/channels/").concat(this.props.redirectChannel))}),gb(this,"showChannelAsUnread",()=>this.props.unreadMentions>0||this.props.unreadMsgs>0&&this.props.showUnreadForMsgs),gb(this,"render",()=>{if(this.props.channelIsArchived&&!this.props.active)return null;if(!this.props.channelDisplayName||!this.props.channelType)return h.a.createElement("div",null);let e=null;if(!this.showChannelAsUnread()){if(this.props.shouldHideChannel)return"";this.props.channelType===fe.l.DM_CHANNEL||this.props.channelType===fe.l.GM_CHANNEL?e=this.handleLeaveDirectChannel:"true"===this.props.config.EnableXToLeaveChannelsFromLHS&&(this.props.channelType===fe.l.OPEN_CHANNEL&&this.props.channelName!==fe.l.DEFAULT_CHANNEL?e=this.handleLeavePublicChannel:this.props.channelType===fe.l.PRIVATE_CHANNEL&&(e=this.handleLeavePrivateChannel))}let t="";this.props.active&&(t="active");let a="sidebar-item",n=!1;this.showChannelAsUnread()&&(a+=" unread-title"),this.props.unreadMentions>0&&(a+=" has-badge",n=!0),this.props.channelMuted&&(a+=" muted"),e&&!n&&(a+=" has-close");let s=null;this.props.showTutorialTip&&this.props.channelName===fe.l.DEFAULT_CHANNEL&&(s=h.a.createElement(hb,{townSquareDisplayName:this.props.townSquareDisplayName,offTopicDisplayName:this.props.offTopicDisplayName,openLhs:this.props.actions.openLhs}));let i="";i=this.props.channelFake?"/".concat(this.props.currentTeamName,"/channels/").concat(this.props.channelName,"?fakechannel=").concat(encodeURIComponent(this.props.channelStringified)):this.props.channelType===fe.l.DM_CHANNEL?"/".concat(this.props.currentTeamName,"/messages/@").concat(this.props.channelTeammateUsername):this.props.channelType===fe.l.GM_CHANNEL?"/".concat(this.props.currentTeamName,"/messages/").concat(this.props.channelName):"/".concat(this.props.currentTeamName,"/channels/").concat(this.props.channelName);let r="";return r=this.props.currentUserId===this.props.channelTeammateId?this.props.intl.formatMessage({id:"sidebar.directchannel.you",defaultMessage:"{displayname} (you)"},{displayname:this.props.channelDisplayName}):this.props.channelDisplayName,h.a.createElement("li",{key:this.props.channelName,ref:"channel",className:t},h.a.createElement(mb,{link:i,rowClass:a,channelId:this.props.channelId,channelName:this.props.channelName,botIconUrl:this.props.botIconUrl,channelStatus:this.props.channelStatus,channelType:this.props.channelType,displayName:r,handleClose:e,hasDraft:this.props.hasDraft,badge:n,showUnreadForMsgs:this.props.showUnreadForMsgs,unreadMentions:this.props.unreadMentions,unreadMsgs:this.props.unreadMsgs,membersCount:this.props.membersCount,teammateId:this.props.channelTeammateId,teammateDeletedAt:this.props.channelTeammateDeletedAt,teammateIsBot:this.props.channelTeammateIsBot,channelIsArchived:this.props.channelIsArchived}),s)})}}gb(bb,"propTypes",{config:u.a.object.isRequired,channelId:u.a.string.isRequired,channelName:u.a.string.isRequired,channelDisplayName:u.a.string.isRequired,botIconUrl:u.a.string,channelMuted:u.a.bool,channelType:u.a.string.isRequired,channelStatus:u.a.string,channelFake:u.a.bool,channelStringified:u.a.string,channelTeammateId:u.a.string,channelTeammateUsername:u.a.string,channelTeammateDeletedAt:u.a.number,channelTeammateIsBot:u.a.bool,hasDraft:u.a.bool.isRequired,intl:X.a.isRequired,showUnreadForMsgs:u.a.bool.isRequired,unreadMsgs:u.a.number.isRequired,unreadMentions:u.a.number.isRequired,active:u.a.bool.isRequired,currentTeamName:u.a.string.isRequired,currentUserId:u.a.string.isRequired,showTutorialTip:u.a.bool.isRequired,townSquareDisplayName:u.a.string,offTopicDisplayName:u.a.string,membersCount:u.a.number.isRequired,shouldHideChannel:u.a.bool.isRequired,channelIsArchived:u.a.bool.isRequired,redirectChannel:u.a.string.isRequired,actions:u.a.shape({savePreferences:u.a.func.isRequired,leaveChannel:u.a.func.isRequired,leaveDirectChannel:u.a.func.isRequired,openLhs:u.a.func.isRequired}).isRequired});const fb=Object(Z.c)(bb,{forwardRef:!0});fb.displayName="injectIntl(SidebarChannel)";var _b=fb;var Cb=Object(s.connect)((function(){const e=Object(B.makeGetChannel)();return(t,a)=>{const n=a.channelId,s=Object(i.getConfig)(t),l=Object(B.getCurrentChannelId)(t),c=e(t,{id:n})||{},m=!!c.id&&Object(ui.i)(t,fe.N.DRAFT,c.id),u="true"===s.EnableTutorial,p=Object(K.getInt)(t,fe.l.Preferences.TUTORIAL_STEP,a.currentUserId,fe.l.TutorialSteps.FINISHED),h=Object(B.getChannelsNameMapInCurrentTeam)(t),g=Object(r.getUserIdsInChannels)(t);let b=0;g&&g[c.id]&&(b=g[c.id].size,g[c.id].has(a.currentUserId)&&b--);const f=Object(xh.getMyChannelMemberships)(t)[n];let _=0,C=0,y=!0;f&&(_=f.mention_count,c&&(C=Math.max(c.total_msg_count-f.msg_count,0)),f.notify_props&&(y=f.notify_props.mark_unread!==fe.z.MENTION));const E=Object(K.getTeammateNameDisplaySetting)(t);let v=null,w="",O=0,S="",T=!1,M=0,P=c.display_name,N=null;var I;c.type===fe.l.DM_CHANNEL&&(v=Object(r.getUser)(t,c.teammate_id),v&&(w=v.id,O=v.delete_at,S=v.username,T=v.is_bot,M=v.bot_last_icon_update,M=void 0===M?0:M),T&&0!==M&&(I=v,N="".concat(d.Client4.getBotRoute(I.id),"/icon?_=").concat(I.bot_last_icon_update||0)),P=Object(je.displayUsername)(v,E,!1));let R=!1;return c.name!==fe.l.DEFAULT_CHANNEL||a.active||!Object(B.shouldHideDefaultChannel)(t,c)||Object(B.isFavoriteChannel)(t,c.id)||(R=!0),{config:s,channelId:n,channelName:c.name,channelDisplayName:P,botIconUrl:N,channelType:c.type,channelStatus:c.status,channelFake:c.fake,channelMuted:Object(We.isChannelMuted)(f),channelStringified:c.fake&&JSON.stringify(c),channelTeammateId:w,channelTeammateUsername:S,channelTeammateDeletedAt:O,channelTeammateIsBot:T,hasDraft:m&&Boolean(m.message.trim()||m.fileInfos.length||m.uploadsInProgress.length)&&l!==c.id,showTutorialTip:u&&p===fe.l.TutorialSteps.CHANNEL_POPOVER,townSquareDisplayName:h[fe.l.DEFAULT_CHANNEL]&&h[fe.l.DEFAULT_CHANNEL].display_name,offTopicDisplayName:h[fe.l.OFFTOPIC_CHANNEL]&&h[fe.l.OFFTOPIC_CHANNEL].display_name,showUnreadForMsgs:y,unreadMsgs:C,unreadMentions:_,membersCount:b,shouldHideChannel:R,channelIsArchived:0!==c.delete_at,redirectChannel:Object(B.getRedirectChannelNameForTeam)(t,Object(o.getCurrentTeamId)(t))}}}),(function(e){return{actions:Object(n.bindActionCreators)({savePreferences:Qs.savePreferences,leaveChannel:k.e,leaveDirectChannel:k.f,openLhs:Ah.b},e)}}),null,{forwardRef:!0})(_b);function yb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Eb extends h.a.PureComponent{constructor(...e){super(...e),yb(this,"renderPublic",()=>{if(!this.props.canCreatePublicChannel)return null;const e="".concat(z.ob("sidebar.createChannel","Create a public channel").toLowerCase()),t=h.a.createElement(Vi.a,{id:"new-channel-tooltip"},h.a.createElement(q.a,{id:"sidebar.createChannel",defaultMessage:"Create a public channel"}));return h.a.createElement("button",{id:"createPublicChannel","aria-label":e,type:"button",className:"add-channel-btn cursor--pointer style--none",onClick:this.props.createPublicChannel},h.a.createElement(Wi.a,{delayShow:500,placement:"top",overlay:t},h.a.createElement("span",null,"+")))}),yb(this,"renderPrivate",()=>{if(!this.props.canCreatePrivateChannel)return null;const e="".concat(z.ob("sidebar.createGroup","Create a private channel").toLowerCase()),t=h.a.createElement(Vi.a,{id:"new-group-tooltip"},h.a.createElement(q.a,{id:"sidebar.createGroup",defaultMessage:"Create a private channel"}));return h.a.createElement("button",{id:"createPrivateChannel","aria-label":e,type:"button",className:"add-channel-btn cursor--pointer style--none",onClick:this.props.createPrivateChannel},h.a.createElement(Wi.a,{delayShow:500,placement:"top",overlay:t},h.a.createElement("span",null,"+")))}),yb(this,"renderDirect",()=>{const e=z.ob("sidebar.createDirectMessage","Write a direct message").toLowerCase(),t=h.a.createElement(Vi.a,{id:"new-group-tooltip",className:"hidden-xs"},h.a.createElement(q.a,{id:"sidebar.createDirectMessage",defaultMessage:"Write a direct message"}));return h.a.createElement("button",{id:"addDirectChannel","aria-label":e,className:"add-channel-btn cursor--pointer style--none",onClick:this.props.createDirectMessage},h.a.createElement(Wi.a,{className:"hidden-xs",delayShow:500,placement:"top",overlay:t},h.a.createElement("span",null,"+")))}),yb(this,"renderCombined",()=>{const{canCreatePublicChannel:e,canCreatePrivateChannel:t}=this.props;if(e&&!t)return this.renderPublic();if(t&&!e)return this.renderPrivate();if(!e&&!t)return null;const a=h.a.createElement(Vi.a,{id:"new-group-tooltip",className:"hidden-xs"},h.a.createElement(q.a,{id:"sidebar.createPublicPrivateChannel",defaultMessage:"Create a public or private channel"}));return h.a.createElement("button",{type:"button",className:"add-channel-btn cursor--pointer style--none",onClick:this.props.createPublicDirectChannel},h.a.createElement(Wi.a,{className:"hidden-xs",delayShow:500,placement:"top",overlay:a},h.a.createElement("span",null,"+")))})}render(){const{sectionType:e}=this.props;switch(e){case"public":return this.renderPublic();case"private":return this.renderPrivate();case"direct":return this.renderDirect();case"recent":case"alpha":return this.renderCombined()}return null}}function vb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}yb(Eb,"propTypes",{sectionType:m.PropTypes.string.isRequired,createPublicChannel:m.PropTypes.func.isRequired,createPrivateChannel:m.PropTypes.func.isRequired,createDirectMessage:m.PropTypes.func.isRequired,createPublicDirectChannel:m.PropTypes.func.isRequired,canCreatePublicChannel:m.PropTypes.bool.isRequired,canCreatePrivateChannel:m.PropTypes.bool.isRequired});class wb extends h.a.PureComponent{constructor(...e){super(...e),vb(this,"moreChannelsPublic",()=>{this.props.moreChannels("public")}),vb(this,"moreChannelsPrivate",()=>{this.props.moreChannels("private")})}render(){const{sectionType:e,moreDirectMessages:t,browsePublicDirectChannels:a,viewArchivedChannels:n}=this.props,{formatMessage:s}=this.props.intl;switch(e){case"public":return h.a.createElement(Su.a,{teamId:this.props.currentTeamId,permissions:[W.Permissions.JOIN_PUBLIC_CHANNELS]},h.a.createElement("li",{key:"public-channel-more","data-testid":"morePublicButton"},h.a.createElement("button",{id:"sidebarPublicChannelsMore","aria-label":s({id:"sidebar.morePublicAria",defaultMessage:"See more public channels"}),className:"nav-more cursor--pointer style--none btn--block",onClick:this.moreChannelsPublic},h.a.createElement(q.a,{id:"sidebar.moreElips",defaultMessage:"More..."}))));case"private":return n?h.a.createElement(Su.a,{teamId:this.props.currentTeamId,permissions:[W.Permissions.JOIN_PUBLIC_CHANNELS]},h.a.createElement("li",{key:"public-channel-more","data-testid":"morePublicButton"},h.a.createElement("button",{id:"sidebarPrivateChannelsMore","aria-label":s({id:"sidebar.morePublicAria",defaultMessage:"See more public channels"}),className:"nav-more cursor--pointer style--none btn--block",onClick:this.moreChannelsPrivate},h.a.createElement(q.a,{id:"sidebar.moreElips",defaultMessage:"More..."})))):null;case"direct":return h.a.createElement("li",{key:"dm-more",id:"moreDMButton"},h.a.createElement("button",{id:"moreDirectMessage","aria-label":s({id:"sidebar.moreDmAria",defaultMessage:"See more direct messages"}),className:"nav-more cursor--pointer style--none btn--block",onClick:t},h.a.createElement(q.a,{id:"sidebar.moreElips",defaultMessage:"More..."})));case"recent":case"alpha":return h.a.createElement("li",{key:"public-dm-more",id:"moreRecentAlphaButton"},h.a.createElement("button",{id:"morePublicDirectChannels","aria-label":s({id:"sidebar.morePublicDmAria",defaultMessage:"See more public channels direct messages"}),className:"nav-more cursor--pointer style--none btn--block",onClick:a},h.a.createElement(q.a,{id:"sidebar.moreElips",defaultMessage:"More..."})))}return null}}vb(wb,"propTypes",{currentTeamId:m.PropTypes.string.isRequired,intl:X.a.isRequired,sectionType:m.PropTypes.string.isRequired,moreChannels:m.PropTypes.func.isRequired,moreDirectMessages:m.PropTypes.func.isRequired,browsePublicDirectChannels:m.PropTypes.func.isRequired,viewArchivedChannels:m.PropTypes.bool});var Ob=Object(Z.c)(wb);function Sb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Tb=["recent","alpha"];class Mb extends h.a.PureComponent{constructor(...e){super(...e),Sb(this,"sectionTypeFormatMessageId",e=>{switch(e){case"public":return Object(J.b)("sidebar.types.public");case"private":return Object(J.b)("sidebar.types.private");case"direct":return Object(J.b)("sidebar.types.direct");case"favorite":return Object(J.b)("sidebar.types.favorite");case"unreads":return Object(J.b)("sidebar.types.unreads");case"recent":return Object(J.b)("sidebar.types.recent");default:return Object(J.b)("sidebar.types.alpha")}})}render(){const{sectionType:e,channelName:t,browsePublicDirectChannels:a}=this.props;let n=["hover","focus"];z.fb()&&(n=[]);const s=this.sectionTypeFormatMessageId(e);let i=h.a.createElement(q.a,{id:s,defaultMessage:t});if(-1!==Tb.indexOf(e)){const e=h.a.createElement(Vi.a,{id:"new-group-tooltip",className:"hidden-xs"},h.a.createElement(q.a,{id:"sidebar.browseChannelDirectChannel",defaultMessage:"Browse channels and direct messages"}));i=h.a.createElement(Wi.a,{trigger:n,delayShow:500,placement:"top",overlay:e},h.a.createElement("div",{role:"presentation",className:"public_direct_name",onClick:a},i))}return i}}function Pb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Sb(Mb,"propTypes",{sectionType:m.PropTypes.string.isRequired,channelName:m.PropTypes.string.isRequired,browsePublicDirectChannels:m.PropTypes.func.isRequired});class Nb extends h.a.PureComponent{constructor(...e){super(...e),Pb(this,"state",{show:!0,key:"channels"}),Pb(this,"handleHide",()=>{this.setState({show:!1})}),Pb(this,"handleExit",()=>{this.props.onModalDismissed&&this.props.onModalDismissed()}),Pb(this,"handleSelect",e=>{this.setState({key:e})})}render(){return h.a.createElement(ra.a,{dialogClassName:"a11y__modal more-modal more-direct-channels more-public-direct-channels",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,role:"dialog","aria-labelledby":"morePublicModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"morePublicModalLabel"},h.a.createElement(q.a,{id:"more_public_direct_channels.title",defaultMessage:"Channels and Direct Messages"}))),h.a.createElement(ra.a.Body,null,h.a.createElement(ya.a,{id:"morePublicDirectChannelTabs",className:"modal-tabs",defaultActiveKey:"channels",activeKey:this.state.key,onSelect:this.handleSelect,unmountOnExit:!0},h.a.createElement(Ea.a,{eventKey:"channels",title:Object(z.ob)("more_public_direct_channels.channels","Channels")},h.a.createElement(og,{handleNewChannel:this.props.handleNewChannel,onModalDismissed:this.handleHide,bodyOnly:!0})),h.a.createElement(Ea.a,{eventKey:"dm",title:Object(z.ob)("more_public_direct_channels.direct_messages","Direct Messages")},h.a.createElement(Cg,{onModalDismissed:this.handleHide,isExistingChannel:!1,bodyOnly:!0})))))}}function Ib(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Rb(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function Ab(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"}))}function jb(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}Pb(Nb,"propTypes",{handleNewChannel:u.a.func,onModalDismissed:u.a.func});class xb extends h.a.PureComponent{constructor(e){super(e),Ib(this,"handleOpenMoreDirectChannelsModal",e=>{e.preventDefault(),this.state.showDirectChannelsModal?this.hideMoreDirectChannelsModal():this.showMoreDirectChannelsModal()}),Ib(this,"onScroll",kn()(()=>{this.updateUnreadIndicators()},100)),Ib(this,"handleScrollAnimationUpdate",e=>{const{scrollbar:t}=this.refs,a=e.getCurrentValue();t.scrollTop(a)}),Ib(this,"scrollToFirstUnreadChannel",()=>{this.scrollToChannel(this.firstUnreadChannel,!0)}),Ib(this,"scrollToLastUnreadChannel",()=>{this.scrollToChannel(this.lastUnreadChannel,!0)}),Ib(this,"scrollToChannel",(e,t=!1)=>{const a=Ci()(mr.a.findDOMNode(this.refs[e]));if(!a)return;const n=a.position();if(!n)return;const s=n.top,i=s+a.height(),r=this.refs.scrollbar.getScrollTop(),o=this.refs.scrollbar.getClientHeight();if(s<r){const a=t||!this.state.showTopUnread?15:60;let n;const i=this.getDisplayedChannels(this.state.orderedChannelIds);n=i.length>0&&i[0]===e?jh.MathUtil.mapValueInRange(0,0,1,0,1):jh.MathUtil.mapValueInRange(s-a,0,1,0,1),this.scrollToPosition(n)}else if(i>r+o){const e=i-o+(t||!this.state.showBottomUnread?15:60);this.scrollToPosition(e)}}),Ib(this,"scrollToPosition",e=>{this.scrollAnimation.setCurrentValue(this.refs.scrollbar.getScrollTop()).setAtRest(),this.scrollAnimation.setEndValue(e)}),Ib(this,"updateUnreadIndicators",()=>{let e=!1,t=!1;if(this.firstUnreadChannel){const t=Ci()(mr.a.findDOMNode(this.refs[this.firstUnreadChannel])),a=t?t.position():null;a&&a.top+t.height()-15<this.refs.scrollbar.getScrollTop()&&(e=!0)}if(this.lastUnreadChannel){const e=Ci()(mr.a.findDOMNode(this.refs[this.lastUnreadChannel])),a=e?e.position():null;a&&a.top+15>this.refs.scrollbar.getScrollTop()+this.refs.scrollbar.getClientHeight()&&(t=!0)}e===this.state.showTopUnread&&t===this.state.showBottomUnread||this.setState({showTopUnread:e,showBottomUnread:t})}),Ib(this,"navigateChannelShortcut",e=>{if(!e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||!z.cb(e,fe.l.KeyCodes.UP)&&!z.cb(e,fe.l.KeyCodes.DOWN))z.g(e)&&e.shiftKey&&z.cb(e,fe.l.KeyCodes.K)&&this.handleOpenMoreDirectChannelsModal(e);else{if(e.preventDefault(),this.isSwitchingChannel)return;this.isSwitchingChannel=!0;const t=this.getDisplayedChannels(this.state.orderedChannelIds),a=this.props.currentChannel.id;let n=-1;for(let e=0;e<t.length;e++)t[e]===a&&(n=e);let s=n;s=z.cb(e,fe.l.KeyCodes.DOWN)?n+1:n-1;const i=t[z.pb(s,t.length)];this.props.actions.switchToChannelById(i),this.scrollToChannel(i),this.isSwitchingChannel=!1}}),Ib(this,"navigateUnreadChannelShortcut",e=>{if(e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&(z.cb(e,fe.l.KeyCodes.UP)||z.cb(e,fe.l.KeyCodes.DOWN))){if(e.preventDefault(),this.isSwitchingChannel)return;this.isSwitchingChannel=!0;const t=this.getDisplayedChannels(this.state.orderedChannelIds);let a=0;a=z.cb(e,fe.l.KeyCodes.UP)?-1:1;const n=G.b(this.props.currentChannel.id,t,this.props.unreadChannelIds,a);if(-1!==n){const e=t[n];this.props.actions.switchToChannelById(e),this.scrollToChannel(e)}this.isSwitchingChannel=!1}}),Ib(this,"getDisplayedChannels",(e=[])=>e.reduce((e,t)=>(e.push(...t.items),e),[])),Ib(this,"channelIdIsDisplayedForProps",(e=[],t)=>{const a=this.getDisplayedChannels(e);for(let e=0;e<a.length;e++)if(a[e]===t)return!0;return!1}),Ib(this,"showMorePublicDirectChannelsModal",()=>{this.setState({showMorePublicChannelsModal:!0}),Object(v.e)("ui","ui_channels_more_public_direct")}),Ib(this,"hideMorePublicDirectChannelsModal",()=>{this.setState({showMorePublicChannelsModal:!1})}),Ib(this,"onHandleNewChannel",()=>{this.hideMorePublicDirectChannelsModal(),this.showNewChannelModal(fe.l.OPEN_CHANNEL)}),Ib(this,"showMoreChannelsModal",e=>{this.props.actions.openModal({modalId:fe.y.MORE_CHANNELS,dialogType:og,dialogProps:{morePublicChannelsModalType:e}}),Object(v.e)("ui","ui_channels_more_public")}),Ib(this,"showNewPublicChannelModal",()=>{Object(v.e)("ui","ui_channels_create_channel_public_v1"),this.showNewChannelModal(fe.l.OPEN_CHANNEL)}),Ib(this,"showNewPrivateChannelModal",()=>{Object(v.e)("ui","ui_channels_create_channel_private_v1"),this.showNewChannelModal(fe.l.PRIVATE_CHANNEL)}),Ib(this,"showNewChannelModal",e=>{this.props.actions.openModal({modalId:fe.y.NEW_CHANNEL_FLOW,dialogType:eg,dialogProps:{channelType:e}})}),Ib(this,"showMoreDirectChannelsModal",()=>{Object(v.e)("ui","ui_channels_more_direct"),this.setState({showDirectChannelsModal:!0})}),Ib(this,"hideMoreDirectChannelsModal",()=>{this.setState({showDirectChannelsModal:!1})}),Ib(this,"openQuickSwitcher",e=>{e.preventDefault(),Object(v.e)("ui","ui_sidebar_open_channel_switcher_v1"),this.props.actions.openModal({modalId:fe.y.QUICK_SWITCH,dialogType:Dg})}),Ib(this,"createSidebarChannel",e=>h.a.createElement(Cb,{key:e,ref:e,channelId:e,active:e===this.props.currentChannel.id,currentTeamName:this.props.currentTeam.name,currentUserId:this.props.currentUser.id})),Ib(this,"renderOrderedChannels",()=>{const{orderedChannelIds:e}=this.state,t=[fe.K.UNREADS,fe.K.FAVORITE];return h.a.createElement(Ei.a,{ref:"scrollbar",autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:Ab,renderThumbVertical:jb,renderView:Rb,onScroll:this.onScroll,style:{position:"absolute"}},h.a.createElement("div",{id:"sidebarChannelContainer",className:"nav-pills__container"},e.map(e=>{const a={type:e.type,name:e.name,items:e.items.map(this.createSidebarChannel)};if(-1!==t.indexOf(a.type)&&0===a.items.length)return null;const n="".concat(a.type,"Channel"),s=a.name.toLowerCase();return h.a.createElement("ul",{key:a.type,"aria-label":s,className:"nav nav-pills nav-stacked a11y__section",id:n+"List",tabIndex:"-1"},h.a.createElement("li",{className:"sidebar-section__header"},h.a.createElement("h4",{role:"presentation",id:n},h.a.createElement(Mb,{sectionType:a.type,channelName:a.name,browsePublicDirectChannels:this.showMorePublicDirectChannelsModal})),h.a.createElement(Eb,{sectionType:a.type,canCreatePublicChannel:this.props.canCreatePublicChannel,canCreatePrivateChannel:this.props.canCreatePrivateChannel,createPublicChannel:this.showNewPublicChannelModal,createPrivateChannel:this.showNewPrivateChannelModal,createDirectMessage:this.handleOpenMoreDirectChannelsModal,createPublicDirectChannel:this.showNewPublicChannelModal})),a.items,h.a.createElement(Ob,{currentTeamId:this.props.currentTeam.id,sectionType:a.type,moreChannels:this.showMoreChannelsModal,moreDirectMessages:this.handleOpenMoreDirectChannelsModal,browsePublicDirectChannels:this.showMorePublicDirectChannelsModal,viewArchivedChannels:this.props.viewArchivedChannels}))})))}),this.badgesActive=!1,this.firstUnreadChannel=null,this.lastUnreadChannel=null,this.isLeaving=new Map,this.isSwitchingChannel=!1,this.closedDirectChannel=!1,this.state={orderedChannelIds:e.orderedChannelIds,showDirectChannelsModal:!1,showMorePublicChannelsModal:!1,morePublicChannelsModalType:"public"},this.animate=new jh.SpringSystem,this.scrollAnimation=this.animate.createSpring(),this.scrollAnimation.setOvershootClampingEnabled(!0),this.scrollAnimation.addListener({onSpringUpdate:this.handleScrollAnimationUpdate})}static getDerivedStateFromProps(e,t){return e.orderedChannelIds[0].type===fe.K.UNREADS&&t.orderedChannelIds[0].type===fe.K.UNREADS&&t.orderedChannelIds[0].items.length===e.orderedChannelIds[0].items.length&&t.orderedChannelIds[0].items.includes(e.currentChannel.id)?null:e.orderedChannelIds!==t.orderedChannelIds?{orderedChannelIds:e.orderedChannelIds}:null}componentDidMount(){this.updateUnreadIndicators(),document.addEventListener("keydown",this.navigateChannelShortcut),document.addEventListener("keydown",this.navigateUnreadChannelShortcut)}componentDidUpdate(e){if(this.props.currentTeam===e.currentTeam&&this.props.currentChannel.id===e.currentChannel.id&&!this.channelIdIsDisplayedForProps(this.props.orderedChannelIds,this.props.currentChannel.id)&&this.channelIdIsDisplayedForProps(e.orderedChannelIds,this.props.currentChannel.id))return this.closedDirectChannel=!0,void Object(w.f)();this.props.currentTeam!==e.currentTeam&&this.refs.scrollbar.scrollToTop(),this.props.currentChannel.id,e.currentChannel.id,this.props.currentChannel.id!==e.currentChannel.id&&(this.closedDirectChannel?this.closedDirectChannel=!1:this.props.actions.close()),this.setFirstAndLastUnreadChannels(),this.updateUnreadIndicators()}componentWillUnmount(){document.removeEventListener("keydown",this.navigateChannelShortcut),document.removeEventListener("keydown",this.navigateUnreadChannelShortcut),this.animate.deregisterSpring(this.scrollAnimation),this.animate.removeAllListeners(),this.scrollAnimation.destroy()}setFirstAndLastUnreadChannels(){const{currentChannel:e,unreadChannelIds:t}=this.props,{orderedChannelIds:a}=this.state;this.getDisplayedChannels(a).map(a=>(a!==e.id&&t.includes(a)&&(this.firstUnreadChannel||(this.firstUnreadChannel=a),this.lastUnreadChannel=a),null))}render(){const{channelSwitcherOption:e,currentTeam:t,currentUser:a,isOpen:n,isDataPrefechEnabled:s}=this.props,{showDirectChannelsModal:i,showTopUnread:r,showBottomUnread:o}=this.state,l=z.ob("accessibility.sections.lhsList","channel sidebar region");if(null==t||null==a)return h.a.createElement("div",null);this.firstUnreadChannel=null,this.lastUnreadChannel=null;const c=h.a.createElement(q.a,{id:"sidebar.unreads",defaultMessage:"More unreads"}),d=h.a.createElement(q.a,{id:"sidebar.unreads",defaultMessage:"More unreads"});let m;i&&(m=h.a.createElement(Cg,{onModalDismissed:this.hideMoreDirectChannelsModal,isExistingChannel:!1}));let u,p=null;if(e){let e=Object(J.b)("quick_switch_modal.channelsShortcut.windows"),t="- CTRL+K";z.eb()&&(e=Object(J.b)("quick_switch_modal.channelsShortcut.mac"),t="- ⌘K");const a=h.a.createElement("span",{className:"switch__shortcut hidden-xs"},h.a.createElement(q.a,{id:e,defaultMessage:t}));p=h.a.createElement("div",{className:"sidebar__switcher"},h.a.createElement("button",{id:"sidebarSwitcherButton",className:"btn btn-link",onClick:this.openQuickSwitcher},h.a.createElement(q.a,{id:"channel_switch_modal.title",defaultMessage:"Switch Channels"}),a))}return this.state.showMorePublicChannelsModal&&(u=h.a.createElement(Nb,{onModalDismissed:this.hideMorePublicDirectChannelsModal,handleNewChannel:this.onHandleNewChannel,isExistingChannel:!1})),h.a.createElement("div",{className:la()("sidebar--left",{"move--right":n&&z.fb()}),id:"sidebar-left",key:"sidebar-left",role:"navigation","aria-labelledby":"sidebar-left"},s&&h.a.createElement(Vh,null),u,m,h.a.createElement(tb,null),h.a.createElement("div",{className:"sidebar--left__icons"},h.a.createElement(Et.a,{pluggableName:"LeftSidebarHeader"})),h.a.createElement("div",{id:"lhsList",role:"application","aria-label":l,tabIndex:"-1",className:"sidebar--left__list a11y__region","data-a11y-sort-order":"6"},h.a.createElement(Hg,{name:"Top",show:r,onClick:this.scrollToFirstUnreadChannel,extraClass:"nav-pills__unread-indicator-top",content:c}),h.a.createElement(Hg,{name:"Bottom",show:o,onClick:this.scrollToLastUnreadChannel,extraClass:"nav-pills__unread-indicator-bottom",content:d}),this.renderOrderedChannels()),p)}}Ib(xb,"propTypes",{isOpen:m.PropTypes.bool.isRequired,unreadChannelIds:m.PropTypes.array,orderedChannelIds:m.PropTypes.arrayOf(m.PropTypes.shape({type:m.PropTypes.string.isRequired,name:m.PropTypes.string.isRequired,items:m.PropTypes.array.isRequired})),currentChannel:m.PropTypes.object,currentTeammate:m.PropTypes.object,currentTeam:m.PropTypes.object,currentUser:m.PropTypes.object,intl:X.a.isRequired,unreads:m.PropTypes.object.isRequired,canCreatePublicChannel:m.PropTypes.bool.isRequired,canCreatePrivateChannel:m.PropTypes.bool.isRequired,channelSwitcherOption:m.PropTypes.bool.isRequired,viewArchivedChannels:m.PropTypes.bool,isDataPrefechEnabled:m.PropTypes.bool,actions:m.PropTypes.shape({close:m.PropTypes.func.isRequired,switchToChannelById:m.PropTypes.func.isRequired,openModal:m.PropTypes.func.isRequired}).isRequired}),Ib(xb,"defaultProps",{currentChannel:{}});var Lb=Object(Z.c)(xb);var kb=Object(s.connect)((function(e){const t=Object(i.getConfig)(e),a=Object(B.getCurrentChannel)(e),n=a&&a.teammate_id&&Object(B.getCurrentChannel)(e,a.teammate_id),s=Object(o.getCurrentTeam)(e);let l=!1,c=!1;s&&(l=Object(A.haveITeamPermission)(e,{team:s.id,permission:x.a.CREATE_PUBLIC_CHANNEL}),c=Object(A.haveITeamPermission)(e,{team:s.id,permission:x.a.CREATE_PRIVATE_CHANNEL}));const d=Object(K.getSidebarPreferences)(e),m=e.views.channel.lastUnreadChannel;return{unreadChannelIds:Object(B.getSortedUnreadChannelIds)(e,m),orderedChannelIds:Object(B.getOrderedChannelIds)(e,m,d.grouping,d.sorting,"true"===d.unreads_at_top,"true"===d.favorite_at_top),channelSwitcherOption:Object(K.getBool)(e,W.Preferences.CATEGORY_SIDEBAR_SETTINGS,"channel_switcher_section","true"),currentChannel:a,currentTeammate:n,currentTeam:s,currentUser:Object(r.getCurrentUser)(e),canCreatePublicChannel:l,canCreatePrivateChannel:c,isOpen:gh(e),unreads:Object(B.getUnreads)(e),viewArchivedChannels:"true"===t.ExperimentalViewArchivedChannels,isDataPrefechEnabled:"true"===t.ExperimentalDataPrefetch}}),(function(e){return{actions:Object(n.bindActionCreators)({close:Ah.a,switchToChannelById:k.o,openModal:_t.b},e)}}))(Lb),Db=a(659),Ub=a(114),qb=a(145);function Hb(e){return Object(Ai.f)(fe.N.CHANNEL_CATEGORY_COLLAPSED+e,!1)}function Fb(e,t){return t?function(e){return Object(Ai.f)(fe.N.CHANNEL_CATEGORY_COLLAPSED+e,!0)}(e):Hb(e)}function Bb(e){return{type:fe.f.SET_UNREAD_FILTER_ENABLED,enabled:e}}function Gb(e){return{type:fe.f.SIDEBAR_DRAGGING_SET_STATE,data:e}}function Vb(){return{type:fe.f.SIDEBAR_DRAGGING_STOP}}function Wb(e,t,a){return async n=>{const s=await n(Object(Db.createCategory)(e,t,a));return n({type:fe.f.ADD_NEW_CATEGORY_ID,data:s.data.id})}}function zb(e,t,a){return(n,s)=>{const i=function(e,t,a,n){if(0===n)return 0;const s=Object(Ub.getCategory)(e,t),i=Object(Ub.makeGetChannelsForCategory)()(e,s);if(s.channel_ids.length===i.length)return n;const r=i.map(e=>e.id),o=Object(qb.insertWithoutDuplicates)(r,a,n),l=o[o.indexOf(a)-1];let c=s.channel_ids.indexOf(l)+1;const d=s.channel_ids.indexOf(a);-1!==d&&d<c&&(c-=1);return c}(s(),e,t,a);return n(Object(Db.moveChannelToCategory)(e,t,i))}}a(1750),a(2164);function Yb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Kb extends h.a.PureComponent{constructor(e){super(e),Yb(this,"onHide",()=>{this.setState({show:!1},this.props.onHide)}),Yb(this,"handleCancel",e=>{e.preventDefault(),this.props.autoCloseOnCancelButton&&this.onHide(),this.props.handleCancel&&this.props.handleCancel()}),Yb(this,"handleConfirm",e=>{e.preventDefault(),this.props.autoCloseOnConfirmButton&&this.onHide(),this.props.handleConfirm&&this.props.handleConfirm()}),this.state={show:e.show}}render(){let e,t;if(this.props.handleConfirm){let t=h.a.createElement(q.a,{id:"generic_modal.confirm",defaultMessage:"Confirm"});this.props.confirmButtonText&&(t=this.props.confirmButtonText),e=h.a.createElement("button",{type:"submit",className:la()("GenericModal__button confirm ".concat(this.props.confirmButtonClassName),{disabled:this.props.isConfirmDisabled}),onClick:this.handleConfirm,disabled:this.props.isConfirmDisabled},t)}if(this.props.handleCancel){let e=h.a.createElement(q.a,{id:"generic_modal.cancel",defaultMessage:"Cancel"});this.props.cancelButtonText&&(e=this.props.cancelButtonText),t=h.a.createElement("button",{type:"button",className:"GenericModal__button cancel",onClick:this.handleCancel},e)}return h.a.createElement(ra.a,{dialogClassName:la()("a11y__modal GenericModal",this.props.className),show:this.state.show,onHide:this.onHide,onExited:this.onHide,enforceFocus:!0,restoreFocus:!0,role:"dialog","aria-labelledby":"genericModalLabel",id:this.props.id},h.a.createElement(ra.a.Header,{closeButton:!0}),h.a.createElement("form",null,h.a.createElement(ra.a.Body,null,h.a.createElement("div",{className:"GenericModal__header"},h.a.createElement("h1",{id:"genericModalLabel"},this.props.modalHeaderText)),h.a.createElement("div",{className:"GenericModal__body"},this.props.children)),h.a.createElement(ra.a.Footer,null,t,e)))}}function Zb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Yb(Kb,"propTypes",{className:u.a.string,onHide:u.a.func.isRequired,modalHeaderText:u.a.node.isRequired,show:u.a.bool,handleCancel:u.a.func,handleConfirm:u.a.func,confirmButtonText:u.a.node,confirmButtonClassName:u.a.string,cancelButtonText:u.a.node,isConfirmDisabled:u.a.bool,id:u.a.string,autoCloseOnCancelButton:u.a.bool,autoCloseOnConfirmButton:u.a.bool}),Yb(Kb,"defaultProps",{show:!0,id:"genericModal",autoCloseOnCancelButton:!0,autoCloseOnConfirmButton:!0});class Jb extends h.a.PureComponent{constructor(e){super(e),Zb(this,"handleClear",()=>{this.setState({categoryName:""})}),Zb(this,"handleChange",e=>{this.setState({categoryName:e.target.value})}),Zb(this,"handleCancel",()=>{this.handleClear()}),Zb(this,"handleConfirm",()=>{this.props.categoryId?this.props.actions.renameCategory(this.props.categoryId,this.state.categoryName):(this.props.actions.createCategory(this.props.currentTeamId,this.state.categoryName,this.props.channelIdsToAdd),Object(v.e)("ui","ui_sidebar_created_category"))}),Zb(this,"isConfirmDisabled",()=>!this.state.categoryName||Boolean(this.props.initialCategoryName)&&this.props.initialCategoryName===this.state.categoryName),Zb(this,"getText",()=>{let e,t,a;return this.props.categoryId?(e=h.a.createElement(q.a,{id:"rename_category_modal.renameCategory",defaultMessage:"Rename Category"}),t=h.a.createElement(q.a,{id:"rename_category_modal.rename",defaultMessage:"Rename"})):(e=h.a.createElement(q.a,{id:"create_category_modal.createCategory",defaultMessage:"Create New Category"}),t=h.a.createElement(q.a,{id:"create_category_modal.create",defaultMessage:"Create"}),a=h.a.createElement(q.a,{id:"edit_category_modal.helpText",defaultMessage:"Drag channels into this category to organize your sidebar."})),{modalHeaderText:e,editButtonText:t,helpText:a}}),this.state={categoryName:e.initialCategoryName||""}}render(){const{modalHeaderText:e,editButtonText:t,helpText:a}=this.getText();return h.a.createElement(Kb,{onHide:this.props.onHide,modalHeaderText:e,handleConfirm:this.handleConfirm,handleCancel:this.handleCancel,confirmButtonText:t,isConfirmDisabled:this.isConfirmDisabled(),id:"editCategoryModal"},h.a.createElement(wp.a,{autoFocus:!0,className:"form-control filter-textbox",type:"text",value:this.state.categoryName,placeholder:Object(z.ob)("edit_category_modal.placeholder","Name your category"),clearable:!0,onClear:this.handleClear,onChange:this.handleChange,maxLength:22}),Boolean(a)&&h.a.createElement("span",{className:"edit-category__helpText"},a))}}Zb(Jb,"propTypes",{onHide:u.a.func.isRequired,currentTeamId:u.a.string.isRequired,categoryId:u.a.string,initialCategoryName:u.a.string,channelIdsToAdd:u.a.arrayOf(u.a.string),actions:u.a.shape({createCategory:u.a.func.isRequired,renameCategory:u.a.func.isRequired}).isRequired});var Xb=Object(s.connect)((function(e){return{currentTeamId:Object(o.getCurrentTeam)(e).id}}),(function(e){return{actions:Object(n.bindActionCreators)({createCategory:Wb,renameCategory:Db.renameCategory},e)}}))(Jb);function Qb(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class $b extends h.a.PureComponent{constructor(...e){super(...e),Qb(this,"renderDropdownItems",()=>{const{intl:e,canCreateChannel:t,canJoinPublicChannel:a}=this.props;let n,s;return a&&(n=h.a.createElement(pr.a.ItemAction,{id:"showMoreChannels",onClick:this.props.showMoreChannelsModal,icon:h.a.createElement("i",{className:"icon-globe"}),text:e.formatMessage({id:"sidebar_left.add_channel_dropdown.browseChannels",defaultMessage:"Browse Channels"})})),t&&(s=h.a.createElement(pr.a.ItemAction,{id:"showNewChannel",onClick:this.props.showNewChannelModal,icon:h.a.createElement("i",{className:"icon-plus"}),text:e.formatMessage({id:"sidebar_left.add_channel_dropdown.createNewChannel",defaultMessage:"Create New Channel"})})),h.a.createElement(h.a.Fragment,null,h.a.createElement(pr.a.Group,null,n,s),h.a.createElement(pr.a.Group,null,h.a.createElement(pr.a.ItemAction,{id:"createCategory",onClick:this.props.showCreateCategoryModal,icon:h.a.createElement("i",{className:"icon-folder-plus-outline"}),text:e.formatMessage({id:"sidebar_left.add_channel_dropdown.createCategory",defaultMessage:"Create New Category"})})))})}render(){const{intl:e,canCreateChannel:t,canJoinPublicChannel:a}=this.props;if(!t&&!a)return null;const n=h.a.createElement(Vi.a,{id:"new-group-tooltip",className:"hidden-xs"},h.a.createElement(q.a,{id:"sidebar_left.add_channel_dropdown.browseOrCreateChannels",defaultMessage:"Browse or create channels"}));return h.a.createElement(ur.a,{className:"AddChannelDropdown"},h.a.createElement(Wi.a,{delayShow:500,placement:"top",overlay:n},h.a.createElement("button",{className:"AddChannelDropdown_dropdownButton","aria-label":e.formatMessage({id:"sidebar_left.add_channel_dropdown.dropdownAriaLabel",defaultMessage:"Add Channel Dropdown"})},h.a.createElement("i",{className:"icon-plus"}))),h.a.createElement(pr.a,{id:"AddChannelDropdown",ariaLabel:e.formatMessage({id:"sidebar_left.add_channel_dropdown.dropdownAriaLabel",defaultMessage:"Add Channel Dropdown"})},this.renderDropdownItems()))}}Qb($b,"propTypes",{intl:u.a.any.isRequired,canCreateChannel:u.a.bool.isRequired,canJoinPublicChannel:u.a.bool.isRequired,showMoreChannelsModal:u.a.func.isRequired,showNewChannelModal:u.a.func.isRequired,showCreateCategoryModal:u.a.func.isRequired});var ef=Object(Z.c)($b);function tf(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class af extends h.a.PureComponent{constructor(...e){super(...e),tf(this,"openQuickSwitcher",e=>{e.preventDefault(),Object(v.e)("ui","ui_sidebar_open_channel_switcher_v2"),this.props.actions.openModal({modalId:fe.y.QUICK_SWITCH,dialogType:Dg})}),tf(this,"goBack",()=>{Object(v.e)("ui","ui_history_back"),this.props.actions.goBack()}),tf(this,"goForward",()=>{Object(v.e)("ui","ui_history_forward"),this.props.actions.goForward()})}render(){let e,t="Ctrl+K";return z.eb()&&(t="⌘K"),Object(y.e)()&&(e=h.a.createElement(h.a.Fragment,null,h.a.createElement("button",{className:la()("SidebarChannelNavigator_backButton",{disabled:!this.props.canGoBack}),disabled:!this.props.canGoBack,onClick:this.goBack,"aria-label":z.ob("sidebar_left.channel_navigator.goBackLabel","Back")},h.a.createElement("i",{className:"icon icon-arrow-left"})),h.a.createElement("button",{className:la()("SidebarChannelNavigator_forwardButton",{disabled:!this.props.canGoForward}),disabled:!this.props.canGoForward,onClick:this.goForward,"aria-label":z.ob("sidebar_left.channel_navigator.goForwardLabel","Forward")},h.a.createElement("i",{className:"icon icon-arrow-right"})))),h.a.createElement("div",{className:"SidebarChannelNavigator"},h.a.createElement("button",{className:"SidebarChannelNavigator_jumpToButton",onClick:this.openQuickSwitcher,"aria-label":z.ob("sidebar_left.channel_navigator.channelSwitcherLabel","Channel Switcher")},h.a.createElement(q.a,{id:"sidebar_left.channel_navigator.jumpTo",defaultMessage:"Jump to..."}),h.a.createElement("div",{className:"SidebarChannelNavigator_shortcutText"},t)),e)}}function nf(){return()=>(N.a.goBack(),{data:null})}function sf(){return()=>(N.a.goForward(),{data:null})}tf(af,"propTypes",{canGoForward:u.a.bool.isRequired,canGoBack:u.a.bool.isRequired,actions:u.a.shape({openModal:u.a.func.isRequired,goBack:u.a.func.isRequired,goForward:u.a.func.isRequired}).isRequired});var rf=Object(s.connect)((function(){return{canGoBack:!0,canGoForward:!0}}),(function(e){return{actions:Object(n.bindActionCreators)({openModal:_t.b,goBack:nf,goForward:sf},e)}}))(af),of=(a(2165),a(2168),a(118)),lf=a(125);function cf(e,t,a){return Object(of.b)(t,e+fe.N.CHANNEL_CATEGORY_COLLAPSED+a,!1)}function df(e,t){return cf(Object(lf.a)(e),e.storage.storage,t)}function mf(e){return e.views.channelSidebar.unreadFilterEnabled}const uf=(()=>{const e=Object(Ub.makeGetCategoriesForTeam)();return Object(em.memoizeResult)(t=>{const a=Object(o.getCurrentTeamId)(t);return e(t,a)})})(),pf=(()=>{const e=Object(Ub.makeGetChannelsByCategory)();return Object(em.memoizeResult)(t=>{const a=Object(o.getCurrentTeamId)(t);return e(t,a)})})(),hf=(()=>{const e=Object(em.createIdsSelector)(lf.a,uf,e=>e.storage.storage,(e,t,a)=>t.reduce((t,n)=>(t[n.id]=cf(e,a,n.id),t),{}));return Object(F.a)(e,uf,pf,B.getCurrentChannelId,e=>Object(B.getUnreadChannelIds)(e),(e,t,a,n,s)=>t.map(t=>{const i=a[t.id];if(e[t.id]){const e=e=>s.some(t=>e.id===t)||n===e.id;return i.filter(e)}return i}).flat())})(),gf=(()=>{const e=Object(F.a)(B.getAllChannels,e=>Object(B.getUnreadChannelIds)(e),B.getCurrentChannelId,(e,t,a)=>{const n=[];for(const s of t){const t=e[s];t.delete_at>0&&t.id!==a||n.push(t)}return-1===n.findIndex(e=>e.id===a)&&n.push(e[a]),n}),t=Object(F.a)((e,t)=>t,B.getMyChannelMemberships,R.getLastPostPerChannel,e=>e.views.channel.lastUnreadChannel,(e,t,a,n)=>{function s(e){return Object(We.isChannelMuted)(t[e.id])}function i(e){if(n&&e.id===n.id&&n.hadMentions)return!0;const a=t[e.id];return 0!==(null==a?void 0:a.mention_count)}return[...e].sort((e,t)=>{var n,r;if(s(e)&&!s(t))return 1;if(!s(e)&&s(t))return-1;if(i(e)&&!i(t))return-1;if(!i(e)&&i(t))return 1;const o=bf(e.last_post_at,null===(n=a[e.id])||void 0===n?void 0:n.create_at);return bf(t.last_post_at,null===(r=a[t.id])||void 0===r?void 0:r.create_at)-o})});return a=>{const n=e(a);return t(a,n)}})();function bf(e,t){return void 0===t?e:Math.max(e,t)}function ff(e){return mf(e)?gf(e):hf(e)}function _f(e){return e.views.channelSidebar.draggingState}function Cf(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class yf extends h.a.PureComponent{constructor(...e){super(...e),Cf(this,"toggleUnreadFilter",()=>{const{unreadFilterEnabled:e}=this.props;e?Object(v.e)("ui","ui_sidebar_unread_filter_disabled"):Object(v.e)("ui","ui_sidebar_unread_filter_enabled"),this.props.actions.setUnreadFilterEnabled(!e)})}render(){const{unreadFilterEnabled:e,hasMultipleTeams:t}=this.props;let a=h.a.createElement(q.a,{id:"sidebar_left.channel_filter.viewing",defaultMessage:"VIEWING:"}),n=h.a.createElement(q.a,{id:"sidebar_left.channel_filter.allChannels",defaultMessage:"All channels"}),s=Object(z.ob)("sidebar_left.channel_filter.filterByUnread","Filter by unread");e&&(a=h.a.createElement(q.a,{id:"sidebar_left.channel_filter.filteredBy",defaultMessage:"FILTERED BY:"}),n=h.a.createElement(q.a,{id:"sidebar_left.channel_filter.unread",defaultMessage:"Unread"}),s=Object(z.ob)("sidebar_left.channel_filter.showAllChannels","Show all channels"));const i=h.a.createElement(Vi.a,{id:"new-group-tooltip",className:"hidden-xs"},s);return h.a.createElement("div",{className:"SidebarFilters"},h.a.createElement(Wi.a,{delayShow:500,placement:t?"top":"right",overlay:i},h.a.createElement("a",{href:"#",className:la()("SidebarFilters_filterButton",{active:e}),onClick:this.toggleUnreadFilter,"aria-label":s},h.a.createElement("i",{className:"icon icon-filter-variant"}))),h.a.createElement("div",null,h.a.createElement("div",{className:"SidebarFilters_filterTitle"},a),h.a.createElement("div",{className:"SidebarFilters_filterDescription"},n)))}}Cf(yf,"propTypes",{hasMultipleTeams:u.a.bool.isRequired,unreadFilterEnabled:u.a.bool.isRequired,actions:u.a.shape({setUnreadFilterEnabled:u.a.func.isRequired}).isRequired});var Ef=Object(s.connect)((function(e){const t=Object(o.getMyTeams)(e);return{hasMultipleTeams:t&&t.length>1,unreadFilterEnabled:mf(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({setUnreadFilterEnabled:Bb},e)}}))(yf),vf=a(113),wf=a(288);class Of extends h.a.PureComponent{render(){return this.props.unreadMentions>0?h.a.createElement("span",{id:"unreadMentions",className:"badge"},this.props.unreadMentions):null}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Of,"propTypes",{channelId:u.a.string.isRequired,unreadMentions:u.a.number.isRequired});class Sf extends h.a.PureComponent{render(){return 0!==this.props.channel.delete_at?h.a.createElement("i",{className:"icon icon-archive-outline"}):this.props.hasDraft?h.a.createElement("i",{className:"icon icon-pencil-outline"}):this.props.icon}}function Tf(e,t,a){return e&&Boolean(e.message.trim()||e.fileInfos.length||e.uploadsInProgress.length)&&t!==(null==a?void 0:a.id)}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Sf,"propTypes",{icon:u.a.oneOfType([u.a.element,u.a.oneOf([null])]),channel:u.a.any.isRequired,hasDraft:u.a.bool.isRequired});var Mf=Object(s.connect)((function(e,t){var a;const n=Object(B.getCurrentChannelId)(e);return{hasDraft:Tf(!!(null===(a=t.channel)||void 0===a?void 0:a.id)&&Object(ui.i)(e,fe.N.DRAFT,t.channel.id),n,t.channel)}}),(function(e){return{actions:Object(n.bindActionCreators)({},e)}}))(Sf),Pf=a(1449);function Nf(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class If extends h.a.PureComponent{constructor(e){super(e),Nf(this,"menuWrapperRef",void 0),Nf(this,"menuRef",void 0),Nf(this,"menuButtonRef",void 0),Nf(this,"closeMenu",()=>{this.menuWrapperRef.current&&this.menuWrapperRef.current.close(),this.props.onToggleMenu(!1)}),Nf(this,"disableScrollbar",()=>{const e=document.querySelectorAll("#SidebarContainer .SidebarNavContainer .scrollbar--view");e&&e[0]&&(e[0].style.zIndex=this.props.isMenuOpen?"3":"unset")}),Nf(this,"refCallback",e=>{if(e){var t;this.menuRef=e;const a=e.rect(),n=null===(t=this.menuButtonRef.current)||void 0===t?void 0:t.getBoundingClientRect(),s=(void 0===(null==n?void 0:n.y)?null==n?void 0:n.top:n.y)||0,i=window.innerHeight-80-s;this.setState({openUp:s>i,width:(null==a?void 0:a.width)||0},()=>{this.props.refCallback&&this.props.refCallback(this)})}}),Nf(this,"setMenuPosition",()=>{if(this.menuButtonRef.current&&this.menuRef){var e;const t=null===(e=this.menuRef.node.current)||void 0===e?void 0:e.parentElement,a=this.state.openUp?-this.menuButtonRef.current.getBoundingClientRect().height:0;t.style.top="".concat(window.scrollY+this.menuButtonRef.current.getBoundingClientRect().top+this.menuButtonRef.current.clientHeight+a,"px")}}),this.state={openUp:!1,width:0},this.menuWrapperRef=h.a.createRef(),this.menuButtonRef=h.a.createRef()}componentDidUpdate(e){e.draggingState.state!==this.props.draggingState.state&&this.props.draggingState.state===fe.o.CAPTURE&&this.closeMenu(),this.props.isMenuOpen&&!e.isMenuOpen&&(this.setMenuPosition(),this.disableScrollbar())}render(){const{ariaLabel:e,buttonAriaLabel:t,children:a,isMenuOpen:n,tooltipText:s,id:i}=this.props,r=h.a.createElement(Vi.a,{id:"new-group-tooltip",className:"hidden-xs"},s);return h.a.createElement(ur.a,{ref:this.menuWrapperRef,className:la()("SidebarMenu",{menuOpen:n}),onToggle:this.props.onToggleMenu,stopPropagationOnToggle:!0},h.a.createElement(Wi.a,{delayShow:500,placement:"top",overlay:r,disabled:n},h.a.createElement("button",{ref:this.menuButtonRef,className:"SidebarMenu_menuButton","aria-label":t,tabIndex:this.props.tabIndex},h.a.createElement("i",{className:"icon-dots-vertical"}))),h.a.createElement(pr.a,{ref:this.refCallback,openUp:this.state.openUp,id:"SidebarMenu-".concat(i),ariaLabel:e},a))}}Nf(If,"propTypes",{id:u.a.string.isRequired,children:u.a.node,tooltipText:u.a.string.isRequired,buttonAriaLabel:u.a.string.isRequired,ariaLabel:u.a.string.isRequired,refCallback:u.a.func,isMenuOpen:u.a.bool.isRequired,onToggleMenu:u.a.func.isRequired,draggingState:u.a.any.isRequired,tabIndex:u.a.number});var Rf=Object(s.connect)((function(e){return{draggingState:_f(e)}}))(If);function Af(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class jf extends h.a.PureComponent{constructor(e){super(e),Af(this,"isLeaving",void 0),Af(this,"markAsRead",()=>{this.props.actions.markChannelAsRead(this.props.channel.id),Object(v.e)("ui","ui_sidebar_channel_menu_markAsRead")}),Af(this,"favoriteChannel",()=>{this.props.actions.favoriteChannel(this.props.channel.id),Object(v.e)("ui","ui_sidebar_channel_menu_favorite")}),Af(this,"unfavoriteChannel",()=>{this.props.actions.unfavoriteChannel(this.props.channel.id),Object(v.e)("ui","ui_sidebar_channel_menu_unfavorite")}),Af(this,"unmuteChannel",()=>{this.props.actions.unmuteChannel(this.props.currentUserId,this.props.channel.id)}),Af(this,"muteChannel",()=>{this.props.actions.muteChannel(this.props.currentUserId,this.props.channel.id)}),Af(this,"moveToCategory",e=>()=>{this.props.actions.addChannelToCategory(e,this.props.channel.id),Object(v.e)("ui","ui_sidebar_channel_menu_moveToExistingCategory")}),Af(this,"moveToNewCategory",()=>{this.props.actions.openModal({modalId:fe.y.EDIT_CATEGORY,dialogType:Xb,dialogProps:{channelIdsToAdd:[this.props.channel.id]}}),Object(v.e)("ui","ui_sidebar_channel_menu_createCategory")}),Af(this,"copyLink",()=>{Object(z.i)(this.props.channelLink)}),Af(this,"handleLeaveChannel",e=>{e.preventDefault(),e.stopPropagation(),!this.isLeaving&&this.props.closeHandler&&(this.isLeaving=!0,Object(v.e)("ui","ui_sidebar_channel_menu_leave"),this.props.closeHandler(()=>{this.isLeaving=!1}))}),Af(this,"addMembers",()=>{const{channel:e,actions:t}=this.props;t.openModal({modalId:fe.y.CHANNEL_INVITE,dialogType:Pf.a,dialogProps:{channel:e}}),Object(v.e)("ui","ui_sidebar_channel_menu_addMembers")}),Af(this,"renderDropdownItems",()=>{const{intl:e,isUnread:t,isFavorite:a,isMuted:n,channel:s,categories:i}=this.props;if(!i)return null;let r,o,l;if(t&&(r=h.a.createElement(pr.a.ItemAction,{id:"markAsRead-".concat(s.id),onClick:this.markAsRead,icon:h.a.createElement("i",{className:"icon-mark-as-unread"}),text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.markAsRead",defaultMessage:"Mark as Read"})})),o=a?h.a.createElement(pr.a.ItemAction,{id:"unfavorite-".concat(s.id),onClick:this.unfavoriteChannel,icon:h.a.createElement("i",{className:"icon-star"}),text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.unfavoriteChannel",defaultMessage:"Unfavorite"})}):h.a.createElement(pr.a.ItemAction,{id:"favorite-".concat(s.id),onClick:this.favoriteChannel,icon:h.a.createElement("i",{className:"icon-star-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.favoriteChannel",defaultMessage:"Favorite"})}),n){let t=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.unmuteChannel",defaultMessage:"Unmute Channel"});s.type!==fe.Z.DM_CHANNEL&&s.type!==fe.Z.GM_CHANNEL||(t=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.unmuteConversation",defaultMessage:"Unmute Conversation"})),l=h.a.createElement(pr.a.ItemAction,{id:"unmute-".concat(s.id),onClick:this.unmuteChannel,icon:h.a.createElement("i",{className:"icon-bell-off-outline"}),text:t})}else{let t=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.muteChannel",defaultMessage:"Mute Channel"});s.type!==fe.Z.DM_CHANNEL&&s.type!==fe.Z.GM_CHANNEL||(t=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.muteConversation",defaultMessage:"Mute Conversation"})),l=h.a.createElement(pr.a.ItemAction,{id:"mute-".concat(s.id),onClick:this.muteChannel,icon:h.a.createElement("i",{className:"icon-bell-outline"}),text:t})}const c=i.filter(e=>{var t;if(e.id===(null===(t=this.props.currentCategory)||void 0===t?void 0:t.id))return!1;switch(s.type){case fe.Z.OPEN_CHANNEL:case fe.Z.PRIVATE_CHANNEL:return e.type!==vf.CategoryTypes.DIRECT_MESSAGES;case fe.Z.DM_CHANNEL:case fe.Z.GM_CHANNEL:return e.type!==vf.CategoryTypes.CHANNELS;default:return!0}}).map(e=>({id:"moveToCategory-".concat(s.id,"-").concat(e.id),icon:e.type===vf.CategoryTypes.FAVORITES?h.a.createElement("i",{className:"icon-star-outline"}):h.a.createElement("i",{className:"icon-folder-outline"}),direction:"right",text:e.display_name,action:this.moveToCategory(e.id)}));let d,m;c.push({id:"SidebarChannelMenu-moveToDivider",text:h.a.createElement("li",{className:"MenuGroup menu-divider"})},{id:"moveToNewCategory-".concat(s.id),icon:h.a.createElement("i",{className:"icon-folder-move-outline"}),direction:"right",text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.moveToNewCategory",defaultMessage:"New Category"}),action:this.moveToNewCategory}),s.type!==fe.Z.OPEN_CHANNEL&&s.type!==fe.Z.PRIVATE_CHANNEL||(d=h.a.createElement(pr.a.ItemAction,{id:"copyLink-".concat(s.id),onClick:this.copyLink,icon:h.a.createElement("i",{className:"icon-link-variant"}),text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.copyLink",defaultMessage:"Copy Link"})})),(s.type===fe.Z.PRIVATE_CHANNEL&&this.props.managePrivateChannelMembers||s.type===fe.Z.OPEN_CHANNEL&&this.props.managePublicChannelMembers)&&(m=h.a.createElement(pr.a.ItemAction,{id:"addMembers-".concat(s.id),onClick:this.addMembers,icon:h.a.createElement("i",{className:"icon-account-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.addMembers",defaultMessage:"Add Members"})}));let u,p=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.leaveChannel",defaultMessage:"Leave Channel"});return s.type!==fe.Z.DM_CHANNEL&&s.type!==fe.Z.GM_CHANNEL||(p=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.leaveConversation",defaultMessage:"Close Conversation"})),s.name!==fe.Z.DEFAULT_CHANNEL&&(u=h.a.createElement(pr.a.Group,null,h.a.createElement(pr.a.ItemAction,{id:"leave-".concat(s.id),onClick:this.handleLeaveChannel,icon:h.a.createElement("i",{className:"icon-close"}),text:p}))),h.a.createElement(h.a.Fragment,null,h.a.createElement(pr.a.Group,null,r,o,l),h.a.createElement(pr.a.Group,null,h.a.createElement(pr.a.ItemSubMenu,{id:"moveTo-".concat(s.id),subMenu:c,text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.moveTo",defaultMessage:"Move to"}),icon:h.a.createElement("i",{className:"icon-folder-move-outline"}),direction:"right",openUp:this.state.openUp,xOffset:this.state.width})),h.a.createElement(pr.a.Group,null,d,m),u)}),Af(this,"refCallback",e=>{e&&this.setState({openUp:e.state.openUp,width:e.state.width})}),Af(this,"onToggleMenu",e=>{this.props.onToggleMenu(e),e&&Object(v.e)("ui","ui_sidebar_channel_menu_opened")}),this.state={openUp:!1,width:0},this.isLeaving=!1}render(){const{channel:e,intl:t,isCollapsed:a,isMenuOpen:n}=this.props;return h.a.createElement(Rf,{refCallback:this.refCallback,id:"SidebarChannelMenu-".concat(e.id),ariaLabel:t.formatMessage({id:"sidebar_left.sidebar_channel_menu.dropdownAriaLabel",defaultMessage:"Channel Menu"}),buttonAriaLabel:t.formatMessage({id:"sidebar_left.sidebar_channel_menu.dropdownAriaLabel",defaultMessage:"Channel Menu"}),isMenuOpen:n,onToggleMenu:this.onToggleMenu,tooltipText:t.formatMessage({id:"sidebar_left.sidebar_channel_menu.editChannel",defaultMessage:"Channel options"}),tabIndex:a?-1:0},this.renderDropdownItems())}}Af(jf,"propTypes",{channel:u.a.any.isRequired,channelLink:u.a.string.isRequired,categories:u.a.arrayOf(u.a.any),currentCategory:u.a.any,currentUserId:u.a.string.isRequired,currentTeamId:u.a.string.isRequired,isUnread:u.a.bool.isRequired,isFavorite:u.a.bool.isRequired,isMuted:u.a.bool.isRequired,intl:u.a.any.isRequired,managePublicChannelMembers:u.a.bool.isRequired,managePrivateChannelMembers:u.a.bool.isRequired,closeHandler:u.a.func,isCollapsed:u.a.bool.isRequired,isMenuOpen:u.a.bool.isRequired,onToggleMenu:u.a.func.isRequired,actions:u.a.shape({markChannelAsRead:u.a.func.isRequired,favoriteChannel:u.a.func.isRequired,unfavoriteChannel:u.a.func.isRequired,muteChannel:u.a.func.isRequired,unmuteChannel:u.a.func.isRequired,openModal:u.a.func.isRequired,addChannelToCategory:u.a.func.isRequired}).isRequired});var xf=Object(Z.c)(jf);var Lf=Object(s.connect)((function(e,t){const a=Object(xh.getMyChannelMemberships)(e)[t.channel.id],n=Object(o.getCurrentTeam)(e);let s,i,r=!1,l=!1;return n&&(r=Object(A.haveIChannelPermission)(e,{channel:t.channel.id,team:n.id,permission:x.a.MANAGE_PUBLIC_CHANNEL_MEMBERS}),l=Object(A.haveIChannelPermission)(e,{channel:t.channel.id,team:n.id,permission:x.a.MANAGE_PRIVATE_CHANNEL_MEMBERS}),s=uf(e),i=Object(Ub.getCategoryInTeamWithChannel)(e,n.id,t.channel.id)),{currentTeamId:n.id,currentUserId:Object(xh.getCurrentUserId)(e),categories:s,currentCategory:i,isFavorite:Object(B.isFavoriteChannel)(e,t.channel.id),isMuted:Object(We.isChannelMuted)(a),channelLink:"".concat(Object(Mi.e)()).concat(t.channelLink),managePublicChannelMembers:r,managePrivateChannelMembers:l}}),(function(e){return{actions:Object(n.bindActionCreators)({markChannelAsRead:ge.markChannelAsRead,favoriteChannel:ge.favoriteChannel,unfavoriteChannel:ge.unfavoriteChannel,muteChannel:U.e,unmuteChannel:U.i,openModal:_t.b,addChannelToCategory:Db.addChannelToCategory},e)}}))(xf);function kf(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Df extends h.a.PureComponent{constructor(e){super(e),kf(this,"labelRef",void 0),kf(this,"gmItemRef",void 0),kf(this,"enableToolTipIfNeeded",()=>{const e=this.gmItemRef.current||this.labelRef.current;e&&e.offsetWidth<e.scrollWidth?this.setState({showTooltip:!0}):this.setState({showTooltip:!1})}),kf(this,"getAriaLabel",()=>{const{label:e,ariaLabelPrefix:t,unreadMentions:a}=this.props;let n=e;return t&&(n+=" ".concat(t)),1===a?n+=" ".concat(a," ").concat(Object(z.ob)("accessibility.sidebar.types.mention","mention")):a>1&&(n+=" ".concat(a," ").concat(Object(z.ob)("accessibility.sidebar.types.mentions","mentions"))),this.showChannelAsUnread()&&0===a&&(n+=" ".concat(Object(z.ob)("accessibility.sidebar.types.unread","unread"))),n.toLowerCase()}),kf(this,"removeTooltipLink",()=>{this.gmItemRef.current&&this.gmItemRef.current.removeAttribute("aria-describedby")}),kf(this,"trackChannelSelectedEvent",()=>{Object(v.b)("SidebarLink#click"),Object(v.e)("ui","ui_channel_selected_v2")}),kf(this,"handleMenuToggle",e=>{this.setState({isMenuOpen:e})}),kf(this,"showChannelAsUnread",()=>this.props.unreadMentions>0||this.props.unreadMsgs>0&&this.props.showUnreadForMsgs),this.labelRef=h.a.createRef(),this.gmItemRef=h.a.createRef(),this.state={isMenuOpen:!1,showTooltip:!1}}componentDidMount(){this.enableToolTipIfNeeded()}componentDidUpdate(e){e.label!==this.props.label&&this.enableToolTipIfNeeded()}render(){const{link:e,label:t,channel:a,unreadMentions:n,icon:s,isMuted:i}=this.props;let r=h.a.createElement("span",{className:"SidebarChannelLinkLabel"},ot(t));if(this.state.showTooltip){const e=h.a.createElement(Vi.a,{id:"channel-displayname__tooltip"},t);r=h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:e,onEntering:this.removeTooltipLink},h.a.createElement("div",{ref:this.gmItemRef},r))}const o=h.a.createElement(h.a.Fragment,null,h.a.createElement(Mf,{channel:a,icon:s}),h.a.createElement("div",{className:"SidebarChannelLinkLabel_wrapper",ref:this.labelRef},r),h.a.createElement(Of,{channelId:a.id,unreadMentions:n}),h.a.createElement(Lf,{channel:a,isUnread:this.showChannelAsUnread(),isCollapsed:this.props.isCollapsed,closeHandler:this.props.closeHandler,channelLink:e,isMenuOpen:this.state.isMenuOpen,onToggleMenu:this.handleMenuToggle})),l=la()(["SidebarLink",{menuOpen:this.state.isMenuOpen,muted:i,"unread-title":this.showChannelAsUnread()}]);let c=h.a.createElement(vs.Link,{className:l,id:"sidebarItem_".concat(a.name),"aria-label":this.getAriaLabel(),to:e,onClick:this.trackChannelSelectedEvent,tabIndex:this.props.isCollapsed?-1:0},o);return Object(y.e)()&&(c=h.a.createElement(Eh,{link:this.props.link,menuId:a.id},c)),c}}kf(Df,"propTypes",{channel:u.a.any.isRequired,link:u.a.string.isRequired,label:u.a.string.isRequired,ariaLabelPrefix:u.a.string,closeHandler:u.a.func,icon:u.a.oneOfType([u.a.element,u.a.oneOf([null])]),unreadMentions:u.a.number.isRequired,unreadMsgs:u.a.number.isRequired,showUnreadForMsgs:u.a.bool.isRequired,isMuted:u.a.bool.isRequired,isCollapsed:u.a.bool.isRequired});var Uf=Object(s.connect)((function(e,t){const a=Object(xh.getMyChannelMemberships)(e)[t.channel.id];let n=0,s=0,i=!0;return a&&(n=a.mention_count,t.channel&&(s=Math.max(t.channel.total_msg_count-a.msg_count,0)),a.notify_props&&(i=a.notify_props.mark_unread!==fe.z.MENTION)),{unreadMentions:n,unreadMsgs:s,showUnreadForMsgs:i,isMuted:Object(We.isChannelMuted)(a)}}),(function(e){return{actions:Object(n.bindActionCreators)({},e)}}))(Df);function qf(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Hf extends h.a.PureComponent{constructor(...e){super(...e),qf(this,"handleLeavePublicChannel",()=>{this.props.actions.leaveChannel(this.props.channel.id),Object(v.e)("ui","ui_public_channel_x_button_clicked")}),qf(this,"handleLeavePrivateChannel",()=>{w.k({id:this.props.channel.id,display_name:this.props.channel.display_name}),Object(v.e)("ui","ui_private_channel_x_button_clicked")}),qf(this,"getCloseHandler",()=>{const{channel:e}=this.props;return e.type===fe.Z.OPEN_CHANNEL&&e.name!==fe.Z.DEFAULT_CHANNEL?this.handleLeavePublicChannel:e.type===fe.Z.PRIVATE_CHANNEL?this.handleLeavePrivateChannel:null}),qf(this,"getIcon",()=>{const{channel:e}=this.props;return e.type===fe.Z.OPEN_CHANNEL?h.a.createElement("i",{className:"icon icon-globe"}):e.type===fe.Z.PRIVATE_CHANNEL?h.a.createElement("i",{className:"icon icon-lock-outline"}):null})}render(){const{channel:e,currentTeamName:t}=this.props;let a;return e.type===fe.Z.OPEN_CHANNEL?a=Object(z.ob)("accessibility.sidebar.types.public","public channel"):e.type===fe.Z.PRIVATE_CHANNEL&&(a=Object(z.ob)("accessibility.sidebar.types.private","private channel")),h.a.createElement(Uf,{channel:e,link:"/".concat(t,"/channels/").concat(e.name),label:e.display_name,ariaLabelPrefix:a,closeHandler:this.getCloseHandler(),icon:this.getIcon(),isCollapsed:this.props.isCollapsed})}}qf(Hf,"propTypes",{channel:u.a.any.isRequired,currentTeamName:u.a.string.isRequired,isCollapsed:u.a.bool.isRequired,actions:u.a.shape({leaveChannel:u.a.func.isRequired}).isRequired});var Ff=Object(s.connect)(null,(function(e){return{actions:Object(n.bindActionCreators)({leaveChannel:k.e},e)}}))(Hf);function Bf(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Gf extends h.a.PureComponent{render(){const{status:e,className:t}=this.props;if(!e)return null;let a="icon-circle-outline";return"online"===e?a="icon-check-circle":"away"===e?a="icon-clock":"dnd"===e&&(a="icon-minus-circle"),h.a.createElement("i",{className:"".concat(a," ").concat(t)})}}function Vf(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Bf(Gf,"propTypes",{className:u.a.string,status:u.a.string}),Bf(Gf,"defaultProps",{className:"",status:""});class Wf extends h.a.PureComponent{constructor(e){super(e),Vf(this,"handleLeaveChannel",e=>{const t=this.props.channel.teammate_id,a=fe.l.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,n=this.props.currentUserId;this.props.actions.savePreferences(n,[{user_id:n,category:a,name:t,value:"false"}]).then(e),this.props.actions.leaveDirectChannel(this.props.channel.name),Object(v.e)("ui","ui_direct_channel_x_button_clicked"),this.props.active&&N.a.push("/".concat(this.props.currentTeamName,"/channels/").concat(this.props.redirectChannel))}),Vf(this,"onSvgLoadError",()=>{this.setState({svgErrorUrl:this.props.botIconUrl})}),Vf(this,"onSvgLoad",()=>{this.setState({svgErrorUrl:null})}),Vf(this,"getIcon",()=>{const{channel:e,teammate:t}=this.props;if(!t)return null;if(t.id&&t.delete_at)return h.a.createElement("i",{className:"icon icon-archive-outline"});if(t.id&&t.is_bot){let e=h.a.createElement("i",{className:"icon icon-robot-happy"});return this.props.botIconUrl&&this.props.botIconUrl!==this.state.svgErrorUrl&&(e=h.a.createElement(nb.a,{className:"icon icon-robot-happy",src:this.props.botIconUrl,onLoad:this.onSvgLoad,onError:this.onSvgLoadError})),e}let a="";return"online"===e.status?a="status-online":"away"===e.status?a="status-away":"dnd"===e.status&&(a="status-dnd"),h.a.createElement(Gf,{status:e.status,className:a})}),this.state={svgErrorUrl:null}}render(){const{channel:e,teammate:t,currentTeamName:a}=this.props;if(!t)return null;let n=e.display_name;return this.props.currentUserId===t.id&&(n=this.props.intl.formatMessage({id:"sidebar.directchannel.you",defaultMessage:"{displayname} (you)"},{displayname:e.display_name})),h.a.createElement(Uf,{channel:e,link:"/".concat(a,"/messages/@").concat(t.username),label:n,closeHandler:this.handleLeaveChannel,icon:this.getIcon(),isCollapsed:this.props.isCollapsed})}}Vf(Wf,"propTypes",{intl:u.a.any.isRequired,channel:u.a.any.isRequired,teammate:u.a.any,currentTeamName:u.a.string.isRequired,currentUserId:u.a.string.isRequired,redirectChannel:u.a.string.isRequired,active:u.a.bool.isRequired,botIconUrl:u.a.oneOfType([u.a.string,u.a.oneOf([null])]),isCollapsed:u.a.bool.isRequired,actions:u.a.shape({savePreferences:u.a.func.isRequired,leaveDirectChannel:u.a.func.isRequired}).isRequired});var zf=Object(Z.c)(Wf);var Yf=Object(s.connect)((function(e,t){const a=Object(r.getUser)(e,t.channel.teammate_id),n=Object(r.getCurrentUser)(e),s=Object(o.getCurrentTeam)(e),i=Object(B.getRedirectChannelNameForTeam)(e,s.id),l=Object(B.getCurrentChannelId)(e),c=t.channel.id===l;return{teammate:a,currentUserId:n.id,redirectChannel:i,active:c,botIconUrl:(m=a,m&&m.is_bot&&m.bot_last_icon_update?"".concat(d.Client4.getBotRoute(m.id),"/icon?_=").concat(m.bot_last_icon_update||0):null)};var m}),(function(e){return{actions:Object(n.bindActionCreators)({savePreferences:Qs.savePreferences,leaveDirectChannel:k.f},e)}}))(zf);function Kf(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Zf extends h.a.PureComponent{constructor(...e){super(...e),Kf(this,"handleLeaveChannel",e=>{const t=this.props.channel.id,a=fe.Z.Preferences.CATEGORY_GROUP_CHANNEL_SHOW,n=this.props.currentUserId;this.props.actions.savePreferences(n,[{user_id:n,category:a,name:t,value:"false"}]).then(e),Object(v.e)("ui","ui_direct_channel_x_button_clicked"),this.props.active&&N.a.push("/".concat(this.props.currentTeamName,"/channels/").concat(this.props.redirectChannel))}),Kf(this,"getIcon",()=>h.a.createElement("div",{className:"status status--group"},this.props.membersCount))}render(){const{channel:e,currentTeamName:t}=this.props;return h.a.createElement(Uf,{channel:e,link:"/".concat(t,"/messages/").concat(e.name),label:e.display_name,closeHandler:this.handleLeaveChannel,icon:this.getIcon(),isCollapsed:this.props.isCollapsed})}}Kf(Zf,"propTypes",{channel:u.a.any.isRequired,currentTeamName:u.a.string.isRequired,currentUserId:u.a.string.isRequired,redirectChannel:u.a.string.isRequired,active:u.a.bool.isRequired,membersCount:u.a.number.isRequired,isCollapsed:u.a.bool.isRequired,actions:u.a.shape({savePreferences:u.a.func.isRequired}).isRequired});var Jf=Object(s.connect)((function(e,t){const a=Object(r.getCurrentUser)(e),n=Object(o.getCurrentTeam)(e),s=Object(B.getRedirectChannelNameForTeam)(e,n.id),i=Object(B.getCurrentChannelId)(e),l=t.channel.id===i,c=Object(r.getUserIdsInChannels)(e);let d=0;if(c&&c[t.channel.id]){const e=c[t.channel.id];d=e.size,e.has(a.id)&&d--}return{currentUserId:a.id,redirectChannel:s,active:l,membersCount:d}}),(function(e){return{actions:Object(n.bindActionCreators)({savePreferences:Qs.savePreferences},e)}}))(Zf);function Xf(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Qf extends h.a.PureComponent{constructor(...e){super(...e),Xf(this,"isUnread",()=>this.props.unreadMentions>0||this.props.unreadMsgs>0&&this.props.showUnreadForMsgs),Xf(this,"isCollapsed",e=>e.isCategoryDragged||e.isCategoryCollapsed&&!this.isUnread()&&!e.isCurrentChannel),Xf(this,"removeAnimation",()=>{const e=this.getRef();e&&e.classList.remove("animating")}),Xf(this,"getRef",()=>this.props.getChannelRef(this.props.channel.id)),Xf(this,"setRef",e=>t=>{this.props.setChannelRef(this.props.channel.id,t),null==e||e(t)})}componentDidUpdate(e){if(this.isCollapsed(this.props)!==this.isCollapsed(e)&&this.props.draggingState.state!==fe.o.CAPTURE&&this.props.draggingState.state!==fe.o.BEFORE){const e=this.getRef();e&&e.classList.add("animating")}}render(){const{channel:e,channelIndex:t,currentTeamName:a,isCurrentChannel:n,isDraggable:s,isDMCategory:i}=this.props;let r=Ff;e.type===fe.Z.DM_CHANNEL?r=Yf:e.type===fe.Z.GM_CHANNEL&&(r=Jf);const o=h.a.createElement(r,{isCollapsed:this.isCollapsed(this.props),channel:e,currentTeamName:a});let l;return l=s?h.a.createElement(bh.b,{draggableId:e.id,index:t},(e,t)=>{var a;return h.a.createElement("li",Object.assign({draggable:"false",ref:this.setRef(e.innerRef),className:la()("SidebarChannel",{collapsed:this.isCollapsed(this.props),unread:this.isUnread(),active:n,dragging:t.isDragging,fadeDMs:t.isDropAnimating&&(null===(a=t.draggingOver)||void 0===a?void 0:a.includes("direct_messages")),noFloat:i&&!t.isDragging}),onTransitionEnd:this.removeAnimation},e.draggableProps,e.dragHandleProps,{role:"listitem",tabIndex:-1}),o)}):h.a.createElement("li",{ref:this.setRef(),className:la()("SidebarChannel",{collapsed:this.isCollapsed(this.props),unread:this.isUnread(),active:n}),role:"listitem"},o),l}}Xf(Qf,"propTypes",{channel:u.a.any.isRequired,channelIndex:u.a.number.isRequired,teammateUsername:u.a.string,currentTeamName:u.a.string.isRequired,unreadMentions:u.a.number.isRequired,unreadMsgs:u.a.number.isRequired,showUnreadForMsgs:u.a.bool.isRequired,getChannelRef:u.a.func.isRequired,setChannelRef:u.a.func.isRequired,isCategoryCollapsed:u.a.bool.isRequired,isCurrentChannel:u.a.bool.isRequired,isDMCategory:u.a.bool.isRequired,isDraggable:u.a.bool,draggingState:u.a.any.isRequired,isCategoryDragged:u.a.bool.isRequired,isDropDisabled:u.a.bool.isRequired}),Xf(Qf,"defaultProps",{isDraggable:!0});var $f=Object(s.connect)((function(){const e=Object(B.makeGetChannel)();return(t,a)=>{const n=e(t,{id:a.channelId}),s=Object(o.getCurrentTeam)(t),i=Object(xh.getMyChannelMemberships)(t)[a.channelId],r=Object(B.getCurrentChannelId)(t);let l=0,c=0,d=!0;return i&&(l=i.mention_count,n&&(c=Math.max(n.total_msg_count-i.msg_count,0)),i.notify_props&&(d=i.notify_props.mark_unread!==fe.z.MENTION)),{channel:n,isCurrentChannel:n.id===r,currentTeamName:s.name,unreadMentions:l,unreadMsgs:c,showUnreadForMsgs:d,draggingState:_f(t)}}}))(Qf);const e_=h.a.forwardRef((e,t)=>h.a.createElement("div",{className:la()("SidebarChannelGroupHeader SidebarChannelGroupHeader--static",{"SidebarChannelGroupHeader--sticky":a_()})},h.a.createElement("div",{ref:t,className:"SidebarChannelGroupHeader_groupButton"},h.a.createElement("div",{className:"SidebarChannelGroupHeader_text"},ot(e.displayName)),e.children)));e_.displayName="SidebarCategoryHeaderStatic";const t_=h.a.forwardRef((e,t)=>h.a.createElement("div",{className:la()("SidebarChannelGroupHeader",{"SidebarChannelGroupHeader--sticky":a_()})},h.a.createElement("button",{ref:t,className:la()("SidebarChannelGroupHeader_groupButton",{dragging:e.isDragging}),"aria-label":e.displayName,onClick:e.onClick},h.a.createElement("i",{className:la()("icon icon-chevron-down",{"icon-rotate-minus-90":e.isCollapsed,"hide-arrow":!e.isCollapsible})}),h.a.createElement("div",Object.assign({className:"SidebarChannelGroupHeader_text"},e.dragHandleProps),ot(e.displayName)),e.children)));function a_(){return!y.g()&&!y.r()}function n_(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t_.defaultProps={isCollapsible:!0,isDragging:!1,isDraggingOver:!1},t_.displayName="SidebarCategoryHeader";class s_ extends h.a.PureComponent{constructor(e){super(e),n_(this,"handleConfirm",()=>{this.props.actions.deleteCategory(this.props.category.id)}),this.state={show:!0}}render(){return h.a.createElement(Kb,{onHide:this.props.onHide,modalHeaderText:h.a.createElement(q.a,{id:"delete_category_modal.deleteCategory",defaultMessage:"Delete this category?"}),handleConfirm:this.handleConfirm,confirmButtonText:h.a.createElement(q.a,{id:"delete_category_modal.delete",defaultMessage:"Delete"}),confirmButtonClassName:"delete"},h.a.createElement("span",{className:"delete-category__helpText"},h.a.createElement(Pr.b,{id:"delete_category_modal.helpText",defaultMessage:"Channels in **{category_name}** will move back to the Channels and Direct messages categories. You're not removed from any channels.",values:{category_name:this.props.category.display_name}})))}}n_(s_,"propTypes",{category:u.a.any.isRequired,onHide:u.a.func.isRequired,actions:u.a.shape({deleteCategory:u.a.func.isRequired}).isRequired});var i_=Object(s.connect)(null,(function(e){return{actions:Object(n.bindActionCreators)({deleteCategory:Db.deleteCategory},e)}}))(s_);function r_(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class o_ extends h.a.PureComponent{constructor(e){super(e),r_(this,"deleteCategory",()=>{this.props.actions.openModal({modalId:fe.y.DELETE_CATEGORY,dialogType:i_,dialogProps:{category:this.props.category}})}),r_(this,"renameCategory",()=>{this.props.actions.openModal({modalId:fe.y.EDIT_CATEGORY,dialogType:Xb,dialogProps:{categoryId:this.props.category.id,initialCategoryName:this.props.category.display_name}})}),r_(this,"createCategory",()=>{this.props.actions.openModal({modalId:fe.y.EDIT_CATEGORY,dialogType:Xb}),Object(v.e)("ui","ui_sidebar_category_menu_createCategory")}),r_(this,"onToggleMenu",e=>{this.props.onToggleMenu(e),e&&Object(v.e)("ui","ui_sidebar_category_menu_opened")}),r_(this,"renderDropdownItems",()=>{const{intl:e,category:t}=this.props;let a,n;return t.type===vf.CategoryTypes.CUSTOM&&(a=h.a.createElement(pr.a.ItemAction,{isDangerous:!0,id:"delete-".concat(t.id),onClick:this.deleteCategory,icon:h.a.createElement("i",{className:"icon-trash-can-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_category_menu.deleteCategory",defaultMessage:"Delete Category"})}),n=h.a.createElement(pr.a.ItemAction,{id:"rename-".concat(t.id),onClick:this.renameCategory,icon:h.a.createElement("i",{className:"icon-pencil-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_category_menu.renameCategory",defaultMessage:"Rename Category"})})),h.a.createElement(h.a.Fragment,null,h.a.createElement(pr.a.Group,null,n,a),h.a.createElement(pr.a.Group,null,h.a.createElement(pr.a.ItemAction,{id:"create-".concat(t.id),onClick:this.createCategory,icon:h.a.createElement("i",{className:"icon-folder-plus-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_category_menu.createCategory",defaultMessage:"Create New Category"})})))}),this.state={showDeleteCategoryModal:!1}}render(){const{intl:e,category:t}=this.props;return h.a.createElement(h.a.Fragment,null,h.a.createElement(Rf,{id:"SidebarCategoryMenu-".concat(t.id),ariaLabel:e.formatMessage({id:"sidebar_left.sidebar_category_menu.dropdownAriaLabel",defaultMessage:"Category Menu"}),buttonAriaLabel:e.formatMessage({id:"sidebar_left.sidebar_category_menu.dropdownAriaLabel",defaultMessage:"Category Menu"}),isMenuOpen:this.props.isMenuOpen,onToggleMenu:this.onToggleMenu,tooltipText:e.formatMessage({id:"sidebar_left.sidebar_category_menu.editCategory",defaultMessage:"Category options"})},this.renderDropdownItems()))}}r_(o_,"propTypes",{currentTeamId:u.a.string.isRequired,category:u.a.any.isRequired,isMenuOpen:u.a.bool.isRequired,onToggleMenu:u.a.func.isRequired,intl:u.a.any.isRequired,actions:u.a.shape({openModal:u.a.func.isRequired}).isRequired});var l_=Object(Z.c)(o_);var c_=Object(s.connect)((function(){return e=>({currentTeamId:Object(o.getCurrentTeam)(e).id})}),(function(e){return{actions:Object(n.bindActionCreators)({openModal:_t.b},e)}}))(l_);function d_(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m_ extends h.a.PureComponent{constructor(e){super(e),d_(this,"categoryTitleRef",void 0),d_(this,"newDropBoxRef",void 0),d_(this,"handleA11yActivateEvent",()=>{this.categoryTitleRef.current&&this.categoryTitleRef.current.addEventListener("keydown",this.handleA11yKeyDown)}),d_(this,"handleA11yDeactivateEvent",()=>{this.categoryTitleRef.current&&this.categoryTitleRef.current.removeEventListener("keydown",this.handleA11yKeyDown)}),d_(this,"handleA11yKeyDown",e=>{Object(z.cb)(e,fe.Z.KeyCodes.ENTER)&&this.handleCollapse()}),d_(this,"renderChannel",(e,t)=>{const{isCollapsed:a,setChannelRef:n,getChannelRef:s,category:i,draggingState:r}=this.props;return h.a.createElement($f,{key:e.id,channelIndex:t,channelId:e.id,setChannelRef:n,getChannelRef:s,isCategoryCollapsed:a,isCategoryDragged:r.type===fe.n.CATEGORY&&r.id===i.id,isDropDisabled:this.isDropDisabled(),isDMCategory:i.type===vf.CategoryTypes.DIRECT_MESSAGES})}),d_(this,"handleCollapse",()=>{const{category:e,isCollapsed:t}=this.props;t?Object(v.e)("ui","ui_sidebar_expand_category"):Object(v.e)("ui","ui_sidebar_collapse_category"),this.props.actions.setCategoryCollapsed(e.id,!t)}),d_(this,"handleSortDirectMessages",e=>{const{category:t}=this.props;e.stopPropagation();const a=t.sorting===wf.CategorySorting.Recency?wf.CategorySorting.Alphabetical:wf.CategorySorting.Recency;this.props.actions.setCategorySorting(t.id,a),Object(v.e)("ui","ui_sidebar_sort_dm_".concat(a))}),d_(this,"removeAnimation",()=>{this.newDropBoxRef.current&&this.newDropBoxRef.current.classList.remove("animating")}),d_(this,"handleOpenDirectMessagesModal",e=>{e.stopPropagation(),this.props.handleOpenMoreDirectChannelsModal(e.nativeEvent),Object(v.e)("ui","ui_sidebar_create_direct_message")}),d_(this,"handleMenuToggle",e=>{this.setState({isMenuOpen:e})}),d_(this,"isDropDisabled",()=>{const{draggingState:e,category:t}=this.props;return t.type===vf.CategoryTypes.DIRECT_MESSAGES?e.type===fe.n.CHANNEL:t.type===vf.CategoryTypes.CHANNELS&&e.type===fe.n.DM}),d_(this,"renderNewDropBox",e=>{const{isCollapsed:t,draggingState:a,category:n,isNewCategory:s,channels:i}=this.props;return!s||(null==i?void 0:i.length)?null:h.a.createElement(h.a.Fragment,null,h.a.createElement(bh.b,{draggableId:"NEW_CHANNEL_SPACER__".concat(n.id),isDragDisabled:!0,index:0},e=>h.a.createElement("li",Object.assign({ref:e.innerRef,draggable:"false",className:"SidebarChannel noFloat newChannelSpacer"},e.draggableProps,{role:"listitem",tabIndex:-1}))),h.a.createElement("div",{ref:this.newDropBoxRef,className:la()("SidebarCategory_newDropBox",{collapsed:t||a.type===fe.n.CATEGORY&&a.id===n.id,isDraggingOver:e}),onTransitionEnd:this.removeAnimation},h.a.createElement("i",{className:"icon-hand-right"}),h.a.createElement("span",{className:"SidebarCategory_newDropBox-label"},h.a.createElement(q.a,{id:"sidebar_left.sidebar_category.newDropBoxLabel",defaultMessage:"Drag channels here..."}))))}),this.categoryTitleRef=h.a.createRef(),this.newDropBoxRef=h.a.createRef(),this.state={isMenuOpen:!1}}componentDidUpdate(e){this.props.isCollapsed!==e.isCollapsed&&this.newDropBoxRef.current&&this.newDropBoxRef.current.classList.add("animating")}componentDidMount(){this.categoryTitleRef.current&&(this.categoryTitleRef.current.addEventListener(fe.c.ACTIVATE,this.handleA11yActivateEvent),this.categoryTitleRef.current.addEventListener(fe.c.DEACTIVATE,this.handleA11yDeactivateEvent))}componentWillUnmount(){this.categoryTitleRef.current&&(this.categoryTitleRef.current.removeEventListener(fe.c.ACTIVATE,this.handleA11yActivateEvent),this.categoryTitleRef.current.removeEventListener(fe.c.DEACTIVATE,this.handleA11yDeactivateEvent))}render(){const{category:e,categoryIndex:t,channels:a,isCollapsed:n,isNewCategory:s}=this.props;if(!e)return null;if(e.type===vf.CategoryTypes.FAVORITES&&!(null==a?void 0:a.length))return null;const i=a.map(this.renderChannel);let r,o,l=!0;if(s)o=h.a.createElement("div",{className:"SidebarCategory_newLabel"},h.a.createElement(q.a,{id:"sidebar_left.sidebar_category.newLabel",defaultMessage:"new"})),r=h.a.createElement(c_,{category:e,isMenuOpen:this.state.isMenuOpen,onToggleMenu:this.handleMenuToggle});else if(e.type===vf.CategoryTypes.DIRECT_MESSAGES){const t=Object(Nt.localizeMessage)("sidebar.createDirectMessage","Create new direct message"),n=h.a.createElement(Vi.a,{id:"new-group-tooltip",className:"hidden-xs"},t);let s,i;e.sorting===wf.CategorySorting.Alphabetical?(s=h.a.createElement("i",{className:"icon-sort-alphabetical-ascending"}),i=Object(Nt.localizeMessage)("sidebar.sortedByAlphabetical","Sorted alphabetically")):(s=h.a.createElement("i",{className:"icon-clock-outline"}),i=Object(Nt.localizeMessage)("sidebar.sortedByRecency","Sorted by most recent"));const o=h.a.createElement(Vi.a,{id:"new-group-tooltip",className:"hidden-xs"},i);r=h.a.createElement(h.a.Fragment,null,h.a.createElement(Wi.a,{delayShow:500,placement:"top",overlay:o},h.a.createElement("button",{className:"SidebarChannelGroupHeader_sortButton",onClick:this.handleSortDirectMessages,"aria-label":i},s)),h.a.createElement(Wi.a,{delayShow:500,placement:"top",overlay:n},h.a.createElement("button",{className:"SidebarChannelGroupHeader_addButton",onClick:this.handleOpenDirectMessagesModal,"aria-label":t},h.a.createElement("i",{className:"icon-plus"})))),a&&a.length||(l=!1)}else r=h.a.createElement(c_,{category:e,isMenuOpen:this.state.isMenuOpen,onToggleMenu:this.handleMenuToggle});let c=e.display_name;return e.type!==vf.CategoryTypes.CUSTOM&&(c=Object(Nt.localizeMessage)("sidebar.types.".concat(e.type),e.display_name)),h.a.createElement(bh.b,{draggableId:e.id,index:t,disableInteractiveElementBlocking:!0},(t,a)=>h.a.createElement("div",Object.assign({className:la()("SidebarChannelGroup a11y__section",{dmCategory:e.type===vf.CategoryTypes.DIRECT_MESSAGES,dropDisabled:this.isDropDisabled(),menuIsOpen:this.state.isMenuOpen,capture:this.props.draggingState.state===fe.o.CAPTURE}),ref:t.innerRef},t.draggableProps),h.a.createElement(bh.c,{droppableId:e.id,type:"SIDEBAR_CHANNEL",isDropDisabled:this.isDropDisabled()},(d,m)=>h.a.createElement("div",Object.assign({},d.droppableProps,{ref:d.innerRef,className:la()({draggingOver:m.isDraggingOver})}),h.a.createElement(t_,{ref:this.categoryTitleRef,displayName:c,dragHandleProps:t.dragHandleProps,isCollapsed:n,isCollapsible:l,isDragging:a.isDragging,isDraggingOver:m.isDraggingOver,onClick:this.handleCollapse},o,void 0,r),h.a.createElement("div",{className:"SidebarChannelGroup_content"},h.a.createElement("ul",{role:"list",className:"NavGroupContent"},this.renderNewDropBox(m.isDraggingOver),i,e.type===vf.CategoryTypes.DIRECT_MESSAGES||s?null:d.placeholder))))))}}d_(m_,"propTypes",{category:u.a.any.isRequired,categoryIndex:u.a.number.isRequired,channels:u.a.arrayOf(u.a.any).isRequired,setChannelRef:u.a.func.isRequired,handleOpenMoreDirectChannelsModal:u.a.func.isRequired,getChannelRef:u.a.func.isRequired,isCollapsed:u.a.bool.isRequired,isNewCategory:u.a.bool.isRequired,draggingState:u.a.any.isRequired,actions:u.a.shape({setCategoryCollapsed:u.a.func.isRequired,setCategorySorting:u.a.func.isRequired}).isRequired}),Object(J.b)("sidebar.types.channels"),Object(J.b)("sidebar.types.direct_messages"),Object(J.b)("sidebar.types.favorites");var u_=Object(s.connect)((function(){const e=Object(Ub.makeGetChannelsForCategory)();return(t,a)=>({isCollapsed:df(t,a.category.id),channels:e(t,a.category),draggingState:_f(t)})}),(function(e){return{actions:Object(n.bindActionCreators)({setCategoryCollapsed:Fb,setCategorySorting:Db.setCategorySorting},e)}}))(m_);function p_(e){const t=Object(Un.a)();return h.a.createElement("div",{className:"SidebarChannelGroup a11y__section"},h.a.createElement(e_,{displayName:t.formatMessage({id:"sidebar.types.all_unreads",defaultMessage:"ALL UNREADS"})}),e.unreadChannels.map((t,a)=>h.a.createElement($f,{key:t.id,channelIndex:a,channelId:t.id,setChannelRef:e.setChannelRef,getChannelRef:e.getChannelRef,isCategoryCollapsed:!1,isCategoryDragged:!1,isDraggable:!1,isDropDisabled:!0,isDMCategory:!1})))}p_.propTypes={getChannelRef:u.a.func.isRequired,setChannelRef:u.a.func.isRequired,unreadChannels:u.a.arrayOf(u.a.any).isRequired};var h_=Object(s.connect)((function(e){return{unreadChannels:gf(e)}}))(p_);function g_(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function b_(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function f_(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"}))}function __(e){return h.a.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}class C_ extends h.a.PureComponent{constructor(e){super(e),g_(this,"channelRefs",void 0),g_(this,"scrollbar",void 0),g_(this,"animate",void 0),g_(this,"scrollAnimation",void 0),g_(this,"getDisplayedChannelIds",()=>this.props.displayedChannels.map(e=>e.id)),g_(this,"getChannelRef",e=>this.channelRefs.get(e)),g_(this,"setChannelRef",(e,t)=>{t?this.channelRefs.set(e,t):this.channelRefs.delete(e)}),g_(this,"getFirstUnreadChannelFromChannelIdArray",e=>this.props.currentChannelId?e.find(e=>e!==this.props.currentChannelId&&this.props.unreadChannelIds.includes(e)):null),g_(this,"handleScrollAnimationUpdate",e=>{const t=e.getCurrentValue();this.scrollbar.current.scrollTop(t)}),g_(this,"scrollToFirstUnreadChannel",()=>{this.scrollToChannel(this.getFirstUnreadChannel(),!0)}),g_(this,"scrollToLastUnreadChannel",()=>{this.scrollToChannel(this.getLastUnreadChannel(),!0)}),g_(this,"scrollToChannel",(e,t=!1)=>{if(!e)return;const a=this.channelRefs.get(e);if(!a)return;const n=a.offsetTop,s=n+a.offsetHeight,i=this.scrollbar.current.getScrollTop(),r=this.scrollbar.current.getClientHeight();if(n<i+32){const a=t||!this.state.showTopUnread?10:55;let s;const i=this.getDisplayedChannelIds();s=i.length>0&&i[0]===e?0:n-a-32,this.scrollToPosition(s)}else if(s>i+r){const e=s-r+(t||!this.state.showBottomUnread?10:55);this.scrollToPosition(e)}}),g_(this,"scrollToPosition",e=>{this.scrollAnimation.setCurrentValue(this.scrollbar.current.getScrollTop()).setAtRest(),this.scrollAnimation.setEndValue(e)}),g_(this,"updateUnreadIndicators",()=>{if(this.props.draggingState.state)return void this.setState({showTopUnread:!1,showBottomUnread:!1});let e=!1,t=!1;const a=this.getFirstUnreadChannel(),n=this.getLastUnreadChannel();if(a){const t=this.channelRefs.get(a);t&&t.offsetTop+t.offsetHeight-10-32<this.scrollbar.current.getScrollTop()&&(e=!0)}if(n){const e=this.channelRefs.get(n);e&&e.offsetTop+10>this.scrollbar.current.getScrollTop()+this.scrollbar.current.getClientHeight()&&(t=!0)}e===this.state.showTopUnread&&t===this.state.showBottomUnread||this.setState({showTopUnread:e,showBottomUnread:t})}),g_(this,"getFirstUnreadChannel",()=>this.getFirstUnreadChannelFromChannelIdArray(this.getDisplayedChannelIds())),g_(this,"getLastUnreadChannel",()=>this.getFirstUnreadChannelFromChannelIdArray(this.getDisplayedChannelIds().reverse())),g_(this,"navigateChannelShortcut",e=>{if(!e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||!z.cb(e,fe.l.KeyCodes.UP)&&!z.cb(e,fe.l.KeyCodes.DOWN))z.g(e)&&e.shiftKey&&z.cb(e,fe.l.KeyCodes.K)&&this.props.handleOpenMoreDirectChannelsModal(e);else{e.preventDefault();const t=this.getDisplayedChannelIds(),a=this.props.currentChannelId;let n=-1;for(let e=0;e<t.length;e++)t[e]===a&&(n=e);let s=n;s=z.cb(e,fe.l.KeyCodes.DOWN)?n+1:n-1;const i=t[z.pb(s,t.length)];this.props.actions.switchToChannelById(i),this.scrollToChannel(i)}}),g_(this,"navigateUnreadChannelShortcut",e=>{if(e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&(z.cb(e,fe.l.KeyCodes.UP)||z.cb(e,fe.l.KeyCodes.DOWN))){e.preventDefault();const t=this.getDisplayedChannelIds();let a=0;a=z.cb(e,fe.l.KeyCodes.UP)?-1:1;const n=G.b(this.props.currentChannelId,t,this.props.unreadChannelIds,a);if(-1!==n){const e=t[n];this.props.actions.switchToChannelById(e),this.scrollToChannel(e)}}}),g_(this,"renderCategory",(e,t)=>h.a.createElement(u_,{key:e.id,category:e,categoryIndex:t,setChannelRef:this.setChannelRef,handleOpenMoreDirectChannelsModal:this.props.handleOpenMoreDirectChannelsModal,getChannelRef:this.getChannelRef,isNewCategory:this.props.newCategoryIds.includes(e.id)})),g_(this,"onScroll",kn()(()=>{this.updateUnreadIndicators()},100)),g_(this,"onTransitionEnd",kn()(()=>{this.updateUnreadIndicators()},100)),g_(this,"onBeforeCapture",e=>{this.channelRefs.forEach(e=>e.classList.remove("animating"));const t=[...document.querySelectorAll('[data-rbd-droppable-id*="droppable-categories"]')];t[0].style.height="".concat(t[0].scrollHeight,"px");const a={state:fe.o.CAPTURE,id:e.draggableId};if(this.props.categories.some(t=>t.id===e.draggableId))a.type=fe.n.CATEGORY;else{const t=this.props.displayedChannels.find(t=>t.id===e.draggableId);a.type=(null==t?void 0:t.type)===W.General.DM_CHANNEL||(null==t?void 0:t.type)===W.General.GM_CHANNEL?fe.n.DM:fe.n.CHANNEL}this.props.actions.setDraggingState(a)}),g_(this,"onBeforeDragStart",()=>{this.props.actions.setDraggingState({state:fe.o.BEFORE})}),g_(this,"onDragStart",e=>{this.props.onDragStart(e),this.props.actions.setDraggingState({state:fe.o.DURING});[...document.querySelectorAll('[data-rbd-droppable-id*="droppable-categories"]')][0].style.height=""}),g_(this,"onDragEnd",e=>{this.props.onDragEnd(e),"DROP"===e.reason&&e.destination&&("SIDEBAR_CHANNEL"===e.type?(this.props.actions.moveChannelInSidebar(e.destination.droppableId,e.draggableId,e.destination.index),Object(v.e)("ui","ui_sidebar_dragdrop_dropped_channel")):"SIDEBAR_CATEGORY"===e.type&&(this.props.actions.moveCategory(this.props.currentTeam.id,e.draggableId,e.destination.index),Object(v.e)("ui","ui_sidebar_dragdrop_dropped_category"))),this.props.actions.stopDragging()}),this.channelRefs=new Map,this.state={showTopUnread:!1,showBottomUnread:!1},this.scrollbar=h.a.createRef(),this.animate=new jh.SpringSystem,this.scrollAnimation=this.animate.createSpring(),this.scrollAnimation.setOvershootClampingEnabled(!0),this.scrollAnimation.addListener({onSpringUpdate:this.handleScrollAnimationUpdate})}componentDidMount(){document.addEventListener("keydown",this.navigateChannelShortcut),document.addEventListener("keydown",this.navigateUnreadChannelShortcut)}componentWillUnmount(){document.removeEventListener("keydown",this.navigateChannelShortcut),document.removeEventListener("keydown",this.navigateUnreadChannelShortcut)}componentDidUpdate(e){this.props.currentChannelId&&e.currentChannelId&&(this.props.currentTeam!==e.currentTeam&&this.scrollbar.current.scrollToTop(),this.props.currentChannelId,e.currentChannelId,this.props.currentChannelId!==e.currentChannelId&&this.props.actions.close(),this.updateUnreadIndicators())}render(){const{categories:e}=this.props;let t;if(this.props.isUnreadFilterEnabled)t=h.a.createElement(h_,{getChannelRef:this.getChannelRef,setChannelRef:this.setChannelRef});else{const a=e.map(this.renderCategory);t=h.a.createElement(bh.a,{onDragEnd:this.onDragEnd,onBeforeDragStart:this.onBeforeDragStart,onBeforeCapture:this.onBeforeCapture,onDragStart:this.onDragStart},h.a.createElement(bh.c,{droppableId:"droppable-categories",type:"SIDEBAR_CATEGORY"},e=>h.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),a,e.placeholder)))}const a=h.a.createElement(q.a,{id:"sidebar.unreads",defaultMessage:"More unreads"}),n=h.a.createElement(q.a,{id:"sidebar.unreads",defaultMessage:"More unreads"});return h.a.createElement("div",{id:"sidebar-left",className:la()("SidebarNavContainer a11y__region",{disabled:this.props.isUnreadFilterEnabled}),"data-a11y-disable-nav":Boolean(this.props.draggingState.type),"data-a11y-sort-order":"7",onTransitionEnd:this.onTransitionEnd},h.a.createElement(Hg,{name:"Top",show:this.state.showTopUnread,onClick:this.scrollToFirstUnreadChannel,extraClass:"nav-pills__unread-indicator-top",content:a}),h.a.createElement(Hg,{name:"Bottom",show:this.state.showBottomUnread,onClick:this.scrollToLastUnreadChannel,extraClass:"nav-pills__unread-indicator-bottom",content:n}),h.a.createElement(Ei.a,{ref:this.scrollbar,autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:f_,renderThumbVertical:__,renderView:b_,onScroll:this.onScroll,style:{position:"absolute"}},t))}}g_(C_,"propTypes",{currentTeam:u.a.any.isRequired,currentChannelId:u.a.string.isRequired,categories:u.a.arrayOf(u.a.any).isRequired,unreadChannelIds:u.a.arrayOf(u.a.string).isRequired,isUnreadFilterEnabled:u.a.bool.isRequired,displayedChannels:u.a.arrayOf(u.a.any).isRequired,newCategoryIds:u.a.arrayOf(u.a.string).isRequired,draggingState:u.a.any.isRequired,handleOpenMoreDirectChannelsModal:u.a.func.isRequired,onDragStart:u.a.func.isRequired,onDragEnd:u.a.func.isRequired,actions:u.a.shape({moveChannelInSidebar:u.a.func.isRequired,moveCategory:u.a.func.isRequired,switchToChannelById:u.a.func.isRequired,close:u.a.func.isRequired,setDraggingState:u.a.func.isRequired,stopDragging:u.a.func.isRequired,expandCategory:u.a.func.isRequired}).isRequired});var y_=Object(s.connect)((function(e){return{currentTeam:Object(o.getCurrentTeam)(e),currentChannelId:Object(B.getCurrentChannelId)(e),categories:uf(e),isUnreadFilterEnabled:mf(e),unreadChannelIds:Object(B.getUnreadChannelIds)(e),displayedChannels:ff(e),draggingState:_f(e),newCategoryIds:e.views.channelSidebar.newCategoryIds}}),(function(e){return{actions:Object(n.bindActionCreators)({close:Ah.a,switchToChannelById:k.o,moveChannelInSidebar:zb,moveCategory:Db.moveCategory,setDraggingState:Gb,stopDragging:Vb,expandCategory:Hb},e)}}))(C_);class E_ extends h.a.PureComponent{constructor(e){super(e),function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(this,"handleResize",()=>{const e=z.fb();this.setState({isMobile:e})}),this.state={isMobile:z.fb()}}componentDidMount(){window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const e=z.ob("accessibility.sections.lhsHeader","team menu region");return h.a.createElement("div",{id:"lhsHeader","aria-label":e,tabIndex:-1,role:"application",className:"SidebarHeader team__header theme a11y__region","data-a11y-sort-order":"5"},h.a.createElement("div",{className:"d-flex"},!this.state.isMobile&&h.a.createElement(Kg,null),h.a.createElement($g,null)))}}var v_=Object(s.connect)((function(e){const t=Object(i.getConfig)(e),a=Object(r.getCurrentUser)(e);return{enableTutorial:"true"===t.EnableTutorial,showTutorialTip:Object(K.getInt)(e,fe.F.TUTORIAL_STEP,a.id)===fe.Q.MENU_POPOVER&&!z.fb()}}))(E_);a(2169);const w_=e=>h.a.createElement("div",{className:"ProgressBar"},h.a.createElement("div",{className:"ProgressBar__progress",style:{flexBasis:e.basePercentage?"".concat(e.basePercentage,"%"):"",flexGrow:e.current/e.total}}));w_.propTypes={total:u.a.number.isRequired,current:u.a.number.isRequired,basePercentage:u.a.number};var O_=w_,S_=(a(2170),a.p+"files/4e8057cd6539f1927c7c20b9c160037a.svg");a(2171);function T_(e){const{onConfirm:t,onCancel:a,screenTitle:n}=e;return h.a.createElement(h.a.Fragment,null,mr.a.createPortal(h.a.createElement("div",{className:"RemoveNextStepsModal__helpBox"},h.a.createElement("img",{className:"RemoveNextStepsModal__arrow",src:S_}),h.a.createElement("span",{className:"RemoveNextStepsModal__helpText"},h.a.createElement(Pr.b,{id:"remove_next_steps_modal.helpText",defaultMessage:"Access {title} any time through the Main Menu",values:{title:n}}))),document.body),h.a.createElement(Kb,{className:"RemoveNextStepsModal",show:!0,onHide:a,handleConfirm:t,handleCancel:a,modalHeaderText:h.a.createElement(Pr.b,{id:"remove_next_steps_modal.header",defaultMessage:"Remove {title}?",values:{title:n}}),confirmButtonText:h.a.createElement(q.a,{id:"remove_next_steps_modal.confirm",defaultMessage:"Remove"})},h.a.createElement(q.a,{id:"remove_next_steps_modal.mainText",defaultMessage:"This will remove this section from your sidebar, but you can access it later in the Help section of the Main Menu."})))}function M_(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}T_.propTypes={screenTitle:u.a.string.isRequired,onConfirm:u.a.func.isRequired,onCancel:u.a.func.isRequired};class P_ extends h.a.PureComponent{constructor(e){super(e),M_(this,"closeNextSteps",e=>{e.stopPropagation(),this.props.showNextSteps?Object(v.e)(Bd(this.props.isAdmin),"click_skip_getting_started",{channel_sidebar:!0}):Object(v.e)(Bd(this.props.isAdmin),"click_skip_tips");const t=this.props.showNextSteps?Object(z.ob)("sidebar_next_steps.gettingStarted","Getting Started"):Object(z.ob)("sidebar_next_steps.tipsAndNextSteps","Tips & Next Steps");this.props.actions.openModal({modalId:fe.y.REMOVE_NEXT_STEPS_MODAL,dialogType:T_,dialogProps:{screenTitle:t,onConfirm:this.onConfirmModal,onCancel:this.onCloseModal}})}),M_(this,"showNextSteps",()=>{this.props.showNextSteps?Object(v.e)(Bd(this.props.isAdmin),"click_getting_started"):Object(v.e)(Bd(this.props.isAdmin),"click_tips"),this.props.actions.setShowNextStepsView(!0)}),M_(this,"onCloseModal",()=>{this.props.actions.closeModal(fe.y.REMOVE_NEXT_STEPS_MODAL)}),M_(this,"onConfirmModal",()=>{this.props.actions.savePreferences(this.props.currentUserId,[{user_id:this.props.currentUserId,category:fe.F.RECOMMENDED_NEXT_STEPS,name:fe.H.HIDE,value:"true"}]),this.props.showNextSteps||Object(v.e)(Bd(this.props.isAdmin),"click_confirm_remove_tips"),this.props.actions.setShowNextStepsView(!1),this.onCloseModal()}),this.state={complete:0}}render(){if(this.props.preferences.some(e=>e.name===fe.H.HIDE&&"true"===e.value))return null;const e=this.props.steps.length,t=this.props.preferences.filter(e=>e.name!==fe.H.HIDE&&"true"===e.value).length;let a=h.a.createElement(q.a,{id:"sidebar_next_steps.gettingStarted",defaultMessage:"Getting Started"});this.props.showNextSteps||(a=h.a.createElement(q.a,{id:"sidebar_next_steps.tipsAndNextSteps",defaultMessage:"Tips & Next Steps"}));let n=h.a.createElement(Pr.b,{id:"sidebar_next_steps.stepsComplete",defaultMessage:"{complete} / {total} steps complete",values:{complete:t,total:e}});return this.props.showNextSteps||(n=h.a.createElement(q.a,{id:"sidebar_next_steps.otherAreasToExplore",defaultMessage:"A few other areas to explore"})),h.a.createElement("div",{className:la()("SidebarNextSteps",{active:this.props.active,tips:!this.props.showNextSteps}),onClick:this.showNextSteps},h.a.createElement("div",{className:"SidebarNextSteps__top"},h.a.createElement("span",null,a),h.a.createElement("button",{className:"SidebarNextSteps__close",onClick:this.closeNextSteps},h.a.createElement("i",{className:"icon icon-close"}))),h.a.createElement("div",{className:"SidebarNextSteps__middle"},h.a.createElement("span",null,n)),this.props.showNextSteps&&h.a.createElement("div",{className:"SidebarNextSteps__progressBar"},h.a.createElement(O_,{current:t,total:e,basePercentage:4})))}}M_(P_,"propTypes",{active:u.a.bool.isRequired,showNextSteps:u.a.bool.isRequired,currentUserId:u.a.string.isRequired,preferences:u.a.arrayOf(u.a.any).isRequired,steps:u.a.arrayOf(u.a.any).isRequired,isAdmin:u.a.bool.isRequired,actions:u.a.shape({savePreferences:u.a.func.isRequired,openModal:u.a.func.isRequired,closeModal:u.a.func.isRequired,setShowNextStepsView:u.a.func.isRequired}).isRequired});var N_=Object(s.connect)((function(){const e=Object(K.makeGetCategory)();return t=>({active:t.views.nextSteps.show,steps:Om(t),showNextSteps:Pm(t),showNextStepsTips:Nm(t),currentUser:Object(r.getCurrentUser)(t),currentUserId:Object(r.getCurrentUserId)(t),preferences:e(t,fe.F.RECOMMENDED_NEXT_STEPS),isAdmin:Object(r.isCurrentUserSystemAdmin)(t)})}),(function(e){return{actions:Object(n.bindActionCreators)({savePreferences:Qs.savePreferences,openModal:_t.b,closeModal:_t.a,setShowNextStepsView:qd},e)}}))(P_),I_=a.p+"files/9db34861e2237cfd5d63c07e54ff8eb8.gif";a(2172);function R_(e){const t=()=>{e.actions.savePreferences(e.currentUserId,[{user_id:e.currentUserId,category:W.Preferences.CATEGORY_WHATS_NEW_MODAL,name:W.Preferences.HAS_SEEN_SIDEBAR_WHATS_NEW_MODAL,value:"true"}]),e.actions.closeModal(fe.y.SIDEBAR_WHATS_NEW_MODAL)};return h.a.createElement(Kb,{show:!0,onHide:t,handleConfirm:t,modalHeaderText:h.a.createElement(q.a,{id:"sidebar_whats_new_modal.header",defaultMessage:"What's new"}),confirmButtonText:h.a.createElement(q.a,{id:"sidebar_whats_new_modal.confirm",defaultMessage:"Got it"})},h.a.createElement("span",{className:"SidebarWhatsNewModal__helpText"},h.a.createElement(q.a,{id:"sidebar_whats_new_modal.whatsNewText",defaultMessage:"Create custom categories in your sidebar. Drag and drop to organize channels and categories."})),h.a.createElement("img",{className:"SidebarWhatsNewModal__img",src:I_}))}R_.propTypes={currentUserId:u.a.string.isRequired,actions:u.a.shape({savePreferences:u.a.func.isRequired,closeModal:u.a.func.isRequired}).isRequired};var A_=Object(s.connect)((function(e){return{currentUserId:Object(r.getCurrentUserId)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({savePreferences:Qs.savePreferences,closeModal:_t.a},e)}}))(R_);function j_(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class x_ extends h.a.PureComponent{constructor(e){super(e),j_(this,"showMoreDirectChannelsModal",()=>{this.setState({showDirectChannelsModal:!0}),Object(v.e)("ui","ui_channels_more_direct_v2")}),j_(this,"hideMoreDirectChannelsModal",()=>{this.setState({showDirectChannelsModal:!1})}),j_(this,"showCreateCategoryModal",()=>{this.props.actions.openModal({modalId:fe.y.EDIT_CATEGORY,dialogType:Xb}),Object(v.e)("ui","ui_sidebar_menu_createCategory")}),j_(this,"handleCreateCategory",e=>{this.props.actions.createCategory(this.props.teamId,e)}),j_(this,"showMoreChannelsModal",()=>{this.props.actions.openModal({modalId:fe.y.MORE_CHANNELS,dialogType:og,dialogProps:{morePublicChannelsModalType:"public"}}),Object(v.e)("ui","ui_channels_more_public_v2")}),j_(this,"showNewChannelModal",()=>{this.props.actions.openModal({modalId:fe.y.NEW_CHANNEL_FLOW,dialogType:eg}),Object(v.e)("ui","ui_channels_create_channel_v2")}),j_(this,"handleOpenMoreDirectChannelsModal",e=>{e.preventDefault(),this.state.showDirectChannelsModal?this.hideMoreDirectChannelsModal():this.showMoreDirectChannelsModal()}),j_(this,"onDragStart",()=>{this.setState({isDragging:!0})}),j_(this,"onDragEnd",()=>{this.setState({isDragging:!1})}),j_(this,"renderModals",()=>{let e;return this.state.showDirectChannelsModal&&(e=h.a.createElement(Cg,{onModalDismissed:this.hideMoreDirectChannelsModal,isExistingChannel:!1})),h.a.createElement(h.a.Fragment,null,e)}),this.state={showDirectChannelsModal:!1,isDragging:!1}}componentDidMount(){this.props.teamId&&this.props.actions.fetchMyCategories(this.props.teamId),this.props.hasSeenModal||this.props.isCloud||this.props.actions.openModal({modalId:fe.y.SIDEBAR_WHATS_NEW_MODAL,dialogType:A_})}componentDidUpdate(e){this.props.teamId&&e.teamId!==this.props.teamId&&this.props.actions.fetchMyCategories(this.props.teamId)}render(){return this.props.teamId?h.a.createElement("div",{id:"SidebarContainer",className:la()({"move--right":this.props.isOpen&&z.fb(),dragging:this.state.isDragging})},h.a.createElement(v_,null),h.a.createElement("div",{className:"a11y__region","data-a11y-sort-order":"6"},h.a.createElement(rf,null),h.a.createElement("div",{className:"SidebarContainer_filterAddChannel"},h.a.createElement(Ef,null),h.a.createElement(ef,{showNewChannelModal:this.showNewChannelModal,showMoreChannelsModal:this.showMoreChannelsModal,showCreateCategoryModal:this.showCreateCategoryModal,canCreateChannel:this.props.canCreatePrivateChannel||this.props.canCreatePublicChannel,canJoinPublicChannel:this.props.canJoinPublicChannel}))),h.a.createElement(Et.a,{pluggableName:"LeftSidebarHeader"}),h.a.createElement(y_,{handleOpenMoreDirectChannelsModal:this.handleOpenMoreDirectChannelsModal,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd}),this.props.isDataPrefechEnabled&&h.a.createElement(Vh,null),this.props.isCloud&&h.a.createElement(N_,null),this.renderModals()):h.a.createElement("div",null)}}j_(x_,"propTypes",{teamId:u.a.string.isRequired,canCreatePublicChannel:u.a.bool.isRequired,canCreatePrivateChannel:u.a.bool.isRequired,canJoinPublicChannel:u.a.bool.isRequired,isOpen:u.a.bool.isRequired,isDataPrefechEnabled:u.a.bool.isRequired,hasSeenModal:u.a.bool.isRequired,actions:u.a.shape({fetchMyCategories:u.a.func.isRequired,createCategory:u.a.func.isRequired,openModal:u.a.func.isRequired}).isRequired,isCloud:u.a.bool.isRequired});var L_=Object(s.connect)((function(e){const t=Object(o.getCurrentTeam)(e),a="true"===Object(i.getConfig)(e).ExperimentalDataPrefetch,n=Object(B.getCurrentChannelId)(e);let s=!1,r=!1,l=!1;return t&&(s=Object(A.haveIChannelPermission)(e,{channel:n,team:t.id,permission:x.a.CREATE_PUBLIC_CHANNEL}),r=Object(A.haveIChannelPermission)(e,{channel:n,team:t.id,permission:x.a.CREATE_PRIVATE_CHANNEL}),l=Object(A.haveIChannelPermission)(e,{channel:n,team:t.id,permission:x.a.JOIN_PUBLIC_CHANNELS})),{teamId:t?t.id:"",canCreatePrivateChannel:r,canCreatePublicChannel:s,canJoinPublicChannel:l,isOpen:gh(e),isDataPrefechEnabled:a,hasSeenModal:Object(K.getBool)(e,W.Preferences.CATEGORY_WHATS_NEW_MODAL,W.Preferences.HAS_SEEN_SIDEBAR_WHATS_NEW_MODAL,!1),isCloud:"true"===Object(i.getLicense)(e).Cloud}}),(function(e){return{actions:Object(n.bindActionCreators)({createCategory:Wb,fetchMyCategories:Db.fetchMyCategories,openModal:_t.b},e)}}))(x_);function k_(e,t="",a){return async(n,s)=>{const{data:i}=await n(Object(be.getPostThread)(e));if(!i)return void N.a.replace("/error?type=".concat(fe.p.PERMALINK_NOT_FOUND,"&returnTo=").concat(t));const l=s(),c=i.posts[i.order[0]].channel_id;let d=l.entities.channels.channels[c];const m=Object(o.getCurrentTeamId)(l);if(!d){const{data:e}=await n(Object(ge.getChannel)(c));if(!e)return void N.a.replace("/error?type=".concat(fe.p.PERMALINK_NOT_FOUND,"&returnTo=").concat(t));d=e}if(!l.entities.channels.myMembers[c]){if(d.type===fe.l.DM_CHANNEL||d.type===fe.l.GM_CHANNEL)return void N.a.replace("/error?type=".concat(fe.p.PERMALINK_NOT_FOUND,"&returnTo=").concat(t));await n(Object(ge.joinChannel)(a,null,c))}if(d.team_id&&d.team_id!==m)return void N.a.replace("/error?type=".concat(fe.p.PERMALINK_NOT_FOUND,"&returnTo=").concat(t));d&&d.type===fe.l.DM_CHANNEL?n(Object($s.e)(d.id)):d&&d.type===fe.l.GM_CHANNEL&&n(Object($s.f)(d.id)),n(Object(ge.selectChannel)(c)),n({type:fe.f.RECEIVED_FOCUSED_POST,data:e,channelId:c});const u=Object(o.getTeam)(l,d.team_id||m);if(d.type===fe.l.DM_CHANNEL){const t=Object(z.M)(d.name),a=Object(r.getUser)(l,t);N.a.replace("/".concat(u.name,"/messages/@").concat(a.username,"/").concat(e))}else d.type===fe.l.GM_CHANNEL?N.a.replace("/".concat(u.name,"/messages/").concat(d.name,"/").concat(e)):N.a.replace("/".concat(u.name,"/channels/").concat(d.name,"/").concat(e));n(Object(U.d)()),n(Object(ge.getChannelStats)(c))}}function D_(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U_(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D_(Object(a),!0).forEach((function(t){q_(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function q_(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class H_ extends h.a.PureComponent{static getDerivedStateFromProps(e,t){let a={postid:e.match.params.postid};return t.postid!==e.match.params.postid&&(a=U_(U_({},a),{},{valid:!1})),a}constructor(e){super(e),q_(this,"doPermalinkEvent",async e=>{const t=e.match.params.postid;await this.props.actions.focusPost(t,this.props.returnTo,this.props.currentUserId),this.mounted&&this.setState({valid:!0})}),q_(this,"isStateValid",()=>this.state.valid&&this.props.channelId&&this.props.teamName),q_(this,"onShortcutKeyDown",e=>{e.shiftKey&&z.g(e)&&z.cb(e,fe.Z.KeyCodes.L)&&this.permalink.current&&this.permalink.current.focus()}),this.state={valid:!1}}componentDidMount(){this.mounted=!0,this.doPermalinkEvent(this.props),document.body.classList.add("app__body")}componentDidUpdate(){this.state.valid||this.doPermalinkEvent(this.props)}componentWillUnmount(){this.mounted=!1}render(){return this.isStateValid()?null:h.a.createElement("div",{id:"app-content",className:"app__content"})}}q_(H_,"propTypes",{channelId:u.a.string,match:u.a.shape({params:u.a.shape({postid:u.a.string.isRequired}).isRequired}).isRequired,returnTo:u.a.string.isRequired,teamName:u.a.string,actions:u.a.shape({focusPost:u.a.func.isRequired}).isRequired,currentUserId:u.a.string.isRequired});var F_=Object(s.connect)((function(e){const t=Object(o.getCurrentTeam)(e),a=Object(B.getCurrentChannel)(e),n=Object(r.getCurrentUserId)(e);return{channelId:a?a.id:"",teamName:t?t.name:"",currentUserId:n}}),(function(e){return{actions:Object(n.bindActionCreators)({focusPost:k_},e)}}))(H_);class B_ extends h.a.PureComponent{render(){return h.a.createElement(pr.a,{id:"channelHeaderDropdownMenu",ariaLabel:Object(z.ob)("channel_header.menuAriaLabel","Channel Menu").toLowerCase()},h.a.createElement(Ny,{isMobile:!1}))}}function G_(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class V_ extends h.a.PureComponent{constructor(...e){super(...e),G_(this,"createButton",e=>{const t=()=>this.fireAction(e);return this.props.isDropdown?h.a.createElement("li",{key:"mobileChannelHeaderItem"+e.id,role:"presentation",className:"MenuItem"},h.a.createElement("a",{role:"menuitem",href:"#",onClick:t},e.dropdownText)):h.a.createElement("li",{className:"flex-parent--center"},h.a.createElement("button",{className:"navbar-toggle navbar-right__icon",onClick:t},h.a.createElement("span",{className:"icon navbar-plugin-button"},e.icon)))})}createList(e){return e.map(this.createButton)}fireAction(e){return e.action(this.props.channel,this.props.channelMember)}render(){const e=this.props.components||[];return 0===e.length?null:1===e.length?this.createButton(e[0]):this.props.isDropdown?this.createList(e):null}}G_(V_,"propTypes",{components:u.a.array,isDropdown:u.a.bool.isRequired,channel:u.a.object.isRequired,channelMember:u.a.object.isRequired,theme:u.a.object.isRequired});var W_=Object(s.connect)((function(e){return{channelMember:Object(B.getMyCurrentChannelMembership)(e),components:e.plugins.components.MobileChannelHeaderButton,theme:Object(K.getTheme)(e)}}))(V_);function z_({section:e,isCollapsed:t,memberNotifyLevel:a,globalNotifyLevel:n,ignoreChannelMentions:s}){if(a===fe.z.DEFAULT&&n){Object(J.b)("channel_notifications.levels.default"),Object(J.b)("channel_notifications.levels.all"),Object(J.b)("channel_notifications.levels.mention"),Object(J.b)("channel_notifications.levels.none");const e="channel_notifications.levels."+n,t=h.a.createElement(q.a,{id:e,defaultMessage:n});return h.a.createElement(q.a,{id:"channel_notifications.globalDefault",defaultMessage:"Global default ({notifyLevel})",values:{notifyLevel:t}})}return a===fe.z.MENTION&&e===fe.A.MARK_UNREAD?t?h.a.createElement(q.a,{id:"channel_notifications.muteChannel.on.title.collapse",defaultMessage:"Mute is enabled. Desktop, email and push notifications will not be sent for this channel."}):h.a.createElement(q.a,{id:"channel_notifications.muteChannel.on.title",defaultMessage:"On"}):e===fe.A.IGNORE_CHANNEL_MENTIONS&&s===fe.s.ON?h.a.createElement(q.a,{id:"channel_notifications.ignoreChannelMentions.on.title",defaultMessage:"On"}):e===fe.A.IGNORE_CHANNEL_MENTIONS&&s===fe.s.OFF?h.a.createElement(q.a,{id:"channel_notifications.ignoreChannelMentions.off.title",defaultMessage:"Off"}):a===fe.z.MENTION?h.a.createElement(q.a,{id:"channel_notifications.onlyMentions",defaultMessage:"Only for mentions"}):e!==fe.A.DESKTOP&&e!==fe.A.PUSH||a!==fe.z.ALL?e===fe.A.MARK_UNREAD&&a===fe.z.ALL?h.a.createElement(q.a,{id:"channel_notifications.muteChannel.off.title",defaultMessage:"Off"}):h.a.createElement(q.a,{id:"channel_notifications.never",defaultMessage:"Never"}):h.a.createElement(q.a,{id:"channel_notifications.allActivity",defaultMessage:"For all activity"})}function Y_({section:e}){return e===fe.A.DESKTOP?h.a.createElement(q.a,{id:"channel_notifications.sendDesktop",defaultMessage:"Send desktop notifications"}):e===fe.A.PUSH?h.a.createElement(q.a,{id:"channel_notifications.push",defaultMessage:"Send mobile push notifications"}):e===fe.A.MARK_UNREAD?h.a.createElement(q.a,{id:"channel_notifications.muteChannel.settings",defaultMessage:"Mute Channel"}):e===fe.A.IGNORE_CHANNEL_MENTIONS?h.a.createElement(q.a,{id:"channel_notifications.ignoreChannelMentions",defaultMessage:"Ignore mentions for @channel, @here and @all"}):null}function K_({onExpandSection:e,globalNotifyLevel:t,memberNotifyLevel:a,section:n,ignoreChannelMentions:s}){return h.a.createElement(Yu.a,{title:h.a.createElement(Y_,{section:n}),describe:h.a.createElement(z_,{section:n,ignoreChannelMentions:s,memberNotifyLevel:a,globalNotifyLevel:t,isCollapsed:!0}),updateSection:e,section:n})}function Z_({section:e}){switch(e){case fe.A.DESKTOP:return h.a.createElement("span",null,h.a.createElement(q.a,{id:"channel_notifications.override",defaultMessage:'Selecting an option other than "Default" will override the global notification settings. Desktop notifications are available on Firefox, Safari, and Chrome.'}));case fe.A.PUSH:return h.a.createElement("span",null,h.a.createElement(q.a,{id:"channel_notifications.overridePush",defaultMessage:'Selecting an option other than "Global default" will override the global notification settings for mobile push notifications in account settings. Push notifications must be enabled by the System Admin.'}));case fe.A.MARK_UNREAD:return h.a.createElement("span",null,h.a.createElement(q.a,{id:"channel_notifications.muteChannel.help",defaultMessage:"Muting turns off desktop, email and push notifications for this channel. The channel will not be marked as unread unless you are mentioned."}));case fe.A.IGNORE_CHANNEL_MENTIONS:return h.a.createElement("span",null,h.a.createElement(q.a,{id:"channel_notifications.ignoreChannelMentions.help",defaultMessage:"When enabled, @channel, @here and @all will not trigger mentions or mention notifications in this channel."}));default:return null}}function J_({section:e,memberNotifyLevel:t,globalNotifyLevel:a,onChange:n,onSubmit:s,serverError:i,onCollapseSection:r,ignoreChannelMentions:o}){const l=[h.a.createElement("div",{key:"channel-notification-level-radio"},(e===fe.A.DESKTOP||e===fe.A.PUSH)&&h.a.createElement("fieldset",null,h.a.createElement("div",{className:"radio"},h.a.createElement("label",{className:""},h.a.createElement("input",{id:"channelNotificationGlobalDefault",name:"channelDesktopNotifications",type:"radio",value:fe.z.DEFAULT,checked:t===fe.z.DEFAULT,onChange:n}),h.a.createElement(z_,{section:e,memberNotifyLevel:fe.z.DEFAULT,globalNotifyLevel:a}))),h.a.createElement("div",{className:"radio"},h.a.createElement("label",{className:""},h.a.createElement("input",{id:"channelNotificationAllActivity",name:"channelDesktopNotifications",type:"radio",value:fe.z.ALL,checked:t===fe.z.ALL,onChange:n}),h.a.createElement(z_,{section:e,memberNotifyLevel:fe.z.ALL}))),h.a.createElement("div",{className:"radio"},h.a.createElement("label",{className:""},h.a.createElement("input",{id:"channelNotificationMentions",name:"channelDesktopNotifications",type:"radio",value:fe.z.MENTION,checked:t===fe.z.MENTION,onChange:n}),h.a.createElement(z_,{section:e,memberNotifyLevel:fe.z.MENTION}))),h.a.createElement("div",{className:"radio"},h.a.createElement("label",null,h.a.createElement("input",{id:"channelNotificationNever",name:"channelDesktopNotifications",type:"radio",value:fe.z.NONE,checked:t===fe.z.NONE,onChange:n}),h.a.createElement(z_,{section:e,memberNotifyLevel:fe.z.NONE})))),e===fe.A.IGNORE_CHANNEL_MENTIONS&&h.a.createElement("fieldset",null,h.a.createElement("div",{className:"radio"},h.a.createElement("label",null,h.a.createElement("input",{id:"ignoreChannelMentionsOn",name:"ignoreChannelMentions",type:"radio",value:fe.s.ON,checked:o===fe.s.ON,onChange:n}),h.a.createElement(z_,{section:e,ignoreChannelMentions:fe.s.ON,memberNotifyLevel:t,globalNotifyLevel:a}))),h.a.createElement("div",{className:"radio"},h.a.createElement("label",null,h.a.createElement("input",{id:"ignoreChannelMentionsOff",name:"ignoreChannelMentions",type:"radio",value:fe.s.OFF,checked:o===fe.s.OFF,onChange:n}),h.a.createElement(z_,{section:e,ignoreChannelMentions:fe.s.OFF,memberNotifyLevel:t,globalNotifyLevel:a})))),e===fe.A.MARK_UNREAD&&h.a.createElement("fieldset",null,h.a.createElement("div",{className:"radio"},h.a.createElement("label",{className:""},h.a.createElement("input",{id:"channelNotificationUnmute",name:"channelNotificationMute",type:"radio",value:fe.z.MENTION,checked:t===fe.z.MENTION,onChange:n}),h.a.createElement(z_,{section:e,memberNotifyLevel:fe.z.MENTION}))),h.a.createElement("div",{className:"radio"},h.a.createElement("label",{className:""},h.a.createElement("input",{id:"channelNotificationMute",name:"channelNotificationMute",type:"radio",value:fe.z.ALL,checked:t===fe.z.ALL,onChange:n}),h.a.createElement(z_,{section:e,memberNotifyLevel:fe.z.ALL})))))];return h.a.createElement(zu.a,{title:h.a.createElement(Y_,{section:e}),inputs:l,submit:s,server_error:i,updateSection:r,extraInfo:h.a.createElement(Z_,{section:e})})}function X_(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}z_.propTypes={globalNotifyLevel:u.a.string,ignoreChannelMentions:u.a.string,memberNotifyLevel:u.a.string.isRequired,section:u.a.string.isRequired,isCollapsed:u.a.bool},Y_.propTypes={section:u.a.string.isRequired},K_.propTypes={ignoreChannelMentions:u.a.string,onExpandSection:u.a.func.isRequired,globalNotifyLevel:u.a.string,memberNotifyLevel:u.a.string.isRequired,section:u.a.string.isRequired},Z_.propTypes={section:u.a.string.isRequired},J_.propTypes={ignoreChannelMentions:u.a.string,onChange:u.a.func.isRequired,onCollapseSection:u.a.func.isRequired,onSubmit:u.a.func.isRequired,globalNotifyLevel:u.a.string,memberNotifyLevel:u.a.string.isRequired,section:u.a.string.isRequired,serverError:u.a.string};class Q_ extends h.a.PureComponent{constructor(...e){super(...e),X_(this,"handleOnChange",e=>{this.props.onChange(e.target.value)}),X_(this,"handleExpandSection",()=>{this.props.onUpdateSection(this.props.section)}),X_(this,"handleCollapseSection",()=>{this.props.onUpdateSection(fe.A.NONE)})}render(){const{expand:e,globalNotificationLevel:t,memberNotificationLevel:a,ignoreChannelMentions:n,onSubmit:s,section:i,serverError:r}=this.props;return e?h.a.createElement(J_,{section:i,memberNotifyLevel:a,globalNotifyLevel:t,ignoreChannelMentions:n,onChange:this.handleOnChange,onSubmit:s,serverError:r,onCollapseSection:this.handleCollapseSection}):h.a.createElement(K_,{section:i,onExpandSection:this.handleExpandSection,memberNotifyLevel:a,globalNotifyLevel:t,ignoreChannelMentions:n})}}function $_(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function eC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}X_(Q_,"propTypes",{section:u.a.string.isRequired,expand:u.a.bool.isRequired,memberNotificationLevel:u.a.string.isRequired,ignoreChannelMentions:u.a.string,globalNotificationLevel:u.a.string,onChange:u.a.func.isRequired,onSubmit:u.a.func.isRequired,onUpdateSection:u.a.func.isRequired,serverError:u.a.string});class tC extends h.a.PureComponent{constructor(e){super(e),eC(this,"handleHide",()=>{this.setState({show:!1})}),eC(this,"handleExit",()=>{this.updateSection(fe.A.NONE),this.props.onHide()}),eC(this,"updateSection",(e=fe.A.NONE)=>{if(this.setState({activeSection:e}),e===fe.A.NONE){const e=this.props.channelMember&&this.props.channelMember.notify_props;this.resetStateFromNotifyProps(e,this.props.currentUser.notify_props)}}),eC(this,"handleUpdateChannelNotifyProps",async e=>{const{actions:t,channel:a,currentUser:n}=this.props,{error:s}=await t.updateChannelNotifyProps(n.id,a.id,e);s?this.setState({serverError:s.message}):this.updateSection(fe.A.NONE)}),eC(this,"handleSubmitDesktopNotifyLevel",()=>{const e=this.props.channelMember&&this.props.channelMember.notify_props,{desktopNotifyLevel:t}=this.state;if(e.desktop===t)return void this.updateSection(fe.A.NONE);const a={desktop:t};this.handleUpdateChannelNotifyProps(a)}),eC(this,"handleUpdateDesktopNotifyLevel",e=>{this.setState({desktopNotifyLevel:e})}),eC(this,"handleSubmitMarkUnreadLevel",()=>{const e=this.props.channelMember&&this.props.channelMember.notify_props,{markUnreadNotifyLevel:t}=this.state;if(e.mark_unread===t)return void this.updateSection(fe.A.NONE);const a={mark_unread:t};this.handleUpdateChannelNotifyProps(a)}),eC(this,"handleUpdateMarkUnreadLevel",e=>{this.setState({markUnreadNotifyLevel:e})}),eC(this,"handleSubmitPushNotificationLevel",()=>{const e=this.props.channelMember&&this.props.channelMember.notify_props,{pushNotifyLevel:t}=this.state;if(e.push===t)return void this.updateSection(fe.A.NONE);const a={push:t};this.handleUpdateChannelNotifyProps(a)}),eC(this,"handleUpdatePushNotificationLevel",e=>{this.setState({pushNotifyLevel:e})}),eC(this,"handleUpdateIgnoreChannelMentions",e=>{this.setState({ignoreChannelMentions:e})}),eC(this,"handleSubmitIgnoreChannelMentions",()=>{const e=this.props.channelMember&&this.props.channelMember.notify_props,{ignoreChannelMentions:t}=this.state;if(e.ignore_channel_mentions===t)return void this.updateSection("");const a={ignore_channel_mentions:t};this.handleUpdateChannelNotifyProps(a)});const t=e.channelMember&&e.channelMember.notify_props;this.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$_(Object(a),!0).forEach((function(t){eC(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({show:!0,activeSection:fe.A.NONE,serverError:null},this.getStateFromNotifyProps(t,e.currentUser.notify_props))}componentDidUpdate(e){const t=e.channelMember&&e.channelMember.notify_props,a=this.props.channelMember&&this.props.channelMember.notify_props;z.e(a,t)||this.resetStateFromNotifyProps(a,this.props.currentUser.notify_props)}resetStateFromNotifyProps(e,t){this.setState(this.getStateFromNotifyProps(e,t))}getStateFromNotifyProps(e,t){let a=fe.s.OFF;(e.mark_unread===fe.z.MENTION||t.channel&&"false"===t.channel)&&(a=fe.s.ON);let n=e.ignore_channel_mentions;return n&&n!==fe.s.DEFAULT||(n=a),{desktopNotifyLevel:e.desktop||fe.z.DEFAULT,markUnreadNotifyLevel:e.mark_unread||fe.z.ALL,pushNotifyLevel:e.push||fe.z.DEFAULT,ignoreChannelMentions:n}}render(){const{activeSection:e,desktopNotifyLevel:t,markUnreadNotifyLevel:a,pushNotifyLevel:n,ignoreChannelMentions:s,serverError:i}=this.state,{channel:r,channelMember:o,currentUser:l,sendPushNotifications:c}=this.props;let d=null;return i&&(d=h.a.createElement("div",{className:"form-group has-error"},h.a.createElement("label",{className:"control-label"},i))),h.a.createElement(ra.a,{dialogClassName:"a11y__modal settings-modal settings-modal--tabless",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,role:"dialog","aria-labelledby":"channelNotificationModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"channelNotificationModalLabel"},h.a.createElement(q.a,{id:"channel_notifications.preferences",defaultMessage:"Notification Preferences for "}),h.a.createElement("span",{className:"name"},r.display_name))),h.a.createElement(ra.a.Body,null,h.a.createElement("div",{className:"settings-table"},h.a.createElement("div",{className:"settings-content"},h.a.createElement("div",{ref:"wrapper",className:"user-settings"},h.a.createElement("br",null),h.a.createElement("div",{className:"divider-dark first"}),h.a.createElement(Q_,{section:fe.A.MARK_UNREAD,expand:e===fe.A.MARK_UNREAD,memberNotificationLevel:a,onChange:this.handleUpdateMarkUnreadLevel,onSubmit:this.handleSubmitMarkUnreadLevel,onUpdateSection:this.updateSection,serverError:i}),h.a.createElement("div",{className:"divider-light"}),h.a.createElement(Q_,{section:fe.A.IGNORE_CHANNEL_MENTIONS,expand:e===fe.A.IGNORE_CHANNEL_MENTIONS,memberNotificationLevel:a,ignoreChannelMentions:s,onChange:this.handleUpdateIgnoreChannelMentions,onSubmit:this.handleSubmitIgnoreChannelMentions,onUpdateSection:this.updateSection,serverError:i}),!Object(We.isChannelMuted)(o)&&h.a.createElement("div",null,h.a.createElement("div",{className:"divider-light"}),h.a.createElement(Q_,{section:fe.A.DESKTOP,expand:e===fe.A.DESKTOP,memberNotificationLevel:t,globalNotificationLevel:l.notify_props?l.notify_props.desktop:fe.z.ALL,onChange:this.handleUpdateDesktopNotifyLevel,onSubmit:this.handleSubmitDesktopNotifyLevel,onUpdateSection:this.updateSection,serverError:i}),h.a.createElement("div",{className:"divider-light"}),c&&h.a.createElement(Q_,{section:fe.A.PUSH,expand:e===fe.A.PUSH,memberNotificationLevel:n,globalNotificationLevel:l.notify_props?l.notify_props.push:fe.z.ALL,onChange:this.handleUpdatePushNotificationLevel,onSubmit:this.handleSubmitPushNotificationLevel,onUpdateSection:this.updateSection,serverError:i})),h.a.createElement("div",{className:"divider-dark"})))),d))}}eC(tC,"propTypes",{onHide:u.a.func.isRequired,channel:u.a.object.isRequired,channelMember:u.a.object.isRequired,currentUser:u.a.object.isRequired,sendPushNotifications:u.a.bool.isRequired,actions:u.a.shape({updateChannelNotifyProps:u.a.func.isRequired})});var aC=Object(s.connect)(e=>({channelMember:Object(B.getMyCurrentChannelMembership)(e),sendPushNotifications:"true"===Object(i.getConfig)(e).SendPushNotifications}),e=>({actions:Object(n.bindActionCreators)({updateChannelNotifyProps:ge.updateChannelNotifyProps},e)}))(tC);function nC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class sC extends h.a.PureComponent{constructor(e){super(e),nC(this,"handleRemoveFromChannel",()=>{if(this.state.removing)return;const{actions:e,channel:t,user:a}=this.props;this.setState({removing:!0}),e.removeChannelMember(t.id,a.id).then(a=>{a.error?this.setState({serverError:a.error.message,removing:!1}):(this.setState({removing:!1}),e.getChannelStats(t.id))})}),nC(this,"handleMakeChannelMember",async()=>{const{error:e}=await this.props.actions.updateChannelMemberSchemeRoles(this.props.channel.id,this.props.user.id,!0,!1);e?this.setState({serverError:e.message}):(this.props.actions.getChannelStats(this.props.channel.id),this.props.actions.getChannelMember(this.props.channel.id,this.props.user.id))}),nC(this,"handleMakeChannelAdmin",async()=>{const{error:e}=await this.props.actions.updateChannelMemberSchemeRoles(this.props.channel.id,this.props.user.id,!0,!0);e?this.setState({serverError:e.message}):(this.props.actions.getChannelStats(this.props.channel.id),this.props.actions.getChannelMember(this.props.channel.id,this.props.user.id))}),this.state={serverError:null,removing:!1}}renderRole(e,t){return e?h.a.createElement(q.a,{id:"channel_members_dropdown.channel_admin",defaultMessage:"Channel Admin"}):t?h.a.createElement(q.a,{id:"channel_members_dropdown.channel_guest",defaultMessage:"Channel Guest"}):h.a.createElement(q.a,{id:"channel_members_dropdown.channel_member",defaultMessage:"Channel Member"})}render(){const{index:e,totalUsers:t,isLicensed:a,channelMember:n,user:s,channel:i,currentUserId:r,canChangeMemberRoles:o,canRemoveMember:l}=this.props,{serverError:c}=this.state,d=z.V(a,n.roles,n.scheme_admin),m=z.bb(s),u=!d&&!m,p=i.name===fe.l.DEFAULT_CHANNEL,g=this.renderRole(d,m);if(s.id===r)return null;const b=o&&d,f=o&&a&&u,_=l&&(!i.group_constrained||s.is_bot)&&(!p||m);return b||f||_?h.a.createElement(ur.a,null,h.a.createElement("button",{className:"dropdown-toggle theme color--link style--none",type:"button"},h.a.createElement("span",{className:"sr-only"},s.username),h.a.createElement("span",null,g," "),h.a.createElement(ku.a,null)),h.a.createElement(pr.a,{openLeft:!0,openUp:t>3&&t-e<=3,ariaLabel:z.ob("channel_members_dropdown.menuAriaLabel","Change the role of channel member")},h.a.createElement(pr.a.ItemAction,{id:"".concat(s.username,"-make-channel-member"),show:b,onClick:this.handleMakeChannelMember,text:z.ob("channel_members_dropdown.make_channel_member","Make Channel Member")}),h.a.createElement(pr.a.ItemAction,{id:"".concat(s.username,"-make-channel-admin"),show:f,onClick:this.handleMakeChannelAdmin,text:z.ob("channel_members_dropdown.make_channel_admin","Make Channel Admin")}),h.a.createElement(pr.a.ItemAction,{show:_,onClick:this.handleRemoveFromChannel,text:z.ob("channel_members_dropdown.remove_from_channel","Remove from Channel")}),c&&h.a.createElement("div",{className:"has-error"},h.a.createElement("label",{className:"has-error control-label"},c)))):p?h.a.createElement("div",null):h.a.createElement("div",null,g)}}nC(sC,"propTypes",{channel:u.a.object.isRequired,user:u.a.object.isRequired,currentUserId:u.a.string.isRequired,channelMember:u.a.object.isRequired,isLicensed:u.a.bool.isRequired,canChangeMemberRoles:u.a.bool.isRequired,canRemoveMember:u.a.bool.isRequired,index:u.a.number.isRequired,totalUsers:u.a.number.isRequired,actions:u.a.shape({getChannelStats:u.a.func.isRequired,updateChannelMemberSchemeRoles:u.a.func.isRequired,removeChannelMember:u.a.func.isRequired,getChannelMember:u.a.func.isRequired}).isRequired});var iC=Object(s.connect)((function(e,t){const{channel:a}=t,n=Object(A.haveIChannelPermission)(e,{channel:a.id,team:a.team_id,permission:W.Permissions.MANAGE_CHANNEL_ROLES}),s="true"===Object(i.getLicense)(e).IsLicensed,o=Object(G.a)(e,a);return{currentUserId:Object(r.getCurrentUserId)(e),isLicensed:s,canChangeMemberRoles:n,canRemoveMember:o}}),(function(e){return{actions:Object(n.bindActionCreators)({getChannelMember:ge.getChannelMember,getChannelStats:ge.getChannelStats,updateChannelMemberSchemeRoles:ge.updateChannelMemberSchemeRoles,removeChannelMember:ge.removeChannelMember},e)}}))(sC);function rC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class oC extends h.a.PureComponent{constructor(e){super(e),rC(this,"searchTimeoutId",void 0),rC(this,"loadComplete",()=>{this.setState({loading:!1})}),rC(this,"nextPage",e=>{this.props.actions.loadProfilesAndTeamMembersAndChannelMembers(e+1,50,void 0,void 0,{active:!0})}),rC(this,"handleSearch",e=>{this.props.actions.setModalSearchTerm(e)}),this.searchTimeoutId=0,this.state={loading:!0}}async componentDidMount(){const{actions:e,currentChannelId:t,currentTeamId:a}=this.props;await Promise.all([e.loadProfilesAndTeamMembersAndChannelMembers(0,fe.Z.PROFILE_CHUNK_SIZE,a,t,{active:!0}),e.getChannelMembers(t),e.getChannelStats(t)]),this.loadComplete()}componentWillUnmount(){this.props.actions.setModalSearchTerm("")}componentDidUpdate(e){if(e.searchTerm!==this.props.searchTerm){clearTimeout(this.searchTimeoutId);const t=this.props.searchTerm;if(""===t)return this.loadComplete(),void(this.searchTimeoutId=0);const a=window.setTimeout(async()=>{const{data:n}=await e.actions.searchProfiles(t,{team_id:this.props.currentTeamId,in_channel_id:this.props.currentChannelId});a===this.searchTimeoutId&&(this.props.actions.loadStatusesForProfilesList(n),this.props.actions.loadTeamMembersAndChannelMembersForProfilesList(n,this.props.currentTeamId,this.props.currentChannelId).then(({data:e})=>{e&&this.loadComplete()}))},fe.Z.SEARCH_TIMEOUT_MILLISECONDS);this.searchTimeoutId=a}}render(){if(this.state.loading)return h.a.createElement(Sp.a,null);const e=0!==this.props.channel.delete_at;return h.a.createElement(Lu,{users:this.props.usersToDisplay,usersPerPage:50,total:this.props.totalChannelMembers,nextPage:this.nextPage,search:this.handleSearch,actions:e?[]:[iC],actionUserProps:this.props.actionUserProps,focusOnMount:!y.p()})}}function lC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function cC(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lC(Object(a),!0).forEach((function(t){dC(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lC(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function dC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}rC(oC,"propTypes",{currentTeamId:u.a.string.isRequired,currentChannelId:u.a.string.isRequired,searchTerm:u.a.string.isRequired,usersToDisplay:u.a.any.isRequired,actionUserProps:u.a.objectOf(u.a.shape({channel:u.a.any.isRequired,teamMember:u.a.any.isRequired,channelMember:u.a.any.isRequired})).isRequired,totalChannelMembers:u.a.number.isRequired,channel:u.a.any.isRequired,actions:u.a.shape({searchProfiles:u.a.func.isRequired,getChannelMembers:u.a.func.isRequired,getChannelStats:u.a.func.isRequired,setModalSearchTerm:u.a.func.isRequired,loadProfilesAndTeamMembersAndChannelMembers:u.a.func.isRequired,loadStatusesForProfilesList:u.a.func.isRequired,loadTeamMembersAndChannelMembersForProfilesList:u.a.func.isRequired}).isRequired});const mC=Object(F.a)((e,t)=>t,o.getMembersInCurrentTeam,B.getMembersInCurrentChannel,B.getCurrentChannel,(e=[],t={},a={},n)=>{const s={},i=[];for(let r=0;r<e.length;r++){const o=e[r];t[o.id]&&a[o.id]&&0===o.delete_at&&(i.push(o),s[o.id]={channel:n,teamMember:t[o.id],channelMember:a[o.id]})}return{usersToDisplay:i.sort(je.sortByUsername),actionUserProps:s}});var uC=Object(s.connect)((function(e){const t=e.views.search.modalSearch;let a;a=t?Object(r.searchProfilesInCurrentChannel)(e,t):Object(r.getProfilesInCurrentChannel)(e);const n=Object(B.getCurrentChannelStats)(e)||{member_count:0};return cC(cC({},mC(e,a)),{},{currentTeamId:e.entities.teams.currentTeamId,currentChannelId:e.entities.channels.currentChannelId,searchTerm:t,totalChannelMembers:n.member_count})}),(function(e){return{actions:Object(n.bindActionCreators)({getChannelMembers:ge.getChannelMembers,searchProfiles:Y.searchProfiles,getChannelStats:ge.getChannelStats,setModalSearchTerm:Au.b,loadProfilesAndTeamMembersAndChannelMembers:$s.k,loadStatusesForProfilesList:Ut.b,loadTeamMembersAndChannelMembersForProfilesList:$s.o},e)}}))(oC);function pC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class hC extends h.a.PureComponent{constructor(e){super(e),pC(this,"handleHide",()=>{this.setState({show:!1})}),pC(this,"handleExit",()=>{this.props.onHide()}),pC(this,"onAddNewMembersButton",()=>{const{channel:e,actions:t}=this.props;t.openModal({modalId:fe.y.CHANNEL_INVITE,dialogType:Pf.a,dialogProps:{channel:e}}),this.handleExit()}),this.state={show:!0}}render(){const e=0!==this.props.channel.delete_at;return h.a.createElement("div",null,h.a.createElement(ra.a,{dialogClassName:"a11y__modal more-modal more-modal--action",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,role:"dialog","aria-labelledby":"channelMembersModalLabel",id:"channelMembersModal"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"channelMembersModalLabel"},h.a.createElement("span",{className:"name"},this.props.channel.display_name),h.a.createElement(q.a,{id:"channel_members_modal.members",defaultMessage:" Members"})),this.props.canManageChannelMembers&&!e&&h.a.createElement("a",{id:"showInviteModal",className:"btn btn-md btn-primary",href:"#",onClick:this.onAddNewMembersButton},h.a.createElement(q.a,{id:"channel_members_modal.addNew",defaultMessage:" Add Members"}))),h.a.createElement(ra.a.Body,null,h.a.createElement(uC,{channel:this.props.channel}))))}}pC(hC,"propTypes",{canManageChannelMembers:u.a.bool.isRequired,channel:u.a.any.isRequired,onHide:u.a.func.isRequired,actions:u.a.shape({openModal:u.a.func.isRequired}).isRequired});var gC=Object(s.connect)(e=>({canManageChannelMembers:Object(B.canManageChannelMembers)(e)}),e=>({actions:Object(n.bindActionCreators)({openModal:_t.b},e)}))(hC);function bC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fC(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bC(Object(a),!0).forEach((function(t){_C(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bC(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const CC={singleline:!1,mentionHighlight:!1};class yC extends h.a.PureComponent{constructor(e){super(e),_C(this,"onHide",()=>{this.setState({show:!1})}),_C(this,"handleFormattedTextClick",e=>z.O(e,this.props.currentRelativeTeamUrl)),this.state={show:!0},this.getHeaderMarkdownOptions=Object(em.memoizeResult)(e=>fC(fC({},CC),{},{channelNamesMap:e}))}componentDidUpdate(e){var t,a;const n=!e.isRHSOpen&&this.props.isRHSOpen,s=(null===(t=e.channel)||void 0===t?void 0:t.id)!==(null===(a=this.props.currentChannel)||void 0===a?void 0:a.id);(n||s)&&this.onHide()}render(){let e=this.props.channel;const t=0!==e.delete_at;let a;if(!e){const t=z.ob("channel_info.notFound","No Channel Found");e={display_name:t,name:t,purpose:t,header:t,id:t}}const n=this.props.channel.props&&this.props.channel.props.channel_mentions;t?a=h.a.createElement(md.a,{className:"icon icon__archive svg-text-color"}):"O"===e.type?a=h.a.createElement(nu.a,{className:"icon icon__globe icon--body"}):"P"===e.type&&(a=h.a.createElement(su.a,{className:"icon icon__globe icon--body"}));const s=Object(Mi.e)()+"/"+this.props.currentTeam.name+"/channels/"+e.name;let i,r;e.purpose?i=e.purpose:e.name===fe.Z.DEFAULT_CHANNEL&&(i=h.a.createElement(q.a,{id:"default_channel.purpose",defaultMessage:"Post messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team."})),i&&(r=h.a.createElement("div",{className:"form-group"},h.a.createElement("div",{className:"info__label"},h.a.createElement(q.a,{id:"channel_info.purpose",defaultMessage:"Purpose:"})),h.a.createElement("div",{className:"info__value"},i)));let o=null;return e.header&&(o=h.a.createElement("div",{className:"form-group"},h.a.createElement("div",{className:"info__label"},h.a.createElement(q.a,{id:"channel_info.header",defaultMessage:"Header:"})),h.a.createElement("div",{onClick:this.handleFormattedTextClick,className:"info__value"},h.a.createElement(V.a,{message:e.header,options:this.getHeaderMarkdownOptions(n)})))),h.a.createElement(ra.a,{dialogClassName:"a11y__modal about-modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,role:"dialog","aria-labelledby":"channelInfoModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"channelInfoModalLabel"},h.a.createElement(q.a,{id:"channel_info.about",defaultMessage:"About"}),h.a.createElement("strong",null,a,e.display_name))),h.a.createElement(ra.a.Body,null,r,o,h.a.createElement("div",{className:"form-group"},h.a.createElement("div",{className:"info__label"},h.a.createElement(q.a,{id:"channel_info.url",defaultMessage:"URL:"})),h.a.createElement("div",{className:"info__value"},s)),h.a.createElement("div",{className:"about-modal__hash form-group pt-3"},h.a.createElement("p",null,h.a.createElement(q.a,{id:"channel_info.id",defaultMessage:"ID: "}),e.id))))}}_C(yC,"propTypes",{onHide:u.a.func.isRequired,channel:u.a.object.isRequired,currentChannel:u.a.object.isRequired,currentTeam:u.a.object.isRequired,isRHSOpen:u.a.bool,currentRelativeTeamUrl:u.a.string});var EC=Object(s.connect)((function(e){return{isRHSOpen:Object(ui.c)(e),currentRelativeTeamUrl:Object(o.getCurrentRelativeTeamUrl)(e),currentChannel:Object(B.getCurrentChannel)(e),currentTeam:Object(o.getCurrentTeam)(e)}}))(yC);function vC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const wC=fe.Z.KeyCodes,OC=Object(ii.d)({error:{id:Object(J.b)("edit_channel_header_modal.error"),defaultMessage:"This channel header is too long, please enter a shorter one"}});class SC extends h.a.PureComponent{constructor(e){super(e),vC(this,"handleModalKeyDown",e=>{Object(z.cb)(e,wC.ESCAPE)&&this.hideModal()}),vC(this,"setShowPreview",e=>{this.props.actions.setShowPreview(e)}),vC(this,"handleChange",e=>{this.setState({header:e.target.value})}),vC(this,"handleSave",async()=>{const{header:e}=this.state;if(e===this.props.channel.header)return void this.hideModal();this.setState({saving:!0});const{channel:t,actions:a}=this.props,{error:n}=await a.patchChannel(t.id,{header:e});n?this.setState({serverError:n,saving:!1}):this.hideModal()}),vC(this,"hideModal",()=>{this.props.actions.closeModal(fe.y.EDIT_CHANNEL_HEADER)}),vC(this,"focusTextbox",()=>{this.editChannelHeaderTextboxRef.current&&this.editChannelHeaderTextboxRef.current.focus()}),vC(this,"blurTextbox",()=>{this.editChannelHeaderTextboxRef.current&&this.editChannelHeaderTextboxRef.current.blur()}),vC(this,"handleEntering",()=>{this.focusTextbox()}),vC(this,"handleKeyDown",e=>{const{ctrlSend:t}=this.props;Object(z.ib)(e)?this.setState({header:Object(z.T)(e)}):t&&Object(z.cb)(e,wC.ENTER)&&!0===e.ctrlKey&&this.handleKeyPress(e)}),vC(this,"handleKeyPress",e=>{const{ctrlSend:t}=this.props;!Object(y.p)()&&(t&&e.ctrlKey||!t)&&(!Object(z.cb)(e,wC.ENTER)||e.shiftKey||e.altKey||(e.preventDefault(),this.blurTextbox(),this.handleSave(e)))}),vC(this,"renderError",()=>{const{serverError:e}=this.state;if(!e)return null;let t;return t="model.channel.is_valid.header.app_error"===e.server_error_id?this.props.intl.formatMessage(OC.error):e.message,h.a.createElement("div",{className:"form-group has-error"},h.a.createElement("br",null),h.a.createElement("label",{className:"control-label"},t))}),this.state={header:e.channel.header,saving:!1},this.editChannelHeaderTextboxRef=h.a.createRef()}render(){let e=null;return e=this.props.channel.type===fe.Z.DM_CHANNEL?h.a.createElement(q.a,{id:"edit_channel_header_modal.title_dm",defaultMessage:"Edit Header"}):h.a.createElement(q.a,{id:"edit_channel_header_modal.title",defaultMessage:"Edit Header for {channel}",values:{channel:this.props.channel.display_name}}),h.a.createElement(ra.a,{dialogClassName:"a11y__modal",show:this.props.show,keyboard:!1,onKeyDown:this.handleModalKeyDown,onHide:this.hideModal,onEntering:this.handleEntering,onExited:this.hideModal,role:"dialog","aria-labelledby":"editChannelHeaderModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"editChannelHeaderModalLabel"},e)),h.a.createElement(ra.a.Body,{bsClass:"modal-body edit-modal-body"},h.a.createElement("div",null,h.a.createElement("p",null,h.a.createElement(q.a,{id:"edit_channel_header_modal.description",defaultMessage:"Edit the text appearing next to the channel name in the channel header."})),h.a.createElement("div",{className:"textarea-wrapper"},h.a.createElement(bt,{value:this.state.header,onChange:this.handleChange,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,supportsCommands:!1,suggestionListStyle:"bottom",createMessage:Object(z.ob)("edit_channel_header.editHeader","Edit the Channel Header..."),previewMessageLink:Object(z.ob)("edit_channel_header.previewHeader","Edit Header"),handlePostError:this.handlePostError,channelId:this.props.channel.id,id:"edit_textbox",ref:this.editChannelHeaderTextboxRef,characterLimit:1024,preview:this.props.shouldShowPreview})),h.a.createElement("div",{className:"post-create-footer"},h.a.createElement(Ts,{characterLimit:1024,showPreview:this.props.shouldShowPreview,ref:this.setTextboxLinksRef,updatePreview:this.setShowPreview,message:this.state.header})),h.a.createElement("br",null),this.renderError())),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{type:"button",className:"btn btn-link cancel-button",onClick:this.hideModal},h.a.createElement(q.a,{id:"edit_channel_header_modal.cancel",defaultMessage:"Cancel"})),h.a.createElement("button",{disabled:this.state.saving,type:"button",className:"btn btn-primary save-button",onClick:this.handleSave},h.a.createElement(q.a,{id:"edit_channel_header_modal.save",defaultMessage:"Save"}))))}}vC(SC,"propTypes",{intl:X.a.isRequired,channel:u.a.object.isRequired,show:u.a.bool.isRequired,ctrlSend:u.a.bool.isRequired,shouldShowPreview:u.a.bool.isRequired,actions:u.a.shape({closeModal:u.a.func.isRequired,patchChannel:u.a.func.isRequired,setShowPreview:u.a.func.isRequired}).isRequired});var TC=Object(Z.c)(SC);var MC=Object(s.connect)((function(e){return{shouldShowPreview:$t(e),show:Object(Rm.a)(e,fe.y.EDIT_CHANNEL_HEADER),ctrlSend:Object(K.getBool)(e,W.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter")}}),(function(e){return{actions:Object(n.bindActionCreators)({closeModal:_t.a,patchChannel:ge.patchChannel,setShowPreview:Zt},e)}}))(TC);function PC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class NC extends h.a.PureComponent{constructor(e){super(e),PC(this,"setError",e=>{"api.context.invalid_param.app_error"===e.id?this.setState({serverError:z.ob("edit_channel_purpose_modal.error","This channel purpose is too long, please enter a shorter one")}):this.setState({serverError:e.message})}),PC(this,"unsetError",()=>{this.setState({serverError:""})}),PC(this,"handleEntering",()=>{z.sb(this.purpose)}),PC(this,"onHide",()=>{this.setState({show:!1})}),PC(this,"handleKeyDown",e=>{const{ctrlSend:t}=this.props;z.ib(e)?(e.preventDefault(),this.setState({purpose:z.T(e)})):t&&z.cb(e,fe.Z.KeyCodes.ENTER)&&e.ctrlKey?(e.preventDefault(),this.handleSave(e)):t||!z.cb(e,fe.Z.KeyCodes.ENTER)||e.shiftKey||e.altKey||(e.preventDefault(),this.handleSave(e))}),PC(this,"handleSave",async()=>{const{channel:e,actions:{patchChannel:t}}=this.props,{purpose:a}=this.state;if(!e)return;this.setState({requestStarted:!0});const{data:n,error:s}=await t(e.id,{purpose:a});this.setState({requestStarted:!1}),n?(this.unsetError(),this.onHide()):s&&this.setError(s)}),PC(this,"handleChange",e=>{e.preventDefault(),this.setState({purpose:e.target.value})}),PC(this,"getPurpose",e=>{this.purpose=e}),this.state={purpose:e.channel.purpose||"",serverError:"",show:!0,submitted:!1,requestStarted:!1}}render(){let e=null;const{formatMessage:t}=this.props.intl;this.state.serverError&&(e=h.a.createElement("div",{className:"form-group has-error"},h.a.createElement("br",null),h.a.createElement("label",{className:"control-label"},this.state.serverError)));let a=h.a.createElement("span",null,h.a.createElement(q.a,{id:"edit_channel_purpose_modal.title1",defaultMessage:"Edit Purpose"}));this.props.channel.display_name&&(a=h.a.createElement("span",null,h.a.createElement(q.a,{id:"edit_channel_purpose_modal.title2",defaultMessage:"Edit Purpose for "}),h.a.createElement("span",{className:"name"},this.props.channel.display_name)));let n=h.a.createElement(q.a,{id:"edit_channel_purpose_modal.body",defaultMessage:'Describe how this channel should be used. This text appears in the channel list in the "More..." menu and helps others decide whether to join.'});"P"===this.props.channel.type&&(n=h.a.createElement(q.a,{id:"edit_channel_private_purpose_modal.body",defaultMessage:'This text appears in the \\"View Info\\" modal of the private channel.'}));const s=t({id:"edit_channel_purpose_modal.title1",defaultMessage:"Edit Purpose"}).toLowerCase();return h.a.createElement(ra.a,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onEntering:this.handleEntering,onExited:this.props.onHide,role:"dialog","aria-labelledby":"editChannelPurposeModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"editChannelPurposeModalLabel"},a)),h.a.createElement(ra.a.Body,null,h.a.createElement("p",null,n),h.a.createElement("textarea",{ref:this.getPurpose,className:"form-control no-resize",rows:"6",maxLength:"250",value:this.state.purpose,onKeyDown:this.handleKeyDown,onChange:this.handleChange,"aria-label":s}),e),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{type:"button",className:"btn btn-link cancel-button",onClick:this.onHide},h.a.createElement(q.a,{id:"edit_channel_purpose_modal.cancel",defaultMessage:"Cancel"})),h.a.createElement("button",{type:"button",className:"btn btn-primary save-button",disabled:this.state.requestStarted,onClick:this.handleSave},h.a.createElement(q.a,{id:"edit_channel_purpose_modal.save",defaultMessage:"Save"}))))}}PC(NC,"propTypes",{onHide:u.a.func.isRequired,channel:u.a.object,ctrlSend:u.a.bool.isRequired,intl:u.a.any,actions:u.a.shape({patchChannel:u.a.func.isRequired}).isRequired});var IC=Object(Z.c)(NC);var RC=Object(s.connect)((function(e){return{ctrlSend:Object(K.getBool)(e,fe.Z.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter")}}),(function(e){return{actions:{patchChannel:Object(n.bindActionCreators)(ge.patchChannel,e)}}}))(IC);function AC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jC(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?AC(Object(a),!0).forEach((function(t){xC(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AC(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function xC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const LC=Object(ii.d)({maxLength:{id:Object(J.b)("rename_channel.maxLength"),defaultMessage:"This field must be less than {maxLength, number} characters"},url:{id:Object(J.b)("rename_channel.url"),defaultMessage:"URL"},defaultError:{id:Object(J.b)("rename_channel.defaultError"),defaultMessage:" - Cannot be changed for the default channel"},displayNameHolder:{id:Object(J.b)("rename_channel.displayNameHolder"),defaultMessage:"Enter display name"}});class kC extends h.a.PureComponent{constructor(e){super(e),xC(this,"textbox",void 0),xC(this,"setError",e=>{this.setState({serverError:e.message})}),xC(this,"unsetError",()=>{this.setState({serverError:""})}),xC(this,"handleEntering",()=>{z.sb(this.textbox)}),xC(this,"handleHide",e=>{e&&e.preventDefault(),this.setState({serverError:"",urlErrors:[],displayNameError:"",invalid:!1,show:!1})}),xC(this,"handleSubmit",async e=>{e&&e.preventDefault();const t=Object.assign({},this.props.channel),a=t.name,n=t.display_name,s=jC(jC({},this.state),{},{serverError:""}),{formatMessage:i}=this.props.intl,{actions:{patchChannel:r}}=this.props;t.display_name=this.state.displayName.trim(),!t.display_name||t.display_name.length<fe.Z.MIN_CHANNELNAME_LENGTH?(s.displayNameError=h.a.createElement(q.a,{id:"rename_channel.minLength",defaultMessage:"Display name must have at least {minLength, number} characters.",values:{minLength:fe.Z.MIN_CHANNELNAME_LENGTH}}),s.invalid=!0):t.display_name.length>fe.Z.MAX_CHANNELNAME_LENGTH?(s.displayNameError=i(LC.maxLength,{maxLength:fe.Z.MAX_CHANNELNAME_LENGTH}),s.invalid=!0):s.displayNameError="",t.name=this.state.channelName.trim();const o=Object(Mi.h)(t.name);if(o.length>0&&(s.invalid=!0),s.urlErrors=o,this.setState(s),s.invalid)return;if(a===t.name&&n===t.display_name)return void this.onSaveSuccess();const{data:l,error:c}=await r(t.id,t);l?this.onSaveSuccess():c&&this.setError(c)}),xC(this,"onSaveSuccess",()=>{this.handleHide(),this.unsetError(),N.a.push("/"+this.props.team.name+"/channels/"+this.state.channelName)}),xC(this,"handleCancel",e=>{this.setState({displayName:this.props.channel.display_name,channelName:this.props.channel.name}),this.handleHide(e)}),xC(this,"onNameChange",e=>{const t=e.target.value.trim().replace(/[^A-Za-z0-9-_]/g,"").toLowerCase();this.setState({channelName:t})}),xC(this,"onDisplayNameChange",e=>{this.setState({displayName:e.target.value})}),xC(this,"getTextbox",e=>{this.textbox=e}),this.state={displayName:e.channel.display_name,channelName:e.channel.name,serverError:"",urlErrors:[],displayNameError:"",invalid:!1,show:!0}}render(){let e=null;this.state.displayNameError&&(e=h.a.createElement("p",{className:"input__help error"},this.state.displayNameError));let t=null,a=null,n="input-group input-group--limit";this.state.urlErrors.length>0?(t=h.a.createElement("p",{className:"input__help error"},this.state.urlErrors),n+=" has-error"):a=h.a.createElement("p",{className:"input__help"},h.a.createElement(q.a,{id:"change_url.helpText",defaultMessage:"You can use lowercase letters, numbers, dashes, and underscores."}));let s=null;this.state.serverError&&(s=h.a.createElement("div",{className:"form-group has-error"},h.a.createElement("label",{className:"control-label"},this.state.serverError)));const{formatMessage:i}=this.props.intl;let r=i(LC.url),o=!1;this.props.channel.name===fe.Z.DEFAULT_CHANNEL&&(r+=i(LC.defaultError),o=!0);const l=this.props.currentTeamUrl+"/channels",c=Object(Mi.d)(l,35),d=h.a.createElement(Vi.a,{id:"urlTooltip"},l);return h.a.createElement(ra.a,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.handleCancel,onEntering:this.handleEntering,onExited:this.props.onHide,role:"dialog","aria-labelledby":"renameChannelModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"renameChannelModalLabel"},h.a.createElement(q.a,{id:"rename_channel.title",defaultMessage:"Rename Channel"}))),h.a.createElement("form",{role:"form"},h.a.createElement(ra.a.Body,null,h.a.createElement("div",{className:"form-group"},h.a.createElement("label",{className:"control-label"},h.a.createElement(q.a,{id:"rename_channel.displayName",defaultMessage:"Display Name"})),h.a.createElement(Na.a,{onChange:this.onDisplayNameChange,type:"text",ref:this.getTextbox,id:"display_name",className:"form-control",placeholder:LC.displayNameHolder,value:this.state.displayName,maxLength:fe.Z.MAX_CHANNELNAME_LENGTH,"aria-label":i({id:"rename_channel.displayName",defaultMessage:"Display Name"}).toLowerCase()}),e),h.a.createElement("div",{className:"form-group"},h.a.createElement("label",{className:"control-label"},r),h.a.createElement("div",{className:n},h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:d},h.a.createElement("span",{className:"input-group-addon"},c)),h.a.createElement("input",{onChange:this.onNameChange,type:"text",className:"form-control",id:"channel_name",value:this.state.channelName,maxLength:fe.Z.MAX_CHANNELNAME_LENGTH,readOnly:o,"aria-label":i({id:"rename_channel.title",defaultMessage:"Rename Channel"}).toLowerCase()})),a,t),s),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{type:"button",className:"btn btn-link",onClick:this.handleCancel},h.a.createElement(q.a,{id:"rename_channel.cancel",defaultMessage:"Cancel"})),h.a.createElement("button",{onClick:this.handleSubmit,type:"submit",id:"save-button",className:"btn btn-primary"},h.a.createElement(q.a,{id:"rename_channel.save",defaultMessage:"Save"})))))}}xC(kC,"propTypes",{intl:u.a.any.isRequired,onHide:u.a.func.isRequired,channel:u.a.any.isRequired,team:u.a.any.isRequired,currentTeamUrl:u.a.string.isRequired,actions:u.a.shape({patchChannel:u.a.func.isRequired}).isRequired});var DC=Object(Z.c)(kC);function UC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const HC=Object(F.a)(e=>{const t=e.entities.teams.currentTeamId,a=Object(o.getTeam)(e,t);return{currentTeamUrl:"".concat(Object(Mi.e)(),"/").concat(a.name),team:a}},e=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?UC(Object(a),!0).forEach((function(t){qC(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UC(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e));var FC=Object(s.connect)(HC,(function(e){return{actions:Object(n.bindActionCreators)({patchChannel:ge.patchChannel},e)}}))(DC);function BC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class GC extends h.a.PureComponent{constructor(e){super(e),BC(this,"handleConvert",()=>{const{actions:e,channelId:t}=this.props;t.length===fe.Z.CHANNEL_ID_LENGTH&&(e.convertChannelToPrivate(t),Object(v.e)("actions","convert_to_private_channel",{channel_id:t}),this.onHide())}),BC(this,"onHide",()=>{this.setState({show:!1})}),this.state={show:!0}}render(){const{channelDisplayName:e,onHide:t}=this.props;return h.a.createElement(ra.a,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onExited:t,role:"dialog","aria-labelledby":"convertChannelModalLabel"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"convertChannelModalLabel"},h.a.createElement(q.a,{id:"convert_channel.title",defaultMessage:"Convert {display_name} to a Private Channel?",values:{display_name:e}}))),h.a.createElement(ra.a.Body,null,h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"convert_channel.question1",defaultMessage:"When you convert **{display_name}** to a private channel, history and membership are preserved. Publicly shared files remain accessible to anyone with the link. Membership in a private channel is by invitation only.",values:{display_name:e}})),h.a.createElement("p",null,h.a.createElement(q.a,{id:"convert_channel.question2",defaultMessage:"The change is permanent and cannot be undone."})),h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"convert_channel.question3",defaultMessage:"Are you sure you want to convert **{display_name}** to a private channel?",values:{display_name:e}}))),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onHide},h.a.createElement(q.a,{id:"convert_channel.cancel",defaultMessage:"No, cancel"})),h.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:this.handleConvert,autoFocus:!0,"data-testid":"convertChannelConfirm"},h.a.createElement(q.a,{id:"convert_channel.confirm",defaultMessage:"Yes, convert to private channel"}))))}}BC(GC,"propTypes",{onHide:u.a.func.isRequired,channelId:u.a.string.isRequired,channelDisplayName:u.a.string.isRequired,actions:u.a.shape({convertChannelToPrivate:u.a.func.isRequired})});var VC=Object(s.connect)((function(e){return{currentTeamDetails:Object(o.getCurrentTeam)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({convertChannelToPrivate:ge.convertChannelToPrivate},e)}}))(GC);function WC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class zC extends h.a.PureComponent{constructor(e){super(e),WC(this,"handleDelete",()=>{if(this.props.channel.id.length===fe.Z.CHANNEL_ID_LENGTH){if(!this.props.canViewArchivedChannels){const{penultimateViewedChannelName:e}=this.props;N.a.push("/"+this.props.currentTeamDetails.name+"/channels/"+e)}this.props.actions.deleteChannel(this.props.channel.id),this.onHide()}}),WC(this,"onHide",()=>{this.setState({show:!1})}),this.state={show:!0}}render(){const{canViewArchivedChannels:e}=this.props;return h.a.createElement(ra.a,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,role:"dialog","aria-labelledby":"deleteChannelModalLabel",id:"deleteChannelModal"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"deleteChannelModalLabel"},h.a.createElement(q.a,{id:"delete_channel.confirm",defaultMessage:"Confirm ARCHIVE Channel"}))),h.a.createElement(ra.a.Body,null,h.a.createElement("div",{className:"alert alert-danger"},!e&&h.a.createElement(Pr.b,{id:"delete_channel.question",defaultMessage:"This will archive the channel from the team and remove it from the user interface. Archived channels can be unarchived if needed again. \\n \\nAre you sure you wish to archive the {display_name} channel?",values:{display_name:this.props.channel.display_name}}),e&&h.a.createElement(Pr.b,{id:"delete_channel.viewArchived.question",defaultMessage:"This will archive the channel from the team. Channel contents will still be accessible by channel members.\n \nAre you sure you wish to archive the **{display_name}** channel?",values:{display_name:this.props.channel.display_name}}))),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onHide},h.a.createElement(q.a,{id:"delete_channel.cancel",defaultMessage:"Cancel"})),h.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.handleDelete,autoFocus:!0,id:"deleteChannelModalDeleteButton"},h.a.createElement(q.a,{id:"delete_channel.del",defaultMessage:"Archive"}))))}}WC(zC,"propTypes",{onHide:u.a.func.isRequired,channel:u.a.any.isRequired,currentTeamDetails:u.a.shape({name:u.a.string.isRequired}).isRequired,canViewArchivedChannels:u.a.bool,penultimateViewedChannelName:u.a.string.isRequired,actions:u.a.shape({deleteChannel:u.a.func.isRequired}).isRequired});var YC=Object(s.connect)((function(e){return{canViewArchivedChannels:"true"===Object(i.getConfig)(e).ExperimentalViewArchivedChannels,currentTeamDetails:Object(o.getCurrentTeam)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({deleteChannel:ge.deleteChannel},e)}}))(zC);function KC(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ZC extends h.a.PureComponent{constructor(e){super(e),KC(this,"handleUnarchive",()=>{this.props.channel.id.length===fe.Z.CHANNEL_ID_LENGTH&&(this.props.actions.unarchiveChannel(this.props.channel.id),this.onHide())}),KC(this,"onHide",()=>{this.setState({show:!1})}),this.state={show:!0}}render(){return h.a.createElement(ra.a,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,role:"dialog","aria-labelledby":"unarchiveChannelModalLabel",id:"unarchiveChannelModal"},h.a.createElement(ra.a.Header,{closeButton:!0},h.a.createElement(ra.a.Title,{componentClass:"h1",id:"unarchiveChannelModalLabel"},h.a.createElement(q.a,{id:"unarchive_channel.confirm",defaultMessage:"Confirm UNARCHIVE Channel"}))),h.a.createElement(ra.a.Body,null,h.a.createElement("div",{className:"alert alert-danger"},h.a.createElement(Pr.b,{id:"unarchive_channel.viewArchived.question",defaultMessage:"Are you sure you wish to unarchive the **{display_name}** channel?",values:{display_name:this.props.channel.display_name}}))),h.a.createElement(ra.a.Footer,null,h.a.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onHide},h.a.createElement(q.a,{id:"unarchive_channel.cancel",defaultMessage:"Cancel"})),h.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.handleUnarchive,autoFocus:!0,id:"unarchiveChannelModalDeleteButton"},h.a.createElement(q.a,{id:"unarchive_channel.del",defaultMessage:"Unarchive"}))))}}KC(ZC,"propTypes",{onHide:u.a.func.isRequired,channel:u.a.object.isRequired,actions:u.a.shape({unarchiveChannel:u.a.func.isRequired})});var JC=Object(s.connect)(null,(function(e){return{actions:Object(n.bindActionCreators)({unarchiveChannel:ge.unarchiveChannel},e)}}))(ZC),XC=a(1502),QC=a(671),$C=a.n(QC);function ey(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ty extends h.a.PureComponent{constructor(...e){super(...e),ey(this,"loadItems",async(e,t)=>{const{data:a}=await this.props.actions.getGroupsAssociatedToChannel(this.props.channel.id,t,e,50);return{items:a.groups,totalCount:a.totalGroupCount}}),ey(this,"onClickRemoveGroup",(e,t)=>this.props.actions.unlinkGroupSyncable(e.id,this.props.channel.id,$C.a.SYNCABLE_TYPE_CHANNEL).then(async()=>{t.setState({loading:!0});const{items:e,totalCount:a}=await t.props.loadItems(t.setState.page,t.state.searchTerm);t.setState({loading:!1,items:e,totalCount:a})})),ey(this,"onHide",()=>{this.props.actions.closeModal(fe.y.MANAGE_CHANNEL_GROUPS)}),ey(this,"titleButtonOnClick",()=>{this.onHide(),this.props.actions.openModal({modalId:fe.y.ADD_GROUPS_TO_TEAM,dialogType:XC.a})}),ey(this,"setChannelMemberStatus",async(e,t,a)=>{this.props.actions.patchGroupSyncable(e.id,this.props.channel.id,$C.a.SYNCABLE_TYPE_CHANNEL,{scheme_admin:a}).then(async()=>{t.setState({loading:!0});const{items:e,totalCount:a}=await t.props.loadItems(t.setState.page,t.state.searchTerm);await this.props.actions.getMyChannelMember(this.props.channel.id),t.setState({loading:!1,items:e,totalCount:a})})}),ey(this,"renderRow",(e,t)=>{let a;return a=e.scheme_admin?z.ob("channel_members_dropdown.channel_admins","Channel Admins"):z.ob("channel_members_dropdown.channel_members","Channel Members"),h.a.createElement("div",{key:e.id,className:"more-modal__row"},h.a.createElement("img",{className:"more-modal__image",src:Qp.a,alt:"group picture",width:"32",height:"32"}),h.a.createElement("div",{className:"more-modal__details"},h.a.createElement("div",{className:"more-modal__name"},e.display_name," ","-"," ",h.a.createElement("span",{className:"more-modal__name_count"},h.a.createElement(q.a,{id:"numMembers",defaultMessage:"{num, number} {num, plural, one {member} other {members}}",values:{num:e.member_count}})))),h.a.createElement("div",{className:"more-modal__actions"},h.a.createElement(ur.a,null,h.a.createElement("button",{id:"teamGroupsDropdown_".concat(e.display_name),className:"dropdown-toggle theme color--link style--none",type:"button","aria-expanded":"true"},h.a.createElement("span",null,a," "),h.a.createElement(ku.a,null)),h.a.createElement(pr.a,{openLeft:!0,ariaLabel:z.ob("channel_members_dropdown.menuAriaLabel","Change the role of channel member")},h.a.createElement(pr.a.ItemAction,{show:!e.scheme_admin,onClick:()=>this.setChannelMemberStatus(e,t,!0),text:z.ob("channel_members_dropdown.make_channel_admins","Make Channel Admins")}),h.a.createElement(pr.a.ItemAction,{show:Boolean(e.scheme_admin),onClick:()=>this.setChannelMemberStatus(e,t,!1),text:z.ob("channel_members_dropdown.make_channel_members","Make Channel Members")}),h.a.createElement(pr.a.ItemAction,{onClick:()=>this.onClickRemoveGroup(e,t),text:z.ob("group_list_modal.removeGroupButton","Remove Group")})))))})}render(){const{formatMessage:e}=this.props.intl;return h.a.createElement(Xp,{titleText:e({id:"groups",defaultMessage:"{channel} Groups"},{channel:this.props.channel.display_name}),searchPlaceholderText:e({id:"manage_channel_groups_modal.search_placeholder",defaultMessage:"Search groups"}),renderRow:this.renderRow,loadItems:this.loadItems,onHide:this.onHide,titleBarButtonText:e({id:"group_list_modal.addGroupButton",defaultMessage:"Add Groups"}),titleBarButtonOnClick:this.titleButtonOnClick})}}ey(ty,"propTypes",{channel:u.a.any.isRequired,intl:u.a.any.isRequired,actions:u.a.shape({getGroupsAssociatedToChannel:u.a.func.isRequired,unlinkGroupSyncable:u.a.func.isRequired,patchGroupSyncable:u.a.func.isRequired,getMyChannelMember:u.a.func.isRequired,closeModal:u.a.func.isRequired,openModal:u.a.func.isRequired}).isRequired});var ay=Object(Z.c)(ty);var ny=Object(s.connect)((e,t)=>({channel:e.entities.channels.channels[t.channelID]}),e=>({actions:Object(n.bindActionCreators)({getGroupsAssociatedToChannel:Lt.getGroupsAssociatedToChannel,closeModal:_t.a,openModal:_t.b,unlinkGroupSyncable:Lt.unlinkGroupSyncable,patchGroupSyncable:Lt.patchGroupSyncable,getMyChannelMember:ge.getMyChannelMember},e)}))(ay);function sy(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class iy extends h.a.PureComponent{constructor(...e){super(...e),sy(this,"handleLeave",e=>{e.preventDefault();const{channel:t,actions:{leaveChannel:a}}=this.props;t.type===fe.l.PRIVATE_CHANNEL?Object(w.k)(t):a(t.id)})}render(){const{channel:e,isDefault:t,isGuestUser:a,id:n}=this.props;return h.a.createElement(pr.a.ItemAction,{id:n,show:(!t||a)&&e.type!==fe.l.DM_CHANNEL&&e.type!==fe.l.GM_CHANNEL,onClick:this.handleLeave,text:Object(z.ob)("channel_header.leave","Leave Channel")})}}sy(iy,"propTypes",{channel:u.a.object.isRequired,isDefault:u.a.bool.isRequired,isGuestUser:u.a.bool.isRequired,id:u.a.string,actions:u.a.shape({leaveChannel:u.a.func.isRequired}).isRequired}),sy(iy,"defaultProps",{isGuestUser:!1});var ry=Object(s.connect)(null,e=>({actions:Object(n.bindActionCreators)({leaveChannel:k.e},e)}))(iy);function oy(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ly extends h.a.PureComponent{constructor(...e){super(...e),oy(this,"handleClose",()=>{this.props.actions.goToLastViewedChannel()})}render(){return h.a.createElement(pr.a.ItemAction,{show:this.props.isArchived,onClick:this.handleClose,text:Object(z.ob)("center_panel.archived.closeChannel","Close Channel")})}}oy(ly,"propTypes",{isArchived:u.a.bool.isRequired,actions:u.a.shape({goToLastViewedChannel:u.a.func.isRequired}).isRequired});var cy=Object(s.connect)(null,e=>({actions:Object(n.bindActionCreators)({goToLastViewedChannel:k.c},e)}))(ly);function dy(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class my extends h.a.PureComponent{constructor(...e){super(...e),dy(this,"handleClose",e=>{e.preventDefault();const{channel:t,currentUser:a,currentTeam:n,redirectChannel:s,actions:{savePreferences:i,leaveDirectChannel:r}}=this.props;let o,l;t.type===fe.l.DM_CHANNEL?(l=fe.l.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,o=t.teammate_id):(l=fe.l.Preferences.CATEGORY_GROUP_CHANNEL_SHOW,o=t.id),r(t.name),i(a.id,[{user_id:a.id,category:l,name:o,value:"false"}]),N.a.push("/".concat(n.name,"/channels/").concat(s))})}render(){const{id:e,channel:t}=this.props;let a;return t.type===fe.l.DM_CHANNEL?a=Object(z.ob)("center_panel.direct.closeDirectMessage","Close Direct Message"):t.type===fe.l.GM_CHANNEL&&(a=Object(z.ob)("center_panel.direct.closeGroupMessage","Close Group Message")),h.a.createElement(pr.a.ItemAction,{id:e,show:t.type===fe.l.DM_CHANNEL||t.type===fe.l.GM_CHANNEL,onClick:this.handleClose,text:a})}}dy(my,"propTypes",{currentUser:u.a.object.isRequired,currentTeam:u.a.object.isRequired,redirectChannel:u.a.string.isRequired,channel:u.a.object.isRequired,id:u.a.string,actions:u.a.shape({savePreferences:u.a.func.isRequired,leaveDirectChannel:u.a.func.isRequired}).isRequired});var uy=Object(s.connect)(e=>({currentTeam:Object(o.getCurrentTeam)(e),redirectChannel:Object(B.getRedirectChannelNameForTeam)(e,Object(o.getCurrentTeamId)(e))}),e=>({actions:Object(n.bindActionCreators)({savePreferences:Qs.savePreferences,leaveDirectChannel:k.f},e)}))(my);function py(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class hy extends h.a.PureComponent{constructor(...e){super(...e),py(this,"handleClick",()=>{const{user:e,channel:t,isMuted:a,actions:{updateChannelNotifyProps:n}}=this.props;n(e.id,t.id,{mark_unread:a?fe.z.ALL:fe.z.MENTION})})}render(){const{id:e,isMuted:t}=this.props;let a;return a=t?Object(z.ob)("channel_header.unmute","Unmute Channel"):Object(z.ob)("channel_header.mute","Mute Channel"),h.a.createElement(pr.a.ItemAction,{id:e,onClick:this.handleClick,text:a})}}py(hy,"propTypes",{user:u.a.object.isRequired,channel:u.a.object.isRequired,isMuted:u.a.bool.isRequired,id:u.a.string,actions:u.a.shape({updateChannelNotifyProps:u.a.func.isRequired}).isRequired});var gy=Object(s.connect)(null,e=>({actions:Object(n.bindActionCreators)({updateChannelNotifyProps:ge.updateChannelNotifyProps},e)}))(hy);function by(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class fy extends h.a.PureComponent{constructor(...e){super(...e),by(this,"toggleFavoriteChannel",e=>{const{isFavorite:t,actions:{favoriteChannel:a,unfavoriteChannel:n}}=this.props;return t?n(e):a(e)}),by(this,"handleClick",e=>{e.preventDefault(),this.toggleFavoriteChannel(this.props.channel.id)})}render(){let e;return e=this.props.isFavorite?Object(z.ob)("channelHeader.removeFromFavorites","Remove from Favorites"):Object(z.ob)("channelHeader.addToFavorites","Add to Favorites"),h.a.createElement(pr.a.ItemAction,{show:this.props.show,onClick:this.handleClick,text:e})}}by(fy,"propTypes",{show:u.a.bool.isRequired,channel:u.a.object.isRequired,isFavorite:u.a.bool.isRequired,actions:u.a.shape({favoriteChannel:u.a.func.isRequired,unfavoriteChannel:u.a.func.isRequired}).isRequired}),by(fy,"defaultProps",{show:!0});var _y=Object(s.connect)(null,e=>({actions:Object(n.bindActionCreators)({favoriteChannel:ge.favoriteChannel,unfavoriteChannel:ge.unfavoriteChannel},e)}))(fy);function Cy(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class yy extends h.a.PureComponent{constructor(...e){super(...e),Cy(this,"handleClick",e=>{e.preventDefault();const{channel:t,hasPinnedPosts:a,actions:{closeRightHandSide:n,showPinnedPosts:s}}=this.props;a?n():s(t.id)})}render(){return h.a.createElement(pr.a.ItemAction,{show:this.props.show,onClick:this.handleClick,text:Object(z.ob)("navbar.viewPinnedPosts","View Pinned Posts")})}}Cy(yy,"propTypes",{show:u.a.bool,channel:u.a.any.isRequired,hasPinnedPosts:u.a.bool.isRequired,actions:u.a.shape({closeRightHandSide:u.a.func.isRequired,showPinnedPosts:u.a.func.isRequired}).isRequired});var Ey=Object(s.connect)(e=>({hasPinnedPosts:Object(ui.k)(e)===fe.G.PIN}),e=>({actions:Object(n.bindActionCreators)({closeRightHandSide:mi.b,showPinnedPosts:mi.o},e)}))(yy);class vy extends h.a.PureComponent{render(){const{user:e,channel:t,isDefault:a,isFavorite:n,isMuted:s,isReadonly:i,isArchived:r,isMobile:o,penultimateViewedChannelName:l,isLicensedForLDAPGroups:c}=this.props,d=t.type===fe.l.PRIVATE_CHANNEL,m=!0===t.group_constrained,u=d?W.Permissions.MANAGE_PRIVATE_CHANNEL_MEMBERS:W.Permissions.MANAGE_PUBLIC_CHANNEL_MEMBERS,p=d?W.Permissions.MANAGE_PRIVATE_CHANNEL_PROPERTIES:W.Permissions.MANAGE_PUBLIC_CHANNEL_PROPERTIES,g=d?W.Permissions.DELETE_PRIVATE_CHANNEL:W.Permissions.DELETE_PUBLIC_CHANNEL,b=W.Permissions.MANAGE_TEAM;let f;o&&(f=h.a.createElement("li",{className:"MenuGroup mobile-menu-divider"},h.a.createElement("hr",null)));const _=this.props.pluginMenuItems.map(e=>h.a.createElement(pr.a.ItemAction,{id:e.id+"_pluginmenuitem",key:e.id+"_pluginmenuitem",onClick:()=>{e.action&&e.action(this.props.channel.id)},text:e.text}));return h.a.createElement(h.a.Fragment,null,h.a.createElement(pr.a.Group,{divider:f},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelViewInfo",show:t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL,modalId:fe.y.CHANNEL_INFO,dialogType:EC,dialogProps:{channel:t},text:Object(z.ob)("navbar.viewInfo","View Info")}),h.a.createElement(_y,{id:"channelToggleFavorite",show:o,channel:t,isFavorite:n}),h.a.createElement(Ey,{id:"channelViewPinnedPosts",show:o,channel:t}),h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelNotificationPreferences",show:t.type!==fe.l.DM_CHANNEL&&!r,modalId:fe.y.CHANNEL_NOTIFICATIONS,dialogType:aC,dialogProps:{channel:t,currentUser:e},text:Object(z.ob)("navbar.preferences","Notification Preferences")}),h.a.createElement(gy,{id:"channelToggleMuteChannel",user:e,channel:t,isMuted:s,isArchived:r})),h.a.createElement(pr.a.Group,{divider:f},h.a.createElement(Jr,{channelId:t.id,teamId:t.team_id,permissions:[u]},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelAddMembers",show:t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL&&!r&&!a&&!m,modalId:fe.y.CHANNEL_INVITE,dialogType:Pf.a,dialogProps:{channel:t},text:Object(z.ob)("navbar.addMembers","Add Members")}),h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelAddMembers",show:t.type===fe.l.GM_CHANNEL&&!r&&!m,modalId:fe.y.CREATE_DM_CHANNEL,dialogType:Cg,dialogProps:{isExistingChannel:!0},text:Object(z.ob)("navbar.addMembers","Add Members")})),h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelViewMembers",show:t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL&&(r||a),modalId:fe.y.CHANNEL_MEMBERS,dialogType:gC,dialogProps:{channel:t},text:Object(z.ob)("channel_header.viewMembers","View Members")}),h.a.createElement(Jr,{channelId:t.id,teamId:t.team_id,permissions:[u]},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelAddGroups",show:t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL&&!r&&!a&&m&&c,modalId:fe.y.ADD_GROUPS_TO_CHANNEL,dialogType:XC.a,text:Object(z.ob)("navbar.addGroups","Add Groups")}),h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelManageGroups",show:t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL&&!r&&!a&&m&&c,modalId:fe.y.MANAGE_CHANNEL_GROUPS,dialogType:ny,dialogProps:{channelID:t.id},text:Object(z.ob)("navbar_dropdown.manageGroups","Manage Groups")}),h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelManageMembers",show:t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL&&!r&&!a,modalId:fe.y.CHANNEL_MEMBERS,dialogType:gC,dialogProps:{channel:t},text:Object(z.ob)("channel_header.manageMembers","Manage Members")})),h.a.createElement(Jr,{channelId:t.id,teamId:t.team_id,permissions:[u],invert:!0},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelViewMembers",show:t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL&&!r&&!a,modalId:fe.y.CHANNEL_MEMBERS,dialogType:gC,dialogProps:{channel:t},text:Object(z.ob)("channel_header.viewMembers","View Members")}))),h.a.createElement(pr.a.Group,{divider:f},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelEditHeader",show:!(t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL||r||i),modalId:fe.y.EDIT_CHANNEL_HEADER,dialogType:MC,dialogProps:{channel:t},text:Object(z.ob)("channel_header.setHeader","Edit Channel Header")}),h.a.createElement(Jr,{channelId:t.id,teamId:t.team_id,permissions:[p]},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelEditHeader",show:t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL&&!r&&!i,modalId:fe.y.EDIT_CHANNEL_HEADER,dialogType:MC,dialogProps:{channel:t},text:Object(z.ob)("channel_header.setHeader","Edit Channel Header")}),h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelEditPurpose",show:!r&&!i&&t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL,modalId:fe.y.EDIT_CHANNEL_PURPOSE,dialogType:RC,dialogProps:{channel:t},text:Object(z.ob)("channel_header.setPurpose","Edit Channel Purpose")}),h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelRename",show:!r&&t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL,modalId:fe.y.RENAME_CHANNEL,dialogType:FC,dialogProps:{channel:t},text:Object(z.ob)("channel_header.rename","Rename Channel")})),h.a.createElement(Jr,{channelId:t.id,teamId:t.team_id,permissions:[W.Permissions.CONVERT_PUBLIC_CHANNEL_TO_PRIVATE]},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelConvertToPrivate",show:!r&&!a&&t.type===fe.l.OPEN_CHANNEL,modalId:fe.y.CONVERT_CHANNEL,dialogType:VC,dialogProps:{channelId:t.id,channelDisplayName:t.display_name},text:Object(z.ob)("channel_header.convert","Convert to Private Channel")})),h.a.createElement(Jr,{channelId:t.id,teamId:t.team_id,permissions:[g]},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelArchiveChannel",show:!r&&!a&&t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL,modalId:fe.y.DELETE_CHANNEL,dialogType:YC,dialogProps:{channel:t,penultimateViewedChannelName:l},text:Object(z.ob)("channel_header.delete","Archive Channel")}))),h.a.createElement(pr.a.Group,null,_),h.a.createElement(pr.a.Group,{divider:f},o&&h.a.createElement(W_,{channel:t,isDropdown:!0}),h.a.createElement(ry,{id:"channelLeaveChannel",channel:t,isDefault:a,isGuestUser:Object(z.bb)(e)}),h.a.createElement(uy,{id:"channelCloseMessage",channel:t,currentUser:e}),h.a.createElement(cy,{id:"channelCloseChannel",isArchived:r})),h.a.createElement(pr.a.Group,{divider:f},h.a.createElement(Jr,{channelId:t.id,teamId:t.team_id,permissions:[b]},h.a.createElement(pr.a.ItemToggleModalRedux,{id:"channelUnarchiveChannel",show:r&&!a&&t.type!==fe.l.DM_CHANNEL&&t.type!==fe.l.GM_CHANNEL,modalId:fe.y.UNARCHIVE_CHANNEL,dialogType:JC,dialogProps:{channel:t},text:Object(z.ob)("channel_header.unarchive","Unarchive Channel")}))))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(vy,"propTypes",{user:u.a.object.isRequired,channel:u.a.object.isRequired,isDefault:u.a.bool.isRequired,isFavorite:u.a.bool.isRequired,isReadonly:u.a.bool.isRequired,isMuted:u.a.bool.isRequired,isArchived:u.a.bool.isRequired,isMobile:u.a.bool.isRequired,penultimateViewedChannelName:u.a.string.isRequired,pluginMenuItems:u.a.arrayOf(u.a.object),isLicensedForLDAPGroups:u.a.bool});class wy extends h.a.PureComponent{render(){return h.a.createElement(Pd.a,{in:this.props.show,classNames:"mobile-channel-header-dropdown",enter:!0,exit:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:350,exit:350}},this.props.children)}}function Oy(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(wy,"propTypes",{children:u.a.node,show:u.a.bool.isRequired});class Sy extends h.a.PureComponent{constructor(...e){super(...e),Oy(this,"getChannelTitle",()=>{const{user:e,channel:t,teammateId:a,displayName:n}=this.props;return t.type===fe.l.DM_CHANNEL?e.id===a?h.a.createElement(q.a,{id:"channel_header.directchannel.you",defaultMessage:"{displayname} (you)",values:{displayname:n}}):n:t.display_name})}render(){const{teammateIsBot:e,teammateStatus:t}=this.props;let a;return e||(a=h.a.createElement(Fg.a,{status:t})),h.a.createElement(ur.a,{animationComponent:wy},h.a.createElement("a",null,h.a.createElement("span",{className:"heading"},a,this.getChannelTitle()),h.a.createElement(q.a,{id:"generic_icons.dropdown",defaultMessage:"Dropdown Icon"},e=>h.a.createElement("span",{className:"fa fa-angle-down header-dropdown__icon",title:e}))),h.a.createElement(q.a,{id:"channel_header.menuAriaLabel",defaultMessage:"Channel Menu"},e=>h.a.createElement(pr.a,{ariaLabel:e},h.a.createElement(Ny,{isMobile:!0}),h.a.createElement("div",{className:"Menu__close visible-xs-block"},"×"))))}}Oy(Sy,"propTypes",{user:u.a.object.isRequired,channel:u.a.object.isRequired,teammateId:u.a.string,teammateIsBot:u.a.bool,teammateStatus:u.a.string,displayName:u.a.string.isRequired});const Ty=Object(F.a)(B.getCurrentChannel,r.getCurrentUserId,(e,t)=>e.type!==fe.l.DM_CHANNEL?null:z.M(e.name,t)),My=Object(F.a)(r.getUserStatuses,Ty,(e,t)=>t?e[t]:null),Py=B_,Ny=Object(s.connect)(e=>({user:Object(r.getCurrentUser)(e),channel:Object(B.getCurrentChannel)(e),isDefault:Object(B.isCurrentChannelDefault)(e),isFavorite:Object(B.isCurrentChannelFavorite)(e),isMuted:Object(B.isCurrentChannelMuted)(e),isReadonly:Object(B.isCurrentChannelReadOnly)(e),isArchived:Object(B.isCurrentChannelArchived)(e),penultimateViewedChannelName:Object(Dt.c)(e)||Object(B.getRedirectChannelNameForTeam)(e,Object(o.getCurrentTeamId)(e)),pluginMenuItems:e.plugins.components.ChannelHeader||[],isLicensedForLDAPGroups:"true"===e.entities.general.license.LDAPGroups}))(vy),Iy=Object(s.connect)(e=>{const t=Object(r.getCurrentUser)(e),a=Object(B.getCurrentChannel)(e),n=Ty(e);let s=!1,i="";if(n){const t=Object(r.getUser)(e,n);s=t&&t.is_bot,i=z.z(e,t)}return{user:t,channel:a,teammateId:n,teammateIsBot:s,teammateStatus:My(e),displayName:i}})(Sy);class Ry extends h.a.PureComponent{render(){return this.props.mentionCount?h.a.createElement("span",{className:"badge badge-notify"},this.props.mentionCount):this.props.messageCount?h.a.createElement("span",{className:"badge badge-notify"},"•"):null}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Ry,"propTypes",{mentionCount:u.a.number.isRequired,messageCount:u.a.number.isRequired});var Ay=Object(s.connect)((function(e){const{mentionCount:t,messageCount:a}=Object(B.getUnreadsInCurrentTeam)(e);return{mentionCount:t,messageCount:a}}))(Ry);const jy=({actions:{toggleLhs:e}})=>h.a.createElement("button",{key:"navbar-toggle-sidebar",type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#sidebar-nav",onClick:e},h.a.createElement("span",{className:"sr-only"},h.a.createElement(q.a,{id:"navbar.toggle2",defaultMessage:"Toggle sidebar"})),h.a.createElement(Zg.a,{className:"style--none icon icon__menu icon--sidebarHeaderTextColor"}),h.a.createElement(Ay,null));jy.propTypes={actions:u.a.shape({toggleLhs:u.a.func.isRequired}).isRequired};var xy=jy;var Ly=Object(s.connect)(null,e=>({actions:Object(n.bindActionCreators)({toggleLhs:Ah.c},e)}))(xy);const ky=e=>h.a.createElement("button",{key:"navbar-toggle-menu",type:"button",className:"navbar-toggle navbar-right__icon menu-toggle pull-right","data-toggle":"collapse","data-target":"#sidebar-nav",onClick:e.actions.toggleRhsMenu},h.a.createElement(Zg.a,null));ky.propTypes={actions:u.a.shape({toggleRhsMenu:u.a.func.isRequired}).isRequired};var Dy=ky;var Uy=Object(s.connect)(null,e=>({actions:Object(n.bindActionCreators)({toggleRhsMenu:mi.r},e)}))(Dy);function qy(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 22 22",role:"img","aria-label":t({id:"generic_icons.info",defaultMessage:"Info Icon"})},h.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},h.a.createElement("g",{transform:"translate(-388.000000, -18.000000)",fill:"inherit"},h.a.createElement("g",null,h.a.createElement("g",{transform:"translate(381.000000, 11.000000)"},h.a.createElement("g",{transform:"translate(7.000000, 7.000000)"},h.a.createElement("path",{d:"M11,22 C4.92486775,22 0,17.0751322 0,11 C0,4.92486775 4.92486775,0 11,0 C17.0751322,0 22,4.92486775 22,11 C22,17.0751322 17.0751322,22 11,22 Z M11,20.7924685 C16.408231,20.7924685 20.7924685,16.408231 20.7924685,11 C20.7924685,5.59176898 16.408231,1.20753149 11,1.20753149 C5.59176898,1.20753149 1.20753149,5.59176898 1.20753149,11 C1.20753149,16.408231 5.59176898,20.7924685 11,20.7924685 Z M10.1572266,16.0625 L10.1572266,8.69335938 L11.3466797,8.69335938 L11.3466797,16.0625 L10.1572266,16.0625 Z M10.7519531,7.50390625 C10.3417969,7.50390625 10,7.16210938 10,6.75195312 C10,6.33496094 10.3417969,6 10.7519531,6 C11.1689453,6 11.5039062,6.33496094 11.5039062,6.75195312 C11.5039062,7.16210938 11.1689453,7.50390625 10.7519531,7.50390625 Z"}))))))))}function Hy(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Fy={mentionHighlight:!1};class By extends h.a.PureComponent{constructor(...e){super(...e),Hy(this,"headerOverlayRef",h.a.createRef()),Hy(this,"showEditChannelHeaderModal",()=>{this.hide();const{actions:e,channel:t}=this.props,a={modalId:fe.y.EDIT_CHANNEL_HEADER,dialogType:MC,dialogProps:{channel:t}};e.openModal(a)}),Hy(this,"hide",()=>{this.headerOverlayRef.current&&this.headerOverlayRef.current.hide()}),Hy(this,"handleFormattedTextClick",e=>z.O(e,this.props.currentRelativeTeamUrl))}componentDidUpdate(e){var t,a;const n=!e.isRHSOpen&&this.props.isRHSOpen,s=(null===(t=e.channel)||void 0===t?void 0:t.id)!==(null===(a=this.props.channel)||void 0===a?void 0:a.id);(n||s)&&this.hide()}render(){const{channel:e,isReadOnly:t}=this.props;let a=null;if(e.header)a=h.a.createElement(V.a,{message:e.header,options:Fy});else{let e;if(!t){const t=h.a.createElement("a",{href:"#",onClick:this.showEditChannelHeaderModal},h.a.createElement(q.a,{id:"navbar.click",defaultMessage:"Click here"}));e=h.a.createElement(h.a.Fragment,null,h.a.createElement("br",null),h.a.createElement(q.a,{id:"navbar.clickToAddHeader",defaultMessage:"{clickHere} to add one.",values:{clickHere:t}}))}a=h.a.createElement("div",null,h.a.createElement(q.a,{id:"navbar.noHeader",defaultMessage:"No channel header yet."}),e)}const n=h.a.createElement(Pc.a,{popoverStyle:"info",placement:"bottom",className:"navbar__popover",id:"header-popover"},h.a.createElement("span",{onClick:this.handleFormattedTextClick},a),h.a.createElement("div",{className:"close visible-xs-block",onClick:this.hide},"×"));return h.a.createElement(Wi.a,{ref:this.headerOverlayRef,trigger:"click",placement:"bottom",overlay:n,className:"description",rootClose:!0},h.a.createElement("button",{className:"navbar-toggle navbar-right__icon navbar-info-button pull-right","aria-label":z.ob("accessibility.button.Info","Info")},h.a.createElement(qy,{className:"icon icon__info","aria-hidden":"true"})))}}Hy(By,"propTypes",{channel:u.a.object.isRequired,isReadOnly:u.a.bool.isRequired,isRHSOpen:u.a.bool,currentRelativeTeamUrl:u.a.string,actions:u.a.shape({openModal:u.a.func.isRequired}).isRequired});var Gy=Object(s.connect)(null,(function(e){return{actions:Object(n.bindActionCreators)({openModal:_t.b},e)}}))(By);function Vy(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Wy extends h.a.PureComponent{constructor(...e){super(...e),Vy(this,"handleClick",()=>{this.props.actions.openRHSSearch()})}render(){return h.a.createElement("button",{type:"button",className:"navbar-toggle navbar-right__icon navbar-search pull-right",onClick:this.handleClick,"aria-label":Object(z.ob)("accessibility.button.Search","Search")},h.a.createElement(Bn.a,{className:"icon icon__search","aria-hidden":"true"}))}}Vy(Wy,"propTypes",{actions:u.a.shape({openRHSSearch:u.a.func.isRequired}).isRequired});var zy=Object(s.connect)(null,e=>({actions:Object(n.bindActionCreators)({openRHSSearch:mi.f},e)}))(Wy);function Yy(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ky extends h.a.PureComponent{constructor(...e){super(...e),Yy(this,"handleClick",()=>{const{user:e,channel:t,actions:{updateChannelNotifyProps:a}}=this.props;a(e.id,t.id,{mark_unread:fe.z.ALL})})}render(){return h.a.createElement("button",{type:"button",className:"navbar-toggle icon icon__mute",onClick:this.handleClick},h.a.createElement("span",{className:"fa fa-bell-slash-o icon"}))}}Yy(Ky,"propTypes",{user:u.a.shape({id:u.a.string.isRequired}).isRequired,channel:u.a.shape({id:u.a.string.isRequired}).isRequired,actions:u.a.shape({updateChannelNotifyProps:u.a.func.isRequired}).isRequired});var Zy=Object(s.connect)(null,e=>({actions:Object(n.bindActionCreators)({updateChannelNotifyProps:ge.updateChannelNotifyProps},e)}))(Ky);function Jy(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Xy extends h.a.PureComponent{constructor(...e){super(...e),Jy(this,"hideSidebars",e=>{z.fb()&&(this.props.actions.closeRhs(),"navbar-toggle"!==e.target.className&&"icon-bar"!==e.target.className&&(this.props.actions.closeLhs(),this.props.actions.closeRhsMenu()))})}componentDidMount(){document.querySelector(".inner-wrap").addEventListener("click",this.hideSidebars)}componentWillUnmount(){document.querySelector(".inner-wrap").removeEventListener("click",this.hideSidebars)}render(){const{user:e,channel:t,isMuted:a,isReadOnly:n,isRHSOpen:s,currentRelativeTeamUrl:i}=this.props;return h.a.createElement("nav",{id:"navbar",className:"navbar navbar-default navbar-fixed-top",role:"navigation"},h.a.createElement("div",{className:"container-fluid theme"},h.a.createElement("div",{className:"navbar-header"},h.a.createElement(Ly,null),t&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"navbar-brand"},h.a.createElement(Iy,null),a&&h.a.createElement(Zy,{user:e,channel:t})),h.a.createElement(Gy,{channel:t,isReadOnly:n,isRHSOpen:s,currentRelativeTeamUrl:i}),h.a.createElement(zy,null),h.a.createElement(W_,{channel:t,isDropdown:!1})),h.a.createElement(Uy,null))))}}Jy(Xy,"propTypes",{user:u.a.object.isRequired,channel:u.a.object,isReadOnly:u.a.bool,isMuted:u.a.bool,isRHSOpen:u.a.bool,currentRelativeTeamUrl:u.a.string,actions:u.a.shape({closeLhs:u.a.func.isRequired,closeRhs:u.a.func.isRequired,closeRhsMenu:u.a.func.isRequired}).isRequired});const Qy=Object(F.a)(B.getMyCurrentChannelMembership,e=>Object(We.isChannelMuted)(e));var $y=Object(s.connect)(e=>({user:Object(r.getCurrentUser)(e),channel:Object(B.getCurrentChannel)(e),isMuted:Qy(e),isReadOnly:Object(B.isCurrentChannelReadOnly)(e),isRHSOpen:Object(ui.c)(e),currentRelativeTeamUrl:Object(o.getCurrentRelativeTeamUrl)(e)}),e=>({actions:Object(n.bindActionCreators)({closeLhs:Ah.a,closeRhs:mi.b,closeRhsMenu:mi.a},e)}))(Xy);const eE=new RegExp("^[a-zA-Z0-9]{".concat(26,"}__[a-zA-Z0-9]{").concat(26,"}$"));function tE({match:e,history:t}){return async(a,n)=>{const s=n(),{path:i,identifier:l,team:c}=e.params;if(!l)return{data:void 0};const d=Object(o.getTeamByName)(s,c);if(!d)return{data:void 0};switch(function(e,t,a){if("channels"===t){const t=Object(B.getChannelByName)(e,a),n=Object(B.getOtherChannels)(e).find(e=>e.name===a);return 26===a.length?t||n?"channel_name":"channel_id":!t&&!n&&40===a.length||t&&t.type===fe.l.GM_CHANNEL||n&&n.type===fe.l.GM_CHANNEL?"group_channel_group_id":function(e){return 54===e.length&&eE.test(e)}(a)?"direct_channel_user_ids":"channel_name"}if("messages"===t)return 0===a.indexOf("@")?"direct_channel_username":a.indexOf("@")>0?"direct_channel_email":26===a.length?"direct_channel_user_id":40===a.length?"group_channel_group_id":"error";return"error"}(s,i,l)){case"channel_name":a(function(e,t){return async(a,n)=>{const s=n(),{team:i,identifier:l}=e.params,c=l.toLowerCase(),d=Object(o.getTeamByName)(s,i);if(!d)return{data:void 0};let m,u=Object(B.getChannelsNameMapInTeam)(s,d.id)[c];if(u&&(m=s.entities.channels.myMembers[u.id]),!u||!m){const n=await a(Object(ge.joinChannel)(Object(r.getCurrentUserId)(s),d.id,"",c));if("error"in n){const n=await a(Object(ge.getChannelByNameAndTeamName)(i,c,!0));if("error"in n||0===n.data.delete_at)return await a(Object(ge.fetchMyChannelsAndMembers)(d.id)),rE(e,t,Object(B.getRedirectChannelNameForTeam)(s,d.id)),{data:void 0};u=n.data}else u=n.data.channel}return u.type===fe.l.DM_CHANNEL?a(nE(e,t)):u.type===fe.l.GM_CHANNEL?t.replace("/".concat(i,"/messages/").concat(u.name)):sE(u),{data:void 0}}}(e,t));break;case"channel_id":a(function(e,t){return async(a,n)=>{const s=n(),{team:i,identifier:l}=e.params,c=l.toLowerCase();let d=Object(B.getChannel)(s,c);const m=s.entities.channels.myMembers[c],u=Object(o.getTeamByName)(s,i);if(!d||!m){const n=await a(Object(ge.joinChannel)(Object(r.getCurrentUserId)(s),u.id,c,""));if("error"in n)return await a(Object(ge.fetchMyChannelsAndMembers)(u.id)),rE(e,t,Object(B.getRedirectChannelNameForTeam)(s,u.id)),{data:void 0};d=n.data.channel}return d.type===fe.l.DM_CHANNEL?a(aE(e,t,z.M(d.name,Object(r.getCurrentUserId)(s)))):d.type===fe.l.GM_CHANNEL?t.replace("/".concat(i,"/messages/").concat(d.name)):t.replace("/".concat(i,"/channels/").concat(d.name)),{data:void 0}}}(e,t));break;case"group_channel_group_id":a(function(e,t){return async(a,n)=>{const s=n(),{identifier:i,team:l}=e.params,c=i.toLowerCase();t.replace(e.url.replace("/channels/","/messages/"));let d=Object(B.getChannelByName)(s,c);const m=Object(o.getTeamByName)(s,l);if(!d){const n=await a(Object(ge.joinChannel)(Object(r.getCurrentUserId)(s),m.id,"",c));if("error"in n)return await a(Object(ge.fetchMyChannelsAndMembers)(m.id)),iE(e,t,Object(B.getRedirectChannelNameForTeam)(s,m.id)),{data:void 0};d=n.data.channel}return a(Object(ge.markGroupChannelOpen)(d.id)),sE(d),{data:void 0}}}(e,t));break;case"direct_channel_username":a(function(e,t){return async(a,n)=>{const s=n(),{team:i,identifier:l}=e.params,c=l.slice(1,l.length).toLowerCase(),d=Object(o.getTeamByName)(s,i);let m=Object(r.getUserByUsername)(s,c);if(!m){const n=await a(Object(Y.getUserByUsername)(c));if("error"in n)return await a(Object(ge.fetchMyChannelsAndMembers)(d.id)),iE(e,t,Object(B.getRedirectChannelNameForTeam)(s,d.id)),{data:void 0};m=n.data}const u=await a(Object(U.f)(m.id));return"error"in u?(await a(Object(ge.fetchMyChannelsAndMembers)(d.id)),iE(e,t,Object(B.getRedirectChannelNameForTeam)(s,d.id)),{data:void 0}):(sE(u.data),{data:void 0})}}(e,t));break;case"direct_channel_email":a(function(e,t){return async(a,n)=>{const s=n(),{team:i,identifier:l}=e.params,c=l.toLowerCase(),d=Object(o.getTeamByName)(s,i);let m=Object(r.getUserByEmail)(s,c);if(!m){const n=await a(Object(Y.getUserByEmail)(c));if("error"in n)return await a(Object(ge.fetchMyChannelsAndMembers)(d.id)),iE(e,t,Object(B.getRedirectChannelNameForTeam)(s,d.id)),{data:void 0};m=n.data}return t.replace("/".concat(i,"/messages/@").concat(m.username)),{data:void 0}}}(e,t));break;case"direct_channel_user_ids":a(nE(e,t));break;case"direct_channel_user_id":a(aE(e,t,l));break;case"error":await a(Object(ge.fetchMyChannelsAndMembers)(d.id)),iE(e,t,Object(B.getRedirectChannelNameForTeam)(s,d.id))}return{data:void 0}}}function aE(e,t,a){return async(n,s)=>{const i=s(),{team:l}=e.params,c=Object(o.getTeamByName)(i,l);let d=Object(r.getUser)(i,a);if(!d){const s=await n(Object(Y.getUser)(a));if("error"in s)return await n(Object(ge.fetchMyChannelsAndMembers)(c.id)),iE(e,t,Object(B.getRedirectChannelNameForTeam)(i,c.id)),{data:void 0};d=s.data}return t.replace("/".concat(l,"/messages/@").concat(d.username)),{data:void 0}}}function nE(e,t){return async(a,n)=>{const s=n(),{team:i,identifier:l}=e.params,c=z.M(l.toLowerCase(),Object(r.getCurrentUserId)(n())),d=Object(o.getTeamByName)(s,i);let m=Object(r.getUser)(s,c);if(!m){const n=await a(Object(Y.getUser)(c));if("error"in n)return await a(Object(ge.fetchMyChannelsAndMembers)(d.id)),iE(e,t,Object(B.getRedirectChannelNameForTeam)(s,d.id)),{data:void 0};m=n.data}return t.replace("/".concat(i,"/messages/@").concat(m.username)),{data:void 0}}}function sE(e){w.b(e)}function iE(e,t,a){const{team:n}=e.params;t.push(n?"/".concat(n,"/channels/").concat(a):"/")}async function rE(e,t,a){const{team:n}=e.params;t.push(n?"/error?type=channel_not_found&returnTo=/".concat(n,"/channels/").concat(a):"/")}var oE=a(194),lE=a(92),cE=a.n(lE);var dE=a(1711);a(1751);function mE(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 18 18",role:"img","aria-label":t({id:"generic_icons.member",defaultMessage:"Member Icon"})},h.a.createElement("path",{d:"M15.48 12.51L12.6 10.8C12.648 10.74 12.72 10.644 12.816 10.512C13.02 10.26 13.158 10.056 13.23 9.89999C13.602 9.26399 13.89 8.55599 14.094 7.77599C14.298 6.98399 14.4 6.19199 14.4 5.39999C14.4 4.33199 14.172 3.38999 13.716 2.57399C13.272 1.75799 12.642 1.12799 11.826 0.683987C11.01 0.227987 10.068 -1.26362e-05 9 -1.26362e-05C7.932 -1.26362e-05 6.99 0.227987 6.174 0.683987C5.358 1.12799 4.722 1.75799 4.266 2.57399C3.822 3.38999 3.6 4.33199 3.6 5.39999C3.6 6.19199 3.708 6.98999 3.924 7.79399C4.116 8.56199 4.398 9.29399 4.77 9.98999C4.95 10.35 5.16 10.65 5.4 10.89L2.52 12.6C2.04 12.78 1.65 13.11 1.35 13.59C1.05 14.058 0.9 14.562 0.9 15.102C0.9 15.642 1.026 16.134 1.278 16.578C1.53 17.022 1.878 17.37 2.322 17.622C2.766 17.874 3.252 18 3.78 18H14.22C14.748 18 15.234 17.874 15.678 17.622C16.122 17.37 16.47 17.022 16.722 16.578C16.974 16.134 17.1 15.642 17.1 15.102C17.1 14.562 16.95 14.052 16.65 13.572C16.362 13.092 15.972 12.738 15.48 12.51ZM5.4 5.39999C5.4 4.19999 5.754 3.28199 6.462 2.64599C7.098 2.08199 7.944 1.79999 9 1.79999C10.056 1.79999 10.902 2.08199 11.538 2.64599C12.246 3.28199 12.6 4.19999 12.6 5.39999C12.6 6.25199 12.468 7.06799 12.204 7.84799C11.904 8.69999 11.496 9.38399 10.98 9.89999C10.38 10.5 9.72 10.8 9 10.8C8.28 10.8 7.62 10.5 7.02 9.89999C6.504 9.38399 6.102 8.69999 5.814 7.84799C5.538 7.06799 5.4 6.25199 5.4 5.39999ZM14.22 16.2H3.78C3.468 16.2 3.21 16.098 3.006 15.894C2.802 15.69 2.7 15.432 2.7 15.12C2.7 14.904 2.754 14.712 2.862 14.544C2.982 14.364 3.138 14.226 3.33 14.13L6.84 12.06C7.56 12.42 8.28 12.6 9 12.6C9.756 12.6 10.446 12.42 11.07 12.06L14.58 14.13C14.772 14.226 14.922 14.364 15.03 14.544C15.15 14.712 15.21 14.904 15.21 15.12C15.258 15.432 15.186 15.69 14.994 15.894C14.802 16.098 14.544 16.2 14.22 16.2Z"})))}function uE(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("button",Object.assign({},e,{"aria-label":t({id:"members_popover.button.message",defaultMessage:"message"}),className:"style--none icon icon__message",tabIndex:"-1"}),h.a.createElement("svg",{width:"18px",height:"16px",viewBox:"0 0 18 16",role:"img","aria-label":t({id:"generic_icons.message",defaultMessage:"Message Icon"})},h.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},h.a.createElement("g",{transform:"translate(-200.000000, -174.000000)",fill:"inherit"},h.a.createElement("g",{transform:"translate(200.000000, 174.000000)"},h.a.createElement("path",{d:"M7.2546625,1.42801356 C10.458475,1.42801356 12.999475,3.24528136 12.999475,5.52023729 C12.9895,8.04188475 10.6062625,9.89326102 7.40245,9.89326102 C7.40245,9.89326102 6.9134125,9.91229831 6.4115125,9.83747119 L5.82535,9.79622373 L5.15335,10.3586169 C4.997425,10.5397356 4.3199125,11.1095322 3.736375,11.4794373 C4.0915375,10.4598847 4.07605,10.1370441 4.07605,10.1370441 L4.1251375,9.49004068 L3.55315,9.19549153 C2.0986375,8.44616271 1.4444875,6.88616271 1.4444875,5.52023729 C1.4444875,3.24528136 4.05085,1.42801356 7.2546625,1.42801356 M7.2546625,0.370386441 C3.465475,0.370386441 0.3944875,2.65829831 0.3944875,5.52023729 C0.3944875,7.3028678 1.2623125,9.20342373 3.0751375,10.1370441 C3.0751375,10.1478847 3.07225,10.1560814 3.07225,10.1679797 C3.07225,10.9426915 2.43175,12.0048136 2.1794875,12.4429356 L2.1805375,12.4429356 C2.1605875,12.4902644 2.148775,12.5420881 2.148775,12.5973492 C2.148775,12.8141627 2.322025,12.9881424 2.5375375,12.9881424 C2.5693,12.9881424 2.6210125,12.9815322 2.6393875,12.9815322 C2.6446375,12.9815322 2.6467375,12.9815322 2.6462125,12.9831186 C3.986275,12.762339 5.9642125,11.2435864 6.2576875,10.8837288 C6.5585125,10.928678 6.761425,10.9358169 7.0136875,10.9358169 C7.120525,10.9358169 7.2347125,10.9342305 7.3696375,10.9342305 C11.1583,10.9342305 14.094625,8.75446102 14.049475,5.52023729 C14.049475,2.65829831 11.0435875,0.370386441 7.2546625,0.370386441"}),h.a.createElement("path",{d:"M17.2055125,9.79172881 C17.2055125,8.35811525 16.6498,7.26532203 15.2624875,6.4451322 C15.228625,6.82614237 15.120475,7.23517966 15.0031375,7.59477288 C15.8998375,8.21903729 16.1555125,8.85995932 16.1555125,9.79172881 C16.1555125,10.9323797 15.62815,11.7597085 14.40175,12.3919051 L13.879375,12.653139 C13.879375,12.653139 13.9337125,14.0082237 14.0140375,14.3511593 C12.9895,13.5946915 12.6374875,12.9630237 12.6374875,12.9630237 L12.08545,13.0486915 C11.86705,13.0809492 11.276425,13.0812136 11.276425,13.0812136 C9.85,13.0812136 8.7929125,12.7388068 7.8909625,12.0278169 C8.135875,12.0124814 6.42805,12.0132746 6.3899875,12.0468542 C7.4326375,13.3297559 9.1373125,14.1388407 11.276425,14.1388407 C11.3927125,14.1388407 11.49115,14.1398983 11.58355,14.1398983 C11.801425,14.1398983 11.9773,14.1338169 12.237175,14.095478 C12.491275,14.4058915 13.914025,15.7728746 15.0724375,15.9629831 C15.0719125,15.9619254 15.073225,15.9619254 15.078475,15.9619254 C15.0939625,15.9619254 15.13885,15.967478 15.16615,15.967478 C15.3522625,15.967478 15.5024125,15.8167661 15.5024125,15.6293017 C15.5024125,15.5817085 15.49165,15.5367593 15.47485,15.4960407 L15.4759,15.4960407 C15.258025,15.117939 14.9159875,14.0129831 14.9159875,13.3435051 C14.9159875,13.3331932 14.9128375,13.3260542 14.9128375,13.3168 C16.4797,12.5095661 17.2055125,11.3321627 17.2055125,9.79172881"}))))))}function pE(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class hE extends h.a.PureComponent{constructor(...e){super(...e),pE(this,"handleClick",()=>{this.props.onItemClick(this.props.user)})}render(){if(!this.props.user)return null;if(!this.props.displayName)return null;let e;this.props.showMessageIcon&&(e=h.a.createElement(uE,{"aria-hidden":"true"}));const t=this.props.user.is_bot?" more-modal__row--bot":"",a=this.props.user.is_bot?null:this.props.status;return h.a.createElement("div",{"data-testid":"popoverListMembersItem",tabIndex:"0","aria-label":this.props.displayName.toLowerCase(),className:"more-modal__row"+t,onClick:this.handleClick},h.a.createElement(bo.a,{src:d.Client4.getProfilePictureUrl(this.props.user.id,this.props.user.last_picture_update),status:a,size:"md"}),h.a.createElement("div",{className:"more-modal__details d-flex whitespace--nowrap"},h.a.createElement("div",{className:"more-modal__name"},this.props.displayName),h.a.createElement(Le.a,{show:Boolean(this.props.user.is_bot),className:"badge-popoverlist"}),h.a.createElement(ke.a,{show:z.bb(this.props.user),className:"badge-popoverlist"})),h.a.createElement("div",{className:"more-modal__actions"},e))}}pE(hE,"propTypes",{showMessageIcon:u.a.bool.isRequired,onItemClick:u.a.func.isRequired,status:u.a.string.isRequired,user:u.a.object.isRequired,displayName:u.a.string.isRequired}),pE(hE,"defaultProps",{status:fe.U.OFFLINE});var gE=Object(s.connect)((function(e,t){return{displayName:Object(z.z)(e,t.user)}}))(hE);function bE(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class fE extends h.a.PureComponent{constructor(e){super(e),bE(this,"handleShowDirectChannel",e=>{const{actions:t}=this.props,a=e.id;a&&t.openDirectChannelToUserId(a).then(({data:e})=>{e&&N.a.push(this.props.teamUrl+"/channels/"+e.name),this.closePopover()})}),bE(this,"closePopover",()=>{this.setState({showPopover:!1})}),bE(this,"showMembersModal",e=>{e.preventDefault(),this.closePopover();const t={modalId:fe.y.CHANNEL_MEMBERS,dialogProps:this.props,dialogType:gC};this.props.actions.openModal(t)}),bE(this,"handleGetProfilesInChannel",e=>{this.setState({popoverTarget:e.target,showPopover:!this.state.showPopover}),this.props.actions.loadProfilesAndStatusesInChannel(this.props.channel.id,0,void 0,"status",{active:!0})}),bE(this,"getTargetPopover",()=>(this.membersList.current.focus(),this.state.popoverTarget)),this.membersList=h.a.createRef(),this.state={showPopover:!1,users:e.users,statuses:e.statuses}}static getDerivedStateFromProps(e,t){return e.users!==t.users||e.statuses!==t.statuses?{users:e.users,statuses:e.statuses}:null}render(){const e=this.props.channel.type===fe.l.DM_CHANNEL,t=this.props.sortedUsers.map(t=>h.a.createElement(gE,{key:t.id,onItemClick:this.handleShowDirectChannel,showMessageIcon:this.props.currentUserId!==t.id&&!e,status:this.props.statuses[t.id],user:t})),a=0!==this.props.channel.delete_at;let n;if(this.props.channel.type!==fe.l.GM_CHANNEL&&!a){let e=h.a.createElement(q.a,{id:"members_popover.manageMembers",defaultMessage:"Manage Members"});!(this.props.channel.name===fe.l.DEFAULT_CHANNEL)&&this.props.manageMembers||(e=h.a.createElement(q.a,{id:"members_popover.viewMembers",defaultMessage:"View Members"})),n=h.a.createElement("div",{className:"more-modal__button",key:"popover-member-more"},h.a.createElement("button",{className:"btn btn-link","data-testid":"membersModal",onClick:this.showMembersModal},e))}const s=this.props.memberCount;let i="-";s>0&&(i=s.toString());const r=h.a.createElement(q.a,{id:"members_popover.title",defaultMessage:"Channel Members"}),o=h.a.createElement(Vi.a,{id:"channelMembersTooltip"},h.a.createElement(q.a,{id:"channel_header.channelMembers",defaultMessage:"Members"})),l="".concat(z.ob("channel_header.channelMembers","Members")).toLowerCase();return h.a.createElement("div",{id:"channelMember"},h.a.createElement(Wi.a,{delayShow:fe.l.OVERLAY_TIME_DELAY,placement:"bottom",disabled:this.state.showPopover,overlay:o},h.a.createElement("button",{id:"member_popover","aria-label":l,className:"member-popover__trigger channel-header__icon channel-header__icon--wide "+(this.state.showPopover?"channel-header__icon--active":""),ref:"member_popover_target",onClick:this.handleGetProfilesInChannel},h.a.createElement("div",{className:"d-flex align-items-center"},h.a.createElement(mE,{id:"channelMemberIcon",className:"icon icon--standard","aria-hidden":"true"}),h.a.createElement("span",{id:"channelMemberCountText",className:"icon__text"},i)))),h.a.createElement(_a.a,{rootClose:!0,onHide:this.closePopover,show:this.state.showPopover,target:this.getTargetPopover,placement:"bottom"},h.a.createElement(Pc.a,{className:"member-list__popover",id:"member-list-popover"},h.a.createElement("div",{className:"more-modal__header"},r,this.props.channel.group_constrained&&h.a.createElement("div",{className:"subhead"},h.a.createElement(q.a,{id:"channel_header.groupConstrained",defaultMessage:"Members managed by linked groups."}))),h.a.createElement("div",{className:"more-modal__body"},h.a.createElement("div",{tabIndex:"-1",role:"presentation",ref:this.membersList,className:"more-modal__list"},t)),n)))}}bE(fE,"propTypes",{channel:u.a.object.isRequired,statuses:u.a.object.isRequired,users:u.a.array.isRequired,memberCount:u.a.number,currentUserId:u.a.string.isRequired,teamUrl:u.a.string,manageMembers:u.a.bool.isRequired,actions:u.a.shape({openModal:u.a.func.isRequired,loadProfilesAndStatusesInChannel:u.a.func.isRequired,openDirectChannelToUserId:u.a.func.isRequired}).isRequired,sortedUsers:u.a.array});var _E=Object(s.connect)((function(){const e=Object(r.makeGetProfilesInChannel)(),t=(e=>Object(F.a)((t,a)=>e(t,a,!0),r.getUserStatuses,K.getTeammateNameDisplaySetting,(e,t,a)=>Object(z.zb)(e,t,a)))(e);return function(a,n){const s=Object(B.getAllChannelStats)(a)[n.channel.id]||{},i=e(a,n.channel.id,!0),l=Object(r.getUserStatuses)(a);return{currentUserId:Object(r.getCurrentUserId)(a),memberCount:s.member_count,users:i,statuses:l,teamUrl:Object(o.getCurrentRelativeTeamUrl)(a),manageMembers:Object(G.a)(a,n.channel),sortedUsers:t(a,n.channel.id)}}}),(function(e){return{actions:Object(n.bindActionCreators)({openModal:_t.b,loadProfilesAndStatusesInChannel:$s.i,openDirectChannelToUserId:U.f},e)}}))(fE),CE=a(1445),yE=a(2422);function EE(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 18 18",version:"1.1",role:"img","aria-label":t({id:"generic_icons.plugins",defaultMessage:"Plugins"})},h.a.createElement("path",{d:"M14.58 9.14399L17.136 6.60599C17.304 6.42599 17.388 6.20999 17.388 5.95799C17.388 5.70599 17.298 5.49599 17.118 5.32799C16.95 5.14799 16.74 5.05799 16.488 5.05799C16.236 5.05799 16.026 5.14799 15.858 5.32799L13.302 7.86599L10.134 4.69799L12.672 2.14199C12.852 1.97399 12.942 1.76399 12.942 1.51199C12.942 1.25999 12.852 1.04999 12.672 0.881987C12.504 0.701987 12.294 0.611987 12.042 0.611987C11.79 0.611987 11.574 0.695987 11.394 0.863987L8.856 3.41999L6.318 0.863987C6.138 0.695987 5.922 0.611987 5.67 0.611987C5.418 0.611987 5.208 0.695987 5.04 0.863987V0.881987C4.86 1.04999 4.77 1.25999 4.77 1.51199C4.77 1.76399 4.86 1.97399 5.04 2.14199L5.67 2.78999L2.808 5.65199C2.016 6.44399 1.458 7.36799 1.134 8.42399C0.81 9.45599 0.744 10.512 0.936 11.592C1.128 12.66 1.56 13.632 2.232 14.508L0.27 16.47C0.09 16.638 0 16.848 0 17.1C0 17.352 0.09 17.562 0.27 17.73C0.45 17.898 0.66 17.982 0.9 17.982C1.152 17.994 1.362 17.91 1.53 17.73L3.492 15.768C4.368 16.44 5.34 16.872 6.408 17.064C7.488 17.256 8.544 17.19 9.576 16.866C10.632 16.542 11.556 15.984 12.348 15.192L15.21 12.33L15.858 12.96C16.026 13.14 16.236 13.23 16.488 13.23C16.74 13.23 16.95 13.14 17.118 12.96H17.136C17.304 12.792 17.388 12.582 17.388 12.33C17.388 12.078 17.304 11.862 17.136 11.682L14.58 9.14399ZM11.088 13.914C10.452 14.55 9.702 14.976 8.838 15.192C8.01 15.408 7.176 15.408 6.336 15.192C5.472 14.976 4.722 14.55 4.086 13.914C3.45 13.278 3.024 12.528 2.808 11.664C2.592 10.824 2.592 9.98999 2.808 9.16199C3.024 8.29799 3.45 7.54799 4.086 6.91199L6.948 4.04999L13.95 11.052L11.088 13.914Z"})))}function vE(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class wE extends h.a.PureComponent{constructor(...e){super(...e),vE(this,"handleRootClose",()=>{this.props.onClose()})}render(){const{open:e,rootCloseEvent:t,children:a}=this.props;return h.a.createElement(yE.a,{disabled:!e,onRootClose:this.handleRootClose,event:t},h.a.createElement("ul",{role:"menu",className:"dropdown-menu channel-header_plugin-dropdown"},a))}}vE(wE,"propTypes",{open:u.a.bool,children:u.a.node,onClose:u.a.func.isRequired,rootCloseEvent:u.a.oneOf(["click","mousedown"])});class OE extends h.a.PureComponent{constructor(...e){super(...e),vE(this,"handleClick",e=>{this.props.onClick(e)})}render(){const{children:e}=this.props;let t="";return this.props.dropdownOpen&&(t=" channel-header__icon--active"),h.a.createElement("button",{id:"pluginChannelHeaderButtonDropdown",className:"channel-header__icon channel-header__icon--wide "+t,type:"button",onClick:this.handleClick},e)}}vE(OE,"propTypes",{children:u.a.element,dropdownOpen:u.a.bool,onClick:u.a.func});class SE extends h.a.PureComponent{constructor(e){super(e),vE(this,"toggleDropdown",e=>{this.setState({dropdownOpen:e})}),vE(this,"onClose",()=>{this.toggleDropdown(!1)}),vE(this,"fireActionAndClose",e=>{e(this.props.channel,this.props.channelMember),this.onClose()}),vE(this,"createButton",e=>h.a.createElement(Gc,{key:"channelHeaderButton"+e.id,buttonClass:"channel-header__icon",iconComponent:e.icon,onClick:()=>e.action(this.props.channel,this.props.channelMember),buttonId:e.id,tooltipKey:"plugin",tooltipText:e.tooltipText?e.tooltipText:e.dropdownText})),vE(this,"createDropdown",e=>{const t=e.map(e=>h.a.createElement("li",{key:"channelHeaderPlug"+e.id},h.a.createElement("a",{href:"#",className:"d-flex align-items-center",onClick:()=>this.fireActionAndClose(e.action)},h.a.createElement("span",{className:"d-flex align-items-center overflow--ellipsis"},e.icon),h.a.createElement("span",null,e.dropdownText))));return h.a.createElement("div",{className:"flex-child"},h.a.createElement(CE.a,{id:"channelHeaderPlugDropdown",onToggle:this.toggleDropdown,onSelect:this.onSelect,open:this.state.dropdownOpen},h.a.createElement(OE,{dropdownOpen:this.state.dropdownOpen,bsRole:"toggle"},h.a.createElement(Wi.a,{delayShow:fe.l.OVERLAY_TIME_DELAY,placement:"bottom",overlay:this.state.dropdownOpen?h.a.createElement(h.a.Fragment,null):h.a.createElement(Vi.a,{id:"removeIcon"},h.a.createElement("div",{"aria-hidden":!0},h.a.createElement(q.a,{id:"generic_icons.plugins",defaultMessage:"Plugins"})))},h.a.createElement(h.a.Fragment,null,h.a.createElement(EE,{id:"pluginChannelHeaderIcon",className:"icon icon--standard icon__pluginChannelHeader","aria-hidden":"true"}),h.a.createElement("span",{id:"pluginCount",className:"icon__text"},e.length)))),h.a.createElement(wE,{bsRole:"menu",open:this.state.dropdownOpen,onClose:this.onClose},t)))}),this.state={dropdownOpen:!1}}render(){const e=this.props.components||[];return 0===e.length?null:e.length<=5?e.map(this.createButton):this.createDropdown(e)}}vE(SE,"propTypes",{components:u.a.array,channel:u.a.object.isRequired,channelMember:u.a.object.isRequired,theme:u.a.object.isRequired});var TE=Object(s.connect)((function(e){return{components:e.plugins.components.ChannelHeaderButton,theme:Object(K.getTheme)(e)}}))(SE);function ME(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function PE(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ME(Object(a),!0).forEach((function(t){NE(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ME(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function NE(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const IE={singleline:!0,mentionHighlight:!1,atMentions:!0},RE={singleline:!1,mentionHighlight:!1,atMentions:!0};class AE extends h.a.PureComponent{constructor(e){super(e),NE(this,"handleResize",()=>{this.setState({showSearchBar:AE.getShowSearchBar(this.props)})}),NE(this,"handleClose",()=>{this.props.actions.goToLastViewedChannel()}),NE(this,"toggleFavorite",e=>{e.stopPropagation(),this.props.isFavorite?this.props.actions.unfavoriteChannel(this.props.channel.id):this.props.actions.favoriteChannel(this.props.channel.id)}),NE(this,"unmute",()=>{const{actions:e,channel:t,channelMember:a,currentUser:n}=this.props;if(!a||!n||!t)return;const s={mark_unread:fe.z.ALL};e.updateChannelNotifyProps(n.id,t.id,s)}),NE(this,"mute",()=>{const{actions:e,channel:t,channelMember:a,currentUser:n}=this.props;if(!a||!n||!t)return;const s={mark_unread:fe.z.MENTION};e.updateChannelNotifyProps(n.id,t.id,s)}),NE(this,"searchMentions",e=>{e.preventDefault(),this.props.rhsState===fe.G.MENTION?this.props.actions.closeRightHandSide():this.props.actions.showMentions()}),NE(this,"showPinnedPosts",e=>{e.preventDefault(),this.props.rhsState===fe.G.PIN?this.props.actions.closeRightHandSide():this.props.actions.showPinnedPosts()}),NE(this,"getFlagged",e=>{e.preventDefault(),this.props.rhsState===fe.G.FLAG?this.props.actions.closeRightHandSide():this.props.actions.showFlaggedPosts()}),NE(this,"searchButtonClick",e=>{e.preventDefault(),this.props.actions.openRHSSearch()}),NE(this,"handleShortcut",e=>{z.g(e)&&e.shiftKey&&(z.cb(e,fe.l.KeyCodes.M)&&(e.preventDefault(),this.props.actions.closeModal(fe.y.QUICK_SWITCH),this.searchMentions(e)),z.cb(e,fe.l.KeyCodes.L)&&this.props.actions.closeModal(fe.y.QUICK_SWITCH))}),NE(this,"handleQuickSwitchKeyPress",e=>{z.g(e)&&!e.shiftKey&&z.cb(e,fe.l.KeyCodes.K)&&(e.altKey||(e.preventDefault(),this.toggleQuickSwitchModal()))}),NE(this,"toggleQuickSwitchModal",()=>{const{isQuickSwitcherOpen:e}=this.props;e?this.props.actions.closeModal(fe.y.QUICK_SWITCH):this.props.actions.openModal({modalId:fe.y.QUICK_SWITCH,dialogType:Dg})}),NE(this,"removeTooltipLink",()=>{this.toggleFavoriteRef.current.removeAttribute("aria-describedby")}),NE(this,"showEditChannelHeaderModal",()=>{this.headerOverlayRef.current&&this.headerOverlayRef.current.hide();const{actions:e,channel:t}=this.props,a={modalId:fe.y.EDIT_CHANNEL_HEADER,dialogType:MC,dialogProps:{channel:t}};e.openModal(a)}),NE(this,"showChannelHeaderPopover",e=>{const t=this.headerDescriptionRef.current.getBoundingClientRect();(this.headerPopoverTextMeasurerRef.current.getBoundingClientRect().width>t.width||e.match(/\n{2,}/g))&&this.setState({showChannelHeaderPopover:!0,leftOffset:this.headerDescriptionRef.current.offsetLeft}),this.setState({topOffset:32*this.props.announcementBarCount})}),NE(this,"setPopoverOverlayWidth",()=>{const e=this.headerDescriptionRef.current.getBoundingClientRect();this.setState({popoverOverlayWidth:e.width+10})}),NE(this,"handleFormattedTextClick",e=>z.O(e,this.props.currentRelativeTeamUrl)),this.toggleFavoriteRef=h.a.createRef(),this.headerDescriptionRef=h.a.createRef(),this.headerPopoverTextMeasurerRef=h.a.createRef(),this.headerOverlayRef=h.a.createRef(),this.state={showSearchBar:AE.getShowSearchBar(e),popoverOverlayWidth:0,showChannelHeaderPopover:!1,leftOffset:0,topOffset:0},this.getHeaderMarkdownOptions=Object(em.memoizeResult)(e=>PE(PE({},IE),{},{channelNamesMap:e})),this.getPopoverMarkdownOptions=Object(em.memoizeResult)(e=>PE(PE({},RE),{},{channelNamesMap:e}))}componentDidMount(){this.props.actions.getCustomEmojisInText(this.props.channel?this.props.channel.header:""),document.addEventListener("keydown",this.handleShortcut),document.addEventListener("keydown",this.handleQuickSwitchKeyPress),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){document.removeEventListener("keydown",this.handleShortcut),document.removeEventListener("keydown",this.handleQuickSwitchKeyPress),window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){const t=this.props.channel?this.props.channel.header:"";t!==(e.channel?e.channel.header:"")&&this.props.actions.getCustomEmojisInText(t)}static getDerivedStateFromProps(e){return{showSearchBar:AE.getShowSearchBar(e)}}static getShowSearchBar(e){return z.Db()>1140||e.rhsOpen}render(){const{teamId:e,currentUser:t,gmMembers:a,channel:n,channelMember:s,isMuted:i,isReadOnly:r,isFavorite:o,dmUser:l,rhsState:c,hasGuests:d,teammateNameDisplaySetting:m,newSideBarPreference:u}=this.props,{formatMessage:p}=this.props.intl,g=z.ob("accessibility.sections.channelHeader","channel header region");let b="";d&&(b=h.a.createElement("span",{className:"has-guest-header"},h.a.createElement(q.a,{id:"channel_header.channelHasGuests",defaultMessage:"This channel has guests"})));const f=0!==n.delete_at;if(z.X(n)||z.X(s)||z.X(t)||!l&&n.type===fe.l.DM_CHANNEL)return h.a.createElement("div",{className:"channel-header"});const _=n.props&&n.props.channel_mentions;let C=n.display_name,y=null;f&&(y=h.a.createElement(md.a,{className:"icon icon__archive icon channel-header-archived-icon svg-text-color"}));const E=n.type===fe.l.DM_CHANNEL,v=n.type===fe.l.GM_CHANNEL,w=n.type===fe.l.PRIVATE_CHANNEL;if(E){const e=l.id;C=t.id===e?h.a.createElement(q.a,{id:"channel_header.directchannel.you",defaultMessage:"{displayname} (you) ",values:{displayname:Object(je.displayUsername)(l,m)}}):Object(je.displayUsername)(l,m)+" ",C=h.a.createElement(h.a.Fragment,null,C,h.a.createElement(ke.a,{show:z.bb(l)}))}if(v){const e={};for(const n of a){if(n.id===t.id)continue;const a=Object(je.displayUsername)(n,this.props.teammateNameDisplaySetting);e[a]||(e[a]=[]),e[a].push(n)}C=n.display_name.split(", ").map((t,a)=>{if(!e[t])return t;const n=e[t].shift();return h.a.createElement(h.a.Fragment,{key:n.id},a>0&&", ",t,h.a.createElement(ke.a,{show:z.bb(n)}))}),d&&(b=h.a.createElement("span",{className:"has-guest-header"},h.a.createElement(q.a,{id:"channel_header.groupMessageHasGuests",defaultMessage:"This group message has guests"})))}let O,S,T,M;E||(O=h.a.createElement(_E,{channel:n})),!E||l.delete_at||l.is_bot||(S=h.a.createElement(Fg.a,{status:n.status}),T=h.a.createElement("span",{className:"header-status__text"},h.a.createElement(q.a,{id:"status_dropdown.set_".concat(n.status),defaultMessage:z.Ab(n.status)})));const P=E&&l.is_bot?l.bot_description:n.header;if(P){const e=h.a.createElement(Pc.a,{id:"header-popover",popoverStyle:"info",popoverSize:"lg",style:{maxWidth:"".concat(this.state.popoverOverlayWidth,"px"),transform:"translate(".concat(this.state.leftOffset,"px, ").concat(this.state.topOffset,"px)")},placement:"bottom",className:la()(["channel-header__popover",{"chanel-header__popover--lhs_offset":this.props.hasMoreThanOneTeam,"chanel-header__popover--new_sidebar":u}])},h.a.createElement("span",{onClick:this.handleFormattedTextClick},h.a.createElement(V.a,{message:P,options:this.getPopoverMarkdownOptions(_)})));M=h.a.createElement("div",{id:"channelHeaderDescription",className:"channel-header__description"},S,T,b,h.a.createElement("div",{className:"header-popover-text-measurer",ref:this.headerPopoverTextMeasurerRef},h.a.createElement(V.a,{message:P.replace(/\n+/g," "),options:this.getHeaderMarkdownOptions(_)})),h.a.createElement("span",{className:"header-description__text",onClick:this.handleFormattedTextClick,onMouseOver:()=>this.showChannelHeaderPopover(P),onMouseOut:()=>this.setState({showChannelHeaderPopover:!1}),ref:this.headerDescriptionRef},h.a.createElement(_a.a,{show:this.state.showChannelHeaderPopover,placement:"bottom",rootClose:!0,target:this.headerDescriptionRef.current,ref:this.headerOverlayRef,onEnter:this.setPopoverOverlayWidth,onHide:()=>this.setState({showChannelHeaderPopover:!1})},e),h.a.createElement(V.a,{message:P,options:this.getHeaderMarkdownOptions(_)})))}else{let t;r||f||(E||v?E&&l.is_bot||(t=h.a.createElement("button",{className:"header-placeholder style--none",onClick:this.showEditChannelHeaderModal},h.a.createElement(q.a,{id:"channel_header.addChannelHeader",defaultMessage:"Add a channel description"}),h.a.createElement(q.a,{id:"channel_header.editLink",defaultMessage:"(Edit)"},e=>h.a.createElement("span",{className:"button__edit ml-1"},e)))):t=h.a.createElement(Jr,{channelId:n.id,teamId:e,permissions:[w?W.Permissions.MANAGE_PRIVATE_CHANNEL_PROPERTIES:W.Permissions.MANAGE_PUBLIC_CHANNEL_PROPERTIES]},h.a.createElement("button",{className:"header-placeholder style--none",onClick:this.showEditChannelHeaderModal},h.a.createElement(q.a,{id:"channel_header.addChannelHeader",defaultMessage:"Add a channel description"}),h.a.createElement(q.a,{id:"channel_header.editLink",defaultMessage:"(Edit)"},e=>h.a.createElement("span",{className:"button__edit ml-1"},e))))),M=h.a.createElement("div",{id:"channelHeaderDescription",className:"channel-header__description light"},S,T,b,t)}let N,I=null,R="";if(!f){const e=o?{id:"channelHeader.removeFromFavorites",defaultMessage:"Remove from Favorites"}:{id:"channelHeader.addToFavorites",defaultMessage:"Add to Favorites"};R=p(e).toLowerCase(),N=h.a.createElement(Vi.a,{id:"favoriteTooltip"},h.a.createElement(q.a,e)),I=h.a.createElement(Wi.a,{key:"isFavorite-".concat(o),delayShow:fe.l.OVERLAY_TIME_DELAY,placement:"bottom",overlay:N,onEntering:this.removeTooltipLink},h.a.createElement("button",{id:"toggleFavorite",ref:this.toggleFavoriteRef,onClick:this.toggleFavorite,className:"style--none color--link channel-header__favorites "+(this.props.isFavorite?"active":"inactive"),"aria-label":R},h.a.createElement("i",{className:"icon fa "+(this.props.isFavorite?"fa-star":"fa-star-o")})))}const A=h.a.createElement(Vi.a,{id:"channelMutedTooltip"},h.a.createElement(q.a,{id:"channelHeader.unmute",defaultMessage:"Unmute"}));let j;i&&(j=h.a.createElement(Wi.a,{delayShow:fe.l.OVERLAY_TIME_DELAY,placement:"bottom",overlay:A},h.a.createElement("button",{id:"toggleMute",onClick:this.unmute,className:"style--none color--link channel-header__mute inactive","aria-label":p({id:"generic_icons.muted",defaultMessage:"Muted Icon"})},h.a.createElement("i",{className:"icon fa fa-bell-slash-o"}))));let x="channel-header__icon channel-header__icon--wide";c===fe.G.PIN&&(x+=" channel-header__icon--active");let L="channel-header__icon";c===fe.G.MENTION&&(L+=" channel-header__icon--active");let k="channel-header__icon";c===fe.G.FLAG&&(k+=" channel-header__icon--active");const D=this.props.pinnedPostsCount?h.a.createElement(h.a.Fragment,null,h.a.createElement(Fn,{className:"icon icon--standard","aria-hidden":"true"}),h.a.createElement("span",{id:"channelPinnedPostCountText",className:"icon__text"},this.props.pinnedPostsCount)):h.a.createElement(Fn,{className:"icon icon--standard","aria-hidden":"true"});let U=h.a.createElement(h.a.Fragment,null,I,h.a.createElement(ur.a,null,h.a.createElement("div",{id:"channelHeaderDropdownButton",className:"channel-header__top"},h.a.createElement("button",{className:"channel-header__trigger style--none","aria-label":p({id:"channel_header.menuAriaLabel",defaultMessage:"Channel Menu"}).toLowerCase()},h.a.createElement("strong",{role:"heading","aria-level":"2",id:"channelHeaderTitle",className:"heading"},h.a.createElement("span",null,y,C)),h.a.createElement("span",{id:"channelHeaderDropdownIcon",className:"fa fa-angle-down header-dropdown__icon","aria-label":p({id:"generic_icons.dropdown",defaultMessage:"Dropdown Icon"}).toLowerCase()}))),h.a.createElement(Py,null)));return E&&l.is_bot&&(U=h.a.createElement("div",{id:"channelHeaderDropdownButton",className:"channel-header__top"},I,h.a.createElement("strong",{role:"heading","aria-level":"2",id:"channelHeaderTitle",className:"heading"},h.a.createElement("span",null,y,C)),h.a.createElement(Le.a,{className:"badge-popoverlist"}))),h.a.createElement("div",{id:"channel-header","aria-label":g,role:"banner",tabIndex:"-1","data-channelid":"".concat(n.id),className:"channel-header alt a11y__region","data-a11y-sort-order":"8"},h.a.createElement("div",{className:"flex-parent"},h.a.createElement("div",{className:"flex-child"},h.a.createElement("div",{id:"channelHeaderInfo",className:"channel-header__info"},h.a.createElement("div",{className:"channel-header__title dropdown"},h.a.createElement("div",null,U),j),M)),h.a.createElement("div",{className:"flex-child"},O),h.a.createElement(TE,{channel:n,channelMember:s}),h.a.createElement(Gc,{iconComponent:D,ariaLabel:!0,buttonClass:x,buttonId:"channelHeaderPinButton",onClick:this.showPinnedPosts,tooltipKey:"pinnedPosts"}),this.state.showSearchBar?h.a.createElement("div",{id:"searchbarContainer",className:"flex-child search-bar__container"},h.a.createElement(ad,{showMentionFlagBtns:!1,isFocus:z.fb()||this.props.rhsOpen&&Boolean(this.props.rhsState)})):h.a.createElement(Gc,{iconComponent:h.a.createElement(Bn.a,{className:"icon icon--standard","aria-hidden":"true"}),ariaLabel:!0,buttonId:"channelHeaderSearchButton",onClick:this.searchButtonClick,tooltipKey:"search"}),h.a.createElement(Gc,{iconComponent:h.a.createElement(Hn.a,{className:"icon icon--standard","aria-hidden":"true"}),ariaLabel:!0,buttonClass:L,buttonId:"channelHeaderMentionButton",onClick:this.searchMentions,tooltipKey:"recentMentions"}),h.a.createElement(Gc,{iconComponent:h.a.createElement(qn,{className:"icon icon__flag"}),ariaLabel:!0,buttonClass:k,buttonId:"channelHeaderFlagButton",onClick:this.getFlagged,tooltipKey:"flaggedPosts"}),h.a.createElement(Xc,null)))}}NE(AE,"propTypes",{teamId:u.a.string.isRequired,currentUser:u.a.object.isRequired,channel:u.a.object,channelMember:u.a.object,dmUser:u.a.object,gmMembers:u.a.array,isFavorite:u.a.bool,isReadOnly:u.a.bool,isMuted:u.a.bool,hasGuests:u.a.bool,rhsState:u.a.oneOf(Object.values(fe.G)),rhsOpen:u.a.bool,isQuickSwitcherOpen:u.a.bool,intl:X.a.isRequired,pinnedPostsCount:u.a.number,hasMoreThanOneTeam:u.a.bool,actions:u.a.shape({favoriteChannel:u.a.func.isRequired,unfavoriteChannel:u.a.func.isRequired,showFlaggedPosts:u.a.func.isRequired,showPinnedPosts:u.a.func.isRequired,showMentions:u.a.func.isRequired,openRHSSearch:u.a.func.isRequired,closeRightHandSide:u.a.func.isRequired,getCustomEmojisInText:u.a.func.isRequired,updateChannelNotifyProps:u.a.func.isRequired,goToLastViewedChannel:u.a.func.isRequired,openModal:u.a.func.isRequired,closeModal:u.a.func.isRequired}).isRequired,teammateNameDisplaySetting:u.a.string.isRequired,currentRelativeTeamUrl:u.a.string.isRequired,newSideBarPreference:u.a.bool,announcementBarCount:u.a.number});var jE=Object(Z.c)(AE);var xE=Object(f.o)(Object(s.connect)((function(){const e=Object(r.makeGetProfilesInChannel)();return function(t){const a=Object(B.getCurrentChannel)(t)||{},n=Object(r.getCurrentUser)(t),s=Object(o.getMyTeams)(t).length>1;let i,l;if(a&&a.type===W.General.DM_CHANNEL){const e=Object(We.getUserIdFromChannelName)(n.id,a.name);i=Object(r.getUser)(t,e)}else a&&a.type===W.General.GM_CHANNEL&&(l=e(t,a.id,!1));const c=Object(B.getCurrentChannelStats)(t)||{member_count:0,guest_count:0,pinnedpost_count:0};return{teamId:Object(o.getCurrentTeamId)(t),channel:a,channelMember:Object(B.getMyCurrentChannelMembership)(t),currentUser:n,dmUser:i,gmMembers:l,rhsState:Object(ui.k)(t),rhsOpen:Object(ui.c)(t),isFavorite:Object(B.isCurrentChannelFavorite)(t),isReadOnly:Object(B.isCurrentChannelReadOnly)(t),isMuted:Object(B.isCurrentChannelMuted)(t),isQuickSwitcherOpen:Object(Rm.a)(t,fe.y.QUICK_SWITCH),hasGuests:c.guest_count>0,pinnedPostsCount:c.pinnedpost_count,hasMoreThanOneTeam:s,teammateNameDisplaySetting:Object(K.getTeammateNameDisplaySetting)(t),currentRelativeTeamUrl:Object(o.getCurrentRelativeTeamUrl)(t),newSideBarPreference:Object(K.getNewSidebarPreference)(t),announcementBarCount:Object(dE.a)(t)}}}),e=>({actions:Object(n.bindActionCreators)({favoriteChannel:ge.favoriteChannel,unfavoriteChannel:ge.unfavoriteChannel,showFlaggedPosts:mi.m,showPinnedPosts:mi.o,showMentions:mi.n,openRHSSearch:mi.f,closeRightHandSide:mi.b,getCustomEmojisInText:C.getCustomEmojisInText,updateChannelNotifyProps:ge.updateChannelNotifyProps,goToLastViewedChannel:k.c,openModal:_t.b,closeModal:_t.a},e)}))(jE));a(2206);function LE(e){const t=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{width:"14px",height:"10px",viewBox:"0 0 16 12",role:"img","aria-label":t.formatMessage({id:"generic_icons.camera",defaultMessage:"Camera Icon"})},h.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},h.a.createElement("g",{transform:"translate(-696.000000, -34.000000)",fillRule:"nonzero",fill:"inherit"},h.a.createElement("g",{transform:"translate(-1.000000, 0.000000)"},h.a.createElement("g",{transform:"translate(687.000000, 22.000000)"},h.a.createElement("g",{transform:"translate(10.000000, 12.000000)"},h.a.createElement("path",{d:"M15.105,1.447 L12,3 L12,1 C12,0.447 11.553,0 11,0 L1,0 C0.447,0 0,0.447 0,1 L0,11 C0,11.553 0.447,12 1,12 L11,12 C11.553,12 12,11.553 12,11 L12,9 L15.105,10.553 C15.6,10.8 16,10.553 16,10 L16,2 C16,1.447 15.6,1.2 15.105,1.447 Z M12.895,7.211 C12.612,7.07 12.306,7 12,7 L10.5,7 C10.224,7 10,7.224 10,7.5 L10,10 L2,10 L2,2 L10,2 L10,4.5 C10,4.776 10.224,5 10.5,5 L12,5 C12.306,5 12.612,4.93 12.895,4.789 L14,4.236 L14,7.763 L12.895,7.211 Z"}))))))))}const kE={left:"inherit",right:0,bottom:"100%",top:"auto"};function DE(e){const{formatMessage:t}=e.intl;let a;if(0===e.pluginCallMethods.length)a=null;else if(1===e.pluginCallMethods.length){const t=e.pluginCallMethods[0];a=h.a.createElement("button",{type:"button",className:"style--none post-action icon icon--attachment",onClick:()=>{t.action&&t.action(e.currentChannel,e.channelMember)},onTouchEnd:()=>{t.action&&t.action(e.currentChannel,e.channelMember)}},t.icon)}else{const n=e.pluginCallMethods.map(t=>h.a.createElement("li",{key:t.id,onClick:a=>{a.preventDefault(),t.action&&t.action(e.currentChannel,e.channelMember)}},h.a.createElement("a",{href:"#"},h.a.createElement("span",{className:"call-plugin-icon"},t.icon),t.dropdownText)));a=h.a.createElement(ur.a,null,h.a.createElement("button",{type:"button",className:"style--none post-action"},h.a.createElement("div",{className:"icon icon--attachment"},h.a.createElement(LE,{className:"d-flex"}))),h.a.createElement(pr.a,{id:"callOptions",openLeft:!0,openUp:!0,ariaLabel:t({id:"call_button.menuAriaLabel",defaultMessage:"Call type selector"}),customStyles:kE},n))}return a}DE.propTypes={currentChannel:u.a.object.isRequired,channelMember:u.a.object,intl:X.a.isRequired,locale:u.a.string.isRequired,pluginCallMethods:u.a.arrayOf(u.a.object)},DE.defaultProps={pluginCallMethods:[]};const UE=Object(Z.c)(DE);UE.displayName="injectIntl(CallButton)";var qE=UE;var HE=Object(s.connect)((function(e){return{currentChannel:Object(B.getCurrentChannel)(e),locale:Object(Mt.a)(e),pluginCallMethods:e.plugins.components.CallButton,channelMember:Object(B.getMyCurrentChannelMembership)(e)}}))(qE),FE=a(1308);function BE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function GE(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?BE(Object(a),!0).forEach((function(t){VE(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):BE(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function VE(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const WE=fe.Z.KeyCodes;function zE(e){return String.prototype.trimRight?e.trimRight():e.replace(/\s*$/,"")}class YE extends h.a.PureComponent{static getDerivedStateFromProps(e,t){let a={currentChannel:e.currentChannel};return e.currentChannel.id!==t.currentChannel.id&&(a=GE(GE({},a),{},{message:e.draft.message,submitting:!1,serverError:null})),a}constructor(e){super(e),VE(this,"setShowPreview",e=>{this.props.actions.setShowPreview(e)}),VE(this,"setOrientationListeners",()=>{window.screen.orientation&&"onchange"in window.screen.orientation?window.screen.orientation.addEventListener("change",this.onOrientationChange):"onorientationchange"in window&&window.addEventListener("orientationchange",this.onOrientationChange)}),VE(this,"removeOrientationListeners",()=>{window.screen.orientation&&"onchange"in window.screen.orientation?window.screen.orientation.removeEventListener("change",this.onOrientationChange):"onorientationchange"in window&&window.removeEventListener("orientationchange",this.onOrientationChange)}),VE(this,"onOrientationChange",()=>{if(!y.m())return;let e="portrait";window.orientation&&(e=90===Math.abs(window.orientation)?"landscape":"portrait"),window.screen.orientation&&(e=window.screen.orientation.type.split("-")[0]),this.lastOrientation&&e!==this.lastOrientation&&"post_textbox"===(document.activeElement||{}).id&&this.textboxRef.current.blur(),this.lastOrientation=e}),VE(this,"handlePostError",e=>{this.setState({postError:e})}),VE(this,"toggleEmojiPicker",()=>{this.setState({showEmojiPicker:!this.state.showEmojiPicker})}),VE(this,"hideEmojiPicker",()=>{this.handleEmojiClose()}),VE(this,"doSubmit",async e=>{const t=this.props.currentChannel.id;if(e&&e.preventDefault(),this.props.draft.uploadsInProgress.length>0||this.state.submitting)return;let a=this.state.message,n=!1;const s=this.state.serverError;s&&Object(ca.m)(s)&&s.submittedMessage===a&&(a=s.submittedMessage,n=!0);const i={file_ids:[]};if(i.message=a,0===i.message.trim().length&&0===this.props.draft.fileInfos.length)return;if(this.state.postError)return this.setState({errorClass:"animation--highlight"}),void setTimeout(()=>{this.setState({errorClass:null})},fe.Z.ANIMATION_TIMEOUT);this.props.actions.addMessageIntoHistory(this.state.message),this.setState({submitting:!0,serverError:null});const r=z.a.exec(i.message);if(0!==i.message.indexOf("/")||n)if(r&&this.props.emojiMap.has(r[2]))this.sendReaction(r),this.setState({message:""});else{const{error:e}=await this.sendMessage(i);e||this.setState({message:""})}else{this.setState({message:"",postError:null});let e={};e.channel_id=t,e.team_id=this.props.currentTeamId;const a=await this.props.actions.runSlashCommandWillBePostedHooks(i.message,e);if(a.error)this.setState({serverError:GE(GE({},a.error),{},{submittedMessage:i.message}),message:i.message});else if(a.data.message||a.data.args){i.message=a.data.message,e=a.data.args;const{error:t}=await this.props.actions.executeCommand(i.message,e);t&&(t.sendMessage?await this.sendMessage(i):this.setState({serverError:GE(GE({},t),{},{submittedMessage:i.message}),message:i.message}))}else;}this.setState({submitting:!1,postError:null}),cancelAnimationFrame(this.saveDraftFrame),this.props.actions.setDraft(fe.N.DRAFT+t,null),this.draftsForChannel[t]=null;const o=Date.now()-this.lastBlurAt<150;this.focusTextbox(o)}),VE(this,"handleNotifyAllConfirmation",e=>{this.hideNotifyAllModal(),this.doSubmit(e)}),VE(this,"hideNotifyAllModal",()=>{this.setState({showConfirmModal:!1})}),VE(this,"showNotifyAllModal",()=>{this.setState({showConfirmModal:!0})}),VE(this,"getStatusFromSlashCommand",()=>{const{message:e}=this.state,t=e.split(" ");return t.length>0?t[0].substring(1):""}),VE(this,"isStatusSlashCommand",e=>"online"===e||"away"===e||"dnd"===e||"offline"===e),VE(this,"handleSubmit",async e=>{const{currentChannel:t,userIsOutOfOffice:a,groupsWithAllowReference:n,channelMemberCountsByGroup:s,currentChannelMembersCount:i,useGroupMentions:r}=this.props,o=this.props.enableConfirmNotificationsToChannel&&this.props.useChannelMentions;let l=0,c=0,d=[];const m=!Object(ca.c)(this.state.message);if(this.props.enableConfirmNotificationsToChannel&&m&&r&&(d=Object(ca.k)(this.state.message,n),d.length>0&&(d=d.map(e=>{const t=s[e.id];return t&&t.channel_member_count>fe.Z.NOTIFY_ALL_MEMBERS&&t.channel_member_count>l&&(l=t.channel_member_count,c=t.channel_member_timezones_count),"@".concat(e.name)}),d=[...new Set(d)])),o&&i>fe.Z.NOTIFY_ALL_MEMBERS&&!m&&(l=i-1,d=["@all","@channel"],this.props.isTimezoneEnabled)){const{data:e}=await this.props.actions.getChannelTimezones(this.props.currentChannel.id);c=e?e.length:0}if(l>0)return this.setState({channelTimezoneCount:c,memberNotifyCount:l,mentions:d}),void this.showNotifyAllModal();const u=this.getStatusFromSlashCommand();if(a&&this.isStatusSlashCommand(u)){const e={ModalId:fe.y.RESET_STATUS,dialogType:si,dialogProps:{newStatus:u}};return this.props.actions.openModal(e),void this.setState({message:""})}if("/header"===zE(this.state.message)){const e={modalId:fe.y.EDIT_CHANNEL_HEADER,dialogType:MC,dialogProps:{channel:t}};return this.props.actions.openModal(e),void this.setState({message:""})}const p=t.type===fe.Z.DM_CHANNEL||t.type===fe.Z.GM_CHANNEL;if(!p&&"/purpose"===zE(this.state.message)){const e={modalId:fe.y.EDIT_CHANNEL_PURPOSE,dialogType:RC,dialogProps:{channel:t}};return this.props.actions.openModal(e),void this.setState({message:""})}if(!p&&"/rename"===zE(this.state.message))return w.i(t),void this.setState({message:""});await this.doSubmit(e)}),VE(this,"sendMessage",async e=>{const{actions:t,currentChannel:a,currentUserId:n,draft:s,useGroupMentions:i,useChannelMentions:r,groupsWithAllowReference:o}=this.props;let l=e;l.channel_id=a.id;const c=z.L(),d=n;l.pending_post_id="".concat(d,":").concat(c),l.user_id=d,l.create_at=c,l.parent_id=this.state.parentId,l.metadata={},l.props={},!r&&Object(ca.c)(l.message,{checkAllMentions:!0})&&(l.props.mentionHighlightDisabled=!0),!i&&Object(ca.k)(l.message,o)&&(l.props.disable_group_highlight=!0);const m=await t.runMessageWillBePostedHooks(l);return m.error?(this.setState({serverError:m.error,submitting:!1}),m):(l=m.data,t.onSubmitPost(l,s.fileInfos),t.scrollPostListToBottom(),this.setState({submitting:!1}),{data:!0})}),VE(this,"focusTextbox",(e=!1)=>{const t=this.props.readOnlyChannel||!this.props.canPost;this.textboxRef.current&&t?this.textboxRef.current.blur():!this.textboxRef.current||!e&&y.p()||this.textboxRef.current.focus()}),VE(this,"postMsgKeyPress",e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:a}=this.props,{allowSending:n,withClosedCodeBlock:s,ignoreKeyPress:i,message:r}=Object(ca.s)(e,this.state.message,t,a,Date.now(),this.lastChannelSwitchAt,this.state.caretPosition);if(i)return e.preventDefault(),void e.stopPropagation();n&&(e.persist&&e.persist(),this.textboxRef.current&&this.textboxRef.current.blur(),s&&r?this.setState({message:r},()=>this.handleSubmit(e)):this.handleSubmit(e),this.setShowPreview(!1)),this.emitTypingEvent()}),VE(this,"emitTypingEvent",()=>{const e=this.props.currentChannel.id;w.d(e,"")}),VE(this,"handleChange",e=>{const t=e.target.value,a=this.props.currentChannel.id;let n=this.state.serverError;Object(ca.m)(n)&&(n=null),this.setState({message:t,serverError:n});const s=GE(GE({},this.props.draft),{},{message:t});cancelAnimationFrame(this.saveDraftFrame),this.saveDraftFrame=requestAnimationFrame(()=>{this.props.actions.setDraft(fe.N.DRAFT+a,s)}),this.draftsForChannel[a]=s}),VE(this,"pasteHandler",e=>{if(!e.clipboardData||!e.clipboardData.items||"post_textbox"!==e.target.id)return;const{clipboardData:t}=e,a=da(t);if(!a)return;e.preventDefault();let n=this.state.message;if(ma(a.className)){const{formattedMessage:e,formattedCodeBlock:a}=ha(this.state.caretPosition,n,t),s=this.state.caretPosition+a.length;return void this.setMessageAndCaretPostion(e,s)}const s=n.length;n=pa(a,n.trim(),this.state.caretPosition);const i=n.length-(s-this.state.caretPosition);this.setMessageAndCaretPostion(n,i)}),VE(this,"handleFileUploadChange",()=>{this.focusTextbox()}),VE(this,"handleUploadStart",(e,t)=>{const a=[...this.props.draft.uploadsInProgress,...e],n=GE(GE({},this.props.draft),{},{uploadsInProgress:a});this.props.actions.setDraft(fe.N.DRAFT+t,n),this.draftsForChannel[t]=n,this.focusTextbox()}),VE(this,"handleUploadProgress",({clientId:e,name:t,percent:a,type:n})=>{const s=GE(GE({},this.state.uploadsProgressPercent),{},{[e]:{percent:a,name:t,type:n}});this.setState({uploadsProgressPercent:s})}),VE(this,"handleFileUploadComplete",(e,t,a)=>{const n=GE({},this.draftsForChannel[a]);for(let e=0;e<t.length;e++)if(n.uploadsInProgress){const a=n.uploadsInProgress.indexOf(t[e]);-1!==a&&(n.uploadsInProgress=n.uploadsInProgress.filter((e,t)=>a!==t))}n.fileInfos&&(n.fileInfos=Object(Gi.sortFileInfos)(n.fileInfos.concat(e),this.props.locale)),this.draftsForChannel[a]=n,this.props.actions.setDraft(fe.N.DRAFT+a,n)}),VE(this,"handleUploadError",(e,t,a)=>{const n=GE({},this.draftsForChannel[a]);let s=e;if("string"==typeof e&&(s=new Error(e)),-1!==t&&n.uploadsInProgress){const e=n.uploadsInProgress.indexOf(t);if(-1!==e){const t=n.uploadsInProgress.filter((t,a)=>e!==a),s=GE(GE({},n),{},{uploadsInProgress:t});this.props.actions.setDraft(fe.N.DRAFT+a,s),this.draftsForChannel[a]=s}}this.setState({serverError:s})}),VE(this,"removePreview",e=>{let t={};const a=GE({},this.props.draft),n=this.props.currentChannel.id;this.setState({serverError:null});let s=a.fileInfos.findIndex(t=>t.id===e);if(-1===s){if(s=a.uploadsInProgress.indexOf(e),-1!==s){const n=a.uploadsInProgress.filter((e,t)=>s!==t);t=GE(GE({},a),{},{uploadsInProgress:n}),this.fileUploadRef.current&&this.fileUploadRef.current&&this.fileUploadRef.current.cancelUpload(e)}}else{const e=a.fileInfos.filter((e,t)=>s!==t);t=GE(GE({},a),{},{fileInfos:e})}this.props.actions.setDraft(fe.N.DRAFT+n,t),this.draftsForChannel[n]=t,this.handleFileUploadChange()}),VE(this,"focusTextboxIfNecessary",e=>{this.props.rhsExpanded||document.getElementsByClassName("channel-switch-modal").length||Object(ca.t)(e,document.activeElement)&&this.focusTextbox()}),VE(this,"documentKeyHandler",e=>{const t=e.ctrlKey||e.metaKey,a=t&&z.cb(e,WE.FORWARD_SLASH),n=t&&e.shiftKey&&z.cb(e,WE.BACK_SLASH);if(a)return e.preventDefault(),void w.m();n?this.reactToLastMessage(e):this.focusTextboxIfNecessary(e)}),VE(this,"getFileCount",()=>{const e=this.props.draft;return e.fileInfos.length+e.uploadsInProgress.length}),VE(this,"getFileUploadTarget",()=>this.textboxRef.current?this.textboxRef.current:null),VE(this,"getCreatePostControls",()=>this.createPostControlsRef.current),VE(this,"handleMouseUpKeyUp",e=>{const t=z.s(e.target);this.setState({caretPosition:t})}),VE(this,"handleSelect",e=>{z.b(this.textboxRef.current.getInputBox(),e)}),VE(this,"handleKeyDown",e=>{const t=e.ctrlKey||e.metaKey,a=0===this.state.message.length,n=0===this.props.draft.message.length,s=(this.props.ctrlSend||this.props.codeBlockOnCtrlEnter)&&z.cb(e,WE.ENTER)&&t,i=!t&&!e.altKey&&!e.shiftKey&&z.cb(e,WE.UP),r=!t&&!e.altKey&&e.shiftKey&&z.cb(e,WE.UP),o=t&&!e.altKey&&!e.shiftKey,l=z.cb(e,WE.B)||z.cb(e,WE.I);z.ib(e)?this.setState({message:z.T(e)}):s?this.postMsgKeyPress(e):i&&a?this.editLastPost(e):r&&a?this.replyToLastPost(e):o&&n&&z.cb(e,WE.UP)?this.loadPrevMessage(e):o&&n&&z.cb(e,WE.DOWN)?this.loadNextMessage(e):o&&l&&this.applyHotkeyMarkdown(e)}),VE(this,"editLastPost",e=>{e.preventDefault();const t=this.props.currentUsersLatestPost;if(!t)return;let a;a=t.root_id&&t.root_id.length>0?z.ob("create_post.comment",W.Posts.MESSAGE_TYPES.COMMENT):z.ob("create_post.post",W.Posts.MESSAGE_TYPES.POST),this.textboxRef.current&&this.textboxRef.current.blur(),this.props.actions.setEditingPost(t.id,this.props.commentCountForPost,"post_textbox",a)}),VE(this,"replyToLastPost",e=>{e.preventDefault();const t=this.props.latestReplyablePostId,a=document.getElementById("reply_textbox");a&&a.focus(),t&&this.props.actions.selectPostFromRightHandSideSearchByPostId(t)}),VE(this,"loadPrevMessage",e=>{e.preventDefault(),this.props.actions.moveHistoryIndexBack(W.Posts.MESSAGE_TYPES.POST).then(()=>this.fillMessageFromHistory())}),VE(this,"loadNextMessage",e=>{e.preventDefault(),this.props.actions.moveHistoryIndexForward(W.Posts.MESSAGE_TYPES.POST).then(()=>this.fillMessageFromHistory())}),VE(this,"applyHotkeyMarkdown",e=>{const t=z.c(e);this.setState({message:t.message},()=>{const e=this.textboxRef.current.getInputBox();z.yb(e,t.selectionStart,t.selectionEnd)})}),VE(this,"reactToLastMessage",e=>{e.preventDefault();const{rhsExpanded:t,actions:{emitShortcutReactToLastPostFrom:a}}=this.props,n=0===document.getElementsByClassName(fe.b.MODAL).length,s=0===document.getElementsByClassName(fe.b.POPUP).length;!t&&n&&s&&a(fe.x.CENTER)}),VE(this,"handleBlur",()=>{this.lastBlurAt=Date.now()}),VE(this,"showPostDeletedModal",()=>{this.setState({showPostDeletedModal:!0})}),VE(this,"hidePostDeletedModal",()=>{this.setState({showPostDeletedModal:!1})}),VE(this,"handleEmojiClose",()=>{this.setState({showEmojiPicker:!1})}),VE(this,"setMessageAndCaretPostion",(e,t)=>{const a=this.textboxRef.current.getInputBox();this.setState({message:e,caretPosition:t},()=>{z.xb(a,t)})}),VE(this,"handleEmojiClick",e=>{const t=e.name||e.aliases[0];if(t){if(""===this.state.message)this.setState({message:":"+t+": "});else{const{message:e}=this.state,{firstPiece:a,lastPiece:n}=Object(ca.v)(this.state.caretPosition,e),s=""===a?":".concat(t,": ").concat(n):"".concat(a," :").concat(t,": ").concat(n),i=""===a?":".concat(t,": ").length:"".concat(a," :").concat(t,": ").length;this.setMessageAndCaretPostion(s,i)}this.handleEmojiClose()}}),VE(this,"handleGifClick",e=>{if(""===this.state.message)this.setState({message:e});else{const t=/\s+$/.test(this.state.message)?this.state.message+e:this.state.message+" "+e;this.setState({message:t})}this.handleEmojiClose()}),VE(this,"handleHeightChange",(e,t)=>{this.setState({renderScrollbar:e>t}),window.requestAnimationFrame(()=>{this.textboxRef.current&&this.setState({scrollbarWidth:z.vb(this.textboxRef.current.getInputBox())})})}),this.state={message:this.props.draft.message,caretPosition:this.props.draft.message.length,submitting:!1,showPostDeletedModal:!1,showEmojiPicker:!1,showConfirmModal:!1,channelTimezoneCount:0,uploadsProgressPercent:{},renderScrollbar:!1,scrollbarWidth:0,currentChannel:e.currentChannel,mentions:[],memberNotifyCount:0},this.lastBlurAt=0,this.lastChannelSwitchAt=0,this.draftsForChannel={},this.lastOrientation=null,this.topDiv=h.a.createRef(),this.textboxRef=h.a.createRef(),this.fileUploadRef=h.a.createRef(),this.createPostControlsRef=h.a.createRef()}componentDidMount(){const{useGroupMentions:e,currentChannel:t,isTimezoneEnabled:a,actions:n}=this.props;this.onOrientationChange(),n.setShowPreview(!1),n.clearDraftUploads(fe.N.DRAFT,(e,t)=>t?GE(GE({},t),{},{uploadsInProgress:[]}):t),this.focusTextbox(),document.addEventListener("paste",this.pasteHandler),document.addEventListener("keydown",this.documentKeyHandler),this.setOrientationListeners(),e&&n.getChannelMemberCountsByGroup(t.id,a)}componentDidUpdate(e,t){const{useGroupMentions:a,currentChannel:n,isTimezoneEnabled:s,actions:i}=this.props;e.currentChannel.id!==n.id&&(this.lastChannelSwitchAt=Date.now(),this.focusTextbox(),a&&i.getChannelMemberCountsByGroup(n.id,s)),n.id!==e.currentChannel.id&&i.setShowPreview(!1),t.showEmojiPicker&&!this.state.showEmojiPicker&&this.focusTextbox()}componentWillUnmount(){if(document.removeEventListener("paste",this.pasteHandler),document.removeEventListener("keydown",this.documentKeyHandler),this.removeOrientationListeners(),this.saveDraftFrame){const e=this.props.currentChannel.id;this.props.actions.setDraft(fe.N.DRAFT+e,this.draftsForChannel[e]),cancelAnimationFrame(this.saveDraftFrame)}}sendReaction(e){const t=this.props.currentChannel.id,a=e[1],n=e[2],s=this.props.latestReplyablePostId;s&&"+"===a?this.props.actions.addReaction(s,n):s&&"-"===a&&this.props.actions.removeReaction(s,n),this.props.actions.setDraft(fe.N.DRAFT+t,null),this.draftsForChannel[t]=null}fillMessageFromHistory(){const e=this.props.messageInHistoryItem;e&&this.setState({message:e})}createTutorialTip(){const e=[];return e.push(h.a.createElement("div",null,h.a.createElement("h4",null,h.a.createElement(q.a,{id:"create_post.tutorialTip.title",defaultMessage:"Sending Messages"})),h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"create_post.tutorialTip1",defaultMessage:"Type here to write a message and press **Enter** to post it."})),h.a.createElement("p",null,h.a.createElement(Pr.b,{id:"create_post.tutorialTip2",defaultMessage:"Click the **Attachment** button to upload an image or a file."})))),h.a.createElement(Ld,{id:"postTextboxTipMessage",placement:"top",screens:e,overlayClass:"tip-overlay--chat",telemetryTag:"tutorial_tip_1_sending_messages"})}shouldEnableSendButton(){return 0!==this.state.message.trim().length||0!==this.props.draft.fileInfos.length}render(){const{currentChannel:e,draft:t,fullWidthTextBox:a,showTutorialTip:n,canPost:s}=this.props,i=this.props.readOnlyChannel||!s,{formatMessage:r}=this.props.intl,{renderScrollbar:o,channelTimezoneCount:l,mentions:c,memberNotifyCount:d}=this.state,m=z.ob("accessibility.sections.centerFooter","message input complimentary region");let u="",p="";c.includes("@all")||c.includes("@channel")?(p=h.a.createElement(q.a,{id:"notify_all.title.confirm",defaultMessage:"Confirm sending notifications to entire channel"}),u=l>0?h.a.createElement(Pr.b,{id:"notify_all.question_timezone",defaultMessage:"By using **@all** or **@channel** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{totalMembers:d,timezones:l}}):h.a.createElement(Pr.b,{id:"notify_all.question",defaultMessage:"By using **@all** or **@channel** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?",values:{totalMembers:d}})):c.length>0&&(p=h.a.createElement(q.a,{id:"notify_all.title.confirm_groups",defaultMessage:"Confirm sending notifications to groups"}),u=1===c.length?l>0?h.a.createElement(Pr.b,{id:"notify_all.question_timezone_one_group",defaultMessage:"By using **{mention}** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{mention:c[0],totalMembers:d,timezones:l}}):h.a.createElement(Pr.b,{id:"notify_all.question_one_group",defaultMessage:"By using **{mention}** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?",values:{mention:c[0],totalMembers:d}}):l>0?h.a.createElement(Pr.b,{id:"notify_all.question_timezone_groups",defaultMessage:"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{mentions:c.slice(0,-1).join(", "),finalMention:c[c.length-1],totalMembers:d,timezones:l}}):h.a.createElement(Pr.b,{id:"notify_all.question_groups",defaultMessage:"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people**. Are you sure you want to do this?",values:{mentions:c.slice(0,-1).join(", "),finalMention:c[c.length-1],totalMembers:d}}));const g=h.a.createElement(q.a,{id:"notify_all.confirm",defaultMessage:"Confirm"});let b=null;this.state.serverError&&(b=h.a.createElement(Rr,{id:"postServerError",error:this.state.serverError,submittedMessage:this.state.serverError.submittedMessage,handleSubmit:this.handleSubmit}));let f=null;if(this.state.postError){const e="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");f=h.a.createElement("label",{className:e},this.state.postError)}let _=null;!i&&(t.fileInfos.length>0||t.uploadsInProgress.length>0)&&(_=h.a.createElement(er,{fileInfos:t.fileInfos,onRemove:this.removePreview,uploadsInProgress:t.uploadsInProgress,uploadsProgressPercent:this.state.uploadsProgressPercent}));let C="post-create-footer";f&&(C+=" has-error");let y=null;n&&(y=this.createTutorialTip());let E="";a||(E="center");let v="send-button theme";this.shouldEnableSendButton()||(v+=" disabled");let w,O,S="";this.props.canUploadFiles||(S=" post-create--attachment-disabled"),i||this.props.shouldShowPreview||(w=h.a.createElement(HE,null)),i||this.props.shouldShowPreview||(O=h.a.createElement(vr,{ref:this.fileUploadRef,fileCount:this.getFileCount(),getTarget:this.getFileUploadTarget,onFileUploadChange:this.handleFileUploadChange,onUploadStart:this.handleUploadStart,onFileUpload:this.handleFileUploadComplete,onUploadError:this.handleUploadError,onUploadProgress:this.handleUploadProgress,postType:"post"}));let T=null;const M=r({id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}).toLowerCase();let P;!this.props.enableEmojiPicker||i||this.props.shouldShowPreview||(T=h.a.createElement("div",null,h.a.createElement(Es,{show:this.state.showEmojiPicker,target:this.getCreatePostControls,onHide:this.hideEmojiPicker,onEmojiClose:this.handleEmojiClose,onEmojiClick:this.handleEmojiClick,onGifClick:this.handleGifClick,enableGifPicker:this.props.enableGifPicker,topOffset:-7}),h.a.createElement("button",{type:"button","aria-label":M,onClick:this.toggleEmojiPicker,className:la()("emoji-picker__container","post-action",{"post-action--active":this.state.showEmojiPicker})},h.a.createElement(An,{id:"emojiPickerButton",className:"icon icon--emoji "})))),P=i?z.ob("create_post.read_only","This channel is read-only. Only members with permission can post here."):r({id:"create_post.write",defaultMessage:"Write to {channelDisplayName}"},{channelDisplayName:e.display_name});let N="";return o&&(N=" scroll"),h.a.createElement("form",{id:"create_post",ref:this.topDiv,className:E,onSubmit:this.handleSubmit},h.a.createElement("div",{className:"post-create"+S+N,style:this.state.renderScrollbar&&this.state.scrollbarWidth?{"--detected-scrollbar-width":"".concat(this.state.scrollbarWidth,"px")}:void 0},h.a.createElement("div",{className:"post-create-body"},h.a.createElement("div",{role:"application",id:"centerChannelFooter","aria-label":m,tabIndex:"-1",className:"post-body__cell a11y__region","data-a11y-sort-order":"2"},h.a.createElement(bt,{onChange:this.handleChange,onKeyPress:this.postMsgKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onComposition:this.emitTypingEvent,onHeightChange:this.handleHeightChange,handlePostError:this.handlePostError,value:i?"":this.state.message,onBlur:this.handleBlur,emojiEnabled:this.props.enableEmojiPicker,createMessage:P,channelId:e.id,id:"post_textbox",ref:this.textboxRef,disabled:i,characterLimit:this.props.maxPostSize,preview:this.props.shouldShowPreview,badConnection:this.props.badConnection,listenForMentionKeyClick:!0,useChannelMentions:this.props.useChannelMentions}),h.a.createElement("span",{ref:this.createPostControlsRef,className:"post-body__actions"},w,O,T,h.a.createElement("a",{role:"button",tabIndex:"0","aria-label":r({id:"create_post.send_message",defaultMessage:"Send a message"}),className:v,onClick:this.handleSubmit},h.a.createElement(FE.a,{className:"fa fa-paper-plane",title:{id:Object(J.b)("create_post.icon"),defaultMessage:"Create a post"}})))),y),h.a.createElement("div",{id:"postCreateFooter",role:"form",className:C},h.a.createElement("div",{className:"d-flex justify-content-between"},h.a.createElement(Tr,{channelId:e.id,postId:""}),h.a.createElement(Ts,{characterLimit:this.props.maxPostSize,showPreview:this.props.shouldShowPreview,updatePreview:this.setShowPreview,message:i?"":this.state.message})),h.a.createElement("div",null,f,_,b))),h.a.createElement(Mr,{show:this.state.showPostDeletedModal,onHide:this.hidePostDeletedModal}),h.a.createElement(Ks.a,{title:p,message:u,confirmButtonText:g,show:this.state.showConfirmModal,onConfirm:this.handleNotifyAllConfirmation,onCancel:this.hideNotifyAllModal}))}}VE(YE,"propTypes",{getChannelView:u.a.func,currentChannelMembersCount:u.a.number,currentChannel:u.a.object,currentTeamId:u.a.string,currentUserId:u.a.string,codeBlockOnCtrlEnter:u.a.bool,ctrlSend:u.a.bool,fullWidthTextBox:u.a.bool,showTutorialTip:u.a.bool.isRequired,messageInHistoryItem:u.a.string,draft:u.a.shape({message:u.a.string.isRequired,uploadsInProgress:u.a.array.isRequired,fileInfos:u.a.array.isRequired}).isRequired,commentCountForPost:u.a.number,latestReplyablePostId:u.a.string,locale:u.a.string.isRequired,currentUsersLatestPost:u.a.object,readOnlyChannel:u.a.bool,canUploadFiles:u.a.bool.isRequired,enableEmojiPicker:u.a.bool.isRequired,enableGifPicker:u.a.bool.isRequired,enableConfirmNotificationsToChannel:u.a.bool.isRequired,maxPostSize:u.a.number.isRequired,emojiMap:u.a.object.isRequired,badConnection:u.a.bool.isRequired,userIsOutOfOffice:u.a.bool.isRequired,rhsExpanded:u.a.bool.isRequired,isTimezoneEnabled:u.a.bool.isRequired,canPost:u.a.bool.isRequired,useChannelMentions:u.a.bool.isRequired,intl:X.a.isRequired,shouldShowPreview:u.a.bool.isRequired,actions:u.a.shape({setShowPreview:u.a.func.isRequired,addMessageIntoHistory:u.a.func.isRequired,moveHistoryIndexBack:u.a.func.isRequired,moveHistoryIndexForward:u.a.func.isRequired,addReaction:u.a.func.isRequired,onSubmitPost:u.a.func.isRequired,removeReaction:u.a.func.isRequired,clearDraftUploads:u.a.func.isRequired,runMessageWillBePostedHooks:u.a.func.isRequired,runSlashCommandWillBePostedHooks:u.a.func.isRequired,setDraft:u.a.func.isRequired,setEditingPost:u.a.func.isRequired,selectPostFromRightHandSideSearchByPostId:u.a.func.isRequired,openModal:u.a.func.isRequired,executeCommand:u.a.func.isRequired,getChannelTimezones:u.a.func.isRequired,scrollPostListToBottom:u.a.func.isRequired,emitShortcutReactToLastPostFrom:u.a.func,getChannelMemberCountsByGroup:u.a.func}).isRequired,groupsWithAllowReference:u.a.object,channelMemberCountsByGroup:u.a.object,useGroupMentions:u.a.bool.isRequired}),VE(YE,"defaultProps",{latestReplyablePostId:""});var KE=Object(Z.c)(YE);function ZE(e,t){return a=>{a(Object(ta.b)(e,t))}}var JE=Object(s.connect)((function(){const e=Object(R.makeGetCommentCountForPost)(),t=Object(R.makeGetMessageInHistoryItem)(W.Posts.MESSAGE_TYPES.POST);return(a,n)=>{const s=Object(i.getConfig)(a),l=Object(i.getLicense)(a),c=Object(B.getCurrentChannel)(a)||{},d=Object(ui.i)(a,fe.N.DRAFT,c.id),m=Object(R.getMostRecentPostIdInChannel)(a,c.id),u=Object(R.getPost)(a,m),p=Object(R.getLatestReplyablePostId)(a),h=Object(B.getCurrentChannelStats)(a)?Object(B.getCurrentChannelStats)(a).member_count:1,g="true"===s.EnableTutorial,b=Object(K.getInt)(a,fe.F.TUTORIAL_STEP,Object(r.getCurrentUserId)(a),fe.Q.FINISHED),f="true"===s.EnableEmojiPicker,_="true"===s.EnableGifPicker,C="true"===s.EnableConfirmNotificationsToChannel,y=Object(r.getCurrentUserId)(a),E=Object(r.getStatusForUserId)(a,y)===fe.U.OUT_OF_OFFICE,v=Oi(a)>1,w="true"===s.ExperimentalTimezone,O=Object(Xe.c)(a),S=Object(A.haveIChannelPermission)(a,{channel:c.id,team:c.team_id,permission:W.Permissions.CREATE_POST}),T=Object(A.haveIChannelPermission)(a,{channel:c.id,team:c.team_id,permission:W.Permissions.USE_CHANNEL_MENTIONS}),M="true"===(null==l?void 0:l.IsLicensed)&&"true"===(null==l?void 0:l.LDAPGroups),P=M&&Object(A.haveIChannelPermission)(a,{channel:c.id,team:c.team_id,permission:W.Permissions.USE_GROUP_MENTIONS}),N=Object(B.getChannelMemberCountsByGroup)(a,c.id),j=Object(o.getCurrentTeamId)(a),x=P?Object(I.getAssociatedGroupsForReferenceByMention)(a,j,c.id):null;return{currentTeamId:j,currentChannel:c,currentChannelMembersCount:h,currentUserId:y,codeBlockOnCtrlEnter:Object(K.getBool)(a,W.Preferences.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:Object(K.getBool)(a,fe.F.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),fullWidthTextBox:Object(K.get)(a,fe.F.CATEGORY_DISPLAY_SETTINGS,fe.F.CHANNEL_DISPLAY_MODE,fe.F.CHANNEL_DISPLAY_MODE_DEFAULT)===fe.F.CHANNEL_DISPLAY_MODE_FULL_SCREEN,showTutorialTip:g&&b===fe.Q.POST_POPOVER,messageInHistoryItem:t(a),draft:d,commentCountForPost:e(a,{post:u}),latestReplyablePostId:p,locale:Object(Mt.a)(a),currentUsersLatestPost:Object(R.getCurrentUsersLatestPost)(a),readOnlyChannel:n.readOnlyChannel||!Object(r.isCurrentUserSystemAdmin)(a)&&"true"===s.ExperimentalTownSquareIsReadOnly&&c.name===fe.l.DEFAULT_CHANNEL,canUploadFiles:Object(Yi.b)(s),enableEmojiPicker:f,enableGifPicker:_,enableConfirmNotificationsToChannel:C,maxPostSize:parseInt(s.MaxPostSize,10)||fe.l.DEFAULT_CHARACTER_LIMIT,userIsOutOfOffice:E,rhsExpanded:Object(ui.a)(a),emojiMap:Object(Xe.a)(a),badConnection:v,isTimezoneEnabled:w,shortcutReactToLastPostEmittedFrom:O,canPost:S,useChannelMentions:T,shouldShowPreview:Qt(a),groupsWithAllowReference:x,useGroupMentions:P,channelMemberCountsByGroup:N,isLDAPEnabled:M}}}),(function(e){return{actions:Object(n.bindActionCreators)({addMessageIntoHistory:be.addMessageIntoHistory,onSubmitPost:ZE,moveHistoryIndexBack:be.moveHistoryIndexBack,moveHistoryIndexForward:be.moveHistoryIndexForward,addReaction:ta.a,removeReaction:be.removeReaction,setDraft:Ai.e,clearDraftUploads:Ai.a,selectPostFromRightHandSideSearchByPostId:mi.k,setEditingPost:ta.l,emitShortcutReactToLastPostFrom:ta.d,openModal:_t.b,executeCommand:Ni,getChannelTimezones:ge.getChannelTimezones,runMessageWillBePostedHooks:Ii,runSlashCommandWillBePostedHooks:Ri,scrollPostListToBottom:k.m,setShowPreview:Kt,getChannelMemberCountsByGroup:ge.getChannelMemberCountsByGroup},e)}}))(KE);a(2207);function XE(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class QE extends h.a.PureComponent{constructor(e){super(e),XE(this,"setExpanded",e=>{this.setState({expandedKey:e})}),this.state={expandedKey:e.defaultExpandedKey}}render(){return h.a.createElement("div",{className:"Accordion"},this.props.children(this.setExpanded,this.state.expandedKey))}}XE(QE,"propTypes",{defaultExpandedKey:u.a.string.isRequired,children:u.a.func.isRequired});const $E=e=>h.a.createElement("div",{className:la()("Card__header",{expanded:e.expanded})},e.children,e.expanded&&h.a.createElement("hr",{className:"Card__hr"}));$E.propTypes={children:u.a.node.isRequired,expanded:u.a.bool};var ev=$E;a(1766);function tv(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class av extends h.a.PureComponent{render(){const{expanded:e,children:t}=this.props,a=p.Children.map(t,t=>Object(p.isValidElement)(t)?Object(p.cloneElement)(t,{expanded:e}):t);return h.a.createElement("div",{className:la()("Card",this.props.className,{expanded:e})},a)}}tv(av,"propTypes",{expanded:u.a.bool,className:u.a.string}),tv(av,"Header",ev),tv(av,"Body",(function(e){const[t,a]=Object(p.useState)(0),[n,s]=Object(p.useState)(!1),[i,r]=Object(p.useState)(!1);return Object(p.useEffect)(()=>{s(!0),e.expanded&&r(!0)},[e.expanded]),Object(p.useEffect)(()=>{e.expanded||r(!1)},[n]),h.a.createElement("div",{ref:e=>{e&&e.children&&a(Array.from(e.children).map(e=>e.scrollHeight).reduce((e,t)=>e+t,0))},style:{height:n&&i?t:""},className:la()("Card__body",{expanded:i,expanding:n}),onTransitionEnd:()=>s(!1)},e.children)}));var nv=a.p+"files/bc39a70bb1048e5a929335dd8e40d958.apng",sv=(a(2208),a.p+"files/1630337abde6ab07460ff18af142217a.svg"),iv=a(1564);const rv=e=>{Object(v.e)(Bd(e),"cloud_see_all_apps"),window.open("https://mattermost.com/download/#mattermostApps","_blank")},ov=(e,t)=>{Object(v.e)(Bd(t),"click_configure_login",{method:e}),N.a.push("/admin_console/authentication/".concat(e))};function lv(e){const t=Object(s.useDispatch)(),a=()=>{Object(v.e)(Bd(e.isFirstAdmin),"click_add_plugins"),Object(_t.b)({modalId:fe.y.PLUGIN_MARKETPLACE,dialogType:Zp})(t)},n=Object(_t.b)({modalId:fe.y.MORE_CHANNELS,dialogType:og}),i=Object(_t.b)({modalId:fe.y.NEW_CHANNEL_FLOW,dialogType:eg}),r=Object(_t.b)({modalId:fe.y.TEAM_MEMBERS,dialogType:Wu}),o=Object(_t.a)(fe.y.REMOVE_NEXT_STEPS_MODAL),l=()=>o(t),c=Object(_t.b)({modalId:fe.y.REMOVE_NEXT_STEPS_MODAL,dialogType:T_,dialogProps:{screenTitle:z.ob("sidebar_next_steps.tipsAndNextSteps","Tips & Next Steps"),onConfirm:()=>{e.savePreferences(e.currentUserId,[{user_id:e.currentUserId,category:fe.F.RECOMMENDED_NEXT_STEPS,name:fe.H.HIDE,value:"true"}]),e.setShowNextStepsView(!1),l()},onCancel:l}});let d,m;!z.fb()&&e.isFirstAdmin?d=h.a.createElement(h.a.Fragment,null,h.a.createElement(av,{expanded:!0},h.a.createElement("div",{className:"Card__body"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"next_steps_view.tips.configureLogin",defaultMessage:"Configure your login method"})),h.a.createElement(q.a,{id:"next_steps_view.tips.configureLogin.text",defaultMessage:"Set up OAuth, SAML or AD/LDAP authentication."}),h.a.createElement(ur.a,null,h.a.createElement("button",{className:"NextStepsView__button NextStepsView__finishButton primary"},h.a.createElement(q.a,{id:"next_steps_view.tips.configureLogin.button",defaultMessage:"Configure"}),h.a.createElement("i",{className:"icon icon-chevron-down"})),h.a.createElement(pr.a,{ariaLabel:z.ob("next_steps_view.tips.auth.menuAriaLabel","Configure Authentication Menu")},h.a.createElement(pr.a.ItemAction,{onClick:()=>ov("oauth",e.isFirstAdmin),text:z.ob("next_steps_view.tips.auth.oauth","OAuth")}),h.a.createElement(pr.a.ItemAction,{onClick:()=>ov("saml",e.isFirstAdmin),text:z.ob("next_steps_view.tips.auth.saml","SAML")}),h.a.createElement(pr.a.ItemAction,{onClick:()=>ov("ldap",e.isFirstAdmin),text:z.ob("next_steps_view.tips.auth.ldap","AD/LDAP")}))))),h.a.createElement(av,{expanded:!0},h.a.createElement("div",{className:"Card__body"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"next_steps_view.tips.addPlugins",defaultMessage:"Add plugins to Mattermost"})),h.a.createElement(q.a,{id:"next_steps_view.tips.addPlugins.text",defaultMessage:"Visit the Plugins Marketplace to install and configure plugins."}),h.a.createElement("button",{className:"NextStepsView__button NextStepsView__finishButton primary",onClick:a},h.a.createElement(q.a,{id:"next_steps_view.tips.addPlugins.button",defaultMessage:"Add plugins"}))))):z.fb()||e.isFirstAdmin||(d=h.a.createElement(h.a.Fragment,null,h.a.createElement(av,{expanded:!0},h.a.createElement("div",{className:"Card__body"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"next_steps_view.tips.configureLogins",defaultMessage:"See who else is here"})),h.a.createElement(q.a,{id:"next_steps_view.tips.configureLogin.texts",defaultMessage:"Browse or search through the team members directory"}),h.a.createElement("button",{className:"NextStepsView__button NextStepsView__finishButton primary",onClick:()=>r(t)},h.a.createElement(q.a,{id:"next_steps_view.tips.viewMembers",defaultMessage:"View team members"})))),h.a.createElement(av,{expanded:!0},h.a.createElement("div",{className:"Card__body"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"next_steps_view.tips.addPluginss",defaultMessage:"Learn Keyboard Shortcuts"})),h.a.createElement(q.a,{id:"next_steps_view.tips.addPlugins.texts",defaultMessage:"Work more efficiently with Keyboard Shortcuts in Mattermost."}),h.a.createElement("button",{className:"NextStepsView__button NextStepsView__finishButton primary",onClick:w.m},h.a.createElement(q.a,{id:"next_steps_view.tips.addPlugins.buttons",defaultMessage:"See shortcuts"})))))),z.fb()?m=h.a.createElement("div",{className:"NextStepsView__tipsMobileMessage"},h.a.createElement(av,{expanded:!0},h.a.createElement("div",{className:"Card__body"},h.a.createElement("i",{className:"icon icon-laptop"}),h.a.createElement(q.a,{id:"next_steps_view.mobile_tips_message",defaultMessage:"To configure your workspace, continue on a desktop computer."})))):y.e()||(m=h.a.createElement("div",{className:"NextStepsView__download"},h.a.createElement("img",{src:sv}),h.a.createElement("div",{className:"NextStepsView__downloadText"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"next_steps_view.downloadDesktopAndMobile",defaultMessage:"Download the Desktop and Mobile apps"})),h.a.createElement("div",{className:"NextStepsView__downloadButtons"},h.a.createElement("button",{className:"NextStepsView__button NextStepsView__downloadForPlatformButton secondary",onClick:()=>(e=>{const t="https://latest.mattermost.com/mattermost-desktop-";return y.s()?(Object(v.e)(Bd(e),"click_download_app",{app:"windows"}),void window.open("".concat(t,"exe"),"_blank")):y.n()?(Object(v.e)(Bd(e),"click_download_app",{app:"mac"}),void window.open("".concat(t,"dmg"),"_blank")):void rv(e)})(e.isFirstAdmin)},y.s()?h.a.createElement(q.a,{id:"next_steps_view.tips.downloadForWindows",defaultMessage:"Download Mattermost for Windows"}):y.n()?h.a.createElement(q.a,{id:"next_steps_view.tips.downloadForMac",defaultMessage:"Download Mattermost for Mac"}):h.a.createElement(q.a,{id:"next_steps_view.tips.downloadForDefault",defaultMessage:"Download Mattermost"})),h.a.createElement("button",{className:"NextStepsView__button NextStepsView__downloadAnyButton tertiary",onClick:()=>rv(e.isFirstAdmin)},h.a.createElement(q.a,{id:"next_steps_view.seeAllTheApps",defaultMessage:"See all the apps"}))))));let u={titleId:"next_steps_view.tips.exploreChannels",titleDefault:"Explore channels",bodyId:"next_steps_view.tips.exploreChannels.text",bodyDefault:"See the channels in your workspace or create a new channel.",buttonId:"next_steps_view.tips.exploreChannels.button",buttonDefault:"Browse channels",buttonAction:()=>n(t)};return e.isFirstAdmin&&(u={titleId:"next_steps_view.tips.createChannels",titleDefault:"Create a new channel",bodyId:"next_steps_view.tips.createChannels.text",bodyDefault:"Think of a topic you'd like to organize a conversation around.",buttonId:"next_steps_view.tips.createChannels.button",buttonDefault:"Create a channel",buttonAction:()=>i(t)}),h.a.createElement("div",{className:la()("NextStepsView__viewWrapper NextStepsView__completedView",{completed:e.showFinalScreen,animating:e.animating}),onTransitionEnd:e.stopAnimating},h.a.createElement("header",{className:"NextStepsView__header"},h.a.createElement("div",{className:"NextStepsView__header-headerText"},h.a.createElement("h1",{className:"NextStepsView__header-headerTopText"},h.a.createElement(q.a,{id:"next_steps_view.tipsAndNextSteps",defaultMessage:"Tips & Next Steps"})),h.a.createElement("h2",{className:"NextStepsView__header-headerBottomText"},h.a.createElement(q.a,{id:"next_steps_view.otherAreasToExplore",defaultMessage:"A few other areas to explore"}))),h.a.createElement(iv.a,{id:"closeIcon",className:"close-icon",onClick:()=>c(t)})),h.a.createElement("div",{className:"NextStepsView__body"},h.a.createElement("div",{className:"NextStepsView__nextStepsCards"},h.a.createElement(av,{expanded:!0},h.a.createElement("div",{className:"Card__body"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:u.titleId,defaultMessage:u.titleDefault})),h.a.createElement(q.a,{id:u.bodyId,defaultMessage:u.bodyDefault}),h.a.createElement("button",{className:"NextStepsView__button NextStepsView__finishButton primary",onClick:u.buttonAction},h.a.createElement(q.a,{id:u.buttonId,defaultMessage:u.buttonDefault})))),d),m))}lv.propTypes={showFinalScreen:u.a.bool.isRequired,animating:u.a.bool.isRequired,currentUserId:u.a.string.isRequired,isFirstAdmin:u.a.bool.isRequired,stopAnimating:u.a.func.isRequired,savePreferences:u.a.func.isRequired,setShowNextStepsView:u.a.func.isRequired};var cv=()=>h.a.createElement("svg",{viewBox:"0 0 1366 767",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.a.createElement("rect",{width:"1366",height:"767",fill:"var(--center-channel-bg)"}),h.a.createElement("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"1366",height:"767"},h.a.createElement("rect",{width:"1366",height:"767",fill:"var(--center-channel-bg)"})),h.a.createElement("g",{mask:"url(#mask0)"},h.a.createElement("g",{opacity:"0.5"},h.a.createElement("path",{opacity:"0.08",fillRule:"evenodd",clipRule:"evenodd",d:"M-676.894 2032L1652 1293.08L1424.96 647.622C1424.96 647.622 1380.64 695.825 1254.89 695.825C1151.41 695.825 992.815 663.207 758.34 544.248C680.414 504.713 608.621 487.89 542.133 487.89C165.438 487.89 -41.0984 1027.86 -229.486 1036.79C-451.126 1047.29 -746.809 1803.59 -746.809 1803.59L-676.894 2032Z",fill:"url(#paint0_linear)"}),h.a.createElement("path",{opacity:"0.08",fillRule:"evenodd",clipRule:"evenodd",d:"M-693.799 1938.98L1635.1 1202.49L1408.06 559.152C1408.06 559.152 1363.73 607.196 1237.98 607.196C1134.51 607.196 975.911 574.685 741.435 456.118C663.509 416.713 591.716 399.945 525.229 399.945C148.533 399.945 -58.0032 938.146 -246.391 947.039C-468.031 957.503 -763.714 1711.32 -763.714 1711.32L-693.799 1938.98Z",fill:"url(#paint1_linear)"}),h.a.createElement("path",{opacity:"0.08",fillRule:"evenodd",clipRule:"evenodd",d:"M-714.084 1856.11L1614.81 1117.19L1387.77 471.732C1387.77 471.732 1343.44 519.935 1217.7 519.935C1114.22 519.935 955.625 487.317 721.149 368.358C643.223 328.823 571.43 312 504.943 312C128.247 312 -78.2891 851.975 -266.677 860.898C-488.316 871.397 -784 1627.7 -784 1627.7L-714.084 1856.11Z",fill:"url(#paint2_linear)"})),h.a.createElement("g",{opacity:"0.16"},h.a.createElement("rect",{x:"1360.4",y:"313",width:"3.52187",height:"3.52709",transform:"rotate(45 1360.4 313)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1225.73",y:"447.677",width:"3.52187",height:"3.5271",transform:"rotate(45 1225.73 447.677)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1360.2",y:"582.156",width:"3.52187",height:"3.5271",transform:"rotate(45 1360.2 582.156)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1337.96",y:"335.446",width:"3.52187",height:"3.52709",transform:"rotate(45 1337.96 335.446)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1203.28",y:"470.124",width:"3.52187",height:"3.52708",transform:"rotate(45 1203.28 470.124)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1337.76",y:"604.602",width:"3.52187",height:"3.52708",transform:"rotate(45 1337.76 604.602)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1315.51",y:"357.892",width:"3.52187",height:"3.52708",transform:"rotate(45 1315.51 357.892)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1180.83",y:"492.57",width:"3.52187",height:"3.52708",transform:"rotate(45 1180.83 492.57)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1315.31",y:"627.048",width:"3.52187",height:"3.52708",transform:"rotate(45 1315.31 627.048)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1293.06",y:"380.339",width:"3.52187",height:"3.52709",transform:"rotate(45 1293.06 380.339)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1158.39",y:"515.016",width:"3.52187",height:"3.5271",transform:"rotate(45 1158.39 515.016)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1292.86",y:"649.494",width:"3.52187",height:"3.5271",transform:"rotate(45 1292.86 649.494)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1270.62",y:"402.785",width:"3.52187",height:"3.52709",transform:"rotate(45 1270.62 402.785)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1135.94",y:"537.462",width:"3.52187",height:"3.5271",transform:"rotate(45 1135.94 537.462)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1270.42",y:"671.941",width:"3.52187",height:"3.5271",transform:"rotate(45 1270.42 671.941)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1248.17",y:"425.231",width:"3.52187",height:"3.5271",transform:"rotate(45 1248.17 425.231)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1113.49",y:"559.909",width:"3.52187",height:"3.52707",transform:"rotate(45 1113.49 559.909)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1247.97",y:"694.387",width:"3.52187",height:"3.52707",transform:"rotate(45 1247.97 694.387)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1248.14",y:"470.09",width:"3.52187",height:"3.5271",transform:"rotate(45 1248.14 470.09)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1360.37",y:"357.859",width:"3.52187",height:"3.52709",transform:"rotate(45 1360.37 357.859)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1225.69",y:"492.537",width:"3.52187",height:"3.52708",transform:"rotate(45 1225.69 492.537)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1360.17",y:"627.015",width:"3.52187",height:"3.52708",transform:"rotate(45 1360.17 627.015)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1337.92",y:"380.306",width:"3.52187",height:"3.52708",transform:"rotate(45 1337.92 380.306)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1203.25",y:"514.983",width:"3.52187",height:"3.52708",transform:"rotate(45 1203.25 514.983)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1337.72",y:"649.461",width:"3.52187",height:"3.52708",transform:"rotate(45 1337.72 649.461)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1315.48",y:"402.752",width:"3.52187",height:"3.52709",transform:"rotate(45 1315.48 402.752)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1180.8",y:"537.429",width:"3.52187",height:"3.5271",transform:"rotate(45 1180.8 537.429)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1315.28",y:"671.907",width:"3.52187",height:"3.5271",transform:"rotate(45 1315.28 671.907)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1293.03",y:"425.198",width:"3.52187",height:"3.52709",transform:"rotate(45 1293.03 425.198)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1158.35",y:"559.875",width:"3.52187",height:"3.5271",transform:"rotate(45 1158.35 559.875)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1292.83",y:"694.354",width:"3.52187",height:"3.5271",transform:"rotate(45 1292.83 694.354)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1270.58",y:"447.644",width:"3.52187",height:"3.5271",transform:"rotate(45 1270.58 447.644)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1135.91",y:"582.322",width:"3.52187",height:"3.52707",transform:"rotate(45 1135.91 582.322)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1270.39",y:"716.8",width:"3.52187",height:"3.52707",transform:"rotate(45 1270.39 716.8)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1270.55",y:"492.503",width:"3.52187",height:"3.5271",transform:"rotate(45 1270.55 492.503)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1248.11",y:"514.95",width:"3.52187",height:"3.52708",transform:"rotate(45 1248.11 514.95)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1360.34",y:"402.719",width:"3.52187",height:"3.52708",transform:"rotate(45 1360.34 402.719)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1225.66",y:"537.396",width:"3.52187",height:"3.52708",transform:"rotate(45 1225.66 537.396)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1360.14",y:"671.874",width:"3.52185",height:"3.52708",transform:"rotate(45 1360.14 671.874)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1337.89",y:"425.165",width:"3.52187",height:"3.52709",transform:"rotate(45 1337.89 425.165)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1203.21",y:"559.842",width:"3.52187",height:"3.5271",transform:"rotate(45 1203.21 559.842)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1337.69",y:"694.32",width:"3.52185",height:"3.5271",transform:"rotate(45 1337.69 694.32)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1315.44",y:"447.611",width:"3.52187",height:"3.52709",transform:"rotate(45 1315.44 447.611)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1180.77",y:"582.288",width:"3.52187",height:"3.5271",transform:"rotate(45 1180.77 582.288)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1315.24",y:"716.767",width:"3.52185",height:"3.5271",transform:"rotate(45 1315.24 716.767)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1293",y:"470.057",width:"3.52187",height:"3.5271",transform:"rotate(45 1293 470.057)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1158.32",y:"604.735",width:"3.52187",height:"3.52707",transform:"rotate(45 1158.32 604.735)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1292.8",y:"739.213",width:"3.52185",height:"3.52707",transform:"rotate(45 1292.8 739.213)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1292.96",y:"514.917",width:"3.52187",height:"3.5271",transform:"rotate(45 1292.96 514.917)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1270.52",y:"537.363",width:"3.52187",height:"3.52708",transform:"rotate(45 1270.52 537.363)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1248.07",y:"559.809",width:"3.52187",height:"3.52708",transform:"rotate(45 1248.07 559.809)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1360.3",y:"447.578",width:"3.52187",height:"3.52709",transform:"rotate(45 1360.3 447.578)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1225.63",y:"582.255",width:"3.52187",height:"3.5271",transform:"rotate(45 1225.63 582.255)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1360.1",y:"716.733",width:"3.52185",height:"3.5271",transform:"rotate(45 1360.1 716.733)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1337.86",y:"470.024",width:"3.52187",height:"3.52709",transform:"rotate(45 1337.86 470.024)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1203.18",y:"604.701",width:"3.52187",height:"3.5271",transform:"rotate(45 1203.18 604.701)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1337.66",y:"739.18",width:"3.52185",height:"3.5271",transform:"rotate(45 1337.66 739.18)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1315.41",y:"492.47",width:"3.52187",height:"3.5271",transform:"rotate(45 1315.41 492.47)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1180.73",y:"627.148",width:"3.52187",height:"3.52707",transform:"rotate(45 1180.73 627.148)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1315.21",y:"761.626",width:"3.52185",height:"3.52707",transform:"rotate(45 1315.21 761.626)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1315.38",y:"537.33",width:"3.52187",height:"3.5271",transform:"rotate(45 1315.38 537.33)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1292.93",y:"559.776",width:"3.52187",height:"3.52708",transform:"rotate(45 1292.93 559.776)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1270.49",y:"582.222",width:"3.52187",height:"3.52708",transform:"rotate(45 1270.49 582.222)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1248.04",y:"604.668",width:"3.52187",height:"3.5271",transform:"rotate(45 1248.04 604.668)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1360.27",y:"492.437",width:"3.52187",height:"3.52709",transform:"rotate(45 1360.27 492.437)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1225.59",y:"627.115",width:"3.52187",height:"3.5271",transform:"rotate(45 1225.59 627.115)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1360.07",y:"761.593",width:"3.52188",height:"3.5271",transform:"rotate(45 1360.07 761.593)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1337.82",y:"514.883",width:"3.52187",height:"3.5271",transform:"rotate(45 1337.82 514.883)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1203.15",y:"649.561",width:"3.52187",height:"3.52707",transform:"rotate(45 1203.15 649.561)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1337.79",y:"559.743",width:"3.52187",height:"3.5271",transform:"rotate(45 1337.79 559.743)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1315.34",y:"582.189",width:"3.52187",height:"3.52708",transform:"rotate(45 1315.34 582.189)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1292.9",y:"604.635",width:"3.52187",height:"3.52708",transform:"rotate(45 1292.9 604.635)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1270.45",y:"627.081",width:"3.52187",height:"3.5271",transform:"rotate(45 1270.45 627.081)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1248.01",y:"649.528",width:"3.52187",height:"3.5271",transform:"rotate(45 1248.01 649.528)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1360.24",y:"537.296",width:"3.52187",height:"3.5271",transform:"rotate(45 1360.24 537.296)",fill:"var(--button-bg)"}),h.a.createElement("rect",{x:"1225.56",y:"671.974",width:"3.52187",height:"3.52707",transform:"rotate(45 1225.56 671.974)",fill:"var(--button-bg)"})),h.a.createElement("g",{opacity:"0.08"},h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 15.0962 314.034)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 335.994)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 15.0962 270.113)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 292.074)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 58.9517 314.034)",fill:"var(--button-bg)"}),h.a.createElement("circle",{r:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 15.0962 226.193)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 248.153)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 58.9517 270.113)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 80.8794 292.074)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 15.0962 182.273)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 204.233)",fill:"var(--button-bg)"}),h.a.createElement("circle",{r:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 58.9517 226.193)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 80.8794 248.153)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 102.807 270.113)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 15.0962 138.352)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 160.312)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 58.9517 182.273)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 80.8794 204.233)",fill:"var(--button-bg)"}),h.a.createElement("circle",{r:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 102.807 226.193)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10334",ry:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 124.735 248.153)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10335",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 116.392)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10335",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 58.9517 138.352)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10335",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 80.8794 160.312)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10335",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 102.807 182.273)",fill:"var(--button-bg)"}),h.a.createElement("ellipse",{rx:"3.10335",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 124.735 204.233)",fill:"var(--button-bg)"}),h.a.createElement("circle",{r:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 146.662 226.193)",fill:"var(--button-bg)"})),h.a.createElement("rect",{width:"167",height:"1024",fill:"url(#paint3_linear)"}),h.a.createElement("rect",{x:"1366",y:"1024",width:"188",height:"1024",transform:"rotate(180 1366 1024)",fill:"url(#paint4_linear)"})),h.a.createElement("defs",null,h.a.createElement("linearGradient",{id:"paint0_linear",x1:"452.595",y1:"1171.11",x2:"452.595",y2:"487.89",gradientUnits:"userSpaceOnUse"},h.a.createElement("stop",{stopColor:"#0058CC",stopOpacity:"0"}),h.a.createElement("stop",{offset:"1",stopColor:"#0058CC"})),h.a.createElement("linearGradient",{id:"paint1_linear",x1:"435.691",y1:"1080.92",x2:"435.691",y2:"399.944",gradientUnits:"userSpaceOnUse"},h.a.createElement("stop",{stopColor:"#0058CC",stopOpacity:"0"}),h.a.createElement("stop",{offset:"1",stopColor:"#0058CC"})),h.a.createElement("linearGradient",{id:"paint2_linear",x1:"415.405",y1:"995.22",x2:"415.405",y2:"312",gradientUnits:"userSpaceOnUse"},h.a.createElement("stop",{stopColor:"#0058CC",stopOpacity:"0"}),h.a.createElement("stop",{offset:"1",stopColor:"#0058CC"})),h.a.createElement("linearGradient",{id:"paint3_linear",x1:"-8.48718e-07",y1:"439",x2:"158.46",y2:"439",gradientUnits:"userSpaceOnUse"},h.a.createElement("stop",{stopColor:"var(--center-channel-bg)"}),h.a.createElement("stop",{offset:"1",stopColor:"var(--center-channel-bg)",stopOpacity:"0"})),h.a.createElement("linearGradient",{id:"paint4_linear",x1:"1366",y1:"1463",x2:"1544.39",y2:"1463",gradientUnits:"userSpaceOnUse"},h.a.createElement("stop",{stopColor:"var(--center-channel-bg)"}),h.a.createElement("stop",{offset:"1",stopColor:"var(--center-channel-bg)",stopOpacity:"0"}))));var dv=()=>h.a.createElement("svg",{viewBox:"0 0 329 273",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.a.createElement("g",{filter:"url(#filter0_f)"},h.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M324.682 11.9045C324.687 11.0023 324.514 10.1079 324.173 9.27253C323.832 8.43715 323.329 7.67714 322.695 7.03593C322.06 6.39473 321.305 5.88489 320.473 5.53555C319.641 5.18622 318.748 5.00423 317.846 5H12.8364C11.0143 5.00977 9.27061 5.74255 7.98869 7.03727C6.70676 8.33199 5.99148 10.0827 6.00008 11.9045V195H6V216.651C6 218.464 6.72025 220.203 8.0023 221.484C9.28436 222.766 11.0232 223.486 12.8363 223.486H126.93L123.5 253H206L201.492 223.486H315C321.432 223.491 324.686 220.871 324.682 214C324.681 213.275 324.682 201.333 324.682 196.761C324.682 195.671 324.682 195 324.682 195L324.682 11.9045Z",fill:"var(--center-channel-color)",fillOpacity:"0.08"})),h.a.createElement("path",{d:"M160.507 260.921C242.251 260.921 308.518 258.651 308.518 255.849C308.518 253.048 242.251 250.777 160.507 250.777C78.7621 250.777 12.4951 253.048 12.4951 255.849C12.4951 258.651 78.7621 260.921 160.507 260.921Z",fill:"var(--center-channel-color)",fillOpacity:"0.08"}),h.a.createElement("path",{opacity:"0.1",d:"M202.208 253.482H161.135L119.979 252.955L120.224 250.845H201.802L202.208 253.482Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M202.287 254.008L119.979 252.955L120.224 250.844L124.201 216.026H196.485L201.802 250.844L202.208 253.482L202.287 254.008Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{d:"M319.682 6.90452C319.687 6.00227 319.514 5.1079 319.173 4.27253C318.832 3.43715 318.329 2.67714 317.695 2.03593C317.06 1.39473 316.305 0.88489 315.473 0.535554C314.641 0.186219 313.748 0.00423428 312.846 0H7.83636C6.01426 0.00977462 4.27061 0.74255 2.98869 2.03727C1.70676 3.33199 0.991479 5.08269 1.00008 6.90452V191.761H319.682V6.90452Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{d:"M202.287 254.008L119.979 252.955L120.224 250.844L124.201 216.026H196.485L201.802 250.844L202.208 253.482L202.287 254.008Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),h.a.createElement("path",{d:"M215.479 251.371H106.26V254.008H215.479V251.371Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{d:"M215.479 251.371H106.26V254.008H215.479V251.371Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),h.a.createElement("path",{opacity:"0.1",d:"M169.048 218.4L201.885 251.371L196.846 218.4H169.048Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M319.682 6.90452C319.687 6.00227 319.514 5.1079 319.173 4.27253C318.832 3.43715 318.329 2.67714 317.695 2.03593C317.06 1.39473 316.305 0.88489 315.473 0.535554C314.641 0.186219 313.748 0.00423428 312.846 0H7.83636C6.01426 0.00977462 4.27061 0.74255 2.98869 2.03727C1.70676 3.33199 0.991479 5.08269 1.00008 6.90452V191.761H319.682V6.90452Z",fill:"var(--center-channel-color)",fillOpacity:"0.32"}),h.a.createElement("path",{d:"M1 189.914V211.565C1 213.378 1.72025 215.116 3.0023 216.398C4.28436 217.68 6.02319 218.4 7.83629 218.4H312.846C313.743 218.401 314.633 218.224 315.462 217.881C316.292 217.538 317.046 217.034 317.681 216.399C318.316 215.765 318.819 215.011 319.163 214.181C319.506 213.352 319.682 212.463 319.682 211.565V189.914H1Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{d:"M1 190V211.651C1 213.464 1.72025 215.202 3.0023 216.484C4.28436 217.766 6.02319 218.486 7.83629 218.486H312.846C313.743 218.487 314.633 218.311 315.462 217.967C316.292 217.624 317.046 217.121 317.681 216.486C318.316 215.851 318.819 215.097 319.163 214.268C319.506 213.438 319.682 212.549 319.682 211.651V190H1Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),h.a.createElement("path",{d:"M308.074 11.6061H14.1924V177.781H308.074V11.6061Z",fill:"var(--center-channel-bg)"}),h.a.createElement("circle",{cx:"160.5",cy:"204.5",r:"7.5",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M91 257.109C99.2843 257.109 106 256.438 106 255.609C106 254.781 99.2843 254.109 91 254.109C82.7157 254.109 76 254.781 76 255.609C76 256.438 82.7157 257.109 91 257.109Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),h.a.createElement("path",{d:"M90.6655 256.388C91.6247 256.388 92.4023 255.371 92.4023 254.116C92.4023 252.861 91.6247 251.843 90.6655 251.843C89.7063 251.843 88.9287 252.861 88.9287 254.116C88.9287 255.371 89.7063 256.388 90.6655 256.388Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 253.612C91.6247 253.612 92.4023 252.595 92.4023 251.34C92.4023 250.085 91.6247 249.068 90.6655 249.068C89.7063 249.068 88.9287 250.085 88.9287 251.34C88.9287 252.595 89.7063 253.612 90.6655 253.612Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 250.832C91.6247 250.832 92.4023 249.815 92.4023 248.56C92.4023 247.305 91.6247 246.288 90.6655 246.288C89.7063 246.288 88.9287 247.305 88.9287 248.56C88.9287 249.815 89.7063 250.832 90.6655 250.832Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 248.056C91.6247 248.056 92.4023 247.039 92.4023 245.784C92.4023 244.529 91.6247 243.512 90.6655 243.512C89.7063 243.512 88.9287 244.529 88.9287 245.784C88.9287 247.039 89.7063 248.056 90.6655 248.056Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 245.276C91.6247 245.276 92.4023 244.259 92.4023 243.004C92.4023 241.749 91.6247 240.732 90.6655 240.732C89.7063 240.732 88.9287 241.749 88.9287 243.004C88.9287 244.259 89.7063 245.276 90.6655 245.276Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 242.5C91.6247 242.5 92.4023 241.483 92.4023 240.228C92.4023 238.973 91.6247 237.956 90.6655 237.956C89.7063 237.956 88.9287 238.973 88.9287 240.228C88.9287 241.483 89.7063 242.5 90.6655 242.5Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 239.72C91.6247 239.72 92.4023 238.703 92.4023 237.448C92.4023 236.193 91.6247 235.176 90.6655 235.176C89.7063 235.176 88.9287 236.193 88.9287 237.448C88.9287 238.703 89.7063 239.72 90.6655 239.72Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M97.1646 218.438C97.4016 218.137 97.6177 217.819 97.8113 217.487L93.2476 216.739L98.1808 216.776C98.6542 215.746 98.9127 214.63 98.9405 213.497C98.9683 212.364 98.7648 211.237 98.3425 210.185L91.7187 213.621L97.8251 209.132C97.2518 208.147 96.4821 207.29 95.5636 206.615C94.6452 205.94 93.5977 205.461 92.4863 205.208C91.3749 204.955 90.2233 204.933 89.1029 205.143C87.9826 205.354 86.9176 205.792 85.9739 206.432C85.0303 207.071 84.2283 207.898 83.6177 208.86C83.0071 209.823 82.6009 210.9 82.4245 212.026C82.2481 213.152 82.3051 214.303 82.592 215.406C82.879 216.509 83.3897 217.541 84.0925 218.438C83.7225 218.91 83.4036 219.419 83.141 219.958L89.0673 223.034L82.7484 220.914C82.4585 221.774 82.3103 222.676 82.3096 223.583C82.3061 225.449 82.9345 227.261 84.0925 228.724C83.129 229.95 82.5299 231.423 82.3638 232.974C82.1977 234.524 82.4712 236.091 83.1532 237.493C83.8351 238.896 84.898 240.079 86.2203 240.906C87.5426 241.733 89.071 242.172 90.6309 242.172C92.1907 242.172 93.7192 241.733 95.0415 240.906C96.3638 240.079 97.4266 238.896 98.1086 237.493C98.7905 236.091 99.0641 234.524 98.898 232.974C98.7319 231.423 98.1328 229.95 97.1692 228.724C98.3228 227.257 98.9495 225.446 98.9487 223.58C98.9478 221.715 98.3195 219.904 97.1646 218.438Z",fill:"var(--online-indicator)"}),h.a.createElement("path",{opacity:"0.1",d:"M82.3096 223.579C82.3061 225.444 82.9345 227.256 84.0926 228.719C83.129 229.946 82.5299 231.418 82.3638 232.969C82.1977 234.52 82.4712 236.086 83.1532 237.489C83.8351 238.892 84.898 240.074 86.2203 240.901C87.5426 241.729 89.071 242.168 90.6309 242.168C92.1907 242.168 93.7192 241.729 95.0415 240.901C96.3638 240.074 97.4266 238.892 98.1086 237.489C98.7905 236.086 99.0641 234.52 98.898 232.969C98.7319 231.418 98.1328 229.946 97.1692 228.719C98.2824 227.306 82.3096 222.646 82.3096 223.579Z",fill:"var(--center-channel-color)"}),h.a.createElement("rect",{x:"83",y:"49",width:"154",height:"8",rx:"4",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M83 53C83 50.7909 84.7909 49 87 49H95C97.2091 49 99 50.7909 99 53C99 55.2091 97.2091 57 95 57H87C84.7909 57 83 55.2091 83 53Z",fill:"var(--online-indicator)"}),h.a.createElement("rect",{x:"83",y:"70",width:"154",height:"8",rx:"4",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M83 74C83 71.7909 84.7909 70 87 70H151C153.209 70 155 71.7909 155 74C155 76.2091 153.209 78 151 78H87C84.7909 78 83 76.2091 83 74Z",fill:"var(--online-indicator)"}),h.a.createElement("rect",{x:"83",y:"97",width:"154",height:"8",rx:"4",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M83 101C83 98.7909 84.7909 97 87 97H119C121.209 97 123 98.7909 123 101C123 103.209 121.209 105 119 105H87C84.7909 105 83 103.209 83 101Z",fill:"var(--online-indicator)"}),h.a.createElement("path",{d:"M141 124C141 121.791 142.791 120 145 120H179C181.209 120 183 121.791 183 124V129C183 131.209 181.209 133 179 133H145C142.791 133 141 131.209 141 129V124Z",fill:"var(--button-bg)"}),h.a.createElement("path",{opacity:"0.1",d:"M168.541 218.459L201.378 251.43L196.339 218.459H168.541Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{opacity:"0.1",d:"M307.655 11.683H13.4543V21.3909H307.655V11.683Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M23.2238 13.3734H15.5007C15.3017 13.3734 15.1404 13.5347 15.1404 13.7337V18.9202C15.1404 19.1191 15.3017 19.2804 15.5007 19.2804H23.2238C23.4228 19.2804 23.5841 19.1191 23.5841 18.9202V13.7337C23.5841 13.5347 23.4228 13.3734 23.2238 13.3734Z",fill:"var(--sidebar-bg)"}),h.a.createElement("path",{opacity:"0.3",d:"M203.974 13.3734H115.869C115.721 13.3734 115.601 13.4934 115.601 13.6413V19.0125C115.601 19.1605 115.721 19.2804 115.869 19.2804H203.974C204.122 19.2804 204.242 19.1605 204.242 19.0125V13.6413C204.242 13.4934 204.122 13.3734 203.974 13.3734Z",fill:"var(--sidebar-bg)"}),h.a.createElement("path",{d:"M201.609 16.9342H201.392L201.314 16.8696C201.582 16.5463 201.731 16.1399 201.734 15.7196C201.732 15.3734 201.628 15.0355 201.434 14.7487C201.24 14.4619 200.965 14.239 200.645 14.1082C200.324 13.9774 199.972 13.9446 199.633 14.0139C199.294 14.0832 198.982 14.2516 198.739 14.4977C198.495 14.7438 198.33 15.0565 198.265 15.3964C198.199 15.7363 198.235 16.088 198.369 16.4072C198.504 16.7263 198.73 16.9985 199.018 17.1893C199.307 17.3801 199.646 17.481 199.993 17.4792C200.411 17.4728 200.815 17.3247 201.138 17.0589L201.217 17.1236V17.3406L202.57 18.6938L202.972 18.2874L201.609 16.9342ZM199.993 16.9342C199.751 16.9351 199.515 16.8643 199.313 16.7307C199.112 16.597 198.955 16.4066 198.862 16.1837C198.769 15.9607 198.745 15.7152 198.792 15.4782C198.839 15.2413 198.955 15.0236 199.126 14.8528C199.296 14.682 199.514 14.5658 199.751 14.5189C199.988 14.472 200.234 14.4965 200.457 14.5894C200.68 14.6823 200.87 14.8392 201.004 15.0404C201.137 15.2417 201.208 15.478 201.207 15.7196C201.209 15.8794 201.178 16.0379 201.117 16.1858C201.057 16.3338 200.967 16.4681 200.854 16.5812C200.741 16.6942 200.607 16.7836 200.459 16.8443C200.311 16.9049 200.152 16.9354 199.993 16.9342Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M303.433 19.2803C305.065 19.2803 306.389 17.9569 306.389 16.3245C306.389 14.6921 305.065 13.3687 303.433 13.3687C301.8 13.3687 300.477 14.6921 300.477 16.3245C300.477 17.9569 301.8 19.2803 303.433 19.2803Z",fill:"var(--sidebar-bg)"}),h.a.createElement("g",{opacity:"0.1"},h.a.createElement("path",{opacity:"0.1",d:"M212.363 196.392C212.483 196.192 212.677 196.047 212.903 195.99C213.134 195.958 213.203 196.253 213.116 196.452C213.938 198.761 214.778 201.14 216.178 203.176C216.645 203.776 217.061 204.414 217.421 205.084C217.684 205.718 217.894 206.373 218.049 207.042C218.788 209.439 219.787 211.748 221.028 213.928C221.184 214.209 221.272 214.521 221.288 214.841C221.303 215.162 221.244 215.481 221.116 215.775C220.525 217.069 221.005 218.343 221.264 219.609C221.619 221.378 221.55 223.211 221.633 224.998C221.633 225.557 221.633 226.116 221.665 226.675C221.726 227.878 221.712 229.085 221.624 230.286C221.527 231.122 221.324 231.944 221.162 232.767C219.555 240.484 221.301 248.617 221.887 256.482C221.928 256.964 221.821 257.447 221.582 257.868C220.88 259.064 221.222 260.408 221.582 261.659C221.794 262.712 222.224 263.71 222.843 264.587C223.023 264.788 223.178 265.01 223.305 265.248C223.532 265.747 223.305 266.338 223.13 266.86C224.381 267.061 225.642 267.195 226.908 267.262C225.266 267.275 223.626 267.141 222.007 266.86C222.164 266.338 222.405 265.747 222.178 265.248C222.047 265.007 221.884 264.785 221.693 264.587C221.077 263.708 220.648 262.711 220.432 261.659C220.09 260.408 219.749 259.064 220.432 257.868C220.673 257.448 220.78 256.965 220.742 256.482C220.155 248.631 218.404 240.484 220.016 232.767C220.187 231.944 220.391 231.122 220.478 230.286C220.565 229.085 220.581 227.879 220.525 226.675C220.525 226.116 220.501 225.557 220.488 224.998C220.404 223.211 220.488 221.378 220.118 219.609C219.864 218.343 219.384 217.069 219.975 215.775C220.102 215.481 220.16 215.162 220.145 214.842C220.13 214.521 220.042 214.209 219.887 213.928C218.643 211.749 217.642 209.44 216.903 207.042C216.748 206.373 216.538 205.718 216.275 205.084C215.915 204.415 215.501 203.777 215.037 203.176C213.697 201.232 212.871 198.997 212.085 196.771C212.187 196.655 212.27 196.521 212.363 196.392Z",fill:"var(--center-channel-color)"})),h.a.createElement("g",{opacity:"0.1"},h.a.createElement("path",{opacity:"0.1",d:"M192.57 176.611C192.568 176.625 192.568 176.639 192.57 176.653C192.768 176.962 193.249 176.782 193.554 176.57L195.087 175.512C197.134 175.793 199.203 175.892 201.267 175.808C207.138 175.725 213.014 175.956 218.871 176.367C220.829 176.505 222.848 176.653 224.696 176.002C225.619 175.669 226.497 175.143 227.467 174.875C227.802 174.813 228.125 174.697 228.423 174.533C228.534 174.838 228.64 175.143 228.737 175.457C228.954 176.154 229.098 177.022 228.562 177.517C228.239 177.755 227.863 177.914 227.467 177.978C226.506 178.242 225.619 178.773 224.696 179.105C222.848 179.757 220.829 179.609 218.871 179.47C213.014 179.059 207.138 178.828 201.267 178.911C199.206 178.994 197.14 178.893 195.096 178.611L193.563 179.673C193.258 179.886 192.778 180.066 192.579 179.757C192.516 179.634 192.492 179.496 192.51 179.359C192.531 178.445 192.551 177.529 192.57 176.611Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{opacity:"0.1",d:"M226.095 148.411C225.83 146.904 225.328 145.448 224.608 144.098L224.03 148.661C223.993 148.947 223.956 149.233 223.924 149.52C223.85 148.864 223.823 148.203 223.841 147.543C223.841 146.883 223.947 146.222 224.03 145.566L224.608 141.003C225.328 142.354 225.83 143.81 226.095 145.317C226.62 147.569 227.267 149.791 228.035 151.972C228.469 153.288 228.904 154.605 229.375 155.907C229.675 156.654 229.906 157.427 230.063 158.216C230.165 158.849 230.169 159.495 230.243 160.128C230.395 161.493 230.87 162.802 231.629 163.948C231.767 164.215 231.999 164.422 232.28 164.529C232.469 164.563 232.663 164.555 232.848 164.506C234.891 164.103 236.868 163.419 238.724 162.474C238.969 162.354 239.2 162.207 239.412 162.036C239.657 162.959 240.216 163.971 239.717 164.783C239.461 165.126 239.118 165.394 238.724 165.559C236.868 166.504 234.891 167.188 232.848 167.592C232.661 167.633 232.467 167.633 232.28 167.592C231.999 167.484 231.767 167.277 231.629 167.01C230.871 165.864 230.396 164.555 230.243 163.19C230.169 162.557 230.165 161.911 230.063 161.278C229.907 160.488 229.676 159.715 229.375 158.969C228.913 157.662 228.451 156.35 228.035 155.034C227.269 152.863 226.621 150.652 226.095 148.411Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{opacity:"0.1",d:"M225.62 160.987C225.62 161.19 225.62 161.398 225.62 161.606C225.629 161.398 225.624 161.195 225.62 160.987Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{opacity:"0.1",d:"M192.117 168.755C192.625 170.09 192.607 171.559 192.579 172.986C192.579 173.36 192.579 173.729 192.579 174.103C192.54 173.333 192.384 172.573 192.117 171.85C191.904 171.295 191.604 170.778 191.415 170.219C191.091 169.241 191.104 168.183 191.452 167.213C191.641 167.739 191.914 168.233 192.117 168.755Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{opacity:"0.1",d:"M167.871 137.346L168.135 137.004L169.52 139.313C170.079 140.345 170.763 141.303 171.557 142.167C172.366 143.033 173.467 143.568 174.647 143.668C175.392 143.661 176.129 143.52 176.823 143.252C180.056 142.167 182.99 140.444 186.061 138.976C186.606 138.66 187.216 138.473 187.844 138.431C188.163 138.425 188.475 138.522 188.733 138.709C188.991 138.895 189.182 139.161 189.276 139.465C189.627 141.234 189.974 142.998 190.454 144.735C190.913 146.379 191.336 148.028 191.724 149.681C191.985 150.696 192.17 151.729 192.279 152.771C192.329 153.362 192.334 153.958 192.339 154.549L192.408 161.722C192.408 161.827 192.399 161.932 192.38 162.036L192.339 157.643C192.339 157.048 192.339 156.457 192.279 155.865C192.17 154.823 191.985 153.791 191.724 152.776C191.33 151.122 190.907 149.473 190.454 147.829C189.992 146.093 189.627 144.329 189.276 142.555C189.182 142.251 188.991 141.986 188.733 141.8C188.474 141.615 188.162 141.518 187.844 141.525C187.208 141.559 186.588 141.741 186.034 142.056C182.976 143.525 180.029 145.248 176.795 146.328C176.102 146.599 175.364 146.742 174.62 146.749C173.439 146.648 172.338 146.114 171.53 145.248C170.737 144.383 170.053 143.424 169.493 142.393C168.934 141.447 168.37 140.505 167.807 139.558C167.492 139.031 167.072 138.422 167.248 137.83C167.506 137.746 167.726 137.575 167.871 137.346Z",fill:"var(--center-channel-color)"})),h.a.createElement("path",{d:"M91 257C99.2843 257 106 256.328 106 255.5C106 254.672 99.2843 254 91 254C82.7157 254 76 254.672 76 255.5C76 256.328 82.7157 257 91 257Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),h.a.createElement("path",{d:"M90.6655 256.279C91.6247 256.279 92.4023 255.261 92.4023 254.007C92.4023 252.752 91.6247 251.734 90.6655 251.734C89.7063 251.734 88.9287 252.752 88.9287 254.007C88.9287 255.261 89.7063 256.279 90.6655 256.279Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 253.503C91.6247 253.503 92.4023 252.486 92.4023 251.231C92.4023 249.976 91.6247 248.959 90.6655 248.959C89.7063 248.959 88.9287 249.976 88.9287 251.231C88.9287 252.486 89.7063 253.503 90.6655 253.503Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 250.723C91.6247 250.723 92.4023 249.706 92.4023 248.451C92.4023 247.196 91.6247 246.178 90.6655 246.178C89.7063 246.178 88.9287 247.196 88.9287 248.451C88.9287 249.706 89.7063 250.723 90.6655 250.723Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 247.947C91.6247 247.947 92.4023 246.93 92.4023 245.675C92.4023 244.42 91.6247 243.403 90.6655 243.403C89.7063 243.403 88.9287 244.42 88.9287 245.675C88.9287 246.93 89.7063 247.947 90.6655 247.947Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 245.167C91.6247 245.167 92.4023 244.15 92.4023 242.895C92.4023 241.64 91.6247 240.622 90.6655 240.622C89.7063 240.622 88.9287 241.64 88.9287 242.895C88.9287 244.15 89.7063 245.167 90.6655 245.167Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 242.391C91.6247 242.391 92.4023 241.374 92.4023 240.119C92.4023 238.864 91.6247 237.847 90.6655 237.847C89.7063 237.847 88.9287 238.864 88.9287 240.119C88.9287 241.374 89.7063 242.391 90.6655 242.391Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M90.6655 239.611C91.6247 239.611 92.4023 238.594 92.4023 237.339C92.4023 236.084 91.6247 235.067 90.6655 235.067C89.7063 235.067 88.9287 236.084 88.9287 237.339C88.9287 238.594 89.7063 239.611 90.6655 239.611Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M97.1646 218.329C97.4016 218.027 97.6177 217.71 97.8113 217.378L93.2476 216.63L98.1808 216.667C98.6542 215.637 98.9127 214.521 98.9405 213.388C98.9683 212.255 98.7648 211.128 98.3425 210.076L91.7187 213.512L97.8251 209.023C97.2518 208.038 96.4821 207.181 95.5636 206.506C94.6452 205.831 93.5977 205.352 92.4863 205.099C91.3749 204.845 90.2233 204.823 89.1029 205.034C87.9826 205.244 86.9176 205.683 85.9739 206.323C85.0303 206.962 84.2283 207.789 83.6177 208.751C83.0071 209.714 82.6009 210.791 82.4245 211.917C82.2481 213.043 82.3051 214.194 82.592 215.297C82.879 216.4 83.3897 217.432 84.0925 218.329C83.7225 218.801 83.4036 219.31 83.141 219.849L89.0673 222.925L82.7484 220.805C82.4585 221.665 82.3103 222.567 82.3096 223.474C82.3061 225.34 82.9345 227.152 84.0925 228.615C83.129 229.841 82.5299 231.314 82.3638 232.865C82.1977 234.415 82.4712 235.982 83.1532 237.384C83.8351 238.787 84.898 239.97 86.2203 240.797C87.5426 241.624 89.071 242.063 90.6309 242.063C92.1907 242.063 93.7192 241.624 95.0415 240.797C96.3638 239.97 97.4266 238.787 98.1086 237.384C98.7905 235.982 99.0641 234.415 98.898 232.865C98.7319 231.314 98.1328 229.841 97.1692 228.615C98.3228 227.148 98.9495 225.337 98.9487 223.471C98.9478 221.606 98.3195 219.795 97.1646 218.329Z",fill:"var(--online-indicator)"}),h.a.createElement("path",{opacity:"0.1",d:"M82.3096 223.47C82.3061 225.335 82.9345 227.147 84.0926 228.61C83.129 229.836 82.5299 231.309 82.3638 232.86C82.1977 234.411 82.4712 235.977 83.1532 237.38C83.8351 238.782 84.898 239.965 86.2203 240.792C87.5426 241.62 89.071 242.058 90.6309 242.058C92.1907 242.058 93.7192 241.62 95.0415 240.792C96.3638 239.965 97.4266 238.782 98.1086 237.38C98.7905 235.977 99.0641 234.411 98.898 232.86C98.7319 231.309 98.1328 229.836 97.1692 228.61C98.2824 227.197 82.3096 222.537 82.3096 223.47Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M217.88 272.454C241.49 272.454 260.63 269.584 260.63 266.044C260.63 262.503 241.49 259.633 217.88 259.633C194.27 259.633 175.13 262.503 175.13 266.044C175.13 269.584 194.27 272.454 217.88 272.454Z",fill:"var(--center-channel-color)",fillOpacity:"0.08"}),h.a.createElement("path",{d:"M238.648 180.266C238.62 179.472 238.523 178.677 238.426 177.888C238.07 174.923 237.705 171.958 237.128 169.034C237.026 168.464 236.871 167.904 236.666 167.362C236.458 166.85 236.172 166.379 235.955 165.871C235.957 165.852 235.957 165.834 235.955 165.815C236.223 165.686 236.486 165.556 236.745 165.418C236.932 165.323 237.111 165.213 237.281 165.09C237.451 164.967 237.594 164.81 237.701 164.628C238.163 163.815 237.645 162.781 237.41 161.857C237.16 160.864 237.216 159.673 236.486 159.008C233.881 156.698 235.174 151.988 233.872 148.681C233.641 148.104 233.377 147.535 233.179 146.944C233.026 146.482 232.92 146.021 232.809 145.559C231.885 141.71 230.912 137.878 229.89 134.064C228.814 130.11 228.929 125.991 227.58 122.13C227.326 121.329 226.993 120.556 226.587 119.82C226.136 119.054 225.524 118.394 224.795 117.885C222.827 116.527 220.846 115.368 218.536 114.874C216.227 114.38 213.732 114.458 211.377 114.468C210.533 113.297 209.373 112.392 208.032 111.858L207.991 111.738C207.802 111.27 207.657 110.787 207.557 110.293C207.481 109.804 207.442 109.309 207.441 108.815C207.441 108.284 207.418 107.748 207.404 107.217L207.533 107.092C207.843 106.766 208.127 106.417 208.383 106.048C208.631 105.7 208.847 105.331 209.03 104.944C209.237 104.506 209.413 104.054 209.557 103.591C209.837 102.656 210.028 101.695 210.125 100.723C210.249 99.5824 210.286 98.414 210.319 97.2732C210.319 97.0423 210.319 96.8114 210.319 96.5759V96.405C210.319 96.2202 210.319 96.0401 210.319 95.86V95.8C210.357 94.6204 210.059 93.4543 209.46 92.4378C208.624 91.1908 207.192 90.5904 205.81 90.0916C203.039 89.131 199.995 88.4983 197.256 89.5282C195.08 90.3502 193.344 92.1422 191.196 93.052C191.245 93.1342 191.29 93.219 191.33 93.306C191.33 93.3183 191.33 93.3307 191.33 93.343C191.367 93.4261 191.399 93.5046 191.427 93.5878C191.496 93.7747 191.547 93.9681 191.579 94.1651C191.641 94.5381 191.641 94.9189 191.579 95.2919C190.931 95.5824 190.214 95.6879 189.51 95.5968C189.776 96.4665 190.219 97.2717 190.812 97.9614C191.002 98.2015 191.2 98.4232 191.39 98.6772L191.681 99.0375C192.176 99.6179 192.579 100.27 192.877 100.973C192.986 101.25 193.062 101.54 193.103 101.836C193.191 102.423 193.168 103.097 193.247 103.684C193.276 103.936 193.34 104.183 193.436 104.418C193.613 105.635 194.077 106.792 194.79 107.793C195.504 108.795 196.445 109.612 197.538 110.177C197.838 112.003 197.838 113.866 197.538 115.691C197.538 115.793 197.501 115.895 197.478 115.996C196.221 117.58 195.016 119.252 193.468 120.49C192.764 121.041 192.011 121.527 191.219 121.94C190.753 122.209 190.255 122.415 189.736 122.554C189.154 122.688 188.544 122.67 187.967 122.813C186.851 123.167 185.912 123.931 185.339 124.951C185.047 125.491 184.723 126.012 184.369 126.512C184.045 126.914 183.639 127.242 183.297 127.625C182.059 129.011 181.722 131.015 181.449 132.89C180.487 133.954 179.431 134.929 178.294 135.805C177.939 136.087 177.544 136.316 177.121 136.484C176.031 136.848 174.835 136.382 173.888 135.68C172.941 134.978 172.202 134.054 171.287 133.334L171.047 133.689C170.979 133.622 170.915 133.549 170.858 133.472C170.483 132.944 170.223 132.343 170.096 131.708C169.763 130.004 170.391 128.18 169.902 126.522C169.721 125.921 169.287 125.302 168.687 125.316C168.086 125.33 167.712 125.931 167.195 126.212C166.363 126.674 165.347 126.254 164.525 125.797C163.703 125.339 162.765 124.827 161.864 125.099C161.847 125.397 161.9 125.694 162.02 125.967C162.14 126.24 162.322 126.481 162.553 126.669C163.017 127.037 163.397 127.498 163.67 128.023C163.805 128.596 163.857 129.185 163.823 129.773C163.915 131.122 164.747 132.281 165.55 133.334C166.548 134.612 167.592 135.852 168.682 137.056C168.551 137.286 168.346 137.463 168.1 137.56C168.038 137.779 168.038 138.01 168.1 138.229C168.146 138.38 168.204 138.527 168.276 138.668C168.382 138.885 168.511 139.098 168.622 139.296L170.243 142.146L170.507 142.608C170.617 142.802 170.728 142.986 170.844 143.176C171.226 143.839 171.68 144.459 172.197 145.023C172.455 145.294 172.74 145.539 173.047 145.753C173.247 145.896 173.459 146.023 173.68 146.131C173.989 146.289 174.319 146.403 174.659 146.469C174.826 146.504 174.996 146.526 175.167 146.533C175.344 146.547 175.522 146.547 175.699 146.533C176.231 146.459 176.753 146.324 177.255 146.131C180.345 145.046 183.181 143.314 186.119 141.841C186.523 141.615 186.957 141.447 187.408 141.342C187.56 141.313 187.715 141.301 187.87 141.305C188.027 141.31 188.182 141.336 188.332 141.384C188.479 141.433 188.619 141.503 188.747 141.592C189.007 141.766 189.187 142.034 189.251 142.34C189.339 142.802 189.422 143.231 189.505 143.674C189.588 144.118 189.681 144.561 189.773 145.005C189.958 145.887 190.156 146.769 190.387 147.642C190.512 148.104 190.632 148.593 190.752 149.073C191.048 150.246 191.339 151.429 191.607 152.611C191.69 152.981 191.768 153.355 191.842 153.724C191.98 154.381 192.079 155.046 192.138 155.715C192.14 155.73 192.14 155.746 192.138 155.761C192.184 156.343 192.189 156.92 192.193 157.502V159.326L192.24 164.711C192.24 165.487 191.824 165.972 191.496 166.67C191.431 166.813 191.371 166.96 191.32 167.108C191.258 167.296 191.207 167.487 191.168 167.681C191.168 167.741 191.14 167.806 191.131 167.866C191.122 167.926 191.131 168.009 191.103 168.078C191.076 168.147 191.103 168.217 191.08 168.281C191.057 168.346 191.08 168.42 191.08 168.485C191.08 168.549 191.08 168.632 191.08 168.706C191.08 168.78 191.08 168.836 191.08 168.896C191.08 168.956 191.08 169.057 191.08 169.136C191.08 169.214 191.08 169.251 191.08 169.307C191.08 169.362 191.112 169.487 191.126 169.579L191.154 169.718C191.186 169.852 191.219 169.986 191.265 170.119C191.357 170.397 191.473 170.669 191.593 170.937C191.713 171.205 191.833 171.477 191.935 171.754C191.999 171.93 192.055 172.109 192.101 172.29C192.112 172.331 192.122 172.373 192.129 172.415C192.166 172.558 192.198 172.701 192.226 172.849V172.951C192.253 173.108 192.276 173.269 192.295 173.412C192.297 173.431 192.297 173.449 192.295 173.468C192.295 173.648 192.332 173.828 192.341 174.008C192.383 174.664 192.373 175.334 192.341 175.994L192.286 179.282V179.384C192.281 179.487 192.303 179.589 192.35 179.68C192.384 179.731 192.429 179.774 192.483 179.803C192.538 179.832 192.598 179.847 192.66 179.846C192.894 179.829 193.118 179.742 193.302 179.596L194.771 178.53H194.863C193.704 180.428 192.775 182.52 192.595 184.751C192.525 186.224 192.62 187.7 192.877 189.152C194.23 198.851 197.418 208.637 196.748 218.428C196.485 222.284 198.083 226.044 198.073 229.905C198.073 231.406 197.819 232.893 197.755 234.389C197.473 240.818 200.753 247.321 199.418 253.602C199.88 255.163 201.63 255.994 202.124 257.546C202.54 258.862 201.94 260.262 201.455 261.55C201.28 261.999 201.146 262.463 201.053 262.936C199.709 262.936 198.217 262.963 197.321 263.338C197.072 263.419 196.83 263.518 196.595 263.633C195.769 264.127 195.713 265.48 196.235 266.298C196.757 267.115 199.69 269.725 200.549 270.154L202.429 271.078C203.438 271.648 204.529 272.059 205.663 272.297C206.617 272.403 207.581 272.385 208.531 272.242C209.266 272.163 210.079 272.043 210.554 271.443C211.224 270.593 210.882 269.212 210.425 267.984C210.594 267.849 210.725 267.672 210.804 267.471C210.885 267.149 210.927 266.819 210.928 266.487C211.064 265.845 211.285 265.224 211.584 264.64C212.356 262.76 212.323 260.645 212.277 258.599C212.286 255.273 212.057 251.95 211.594 248.656C211.363 247.27 211.049 245.885 210.781 244.499C209.795 239.481 209.372 234.37 209.52 229.258C209.536 228.017 209.363 226.78 209.007 225.591C208.855 224.905 208.815 224.198 208.887 223.499L209.441 215.043C209.599 213.323 209.625 211.594 209.52 209.87C209.441 208.946 209.289 208.023 209.196 207.099C209.056 205.338 209.027 203.571 209.109 201.806C209.159 199.908 209.247 197.872 210.333 196.347C210.388 196.25 210.462 196.164 210.551 196.095C210.64 196.026 210.741 195.975 210.85 195.946C211.072 195.913 211.136 196.214 211.053 196.408C211.169 196.759 211.289 197.105 211.409 197.456C211.446 197.557 211.478 197.654 211.515 197.751C211.575 197.932 211.64 198.112 211.704 198.292C211.769 198.472 211.797 198.541 211.838 198.666L212.019 199.128C212.069 199.266 212.125 199.4 212.176 199.534C212.226 199.668 212.291 199.825 212.351 199.968C212.411 200.111 212.471 200.255 212.536 200.398C212.601 200.541 212.647 200.661 212.707 200.795L212.929 201.257C212.984 201.372 213.039 201.492 213.099 201.608C213.159 201.723 213.28 201.945 213.372 202.111C213.423 202.208 213.474 202.305 213.529 202.398C213.677 202.656 213.829 202.906 213.991 203.155C214.305 203.617 214.642 204.079 214.915 204.573C215.011 204.735 215.097 204.903 215.173 205.076C215.429 205.714 215.632 206.372 215.779 207.044C215.94 207.653 216.13 208.249 216.337 208.836C216.545 209.422 216.799 210.009 217.026 210.581C217.15 210.868 217.28 211.154 217.409 211.436C217.797 212.29 218.217 213.131 218.642 213.962C218.717 214.109 218.776 214.264 218.818 214.424C218.839 214.501 218.856 214.58 218.869 214.659C218.886 214.813 218.886 214.968 218.869 215.121C218.864 215.218 218.851 215.313 218.832 215.408C218.804 215.55 218.762 215.689 218.707 215.823C218.139 217.121 218.596 218.4 218.846 219.675C219.064 221.019 219.169 222.378 219.16 223.739C219.16 224.201 219.16 224.663 219.201 225.092C219.201 225.656 219.201 226.215 219.234 226.778C219.266 227.342 219.234 227.988 219.266 228.593C219.276 229.199 219.251 229.805 219.192 230.408C219.192 230.621 219.137 230.829 219.104 231.036C219.003 231.66 218.859 232.279 218.735 232.884C218.274 235.319 218.06 237.795 218.097 240.273C218.097 241.268 218.13 242.264 218.194 243.261C218.25 244.264 218.328 245.261 218.416 246.263C218.462 246.813 218.518 247.362 218.573 247.912C218.665 248.863 218.767 249.815 218.869 250.766C218.97 251.718 219.081 252.766 219.178 253.759C219.275 254.752 219.363 255.745 219.432 256.733C219.476 257.223 219.373 257.715 219.137 258.146C219.043 258.318 218.966 258.497 218.906 258.682C218.863 258.811 218.829 258.942 218.804 259.075C218.777 259.228 218.758 259.382 218.749 259.537C218.737 259.861 218.756 260.186 218.804 260.506C218.829 260.667 218.856 260.821 218.887 260.968C218.956 261.287 219.04 261.606 219.123 261.92C219.313 262.79 219.624 263.629 220.047 264.414C220.137 264.575 220.238 264.729 220.351 264.876C220.384 264.922 220.421 264.963 220.458 265.009C220.553 265.12 220.641 265.238 220.721 265.36C220.759 265.417 220.791 265.478 220.818 265.541C220.913 265.796 220.932 266.073 220.873 266.34C220.823 266.617 220.726 266.894 220.652 267.157L220.892 267.189C220.555 268.256 220.398 269.351 220.966 270.067C221.428 270.667 222.255 270.787 222.989 270.866C223.938 271.012 224.903 271.033 225.857 270.926C226.991 270.688 228.082 270.276 229.091 269.706L230.971 268.783C231.83 268.353 234.758 265.762 235.28 264.922C235.802 264.081 235.742 262.756 234.925 262.261C234.691 262.143 234.448 262.043 234.2 261.961C233.368 261.615 232.024 261.583 230.768 261.564C230.703 261.102 230.666 260.599 230.647 260.123C230.563 258.356 230.597 256.584 230.749 254.821C230.855 253.57 231.017 252.323 231.003 251.071C231.003 249.399 230.657 247.746 230.477 246.083C230.296 244.421 230.278 242.795 230.25 241.151C230.209 238.731 230.92 236.426 231.229 234.034L231.77 229.826C231.861 229.315 231.873 228.794 231.807 228.279C231.724 227.817 231.511 227.356 231.423 226.894C231.234 225.845 231.71 224.806 231.858 223.749C232.029 222.534 231.765 221.301 231.594 220.082C231.37 218.156 231.264 216.219 231.276 214.281C231.109 202.365 230.772 190.182 226.744 179.033C226.583 178.571 226.407 178.109 226.227 177.68C226.308 177.658 226.388 177.632 226.467 177.601C226.593 177.555 226.712 177.493 226.823 177.417C226.872 177.387 226.918 177.353 226.961 177.315C227.09 177.187 227.184 177.028 227.234 176.853C227.288 176.684 227.316 176.508 227.317 176.331C227.311 176.019 227.266 175.709 227.183 175.408L227.128 175.218C227.035 174.904 226.934 174.595 226.827 174.295C226.726 173.994 226.615 173.703 226.499 173.408C226.259 172.86 226.064 172.293 225.917 171.713C225.636 170.401 225.917 168.886 225.128 167.82C223.382 165.427 224.615 161.751 223.885 158.837C223.645 157.913 223.294 156.989 223.072 156.066C222.934 155.474 222.846 154.869 222.758 154.264C222.527 152.956 222.413 151.63 222.416 150.302C222.416 149.637 222.518 148.972 222.596 148.311L223.151 143.73C223.77 144.915 224.212 146.185 224.462 147.498C224.504 147.688 224.541 147.873 224.583 148.062C225.082 150.322 225.699 152.554 226.43 154.749C226.851 156.075 227.266 157.396 227.719 158.707C227.853 159.081 227.982 159.46 228.102 159.843C228.22 160.226 228.313 160.617 228.379 161.012C228.43 161.326 228.453 161.649 228.476 161.968C228.5 162.287 228.518 162.615 228.55 162.933C228.701 164.297 229.159 165.609 229.89 166.771C229.913 166.801 229.935 166.832 229.955 166.863C230.079 167.088 230.278 167.261 230.518 167.353C230.684 167.388 230.856 167.388 231.022 167.353H231.049C231.294 167.302 231.539 167.247 231.779 167.187C231.815 167.18 231.851 167.17 231.885 167.159C231.996 168.591 232.421 170.018 232.458 171.463C232.504 173.565 231.733 175.578 231.243 177.615C230.831 179.474 230.555 181.36 230.416 183.259C230.353 183.635 230.377 184.02 230.486 184.386C230.538 184.563 230.651 184.717 230.804 184.82C230.958 184.924 231.142 184.971 231.326 184.954C231.456 184.91 231.576 184.841 231.679 184.749C231.781 184.658 231.864 184.547 231.922 184.423C232.472 183.509 232.655 182.422 232.435 181.379C232.874 181.472 233.1 181.975 233.206 182.432C233.487 183.618 233.42 184.859 233.012 186.007C232.74 186.773 232.32 187.48 232.089 188.27C232.006 188.516 232.006 188.782 232.089 189.027C232.32 189.558 233.049 189.521 233.576 189.327C235.297 188.626 236.695 187.309 237.498 185.633C238.315 183.965 238.71 182.122 238.648 180.266Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M211.7 271.484C211.206 272.08 210.36 272.2 209.593 272.279C208.603 272.422 207.6 272.44 206.605 272.334C205.432 272.098 204.301 271.69 203.247 271.124L201.288 270.2C200.397 269.771 197.348 267.194 196.803 266.358C196.258 265.522 196.314 264.206 197.173 263.712C197.418 263.596 197.671 263.497 197.93 263.416C199.371 262.843 202.291 263.134 203.824 262.913C204.585 262.877 205.34 263.054 206.004 263.425C207.519 264.095 210.189 264.626 210.85 266.33C211.363 267.642 212.767 270.187 211.7 271.484Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M222.578 270.219C223.072 270.815 223.918 270.935 224.684 271.013C226.869 271.422 229.128 271.009 231.026 269.854L232.985 268.93C233.881 268.501 236.93 265.924 237.475 265.088C238.02 264.252 237.964 262.931 237.101 262.442C236.858 262.323 236.606 262.224 236.348 262.146C234.906 261.573 231.987 261.864 230.454 261.643C229.692 261.605 228.935 261.783 228.269 262.155C226.758 262.825 224.112 263.356 223.428 265.06C222.901 266.376 221.493 268.921 222.578 270.219Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M227.34 176.835C227.812 177.742 228.224 178.681 228.573 179.643C232.768 190.727 233.119 202.855 233.294 214.71C233.279 216.638 233.388 218.565 233.622 220.479C233.798 221.693 234.084 222.917 233.895 224.132C233.742 225.18 233.248 226.215 233.433 227.254C233.521 227.716 233.742 228.177 233.83 228.639C233.899 229.151 233.885 229.67 233.788 230.177L233.23 234.361C232.906 236.745 232.167 239.035 232.209 241.442C232.236 243.081 232.264 244.721 232.444 246.351C232.712 247.994 232.896 249.649 232.994 251.311C232.994 252.558 232.837 253.8 232.726 255.043C232.57 256.796 232.535 258.559 232.62 260.317C232.684 261.67 232.841 263.088 233.544 264.229C232.735 265.383 231.941 266.418 230.652 267C228.033 268.145 225.026 267.757 222.194 267.346C222.351 266.824 222.592 266.233 222.365 265.734C222.234 265.493 222.071 265.271 221.88 265.074C221.264 264.194 220.835 263.198 220.619 262.146C220.278 260.894 219.936 259.55 220.619 258.354C220.86 257.934 220.968 257.451 220.929 256.969C220.342 249.117 218.592 240.97 220.204 233.253C220.375 232.431 220.578 231.609 220.666 230.773C220.753 229.571 220.768 228.365 220.712 227.161L220.73 225.439C220.647 223.651 220.73 221.818 220.361 220.049C220.107 218.784 219.626 217.509 220.217 216.216C220.345 215.922 220.403 215.602 220.388 215.282C220.373 214.962 220.284 214.649 220.13 214.368C218.885 212.19 217.885 209.88 217.146 207.482C216.993 206.813 216.783 206.158 216.518 205.524C216.158 204.856 215.744 204.218 215.28 203.617C213.894 201.58 213.035 199.22 212.213 196.892C212.3 196.675 212.213 196.38 212.005 196.43C211.892 196.458 211.787 196.508 211.694 196.577C211.601 196.646 211.523 196.733 211.464 196.832C210.337 198.347 210.24 200.37 210.189 202.264C210.105 204.019 210.135 205.777 210.282 207.529C210.374 208.452 210.536 209.376 210.619 210.3C210.727 212.014 210.7 213.734 210.536 215.444L209.968 223.822C209.887 224.518 209.927 225.223 210.088 225.905C210.458 227.084 210.639 228.314 210.624 229.549C210.478 234.63 210.925 239.711 211.954 244.688C212.231 246.074 212.559 247.432 212.799 248.812C213.279 252.088 213.516 255.395 213.51 258.705C213.561 260.742 213.594 262.862 212.79 264.709C212.475 265.289 212.244 265.911 212.106 266.556C212.106 266.887 212.062 267.216 211.977 267.536C211.741 268.141 211.053 268.399 210.402 268.538C209.209 268.797 207.984 268.884 206.767 268.796C206.481 268.793 206.199 268.73 205.94 268.612C205.478 268.376 205.247 267.877 204.9 267.503C204.157 266.69 202.919 266.441 202.24 265.573C201.39 264.483 201.746 262.908 202.24 261.624C202.734 260.34 203.367 258.95 202.933 257.638C202.42 256.1 200.623 255.269 200.115 253.717C201.501 247.464 198.092 240.998 198.383 234.602C198.452 233.11 198.711 231.632 198.715 230.14C198.715 226.298 197.066 222.557 197.33 218.724C198.027 208.983 194.706 199.257 193.302 189.591C193.033 188.149 192.934 186.681 193.006 185.217C193.214 182.797 194.337 180.548 195.685 178.53C196.655 177.084 197.819 175.666 199.422 174.992C200.743 174.433 202.221 174.438 203.653 174.447C207.229 174.475 210.804 174.502 214.379 174.567C216.812 174.532 219.242 174.748 221.631 175.214C223.566 175.652 225.377 176.553 227.34 176.835Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M169.578 132.429C169.232 130.734 169.888 128.919 169.375 127.27C169.19 126.674 168.737 126.055 168.114 126.069C167.49 126.083 167.098 126.679 166.562 126.96C165.698 127.422 164.645 127.002 163.79 126.549C162.936 126.097 161.943 125.58 161.019 125.852C160.908 126.443 161.305 127.002 161.739 127.413C162.216 127.777 162.611 128.236 162.899 128.762C163.116 129.307 163.014 129.916 163.06 130.503C163.157 131.842 163.984 133.001 164.857 134.045C166.226 135.727 167.68 137.338 169.213 138.871C169.213 138.871 171.523 135.989 171.49 135.486C171.458 134.983 170.668 134.562 170.382 134.184C169.988 133.665 169.713 133.066 169.578 132.429Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{opacity:"0.72",d:"M169.578 132.429C169.232 130.734 169.888 128.919 169.375 127.27C169.19 126.674 168.737 126.055 168.114 126.069C167.49 126.083 167.098 126.679 166.562 126.96C165.698 127.422 164.645 127.002 163.79 126.549C162.936 126.097 161.943 125.579 161.019 125.852C160.908 126.443 161.305 127.002 161.739 127.413C162.216 127.777 162.611 128.236 162.899 128.762C163.116 129.307 163.014 129.916 163.06 130.503C163.157 131.842 163.984 133.001 164.857 134.045C166.226 135.727 167.68 137.338 169.213 138.871C169.213 138.871 171.523 135.989 171.49 135.486C171.458 134.983 170.668 134.562 170.382 134.184C169.988 133.665 169.713 133.066 169.578 132.429Z",fill:"var(--center-channel-color)",fillOpacity:"0.72"}),h.a.createElement("path",{d:"M238.892 167.898C239.1 168.436 239.254 168.993 239.354 169.561C239.955 172.47 240.334 175.421 240.708 178.368C240.805 179.153 240.906 179.943 240.934 180.732C241.042 182.614 240.655 184.492 239.812 186.178C238.96 187.874 237.506 189.192 235.733 189.872C235.188 190.066 234.426 190.103 234.186 189.577C234.1 189.333 234.1 189.068 234.186 188.824C234.403 188.039 234.842 187.332 235.109 186.57C235.531 185.432 235.602 184.193 235.313 183.014C235.202 182.552 234.966 182.058 234.509 181.966C234.737 183.007 234.544 184.096 233.973 184.995C233.91 185.12 233.823 185.23 233.717 185.321C233.61 185.411 233.487 185.48 233.354 185.522C233.166 185.541 232.976 185.496 232.817 185.394C232.657 185.291 232.537 185.138 232.477 184.958C232.365 184.595 232.342 184.21 232.407 183.836C232.552 181.945 232.839 180.068 233.266 178.22C233.775 176.193 234.583 174.193 234.527 172.101C234.481 170.207 233.728 168.346 233.941 166.466C233.937 166.362 233.969 166.26 234.031 166.176C234.093 166.092 234.182 166.031 234.283 166.004C234.813 165.787 235.358 165.606 235.913 165.464C236.241 165.381 237.359 165.002 237.673 165.168C237.987 165.335 238.006 166.152 238.135 166.438C238.38 166.914 238.68 167.385 238.892 167.898Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{opacity:"0.72",d:"M238.892 167.898C239.1 168.436 239.254 168.993 239.354 169.561C239.955 172.47 240.334 175.421 240.708 178.368C240.805 179.153 240.906 179.943 240.934 180.732C241.042 182.614 240.655 184.492 239.812 186.178C238.96 187.874 237.506 189.192 235.733 189.872C235.188 190.066 234.426 190.103 234.186 189.577C234.1 189.333 234.1 189.068 234.186 188.824C234.403 188.039 234.842 187.332 235.109 186.57C235.531 185.432 235.602 184.193 235.313 183.014C235.202 182.552 234.966 182.058 234.509 181.966C234.737 183.007 234.544 184.096 233.973 184.995C233.91 185.12 233.823 185.23 233.717 185.321C233.61 185.411 233.487 185.48 233.354 185.522C233.166 185.541 232.976 185.496 232.817 185.394C232.657 185.291 232.537 185.138 232.477 184.958C232.365 184.595 232.342 184.21 232.407 183.836C232.552 181.945 232.839 180.068 233.266 178.22C233.775 176.193 234.583 174.193 234.527 172.101C234.481 170.207 233.728 168.346 233.941 166.466C233.937 166.362 233.969 166.26 234.031 166.176C234.093 166.092 234.182 166.031 234.283 166.004C234.813 165.787 235.358 165.606 235.913 165.464C236.241 165.381 237.359 165.002 237.673 165.168C237.987 165.335 238.006 166.152 238.135 166.438C238.38 166.914 238.68 167.385 238.892 167.898Z",fill:"var(--center-channel-color)",fillOpacity:"0.72"}),h.a.createElement("path",{d:"M201.51 111.784C205.783 111.784 209.247 108.321 209.247 104.048C209.247 99.776 205.783 96.3125 201.51 96.3125C197.237 96.3125 193.773 99.776 193.773 104.048C193.773 108.321 197.237 111.784 201.51 111.784Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{opacity:"0.72",d:"M201.51 111.784C205.783 111.784 209.247 108.321 209.247 104.048C209.247 99.7759 205.783 96.3125 201.51 96.3125C197.237 96.3125 193.773 99.7759 193.773 104.048C193.773 108.321 197.237 111.784 201.51 111.784Z",fill:"var(--center-channel-color)",fillOpacity:"0.72"}),h.a.createElement("path",{d:"M208.443 109.646C208.44 110.139 208.479 110.632 208.559 111.119C208.666 111.612 208.821 112.093 209.021 112.556C209.278 113.312 209.642 114.027 210.102 114.68C210.568 115.339 211.269 115.795 212.06 115.955C206.77 118.435 201.123 120.067 195.325 120.79C196.238 120.183 196.997 119.372 197.542 118.421C197.834 117.812 198.032 117.163 198.129 116.495C198.625 113.698 198.375 110.819 197.404 108.15C197.307 107.891 197.214 107.568 197.404 107.351C197.483 107.273 197.577 107.214 197.681 107.175C199.977 106.2 202.458 105.737 204.951 105.817C205.589 105.817 206.226 105.85 206.864 105.896C207.206 105.923 207.958 105.85 208.249 106.099C208.54 106.348 208.411 107.327 208.42 107.729L208.443 109.646Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{opacity:"0.72",d:"M208.443 109.646C208.44 110.139 208.479 110.632 208.559 111.119C208.666 111.612 208.821 112.093 209.021 112.555C209.278 113.312 209.642 114.027 210.101 114.68C210.568 115.339 211.268 115.795 212.06 115.955C206.77 118.435 201.123 120.067 195.325 120.79C196.238 120.183 196.997 119.372 197.542 118.421C197.834 117.812 198.031 117.163 198.129 116.495C198.625 113.698 198.375 110.819 197.404 108.149C197.307 107.891 197.214 107.568 197.404 107.351C197.483 107.273 197.577 107.213 197.681 107.175C199.977 106.2 202.458 105.737 204.951 105.817C205.589 105.817 206.226 105.85 206.863 105.896C207.205 105.923 207.958 105.85 208.249 106.099C208.54 106.348 208.411 107.327 208.42 107.729L208.443 109.646Z",fill:"var(--center-channel-color)",fillOpacity:"0.72"}),h.a.createElement("path",{d:"M212.536 115.29C211.397 113.832 209.804 112.798 208.009 112.351C206.214 111.904 204.322 112.07 202.633 112.823C198.937 114.583 197.136 118.827 193.898 121.284C193.161 121.836 192.376 122.32 191.551 122.73C191.065 122.998 190.547 123.202 190.008 123.339C189.403 123.473 188.775 123.455 188.161 123.598C187.012 123.935 186.034 124.694 185.422 125.723C185.12 126.261 184.783 126.779 184.415 127.274C184.078 127.676 183.657 128.004 183.302 128.387C182.013 129.773 181.662 131.759 181.371 133.625C180.362 134.685 179.261 135.654 178.082 136.52C177.712 136.806 177.301 137.033 176.863 137.195C175.731 137.564 174.479 137.098 173.514 136.4C172.548 135.703 171.763 134.784 170.811 134.091C169.938 135.338 169.024 136.594 168.091 137.786C167.951 138.018 167.736 138.194 167.481 138.285C167.306 138.876 167.726 139.485 168.04 140.012L169.726 142.848C170.286 143.879 170.97 144.837 171.763 145.702C172.581 146.553 173.685 147.071 174.862 147.157C175.607 147.15 176.344 147.007 177.038 146.736C180.271 145.656 183.205 143.933 186.276 142.464C186.83 142.149 187.45 141.967 188.087 141.933C188.405 141.926 188.717 142.023 188.975 142.208C189.234 142.394 189.425 142.659 189.519 142.963C189.87 144.737 190.216 146.501 190.697 148.237C191.156 149.881 191.579 151.53 191.967 153.184C192.227 154.199 192.413 155.231 192.521 156.273C192.572 156.864 192.577 157.456 192.586 158.051L192.651 165.219C192.651 165.995 192.216 166.475 191.875 167.168C191.36 168.245 191.282 169.48 191.658 170.613C191.847 171.172 192.147 171.69 192.36 172.244C192.868 173.579 192.849 175.047 192.822 176.474L192.761 179.744C192.744 179.88 192.768 180.019 192.831 180.141C193.029 180.451 193.51 180.271 193.815 180.058L195.325 179.024C197.372 179.306 199.441 179.407 201.505 179.324C207.376 179.241 213.252 179.472 219.109 179.883C221.067 180.021 223.086 180.169 224.934 179.518C225.857 179.185 226.735 178.654 227.705 178.391C228.101 178.326 228.477 178.168 228.8 177.929C229.336 177.435 229.192 176.544 228.975 175.869C228.781 175.26 228.564 174.655 228.319 174.063C228.07 173.519 227.867 172.955 227.71 172.378C227.419 171.075 227.71 169.565 226.892 168.503C225.072 166.124 226.361 162.462 225.594 159.566C225.349 158.643 224.984 157.719 224.753 156.795C224.606 156.204 224.513 155.604 224.425 155.003C224.183 153.703 224.064 152.382 224.07 151.059C224.07 150.399 224.176 149.738 224.259 149.082L224.837 144.519C225.557 145.87 226.059 147.326 226.324 148.833C226.849 151.085 227.496 153.307 228.264 155.488C228.698 156.804 229.132 158.116 229.604 159.423C229.905 160.17 230.135 160.943 230.292 161.732C230.393 162.365 230.398 163.012 230.472 163.644C230.627 165.009 231.102 166.317 231.858 167.464C231.999 167.73 232.232 167.937 232.514 168.046C232.701 168.087 232.895 168.087 233.082 168.046C235.124 167.642 237.102 166.958 238.957 166.014C239.352 165.848 239.694 165.58 239.95 165.238C240.449 164.425 239.89 163.413 239.645 162.49C239.401 161.566 239.447 160.314 238.671 159.654C235.959 157.345 237.285 152.666 235.95 149.378C235.71 148.801 235.433 148.242 235.23 147.651C235.073 147.189 234.957 146.727 234.842 146.265C233.896 142.438 232.883 138.625 231.802 134.825C230.684 130.891 230.804 126.794 229.396 122.952C229.131 122.149 228.786 121.375 228.366 120.642C227.894 119.876 227.264 119.219 226.518 118.716C224.472 117.363 222.412 116.213 220.005 115.724C217.598 115.234 214.984 115.262 212.536 115.29Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{d:"M212.536 115.29C211.397 113.832 209.804 112.798 208.009 112.351C206.214 111.904 204.322 112.07 202.633 112.823C198.937 114.583 197.136 118.827 193.898 121.284C193.161 121.836 192.376 122.32 191.551 122.73C191.065 122.998 190.547 123.202 190.008 123.339C189.403 123.473 188.775 123.455 188.161 123.598C187.012 123.935 186.034 124.694 185.422 125.723C185.12 126.261 184.783 126.779 184.415 127.274C184.078 127.676 183.657 128.004 183.302 128.387C182.013 129.773 181.662 131.759 181.371 133.625C180.362 134.685 179.261 135.654 178.082 136.52C177.712 136.806 177.301 137.033 176.863 137.195C175.731 137.564 174.479 137.098 173.514 136.4C172.548 135.703 171.763 134.784 170.811 134.091C169.938 135.338 169.024 136.594 168.091 137.786C167.951 138.018 167.736 138.194 167.481 138.285C167.306 138.876 167.726 139.485 168.04 140.012L169.726 142.848C170.286 143.879 170.97 144.837 171.763 145.702C172.581 146.553 173.685 147.071 174.862 147.157C175.607 147.15 176.344 147.007 177.038 146.736C180.271 145.656 183.205 143.933 186.276 142.464C186.83 142.149 187.45 141.967 188.087 141.933C188.405 141.926 188.717 142.023 188.975 142.208C189.234 142.394 189.425 142.659 189.519 142.963C189.87 144.737 190.216 146.501 190.697 148.237C191.156 149.881 191.579 151.53 191.967 153.184C192.227 154.199 192.413 155.231 192.521 156.273C192.572 156.864 192.577 157.456 192.586 158.051L192.651 165.219C192.651 165.995 192.216 166.475 191.875 167.168C191.36 168.245 191.282 169.48 191.658 170.613C191.847 171.172 192.147 171.69 192.36 172.244C192.868 173.579 192.849 175.047 192.822 176.474L192.761 179.744C192.744 179.88 192.768 180.019 192.831 180.141C193.029 180.451 193.51 180.271 193.815 180.058L195.325 179.024C197.372 179.306 199.441 179.407 201.505 179.324C207.376 179.241 213.252 179.472 219.109 179.883C221.067 180.021 223.086 180.169 224.934 179.518C225.857 179.185 226.735 178.654 227.705 178.391C228.101 178.326 228.477 178.168 228.8 177.929C229.336 177.435 229.192 176.544 228.975 175.869C228.781 175.26 228.564 174.655 228.319 174.063C228.07 173.519 227.867 172.955 227.71 172.378C227.419 171.075 227.71 169.565 226.892 168.503C225.072 166.124 226.361 162.462 225.594 159.566C225.349 158.643 224.984 157.719 224.753 156.795C224.606 156.204 224.513 155.604 224.425 155.003C224.183 153.703 224.064 152.382 224.07 151.059C224.07 150.399 224.176 149.738 224.259 149.082L224.837 144.519C225.557 145.87 226.059 147.326 226.324 148.833C226.849 151.085 227.496 153.307 228.264 155.488C228.698 156.804 229.132 158.116 229.604 159.423C229.905 160.17 230.135 160.943 230.292 161.732C230.393 162.365 230.398 163.012 230.472 163.644C230.627 165.009 231.102 166.317 231.858 167.464C231.999 167.73 232.232 167.937 232.514 168.046C232.701 168.087 232.895 168.087 233.082 168.046C235.124 167.642 237.102 166.958 238.957 166.014C239.352 165.848 239.694 165.58 239.95 165.238C240.449 164.425 239.89 163.413 239.645 162.49C239.401 161.566 239.447 160.314 238.671 159.654C235.959 157.345 237.285 152.666 235.95 149.378C235.71 148.801 235.433 148.242 235.23 147.651C235.073 147.189 234.957 146.727 234.842 146.265C233.896 142.438 232.883 138.625 231.802 134.825C230.684 130.891 230.804 126.794 229.396 122.952C229.131 122.149 228.786 121.375 228.366 120.642C227.894 119.876 227.264 119.219 226.518 118.716C224.472 117.363 222.412 116.213 220.005 115.724C217.598 115.234 214.984 115.262 212.536 115.29Z",fill:"var(--center-channel-color)",fillOpacity:"0.64"}),h.a.createElement("path",{d:"M194.48 105.942C193.44 105.383 193.713 103.859 193.556 102.709C193.191 100.303 190.48 98.8804 189.861 96.5342C190.592 96.6253 191.335 96.5201 192.013 96.2294C192.143 95.4504 191.989 94.6506 191.579 93.9756C193.81 93.0519 195.621 91.2923 197.884 90.4748C200.739 89.4449 203.889 90.0776 206.79 91.0337C208.226 91.4955 209.718 92.1282 210.587 93.366C211.538 94.7284 211.51 96.5157 211.473 98.1784C211.395 100.783 211.289 103.48 210.129 105.813C208.656 108.782 204.475 111.53 201.02 110.727C199.588 110.394 199.173 109.489 198.558 108.242C198.18 107.466 198.041 106.565 197.173 106.159C196.304 105.753 195.325 106.395 194.48 105.942Z",fill:"var(--center-channel-color)"}),h.a.createElement("g",{opacity:"0.1"},h.a.createElement("path",{opacity:"0.1",d:"M191.976 95.0933C191.907 94.6927 191.763 94.3089 191.551 93.9617C191.68 93.9094 191.81 93.854 191.939 93.7955C192.039 94.2211 192.052 94.6626 191.976 95.0933Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{opacity:"0.1",d:"M193.537 101.568C193.713 102.737 193.44 104.256 194.461 104.801C195.302 105.263 196.309 104.612 197.136 105.009C197.962 105.406 198.124 106.316 198.521 107.092C199.126 108.339 199.551 109.24 200.983 109.577C204.438 110.38 208.619 107.628 210.092 104.658C211.252 102.326 211.358 99.6286 211.436 97.0238C211.436 96.8945 211.436 96.7698 211.436 96.6405C211.436 97.1439 211.436 97.6519 211.436 98.1507C211.358 100.755 211.252 103.453 210.092 105.785C208.619 108.755 204.438 111.503 200.983 110.699C199.551 110.366 199.136 109.461 198.521 108.214C198.143 107.438 198.004 106.538 197.136 106.131C196.267 105.725 195.288 106.381 194.461 105.928C193.422 105.369 193.694 103.845 193.537 102.695C193.172 100.289 190.461 98.8665 189.842 96.5204C190.009 96.5428 190.177 96.5536 190.346 96.5527C191.339 98.2661 193.237 99.587 193.537 101.568Z",fill:"var(--center-channel-color)"})),h.a.createElement("defs",null,h.a.createElement("filter",{id:"filter0_f",x:"2",y:"1",width:"326.682",height:"256",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},h.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),h.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),h.a.createElement("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur"}))));var mv=()=>h.a.createElement("svg",{width:"250",height:"28",viewBox:"0 0 250 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65.0078 13.9091C65.0078 13.485 64.9367 13.1399 64.7947 12.8744C64.6531 12.6095 64.4579 12.4012 64.2096 12.2513C63.9614 12.1008 63.6553 11.9988 63.2919 11.9461C62.9282 11.893 62.5247 11.8666 62.0813 11.8666C61.1237 11.8666 60.1041 12.0521 59.0222 12.4235C58.7738 11.9636 58.5877 11.5301 58.4638 11.1235C58.3397 10.7169 58.2773 10.2305 58.2773 9.66432C59.0577 9.39911 59.8379 9.20461 60.6183 9.08082C61.3984 8.95703 62.126 8.89497 62.7995 8.89497C64.6441 8.89497 66.085 9.33705 67.1225 10.2217C68.1599 11.106 68.6787 12.5206 68.6787 14.4661V22.4249C68.0579 22.6194 67.3041 22.8053 66.4174 22.9821C65.531 23.159 64.5288 23.2475 63.4115 23.2475C62.5071 23.2475 61.6778 23.1678 60.924 23.0086C60.1704 22.8495 59.5229 22.584 58.9826 22.2126C58.4414 21.8416 58.0248 21.3639 57.7318 20.7802C57.4395 20.1964 57.2931 19.4803 57.2931 18.6312C57.2931 17.7825 57.4749 17.0706 57.8384 16.4958C58.2019 15.9211 58.6721 15.461 59.2482 15.1163C59.8248 14.7714 60.4675 14.5238 61.1771 14.3734C61.8864 14.223 62.5957 14.1479 63.305 14.1479C63.8194 14.1479 64.3868 14.1746 65.0078 14.2274V13.9091ZM65.0078 16.6418C64.7947 16.6063 64.5643 16.5751 64.3157 16.5488C64.0675 16.5224 63.8463 16.5092 63.6509 16.5092C62.7818 16.5092 62.0946 16.6636 61.589 16.9733C61.0837 17.2828 60.831 17.7825 60.831 18.4722C60.831 18.9322 60.9286 19.2856 61.1237 19.5335C61.3187 19.7809 61.5538 19.9622 61.8286 20.077C62.1036 20.1921 62.3959 20.2629 62.7063 20.2895C63.017 20.3158 63.2874 20.3295 63.5176 20.3295C63.7839 20.3295 64.05 20.3071 64.3157 20.2629C64.582 20.2186 64.8124 20.1791 65.0078 20.1435V16.6418ZM71.1971 12.0785H69.4678L69.3345 11.5479L74.3094 5.20742H74.9212V9.21326H78.1399C78.1928 9.47881 78.2285 9.7174 78.2466 9.92954C78.2639 10.142 78.2727 10.363 78.2727 10.5931C78.2727 10.8405 78.2639 11.0792 78.2466 11.3092C78.2285 11.5393 78.1928 11.7957 78.1399 12.0785H74.9212V17.4642C74.9212 18.0123 74.9657 18.4543 75.0545 18.7906C75.1427 19.1262 75.2714 19.3918 75.4398 19.5864C75.6086 19.7809 75.8167 19.9135 76.065 19.9842C76.3133 20.0553 76.6062 20.0906 76.9427 20.0906C77.209 20.0906 77.4703 20.0684 77.7278 20.0241C77.9847 19.98 78.2108 19.9402 78.4059 19.9049C78.5303 20.2405 78.6186 20.59 78.672 20.9527C78.7254 21.3152 78.7517 21.6383 78.7517 21.9211C78.7517 22.1156 78.7475 22.2791 78.7385 22.4119C78.7296 22.5443 78.7165 22.673 78.6985 22.7965C77.8829 22.9913 77.0407 23.0881 76.1716 23.0881C74.5576 23.0881 73.3249 22.7125 72.4739 21.9611C71.6227 21.2092 71.1971 19.9842 71.1971 18.2865V12.0785ZM81.1775 12.0785H79.4485L79.3152 11.5479L84.2899 5.20742H84.9017V9.21326H88.1205C88.1736 9.47881 88.2093 9.7174 88.2271 9.92954C88.2445 10.142 88.2535 10.363 88.2535 10.5931C88.2535 10.8405 88.2445 11.0792 88.2271 11.3092C88.2093 11.5393 88.1736 11.7957 88.1205 12.0785H84.9017V17.4642C84.9017 18.0123 84.9465 18.4543 85.0349 18.7906C85.1236 19.1262 85.2522 19.3918 85.4205 19.5864C85.5892 19.7809 85.7971 19.9135 86.0457 19.9842C86.2938 20.0553 86.5868 20.0906 86.9233 20.0906C87.1894 20.0906 87.4509 20.0684 87.7083 20.0241C87.9654 19.98 88.1916 19.9402 88.3866 19.9049C88.5107 20.2405 88.5993 20.59 88.6524 20.9527C88.7059 21.3152 88.7325 21.6383 88.7325 21.9211C88.7325 22.1156 88.728 22.2791 88.719 22.4119C88.7104 22.5443 88.6971 22.673 88.6792 22.7965C87.8634 22.9913 87.0214 23.0881 86.152 23.0881C84.5384 23.0881 83.3056 22.7125 82.4544 21.9611C81.6032 21.2092 81.1775 19.9842 81.1775 18.2865V12.0785ZM98.6515 14.5993C98.6161 13.7499 98.3809 13.0648 97.9465 12.543C97.5121 12.0212 96.9047 11.7601 96.1242 11.7601C95.2375 11.7601 94.5637 12.0078 94.1025 12.503C93.6415 12.9983 93.3668 13.697 93.2782 14.5993H98.6515ZM93.2513 17.2253C93.3224 18.2865 93.6948 19.0558 94.3686 19.5335C95.0425 20.011 95.9292 20.2498 97.029 20.2498C97.6319 20.2498 98.2478 20.1921 98.8776 20.077C99.5073 19.9622 100.106 19.7986 100.673 19.5864C100.868 19.9402 101.037 20.3646 101.179 20.8599C101.321 21.3547 101.4 21.8857 101.418 22.4515C100.035 22.9821 98.4739 23.2475 96.7359 23.2475C95.4592 23.2475 94.3644 23.0707 93.4506 22.7168C92.5375 22.3632 91.7926 21.8721 91.2163 21.2447C90.6399 20.6168 90.2141 19.8694 89.9394 19.0026C89.6646 18.1361 89.5274 17.19 89.5274 16.1644C89.5274 15.1561 89.669 14.2099 89.9528 13.3256C90.2363 12.4409 90.6576 11.6719 91.2163 11.0177C91.7749 10.363 92.4664 9.84577 93.2913 9.46541C94.1159 9.08523 95.078 8.89497 96.1775 8.89497C97.1351 8.89497 97.9865 9.06301 98.7312 9.39911C99.4761 9.73504 100.11 10.1951 100.633 10.7789C101.156 11.3621 101.551 12.0567 101.817 12.8613C102.083 13.6659 102.216 14.5284 102.216 15.4478C102.216 15.7839 102.203 16.1158 102.176 16.4427C102.15 16.7696 102.118 17.0308 102.083 17.2253H93.2513ZM103.659 9.21326C103.925 9.16052 104.177 9.1205 104.417 9.09422C104.657 9.06725 104.918 9.0542 105.202 9.0542C105.468 9.0542 105.73 9.07217 105.986 9.1071C106.244 9.14254 106.496 9.18697 106.744 9.24005C106.798 9.32857 106.847 9.4566 106.891 9.62464C106.935 9.79269 106.975 9.96956 107.011 10.1554C107.046 10.3411 107.077 10.5264 107.104 10.7125C107.13 10.8983 107.152 11.0525 107.17 11.1769C107.56 10.6283 108.039 10.1374 108.607 9.70434C109.174 9.27091 109.884 9.0542 110.735 9.0542C110.912 9.0542 111.116 9.06301 111.347 9.08082C111.577 9.09846 111.746 9.12491 111.852 9.16052C111.888 9.33705 111.914 9.54053 111.932 9.77048C111.95 10.0004 111.959 10.2392 111.959 10.4869C111.959 10.7876 111.945 11.1147 111.919 11.4684C111.892 11.8221 111.843 12.1581 111.772 12.4765C111.577 12.4409 111.36 12.4235 111.121 12.4235C110.881 12.4235 110.735 12.4235 110.682 12.4235C110.38 12.4235 110.043 12.4545 109.671 12.5162C109.298 12.5783 108.944 12.7417 108.607 13.0073C108.27 13.2725 107.99 13.6705 107.769 14.2013C107.547 14.7315 107.436 15.4744 107.436 16.4296V22.9559C107.117 23.0086 106.798 23.044 106.478 23.0617C106.159 23.0795 105.849 23.0881 105.547 23.0881C105.246 23.0881 104.94 23.0795 104.63 23.0617C104.319 23.044 103.996 23.0086 103.659 22.9559V9.21326ZM113.729 9.21326C113.977 9.16052 114.226 9.1205 114.474 9.09422C114.722 9.06725 114.997 9.0542 115.299 9.0542C115.6 9.0542 115.866 9.06725 116.097 9.09422C116.327 9.1205 116.567 9.16052 116.815 9.21326C116.868 9.30177 116.917 9.43014 116.961 9.59819C117.006 9.76607 117.046 9.94327 117.081 10.1286C117.117 10.3145 117.147 10.4956 117.174 10.6724C117.201 10.8493 117.223 10.9997 117.241 11.1235C117.382 10.8585 117.569 10.5931 117.799 10.3275C118.03 10.0627 118.305 9.82406 118.624 9.61142C118.943 9.39911 119.302 9.22665 119.701 9.09422C120.1 8.96127 120.548 8.89497 121.045 8.89497C123.19 8.89497 124.565 9.70875 125.168 11.336C125.522 10.6814 126.024 10.1113 126.671 9.62464C127.318 9.13814 128.138 8.89497 129.132 8.89497C130.692 8.89497 131.84 9.32433 132.576 10.182C133.313 11.0396 133.681 12.3794 133.681 14.2013V22.9292C133.042 23.0354 132.412 23.0881 131.792 23.0881C131.171 23.0881 130.541 23.0354 129.903 22.9292V15.1824C129.903 14.2274 129.783 13.4936 129.544 12.9808C129.305 12.4679 128.821 12.2113 128.094 12.2113C127.792 12.2113 127.496 12.2557 127.203 12.3439C126.91 12.4321 126.644 12.5957 126.405 12.8347C126.166 13.0734 125.971 13.4097 125.82 13.843C125.669 14.2759 125.594 14.8378 125.594 15.5275V22.9292C124.955 23.0354 124.325 23.0881 123.705 23.0881C123.084 23.0881 122.454 23.0354 121.816 22.9292V15.1824C121.816 14.2274 121.696 13.4936 121.457 12.9808C121.217 12.4679 120.734 12.2113 120.007 12.2113C119.706 12.2113 119.404 12.2557 119.103 12.3439C118.802 12.4321 118.531 12.6047 118.291 12.8613C118.052 13.1175 117.861 13.4757 117.72 13.9357C117.578 14.3954 117.507 14.9969 117.507 15.7396V22.9292C116.868 23.0354 116.239 23.0881 115.618 23.0881C114.997 23.0881 114.368 23.0354 113.729 22.9292V9.21326ZM141.374 20.3822C142.367 20.3822 143.081 20.0154 143.515 19.2812C143.95 18.5474 144.167 17.4905 144.167 16.1112C144.167 14.7315 143.95 13.6749 143.515 12.9408C143.081 12.2066 142.367 11.8398 141.374 11.8398C140.398 11.8398 139.693 12.2066 139.259 12.9408C138.824 13.6749 138.607 14.7315 138.607 16.1112C138.607 17.4905 138.824 18.5474 139.259 19.2812C139.693 20.0154 140.398 20.3822 141.374 20.3822ZM141.374 23.2475C140.256 23.2475 139.285 23.0661 138.461 22.7035C137.636 22.3412 136.953 21.837 136.412 21.1913C135.872 20.5457 135.464 19.7897 135.189 18.923C134.914 18.0564 134.776 17.1193 134.776 16.1112C134.776 15.1031 134.914 14.1567 135.189 13.2725C135.464 12.3882 135.872 11.6232 136.412 10.9777C136.953 10.3319 137.636 9.82406 138.461 9.45219C139.285 9.08082 140.256 8.89497 141.374 8.89497C142.491 8.89497 143.466 9.08082 144.3 9.45219C145.133 9.82406 145.825 10.3319 146.375 10.9777C146.925 11.6232 147.332 12.3882 147.599 13.2725C147.865 14.1567 147.997 15.1031 147.997 16.1112C147.997 17.1193 147.865 18.0564 147.599 18.923C147.332 19.7897 146.925 20.5457 146.375 21.1913C145.825 21.837 145.133 22.3412 144.3 22.7035C143.466 23.0661 142.491 23.2475 141.374 23.2475ZM152.101 16.9601C151.107 16.6769 150.331 16.257 149.773 15.6998C149.214 15.1429 148.935 14.3071 148.935 13.1926C148.935 11.8484 149.418 10.7966 150.385 10.036C151.351 9.27532 152.668 8.89497 154.335 8.89497C155.027 8.89497 155.709 8.95703 156.383 9.08082C157.057 9.20461 157.74 9.39012 158.432 9.63804C158.396 10.0976 158.307 10.5751 158.165 11.0706C158.024 11.5656 157.855 11.9988 157.66 12.3707C157.235 12.1937 156.765 12.0389 156.25 11.9061C155.736 11.7737 155.195 11.7073 154.628 11.7073C154.025 11.7073 153.555 11.8001 153.218 11.9858C152.881 12.1716 152.712 12.4679 152.712 12.8744C152.712 13.2635 152.832 13.5377 153.071 13.697C153.311 13.856 153.652 14.0068 154.096 14.1479L155.612 14.5993C156.109 14.7405 156.556 14.9128 156.955 15.1163C157.354 15.3198 157.696 15.5718 157.979 15.8722C158.263 16.1729 158.485 16.5444 158.644 16.9865C158.804 17.4288 158.884 17.968 158.884 18.6046C158.884 19.2593 158.746 19.8694 158.472 20.4353C158.197 21.0013 157.798 21.4921 157.275 21.9075C156.751 22.3235 156.117 22.6506 155.372 22.8892C154.628 23.1281 153.785 23.2475 152.845 23.2475C152.419 23.2475 152.03 23.2341 151.675 23.2077C151.32 23.1809 150.979 23.1368 150.651 23.0751C150.323 23.013 149.999 22.938 149.68 22.8495C149.361 22.7612 149.015 22.6462 148.642 22.5046C148.678 22.0269 148.762 21.545 148.895 21.0588C149.028 20.5727 149.201 20.0992 149.414 19.6393C149.999 19.8694 150.553 20.0417 151.077 20.1567C151.6 20.2718 152.145 20.3295 152.712 20.3295C152.961 20.3295 153.231 20.3071 153.524 20.2629C153.816 20.2186 154.087 20.1391 154.335 20.0241C154.584 19.9091 154.792 19.7587 154.96 19.5732C155.129 19.3875 155.213 19.1443 155.213 18.8434C155.213 18.4192 155.084 18.114 154.827 17.9283C154.57 17.7428 154.211 17.5787 153.75 17.4374L152.101 16.9601ZM161.301 12.0785H159.573L159.439 11.5479L164.414 5.20742H165.026V9.21326H168.245C168.298 9.47881 168.333 9.7174 168.351 9.92954C168.369 10.142 168.378 10.363 168.378 10.5931C168.378 10.8405 168.369 11.0792 168.351 11.3092C168.333 11.5393 168.298 11.7957 168.245 12.0785H165.026V17.4642C165.026 18.0123 165.07 18.4543 165.159 18.7906C165.248 19.1262 165.376 19.3918 165.544 19.5864C165.713 19.7809 165.921 19.9135 166.17 19.9842C166.418 20.0553 166.711 20.0906 167.047 20.0906C167.314 20.0906 167.575 20.0684 167.832 20.0241C168.089 19.98 168.315 19.9402 168.51 19.9049C168.635 20.2405 168.723 20.59 168.776 20.9527C168.83 21.3152 168.856 21.6383 168.856 21.9211C168.856 22.1156 168.852 22.2791 168.843 22.4119C168.834 22.5443 168.821 22.673 168.803 22.7965C167.988 22.9913 167.145 23.0881 166.276 23.0881C164.662 23.0881 163.43 22.7125 162.578 21.9611C161.727 21.2092 161.301 19.9842 161.301 18.2865V12.0785ZM36.6469 5.01376C37.4156 4.9071 38.1551 4.85352 38.8659 4.85352C39.6152 4.85352 40.355 4.9071 41.085 5.01376L45.84 14.8563L50.7391 5.01376C51.3347 4.9071 51.9972 4.85352 52.7275 4.85352C53.4576 4.85352 54.1585 4.9071 54.8312 5.01376L55.8109 23.0874C55.0811 23.1943 54.3894 23.2475 53.7363 23.2475C53.0827 23.2475 52.4394 23.1943 51.8056 23.0874L51.2866 10.0199L47.0791 19.0516C46.8099 19.0872 46.5316 19.1187 46.2432 19.145C45.955 19.1718 45.6671 19.185 45.3787 19.185C45.1288 19.185 44.8793 19.1762 44.6297 19.1584C44.3799 19.1406 44.1206 19.1048 43.8515 19.0516L39.9323 9.83271L39.5288 23.0874C38.9142 23.1943 38.3185 23.2475 37.7419 23.2475C37.1271 23.2475 36.4929 23.1943 35.8401 23.0874L36.6469 5.01376Z",fill:"var(--button-bg)"}),h.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7948 11.4403C18.7948 11.4403 18.8382 13.3508 17.5134 14.6487C16.1884 15.9466 14.5611 15.828 13.5025 15.4695C12.4437 15.1111 11.079 14.2168 10.8149 12.3811C10.5508 10.5453 11.7458 9.05398 11.7458 9.05398L14.3497 5.81577L15.8663 3.96632L17.1681 2.35463C17.1681 2.35463 17.7655 1.55441 17.9358 1.38925C17.9695 1.35653 18.0041 1.33505 18.038 1.31852L18.0627 1.30591L18.0672 1.3042C18.1388 1.27335 18.2213 1.26671 18.3009 1.29364C18.3787 1.32006 18.4391 1.37357 18.4773 1.43953L18.4853 1.45232L18.4923 1.46698C18.5108 1.50209 18.5263 1.54214 18.5337 1.59157C18.5684 1.82626 18.557 2.82488 18.557 2.82488L18.6121 4.89573L18.6934 7.28616L18.7948 11.4403ZM22.1655 2.67214C26.9815 6.17725 29.1903 12.5383 27.1819 18.4877C24.7101 25.8095 16.7872 29.7357 9.48576 27.2572C2.18429 24.7785 -1.73091 16.8337 0.740758 9.51193C2.75249 3.55281 8.37502 -0.156665 14.3346 0.00508354L12.4243 2.26837C8.88883 2.90939 5.83622 5.33051 4.63642 8.88471C2.85125 14.1726 5.84335 19.9664 11.3195 21.8253C16.7956 23.6842 22.682 20.9045 24.4672 15.6166C25.6631 12.0742 24.7149 8.30504 22.3125 5.6436L22.1655 2.67214Z",fill:"var(--button-bg)"}),h.a.createElement("path",{d:"M198.691 7.40234C196.809 7.40234 195.32 8.03125 194.227 9.28906C193.141 10.5391 192.598 12.2539 192.598 14.4336C192.598 16.6758 193.121 18.4102 194.168 19.6367C195.223 20.8555 196.723 21.4648 198.668 21.4648C199.863 21.4648 201.227 21.25 202.758 20.8203V22.5664C201.57 23.0117 200.105 23.2344 198.363 23.2344C195.84 23.2344 193.891 22.4688 192.516 20.9375C191.148 19.4062 190.465 17.2305 190.465 14.4102C190.465 12.6445 190.793 11.0977 191.449 9.76953C192.113 8.44141 193.066 7.41797 194.309 6.69922C195.559 5.98047 197.027 5.62109 198.715 5.62109C200.512 5.62109 202.082 5.94922 203.426 6.60547L202.582 8.31641C201.285 7.70703 199.988 7.40234 198.691 7.40234Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),h.a.createElement("path",{d:"M207.188 23H205.243V4.76562H207.188V23Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),h.a.createElement("path",{d:"M221.439 16.5664C221.439 18.6602 220.912 20.2969 219.857 21.4766C218.803 22.6484 217.346 23.2344 215.486 23.2344C214.338 23.2344 213.318 22.9648 212.428 22.4258C211.537 21.8867 210.85 21.1133 210.365 20.1055C209.881 19.0977 209.639 17.918 209.639 16.5664C209.639 14.4727 210.162 12.8438 211.209 11.6797C212.256 10.5078 213.709 9.92188 215.568 9.92188C217.365 9.92188 218.791 10.5195 219.846 11.7148C220.908 12.9102 221.439 14.5273 221.439 16.5664ZM211.654 16.5664C211.654 18.207 211.982 19.457 212.639 20.3164C213.295 21.1758 214.26 21.6055 215.533 21.6055C216.807 21.6055 217.771 21.1797 218.428 20.3281C219.092 19.4688 219.424 18.2148 219.424 16.5664C219.424 14.9336 219.092 13.6953 218.428 12.8516C217.771 12 216.799 11.5742 215.51 11.5742C214.236 11.5742 213.275 11.9922 212.627 12.8281C211.978 13.6641 211.654 14.9102 211.654 16.5664Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),h.a.createElement("path",{d:"M225.729 10.1562V18.4883C225.729 19.5352 225.968 20.3164 226.444 20.832C226.921 21.3477 227.667 21.6055 228.682 21.6055C230.026 21.6055 231.007 21.2383 231.624 20.5039C232.249 19.7695 232.561 18.5703 232.561 16.9062V10.1562H234.507V23H232.901L232.62 21.2773H232.515C232.116 21.9102 231.561 22.3945 230.85 22.7305C230.147 23.0664 229.343 23.2344 228.436 23.2344C226.874 23.2344 225.702 22.8633 224.921 22.1211C224.147 21.3789 223.761 20.1914 223.761 18.5586V10.1562H225.729Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),h.a.createElement("path",{d:"M246.426 21.2773H246.32C245.422 22.582 244.078 23.2344 242.289 23.2344C240.609 23.2344 239.301 22.6602 238.363 21.5117C237.433 20.3633 236.969 18.7305 236.969 16.6133C236.969 14.4961 237.437 12.8516 238.375 11.6797C239.312 10.5078 240.617 9.92188 242.289 9.92188C244.031 9.92188 245.367 10.5547 246.297 11.8203H246.449L246.367 10.8945L246.32 9.99219V4.76562H248.265V23H246.683L246.426 21.2773ZM242.535 21.6055C243.863 21.6055 244.824 21.2461 245.418 20.5273C246.019 19.8008 246.32 18.6328 246.32 17.0234V16.6133C246.32 14.793 246.015 13.4961 245.406 12.7227C244.805 11.9414 243.84 11.5508 242.512 11.5508C241.371 11.5508 240.496 11.9961 239.887 12.8867C239.285 13.7695 238.984 15.0195 238.984 16.6367C238.984 18.2773 239.285 19.5156 239.887 20.3516C240.488 21.1875 241.371 21.6055 242.535 21.6055Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),h.a.createElement("line",{x1:"180.5",y1:"2.18557e-08",x2:"180.5",y2:"28",stroke:"var(--center-channel-color)",strokeOpacity:"0.32"}));var uv=()=>h.a.createElement("svg",{width:"444",height:"313",viewBox:"0 0 444 313",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.a.createElement("g",{filter:"url(#filter0_f)"},h.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M375.682 51.9045C375.687 51.0023 375.514 50.1079 375.173 49.2725C374.832 48.4372 374.329 47.6771 373.695 47.0359C373.06 46.3947 372.305 45.8849 371.473 45.5356C370.641 45.1862 369.748 45.0042 368.846 45H63.8364C62.0143 45.0098 60.2706 45.7425 58.9887 47.0373C57.7068 48.332 56.9915 50.0827 57.0001 51.9045V235H57V256.651C57 258.464 57.7203 260.203 59.0023 261.484C60.2844 262.766 62.0232 263.486 63.8363 263.486H177.93L174.5 293H257L252.492 263.486H366C372.432 263.491 375.686 260.871 375.682 254C375.681 253.275 375.682 241.333 375.682 236.761C375.682 235.671 375.682 235 375.682 235L375.682 51.9045Z",fill:"var(--center-channel-color)",fillOpacity:"0.08"})),h.a.createElement("path",{d:"M211.507 300.921C293.251 300.921 359.518 298.651 359.518 295.849C359.518 293.048 293.251 290.777 211.507 290.777C129.762 290.777 63.4951 293.048 63.4951 295.849C63.4951 298.651 129.762 300.921 211.507 300.921Z",fill:"var(--center-channel-color)",fillOpacity:"0.08"}),h.a.createElement("path",{opacity:"0.1",d:"M253.208 293.482H212.135L170.979 292.955L171.224 290.845H252.802L253.208 293.482Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M253.287 294.008L170.979 292.955L171.224 290.844L175.201 256.026H247.485L252.802 290.844L253.208 293.482L253.287 294.008Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{d:"M370.682 46.9045C370.687 46.0023 370.514 45.1079 370.173 44.2725C369.832 43.4372 369.329 42.6771 368.695 42.0359C368.06 41.3947 367.305 40.8849 366.473 40.5356C365.641 40.1862 364.748 40.0042 363.846 40H58.8364C57.0143 40.0098 55.2706 40.7425 53.9887 42.0373C52.7068 43.332 51.9915 45.0827 52.0001 46.9045V231.761H370.682V46.9045Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{d:"M253.287 294.008L170.979 292.955L171.224 290.844L175.201 256.026H247.485L252.802 290.844L253.208 293.482L253.287 294.008Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),h.a.createElement("path",{d:"M266.479 291.371H157.26V294.008H266.479V291.371Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{d:"M266.479 291.371H157.26V294.008H266.479V291.371Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),h.a.createElement("path",{opacity:"0.1",d:"M220.048 258.4L252.885 291.371L247.846 258.4H220.048Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M370.682 46.9045C370.687 46.0023 370.514 45.1079 370.173 44.2725C369.832 43.4372 369.329 42.6771 368.695 42.0359C368.06 41.3947 367.305 40.8849 366.473 40.5356C365.641 40.1862 364.748 40.0042 363.846 40H58.8364C57.0143 40.0098 55.2706 40.7425 53.9887 42.0373C52.7068 43.332 51.9915 45.0827 52.0001 46.9045V231.761H370.682V46.9045Z",fill:"var(--center-channel-color)",fillOpacity:"0.72"}),h.a.createElement("path",{d:"M52 229.914V251.565C52 253.378 52.7203 255.116 54.0023 256.398C55.2844 257.68 57.0232 258.4 58.8363 258.4H363.846C364.743 258.401 365.633 258.224 366.462 257.881C367.292 257.538 368.046 257.034 368.681 256.399C369.316 255.765 369.819 255.011 370.163 254.181C370.506 253.352 370.682 252.463 370.682 251.565V229.914H52Z",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{d:"M52 230V251.651C52 253.464 52.7203 255.202 54.0023 256.484C55.2844 257.766 57.0232 258.486 58.8363 258.486H363.846C364.743 258.487 365.633 258.311 366.462 257.967C367.292 257.624 368.046 257.121 368.681 256.486C369.316 255.851 369.819 255.097 370.163 254.268C370.506 253.438 370.682 252.549 370.682 251.651V230H52Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),h.a.createElement("path",{d:"M359.074 51.6061H65.1924V217.781H359.074V51.6061Z",fill:"var(--center-channel-bg)"}),h.a.createElement("circle",{cx:"211.5",cy:"244.5",r:"7.5",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),h.a.createElement("path",{d:"M142 297.109C150.284 297.109 157 296.438 157 295.609C157 294.781 150.284 294.109 142 294.109C133.716 294.109 127 294.781 127 295.609C127 296.438 133.716 297.109 142 297.109Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),h.a.createElement("path",{d:"M141.665 296.388C142.625 296.388 143.402 295.371 143.402 294.116C143.402 292.861 142.625 291.843 141.665 291.843C140.706 291.843 139.929 292.861 139.929 294.116C139.929 295.371 140.706 296.388 141.665 296.388Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M141.665 293.612C142.625 293.612 143.402 292.595 143.402 291.34C143.402 290.085 142.625 289.068 141.665 289.068C140.706 289.068 139.929 290.085 139.929 291.34C139.929 292.595 140.706 293.612 141.665 293.612Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M141.665 290.832C142.625 290.832 143.402 289.815 143.402 288.56C143.402 287.305 142.625 286.288 141.665 286.288C140.706 286.288 139.929 287.305 139.929 288.56C139.929 289.815 140.706 290.832 141.665 290.832Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M141.665 288.056C142.625 288.056 143.402 287.039 143.402 285.784C143.402 284.529 142.625 283.512 141.665 283.512C140.706 283.512 139.929 284.529 139.929 285.784C139.929 287.039 140.706 288.056 141.665 288.056Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M141.665 285.276C142.625 285.276 143.402 284.259 143.402 283.004C143.402 281.749 142.625 280.732 141.665 280.732C140.706 280.732 139.929 281.749 139.929 283.004C139.929 284.259 140.706 285.276 141.665 285.276Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M141.665 282.5C142.625 282.5 143.402 281.483 143.402 280.228C143.402 278.973 142.625 277.956 141.665 277.956C140.706 277.956 139.929 278.973 139.929 280.228C139.929 281.483 140.706 282.5 141.665 282.5Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M141.665 279.72C142.625 279.72 143.402 278.703 143.402 277.448C143.402 276.193 142.625 275.176 141.665 275.176C140.706 275.176 139.929 276.193 139.929 277.448C139.929 278.703 140.706 279.72 141.665 279.72Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M148.165 258.438C148.402 258.137 148.618 257.819 148.811 257.487L144.248 256.739L149.181 256.776C149.654 255.746 149.913 254.63 149.94 253.497C149.968 252.364 149.765 251.237 149.342 250.185L142.719 253.621L148.825 249.132C148.252 248.147 147.482 247.29 146.564 246.615C145.645 245.94 144.598 245.461 143.486 245.208C142.375 244.955 141.223 244.933 140.103 245.143C138.983 245.354 137.918 245.792 136.974 246.432C136.03 247.071 135.228 247.898 134.618 248.86C134.007 249.823 133.601 250.9 133.424 252.026C133.248 253.152 133.305 254.303 133.592 255.406C133.879 256.509 134.39 257.541 135.093 258.438C134.723 258.91 134.404 259.419 134.141 259.958L140.067 263.034L133.748 260.914C133.459 261.774 133.31 262.676 133.31 263.583C133.306 265.449 133.935 267.261 135.093 268.724C134.129 269.95 133.53 271.423 133.364 272.974C133.198 274.524 133.471 276.091 134.153 277.493C134.835 278.896 135.898 280.079 137.22 280.906C138.543 281.733 140.071 282.172 141.631 282.172C143.191 282.172 144.719 281.733 146.041 280.906C147.364 280.079 148.427 278.896 149.109 277.493C149.791 276.091 150.064 274.524 149.898 272.974C149.732 271.423 149.133 269.95 148.169 268.724C149.323 267.257 149.95 265.446 149.949 263.58C149.948 261.715 149.319 259.904 148.165 258.438Z",fill:"var(--online-indicator)"}),h.a.createElement("path",{opacity:"0.1",d:"M133.31 263.579C133.306 265.444 133.935 267.256 135.093 268.719C134.129 269.946 133.53 271.418 133.364 272.969C133.198 274.52 133.471 276.086 134.153 277.489C134.835 278.892 135.898 280.074 137.22 280.901C138.543 281.729 140.071 282.168 141.631 282.168C143.191 282.168 144.719 281.729 146.041 280.901C147.364 280.074 148.427 278.892 149.109 277.489C149.791 276.086 150.064 274.52 149.898 272.969C149.732 271.418 149.133 269.946 148.169 268.719C149.282 267.306 133.31 262.646 133.31 263.579Z",fill:"var(--center-channel-color)"}),h.a.createElement("path",{d:"M443.193 16.0555C443.193 16.0555 400.368 13.4855 405.413 43.3313C405.413 43.3313 404.396 48.6073 409.218 51C409.218 51 409.294 48.7894 413.612 49.543C415.149 49.7964 416.711 49.8711 418.266 49.7654C420.363 49.6282 422.358 48.8169 423.952 47.4536C423.952 47.4536 435.991 42.5063 440.67 22.9399C440.67 22.9399 444.133 18.6706 443.996 17.5726L436.769 20.643C436.769 20.643 439.241 25.8281 437.278 30.1362C437.278 30.1362 437.044 20.8283 435.655 21.0308C435.376 21.0715 431.902 22.8264 431.902 22.8264C431.902 22.8264 436.149 31.8558 432.944 38.4224C432.944 38.4224 434.16 27.2936 430.574 23.4792L425.488 26.4334C425.488 26.4334 430.452 35.7616 427.085 43.3747C427.085 43.3747 427.949 31.6994 424.415 27.1517L419.807 30.7279C419.807 30.7279 424.471 39.9192 421.628 46.2335C421.628 46.2335 421.256 32.646 418.81 31.6194C418.81 31.6194 414.776 35.1603 414.161 36.6069C414.161 36.6069 417.355 43.2843 415.371 46.8049C415.371 46.8049 414.156 37.7502 413.159 37.6996C413.159 37.6996 409.141 43.6988 408.724 47.8166C408.724 47.8166 408.897 41.7007 412.187 37.1331C412.187 37.1331 408.301 37.7958 406.033 40.2975C406.033 40.2975 406.658 36.0586 413.179 35.6843C413.179 35.6843 416.5 31.1316 417.385 30.8586C417.385 30.8586 410.905 30.3161 406.974 32.0524C406.974 32.0524 410.432 28.0513 418.575 29.8722L423.127 26.1743C423.127 26.1743 414.593 25.0157 410.972 26.2959C410.972 26.2959 415.137 22.755 424.353 25.3349L429.307 22.3906C429.307 22.3906 422.029 20.8324 417.696 21.3789C417.696 21.3789 422.273 18.9256 430.762 21.5864L434.322 20.0042C434.322 20.0042 428.992 18.9622 427.43 18.7954C425.868 18.6286 425.788 18.2037 425.788 18.2037C429.164 17.6437 432.631 18.0272 435.802 19.3116C435.802 19.3116 443.32 16.5261 443.193 16.0555Z",fill:"var(--online-indicator)"}),h.a.createElement("path",{d:"M384.646 0.0251977C384.646 0.0251977 365.998 -1.14679 368.177 12.495C368.177 12.495 367.739 14.9053 369.836 16C369.836 16 369.87 14.9766 371.754 15.3296C372.424 15.4471 373.104 15.4815 373.781 15.4321C374.696 15.3689 375.567 14.995 376.259 14.3675C376.259 14.3675 381.51 12.1059 383.551 3.16163C383.551 3.16163 385.058 1.21228 384.998 0.710652L381.848 2.11265C381.848 2.11265 382.923 4.48177 382.078 6.4517C382.078 6.4517 381.975 2.19907 381.372 2.29693C381.249 2.29693 379.733 3.12002 379.733 3.12002C379.733 3.12002 381.588 7.24919 380.189 10.248C380.189 10.248 380.719 5.16174 379.154 3.41679L376.936 4.78861C376.936 4.78861 379.1 9.05084 377.632 12.5307C377.632 12.5307 378.011 7.19386 376.469 5.11647L374.462 6.75396C374.462 6.75396 376.494 10.9549 375.257 13.8417C375.257 13.8417 375.091 7.62963 374.025 7.1591C374.025 7.1591 372.269 8.77602 371.999 9.44135C371.999 9.44135 373.392 12.5115 372.529 14.1028C372.529 14.1028 371.999 9.9631 371.547 9.94161C371.547 9.94161 369.795 12.6852 369.614 14.5468C369.701 12.8102 370.223 11.1276 371.125 9.66541C370.114 9.8651 369.181 10.3685 368.441 11.1136C368.441 11.1136 368.716 9.1743 371.557 9.00557C371.557 9.00557 373.03 6.92315 373.393 6.79512C373.393 6.79512 370.566 6.54956 368.853 7.34384C368.853 7.34384 370.36 5.51704 373.908 6.34607L375.871 4.65737C375.871 4.65737 372.148 4.14065 370.569 4.71041C370.569 4.71041 372.384 3.09349 376.404 4.27051L378.563 2.92476C378.563 2.92476 375.388 2.2137 373.499 2.46749C373.499 2.46749 375.496 1.34671 379.196 2.55894L380.742 1.83737C380.742 1.83737 378.418 1.36135 377.734 1.28452C377.05 1.2077 377.017 1.01336 377.017 1.01336C378.49 0.757829 380.003 0.935008 381.385 1.52505C381.385 1.52505 384.704 0.238287 384.646 0.0251977Z",fill:"var(--online-indicator)"}),h.a.createElement("path",{d:"M0.35387 32.0252C0.35387 32.0252 19.0016 30.8532 16.8229 44.495C16.8229 44.495 17.2615 46.9053 15.1644 48C15.1644 48 15.1302 46.9766 13.2457 47.3296C12.5765 47.4471 11.8963 47.4815 11.2192 47.4321C10.3039 47.3689 9.43347 46.995 8.74103 46.3675C8.74103 46.3675 3.49032 44.1059 1.44889 35.1616C1.44889 35.1616 -0.0575027 33.2123 0.00170135 32.7107L3.15221 34.1126C3.15221 34.1126 2.07734 36.4818 2.92154 38.4517C2.92154 38.4517 3.02461 34.1991 3.62804 34.2969C3.75084 34.2969 5.26731 35.12 5.26731 35.12C5.26731 35.12 3.41226 39.2492 4.81078 42.248C4.81078 42.248 4.28103 37.1617 5.84619 35.4168L8.06434 36.7886C8.06434 36.7886 5.90013 41.0508 7.3675 44.5307C7.3675 44.5307 6.98947 39.1939 8.53051 37.1165L10.5377 38.754C10.5377 38.754 8.50597 42.9549 9.74267 45.8417C9.74267 45.8417 9.90929 39.6296 10.9745 39.1591C10.9745 39.1591 12.7313 40.776 13.0015 41.4414C13.0015 41.4414 11.6078 44.5115 12.4713 46.1028C12.4713 46.1028 13.0015 41.9631 13.4527 41.9416C13.4527 41.9416 15.2047 44.6852 15.3863 46.5468C15.2985 44.8102 14.7775 43.1276 13.8746 41.6654C14.8856 41.8651 15.8186 42.3685 16.5589 43.1136C16.5589 43.1136 16.284 41.1743 13.4426 41.0056C13.4426 41.0056 11.9705 38.9232 11.6073 38.7951C11.6073 38.7951 14.4338 38.5496 16.1467 39.3438C16.1467 39.3438 14.6403 37.517 11.0921 38.3461L9.12912 36.6574C9.12912 36.6574 12.8524 36.1406 14.4311 36.7104C14.4311 36.7104 12.6156 35.0935 8.5963 36.2705L6.43691 34.9248C6.43691 34.9248 9.61196 34.2137 11.5012 34.4675C11.5012 34.4675 9.5041 33.3467 5.80366 34.5589L4.25778 33.8374C4.25778 33.8374 6.58206 33.3613 7.26619 33.2845C7.95032 33.2077 7.98279 33.0134 7.98279 33.0134C6.50964 32.7578 4.99733 32.935 3.6153 33.525C3.6153 33.525 0.296421 32.2383 0.35387 32.0252Z",fill:"var(--online-indicator)"}),h.a.createElement("ellipse",{cx:"212",cy:"135.5",rx:"44",ry:"43.5",fill:"var(--center-channel-bg)"}),h.a.createElement("path",{d:"M258 136.001C258 145.099 255.302 153.993 250.247 161.557C245.192 169.122 238.008 175.018 229.602 178.499C221.197 181.98 211.947 182.891 203.024 181.116C194.101 179.341 185.905 174.959 179.472 168.526C173.039 162.092 168.658 153.896 166.884 144.973C165.109 136.05 166.02 126.8 169.502 118.395C172.984 109.99 178.88 102.806 186.445 97.7516C194.01 92.6973 202.904 89.9997 212.001 90C218.042 90.0002 224.024 91.1902 229.605 93.5021C235.186 95.814 240.257 99.2025 244.528 103.474C248.799 107.746 252.187 112.817 254.499 118.398C256.811 123.979 258 129.961 258 136.001ZM206.684 160.35L240.806 126.228C241.083 125.952 241.302 125.625 241.451 125.265C241.601 124.905 241.678 124.519 241.678 124.129C241.678 123.739 241.601 123.352 241.451 122.992C241.302 122.632 241.083 122.305 240.806 122.029L236.608 117.862C236.333 117.586 236.006 117.367 235.647 117.217C235.287 117.068 234.901 116.991 234.512 116.991C234.122 116.991 233.737 117.068 233.377 117.217C233.017 117.367 232.69 117.586 232.415 117.862L204.585 145.693L191.59 132.667C191.033 132.113 190.278 131.801 189.491 131.801C188.705 131.801 187.95 132.113 187.392 132.667L183.194 136.89C182.639 137.448 182.327 138.203 182.327 138.99C182.327 139.776 182.639 140.531 183.194 141.089L202.487 160.375C202.762 160.651 203.089 160.87 203.449 161.02C203.81 161.169 204.196 161.246 204.586 161.246C204.976 161.246 205.362 161.169 205.722 161.02C206.082 160.87 206.41 160.651 206.685 160.375L206.684 160.35Z",fill:"var(--online-indicator)"}),h.a.createElement("defs",null,h.a.createElement("filter",{id:"filter0_f",x:"53",y:"41",width:"326.682",height:"256",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},h.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),h.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),h.a.createElement("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur"}))));function pv(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class hv extends h.a.PureComponent{constructor(e){super(e),pv(this,"checkStepsSkipped",()=>this.props.preferences.some(e=>e.name===fe.H.SKIP&&"true"===e.value)),pv(this,"getStartingStep",()=>{for(let e=0;e<this.props.steps.length;e++)if(!this.isStepComplete(this.props.steps[e].id))return this.props.steps[e].id;return this.props.steps[0].id}),pv(this,"getIncompleteStep",()=>{for(let e=0;e<this.props.steps.length;e++)if(!this.isStepComplete(this.props.steps[e].id))return this.props.steps[e].id;return null}),pv(this,"onClickHeader",(e,t)=>{const a=this.getStepNumberFromId(t);Object(v.e)(Bd(this.props.isFirstAdmin),"click_onboarding_step".concat(a)),e(t)}),pv(this,"getStepNumberFromId",e=>this.props.steps.findIndex(t=>t.id===e)+1),pv(this,"onSkip",e=>t=>{this.nextStep(e,t)}),pv(this,"onSkipAll",async()=>{this.showFinalScreen(),this.props.actions.savePreferences(this.props.currentUser.id,[{user_id:this.props.currentUser.id,category:fe.F.RECOMMENDED_NEXT_STEPS,name:fe.H.SKIP,value:"true"}])}),pv(this,"onFinish",e=>async t=>{const a=this.getStepNumberFromId(t);Object(v.e)(Bd(this.props.isFirstAdmin),"complete_onboarding_step".concat(a)),await this.props.actions.savePreferences(this.props.currentUser.id,[{category:fe.F.RECOMMENDED_NEXT_STEPS,user_id:this.props.currentUser.id,name:t,value:"true"}]),this.nextStep(e,t)}),pv(this,"showFinalScreenNoAnimation",()=>{Object(v.d)(Bd(this.props.isFirstAdmin),"pageview_tips_next_steps"),this.setState({showFinalScreen:!0,animating:!1})}),pv(this,"showFinalScreen",()=>{Object(v.e)(Bd(this.props.isFirstAdmin),"click_skip_getting_started",{channel_sidebar:!1}),Object(v.d)(Bd(this.props.isFirstAdmin),"pageview_tips_next_steps"),this.setState({showFinalScreen:!0,animating:!0})}),pv(this,"transitionToFinalScreen",()=>{this.setState({showTransitionScreen:!0,animating:!0})}),pv(this,"setTimerToFinalScreen",()=>{this.state.showTransitionScreen&&setTimeout(()=>{Object(v.d)(Bd(this.props.isFirstAdmin),"pageview_tips_next_steps"),this.setState({showFinalScreen:!0})},3e3)}),pv(this,"stopAnimating",()=>{this.setState({animating:!1})}),pv(this,"nextStep",(e,t)=>{const a=this.props.steps.findIndex(e=>e.id===t);if(a+1>this.props.steps.length-1){const t=this.getIncompleteStep();null===t?(e(""),setTimeout(()=>{this.transitionToFinalScreen()},300)):e(t)}else this.isStepComplete(this.props.steps[a+1].id)?this.nextStep(e,this.props.steps[a+1].id):e(this.props.steps[a+1].id)}),pv(this,"isStepComplete",e=>this.props.preferences.some(t=>t.name===e&&"true"===t.value)),pv(this,"renderStep",(e,t)=>{const{id:a,title:n}=e;let s=h.a.createElement("div",{className:"NextStepsView__cardHeaderBadge"},h.a.createElement("span",null,t+1));return this.isStepComplete(a)&&(s=h.a.createElement("i",{className:"icon icon-check-circle"})),(t,i)=>h.a.createElement(av,{className:la()({complete:this.isStepComplete(a)}),expanded:i===a},h.a.createElement(av.Header,null,h.a.createElement("button",{onClick:()=>this.onClickHeader(t,a),disabled:this.isStepComplete(a),className:"NextStepsView__cardHeader"},s,h.a.createElement("span",null,n))),h.a.createElement(av.Body,null,h.a.createElement(e.component,{id:a,expanded:i===a,isAdmin:this.props.isFirstAdmin,currentUser:this.props.currentUser,onFinish:this.onFinish(t),onSkip:this.onSkip(t)})))}),pv(this,"renderTransitionScreen",()=>h.a.createElement("div",{className:la()("NextStepsView__viewWrapper NextStepsView__transitionView",{transitioning:this.state.showTransitionScreen,completed:this.state.showTransitionScreen&&this.state.showFinalScreen,animating:this.state.animating}),onTransitionEnd:this.setTimerToFinalScreen},h.a.createElement("div",{className:"NextStepsView__transitionBody"},h.a.createElement(uv,null),h.a.createElement("h1",{className:"NextStepsView__transitionTopText"},h.a.createElement(q.a,{id:"next_steps_view.nicelyDone",defaultMessage:"Nicely done! You’re all set."})),h.a.createElement("h2",{className:"NextStepsView__transitionBottomText"},h.a.createElement("img",{src:nv}),h.a.createElement(q.a,{id:"next_steps_view.oneMoment",defaultMessage:"One moment"}))))),pv(this,"renderMainBody",()=>{const e=this.props.steps.map(this.renderStep);return h.a.createElement("div",{className:la()("NextStepsView__viewWrapper NextStepsView__mainView",{completed:this.state.showFinalScreen||this.state.showTransitionScreen,animating:this.state.animating})},h.a.createElement("header",{className:"NextStepsView__header"},h.a.createElement("div",{className:"NextStepsView__header-headerText"},h.a.createElement("h1",{className:"NextStepsView__header-headerTopText"},h.a.createElement(q.a,{id:"next_steps_view.welcomeToMattermost",defaultMessage:"Welcome to Mattermost"})),h.a.createElement("h2",{className:"NextStepsView__header-headerBottomText"},h.a.createElement(q.a,{id:"next_steps_view.hereAreSomeNextSteps",defaultMessage:"Here are some recommended next steps to help you get started"}))),h.a.createElement("div",{className:"NextStepsView__header-logo"},h.a.createElement(mv,null))),h.a.createElement("div",{className:"NextStepsView__body"},h.a.createElement("div",{className:"NextStepsView__body-main"},h.a.createElement(QE,{defaultExpandedKey:null===this.getIncompleteStep()?"":this.getStartingStep()},(t,a)=>h.a.createElement(h.a.Fragment,null,e.map(e=>e(t,a)))),h.a.createElement("div",{className:"NextStepsView__skipGettingStarted"},h.a.createElement("button",{className:"NextStepsView__button tertiary",onClick:this.onSkipAll},h.a.createElement(q.a,{id:"next_steps_view.skipGettingStarted",defaultMessage:"Skip Getting Started"})))),h.a.createElement("div",{className:"NextStepsView__body-graphic"},h.a.createElement(dv,null))))}),this.state={showFinalScreen:!1,showTransitionScreen:!1,animating:!1,show:!1}}async componentDidMount(){await this.props.actions.getProfiles(),(null===this.getIncompleteStep()||this.checkStepsSkipped())&&this.showFinalScreenNoAnimation(),this.setState({show:!0}),Object(v.d)(Bd(this.props.isFirstAdmin),"pageview_welcome"),this.props.actions.closeRightHandSide()}render(){return h.a.createElement("section",{id:"app-content",className:"app__content NextStepsView"},this.state.show&&h.a.createElement(h.a.Fragment,null,h.a.createElement(cv,null),this.renderMainBody(),this.renderTransitionScreen(),h.a.createElement(lv,{showFinalScreen:this.state.showFinalScreen,animating:this.state.animating,stopAnimating:this.stopAnimating,isFirstAdmin:this.props.isFirstAdmin,savePreferences:this.props.actions.savePreferences,currentUserId:this.props.currentUser.id,setShowNextStepsView:this.props.actions.setShowNextStepsView})))}}pv(hv,"propTypes",{currentUser:u.a.any.isRequired,preferences:u.a.arrayOf(u.a.any).isRequired,isFirstAdmin:u.a.bool.isRequired,steps:u.a.arrayOf(u.a.any).isRequired,actions:u.a.shape({savePreferences:u.a.func.isRequired,setShowNextStepsView:u.a.func.isRequired,closeRightHandSide:u.a.func.isRequired,getProfiles:u.a.func.isRequired}).isRequired});var gv=Object(s.connect)((function(){const e=Object(K.makeGetCategory)();return t=>({currentUser:Object(r.getCurrentUser)(t),isAdmin:Object(r.isCurrentUserSystemAdmin)(t),preferences:e(t,fe.F.RECOMMENDED_NEXT_STEPS),steps:Om(t),isFirstAdmin:wm(t)})}),(function(e){return{actions:Object(n.bindActionCreators)({savePreferences:Qs.savePreferences,setShowNextStepsView:qd,getProfiles:Y.getProfiles,closeRightHandSide:mi.b},e)}}))(hv),bv=a(2209),fv=a(2425),_v=a(272),Cv=a.n(_v),yv=a(81);class Ev extends h.a.PureComponent{render(){if(!this.props.fileInfos||0===this.props.fileInfos.length)return null;let e=null;return this.props.fileInfos.length>1&&(e=h.a.createElement(q.a,{id:"post_body.plusMore",defaultMessage:" plus {count, number} other {count, plural, one {file} other {files}}",values:{count:this.props.fileInfos.length-1}})),h.a.createElement("span",null,this.props.fileInfos[0].name,e)}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Ev,"propTypes",{parentPostId:u.a.string.isRequired,fileInfos:u.a.arrayOf(u.a.object)});var vv=Object(s.connect)((function(){const e=Object(js.makeGetFilesForPost)();return function(t,a){let n;return a.parentPostId&&(n=e(t,a.parentPostId)),{fileInfos:n}}}))(Ev),wv=a(1735);function Ov(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Sv extends p.PureComponent{constructor(...e){super(...e),Ov(this,"makeUsername",()=>{const e=this.props.post.props;let t=this.props.displayName;return this.props.enablePostUsernameOverride&&e&&"true"===e.from_webhook&&e.override_username&&(t=e.override_username),t}),Ov(this,"makeCommentedOnMessage",()=>{const{post:e}=this.props;let t="";if(e.message)t=z.ub(e.message);else if(e.file_ids&&e.file_ids.length>0)t=h.a.createElement(vv,{parentPostId:e.id});else if(e.props&&e.props.attachments&&e.props.attachments.length>0){const a=e.props.attachments[0],n=a.pretext||a.title||a.text||a.fallback||"";t=z.ub(n)}return t})}render(){const e=this.makeUsername(),t=this.makeCommentedOnMessage(),a=this.props.parentPostUser,n=a&&a.id,s=h.a.createElement(wv.a,{user:a,userId:n,displayName:e,hasMention:!0,disablePopover:!1});return h.a.createElement("div",{"data-testid":"post-link",className:"post__link"},h.a.createElement("span",null,h.a.createElement(q.a,{id:"post_body.commentedOn",defaultMessage:"Commented on {name}'s message: ",values:{name:h.a.createElement("a",{className:"theme user_name"},s)}}),h.a.createElement("a",{className:"theme",onClick:this.props.onCommentClick},"string"==typeof t?Object(yv.c)(t):t)))}}Ov(Sv,"propTypes",{displayName:u.a.string,enablePostUsernameOverride:u.a.bool,parentPostUser:u.a.any,onCommentClick:u.a.func,post:u.a.any.isRequired});var Tv=Object(s.connect)((function(e,t){let a="";if(t.post){const n=Object(r.getUser)(e,t.post.user_id);a=Object(z.z)(e,n)}return{displayName:a,enablePostUsernameOverride:"true"===Object(i.getConfig)(e).EnablePostUsernameOverride}}))(Sv);function Mv(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Pv extends h.a.PureComponent{constructor(e){super(e),this.sendingAction=new wi(()=>{const e=this.props.post;e&&e.id===e.pending_post_id&&this.setState({sending:!0})}),this.state={sending:!1}}static getDerivedStateFromProps(e,t){return t.sending&&e.post&&e.post.id!==e.post.pending_post_id?{sending:!1}:null}componentDidUpdate(){!1===this.state.sending&&this.sendingAction.cancel()}componentDidMount(){const e=this.props.post;e&&e.id===e.pending_post_id&&this.sendingAction.fireAfter(3e3)}componentWillUnmount(){this.sendingAction.cancel()}render(){const e=this.props.post,t=this.props.parentPost,a=this.props.parentPostUser;let n,s="";const i=z.gb(e);let r;this.props.isFirstReply&&t&&e.type!==fe.Z.PostTypes.EPHEMERAL&&(n=h.a.createElement(Tv,{post:t,parentPostUser:a,onCommentClick:this.props.handleCommentClick})),this.props.post.failed&&(s+=" post--fail",r=h.a.createElement(Oo,{post:this.props.post})),ca.l(this.props.post)&&(s+=" post--edited");let o=null;(e.file_ids&&e.file_ids.length>0||e.filenames&&e.filenames.length>0)&&this.props.post.state!==W.Posts.POST_DELETED&&(o=h.a.createElement(go,{post:e,compactDisplay:this.props.compactDisplay})),this.state.sending&&(s+=" post-waiting");const l=h.a.createElement(h.a.Fragment,null,r,this.state.sending&&h.a.createElement(zc.a,null),h.a.createElement(Dl,{post:this.props.post,compactDisplay:this.props.compactDisplay,hasMention:!0})),c=e.type&&this.props.pluginPostTypes.hasOwnProperty(e.type)||e.props&&e.props.type&&this.props.pluginPostTypes.hasOwnProperty(e.props.type);let d;d=this.props.post.state===W.Posts.POST_DELETED||c?l:h.a.createElement(xl,{post:this.props.post,isEmbedVisible:this.props.isEmbedVisible},l);let m="";this.props.isCommentMention&&(m="mention-comment");let u="";return i&&(u="post--ephemeral"),h.a.createElement("div",null,n,h.a.createElement("div",{id:"".concat(e.id,"_message"),className:"post__body ".concat(m," ").concat(u," ").concat(s)},d,o,h.a.createElement(Wo,{post:e,isReadOnly:this.props.isReadOnly})))}}Mv(Pv,"propTypes",{post:u.a.object.isRequired,parentPost:u.a.object,parentPostUser:u.a.object,handleCommentClick:u.a.func.isRequired,compactDisplay:u.a.bool,isCommentMention:u.a.bool,isFirstReply:u.a.bool,pluginPostTypes:u.a.object,isEmbedVisible:u.a.bool,enablePostUsernameOverride:u.a.bool.isRequired,isReadOnly:u.a.bool}),Mv(Pv,"defaultProps",{isReadOnly:!1});var Nv=Object(s.connect)((function(e,t){let a,n;t.post.root_id&&(a=Object(R.getPost)(e,t.post.root_id),n=a?Object(r.getUser)(e,a.user_id):null);const s="true"===Object(i.getConfig)(e).EnablePostUsernameOverride,o=0!==(Object(B.getCurrentChannel)(e)||{}).delete_at;return{parentPost:a,parentPostUser:n,pluginPostTypes:e.plugins.postTypes,enablePostUsernameOverride:s,isReadOnly:Object(B.isCurrentChannelReadOnly)(e)||o}}))(Pv);function Iv(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Rv extends h.a.PureComponent{constructor(e){super(e),Iv(this,"postHeaderRef",void 0),Iv(this,"toggleEmojiPicker",()=>{const e=!this.state.showEmojiPicker;this.setState({showEmojiPicker:e,showOptionsMenuWithoutHover:!1}),this.props.handleDropdownOpened(e||this.state.showDotMenu)}),Iv(this,"removePost",()=>{this.props.actions.removePost(this.props.post)}),Iv(this,"createRemovePostButton",()=>h.a.createElement("button",{className:"post__remove theme color--link style--none",type:"button",onClick:this.removePost},"×")),Iv(this,"handleDotMenuOpened",e=>{this.setState({showDotMenu:e}),this.props.handleDropdownOpened(e||this.state.showEmojiPicker)}),Iv(this,"getDotMenu",()=>this.refs.dotMenu),Iv(this,"buildOptions",(e,t,a)=>{if(!this.props.shouldShowDotMenu)return null;const{isMobile:n,isReadOnly:s}=this.props,i=this.props.hover||this.state.showEmojiPicker||this.state.showDotMenu||this.state.showOptionsMenuWithoutHover,r=n?"":"pull-right";let o;(a||!t&&(n||i||!e.root_id&&Boolean(this.props.replyCount)||this.props.isFirstReply))&&(o=h.a.createElement(dd,{handleCommentClick:this.props.handleCommentClick,commentCount:this.props.replyCount,postId:e.id,extraClass:r}));let l;!t&&i&&!s&&this.props.enableEmojiPicker&&(l=h.a.createElement(Lo,{channelId:e.channel_id,postId:e.id,teamId:this.props.teamId,getDotMenuRef:this.getDotMenu,showEmojiPicker:this.state.showEmojiPicker,toggleEmojiPicker:this.toggleEmojiPicker}));let c;(n||i)&&(c=h.a.createElement(eo,{post:e,commentCount:this.props.replyCount,isFlagged:this.props.isFlagged,handleCommentClick:this.props.handleCommentClick,handleDropdownOpened:this.handleDotMenuOpened,handleAddReactionClick:this.toggleEmojiPicker,isMenuOpen:this.state.showDotMenu,isReadOnly:s,enableEmojiPicker:this.props.enableEmojiPicker}));let d;return!t&&!n&&(i||this.props.isFlagged)&&(d=h.a.createElement(Po,{postId:e.id,isFlagged:this.props.isFlagged})),h.a.createElement("div",{ref:"dotMenu","data-testid":"post-menu-".concat(e.id),className:"col post-menu"},c,l,d,o)}),Iv(this,"handleShortcutReactToLastPost",e=>{if(e){var t,a,n;const{post:e,isReadOnly:s,enableEmojiPicker:i,isMobile:r,actions:o}=this.props;null===(t=o.emitShortcutReactToLastPostFrom)||void 0===t||t.call(o,fe.x.NO_WHERE);const l=e&&e.state===W.Posts.POST_DELETED,c=e&&z.gb(e),d=e&&ca.p(e),m=e&&ca.e(e),u=e&&e.failed,p=null===(a=this.postHeaderRef)||void 0===a||null===(n=a.current)||void 0===n?void 0:n.getBoundingClientRect();if(p){!(p.top-65>0&&p.bottom<window.innerHeight-85)||c||d||m||u||l||s||r||!i||this.setState({showOptionsMenuWithoutHover:!0},()=>{this.toggleEmojiPicker()})}}}),this.state={showEmojiPicker:!1,showOptionsMenuWithoutHover:!1,showDotMenu:!1},this.postHeaderRef=h.a.createRef()}componentDidUpdate(e){const{shortcutReactToLastPostEmittedFrom:t,isLastPost:a}=this.props;e.shortcutReactToLastPostEmittedFrom!==t&&t===fe.x.CENTER&&void 0!==a&&this.handleShortcutReactToLastPost(a)}render(){const e=this.props.post,t=z.gb(e),a=ca.p(e),n=ca.e(e);let s,i,r;e.props&&e.props.card&&(s=h.a.createElement(Wi.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"top",overlay:h.a.createElement(Vi.a,{id:"viewAdditionalInfo-".concat(e.id)},h.a.createElement(q.a,{id:"post_info.info.view_additional_info",defaultMessage:"View additional info"}))},h.a.createElement("button",{className:"card-icon__container icon--show style--none "+(this.props.isCardOpen?"active":""),onClick:e=>{e.preventDefault(),this.props.handleCardClick(this.props.post)}},h.a.createElement(Hl,{className:"icon icon__info","aria-hidden":"true"})))),t?i=h.a.createElement("div",{className:"col col__remove"},this.createRemovePostButton()):e.failed||(i=this.buildOptions(e,a,n)),t&&!this.props.compactDisplay&&e.state!==W.Posts.POST_DELETED&&(r=h.a.createElement("span",{className:"post__visibility"},h.a.createElement(q.a,{id:"post_info.message.visible",defaultMessage:"(Only visible to you)"})));let o;if(this.props.hover||this.props.showTimeWithoutHover){const a=!(t||W.Posts.POST_DELETED===e.state||Ti.isPostPendingOrFailed(e)||e.type===W.Posts.POST_TYPES.COMBINED_USER_ACTIVITY);o=h.a.createElement(Ao,{isPermalink:a,eventTime:e.create_at,postId:e.id})}return h.a.createElement("div",{className:"post__header--info",ref:this.postHeaderRef},h.a.createElement("div",{className:"col"},o,s,r),i)}}Iv(Rv,"propTypes",{post:u.a.any.isRequired,teamId:u.a.string,handleCommentClick:u.a.func.isRequired,handleCardClick:u.a.func.isRequired,handleDropdownOpened:u.a.func.isRequired,isFlagged:u.a.bool,isCardOpen:u.a.bool,replyCount:u.a.number,isFirstReply:u.a.bool,isMobile:u.a.bool,compactDisplay:u.a.bool,hover:u.a.bool.isRequired,showTimeWithoutHover:u.a.bool.isRequired,enableEmojiPicker:u.a.bool,isReadOnly:u.a.oneOfType([u.a.bool,u.a.oneOf([null])]),shortcutReactToLastPostEmittedFrom:u.a.string,isLastPost:u.a.bool,actions:u.a.shape({removePost:u.a.func.isRequired,emitShortcutReactToLastPostFrom:u.a.func}).isRequired,shouldShowDotMenu:u.a.bool.isRequired});var Av=Object(s.connect)((function(e,t){const a=Object(ui.q)(e),n=Object(i.getConfig)(e),s=e.entities.channels.channels[t.post.channel_id],r=s?0!==s.delete_at:null,l="true"===n.EnableEmojiPicker&&!r,c=Object(o.getCurrentTeamId)(e),d=Object(Xe.c)(e);return{teamId:c,isFlagged:null!=Object(K.get)(e,fe.F.CATEGORY_FLAGGED_POST,t.post.id,null),isMobile:e.views.channel.mobileView,isCardOpen:a&&a.id===t.post.id,enableEmojiPicker:l,isReadOnly:Object(B.isCurrentChannelReadOnly)(e)||r,shouldShowDotMenu:ca.u(e,t.post,s),shortcutReactToLastPostEmittedFrom:d}}),(function(e){return{actions:Object(n.bindActionCreators)({removePost:be.removePost,emitShortcutReactToLastPostFrom:ta.d},e)}}))(Rv);class jv extends h.a.PureComponent{render(){var e;const{post:t}=this.props,a=ca.p(t),n=ca.e(t),s="true"===(null==t||null===(e=t.props)||void 0===e?void 0:e.from_webhook);let i,r,o=h.a.createElement(Yl.a,{userId:t.user_id,hasMention:!0});return s?(o=t.props.override_username&&this.props.enablePostUsernameOverride?h.a.createElement(Yl.a,{userId:t.user_id,hideStatus:!0,overwriteName:t.props.override_username,overwriteIcon:this.props.overwriteIcon}):h.a.createElement(Yl.a,{userId:t.user_id,hideStatus:!0}),this.props.isBot||(i=h.a.createElement(Le.a,null))):n?(o=h.a.createElement(Yl.a,{userId:t.user_id,hideStatus:!0,hasMention:!0}),i=h.a.createElement(ql.a,null,h.a.createElement(q.a,{id:"post_info.auto_responder",defaultMessage:"AUTOMATIC REPLY"}))):a&&this.props.isBot?o=h.a.createElement(Yl.a,{userId:t.user_id,hideStatus:!0}):a&&(o=h.a.createElement(Yl.a,{overwriteName:h.a.createElement(q.a,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:fe.Z.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0})),this.props.compactDisplay&&(r=h.a.createElement("strong",{className:"colon"},":")),h.a.createElement("div",{className:"post__header"},h.a.createElement("div",{className:"col col__name"},o,r,i),h.a.createElement("div",{className:"col"},h.a.createElement(Av,{post:t,handleCommentClick:this.props.handleCommentClick,handleCardClick:this.props.handleCardClick,handleDropdownOpened:this.props.handleDropdownOpened,compactDisplay:this.props.compactDisplay,replyCount:this.props.replyCount,isFirstReply:this.props.isFirstReply,showTimeWithoutHover:this.props.showTimeWithoutHover,hover:this.props.hover,isLastPost:this.props.isLastPost})))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(jv,"propTypes",{post:u.a.any.isRequired,handleCommentClick:u.a.func.isRequired,handleCardClick:u.a.func.isRequired,handleDropdownOpened:u.a.func.isRequired,compactDisplay:u.a.bool,replyCount:u.a.number,isFirstReply:u.a.bool,hover:u.a.bool.isRequired,showTimeWithoutHover:u.a.bool.isRequired,enablePostUsernameOverride:u.a.bool.isRequired,isBot:u.a.bool.isRequired,isGuest:u.a.bool.isRequired,isLastPost:u.a.bool,overwriteIcon:u.a.string});var xv=Object(s.connect)((function(e,t){var a,n;const s=Object(i.getConfig)(e),o="true"===s.EnablePostUsernameOverride,l="true"===s.EnablePostIconOverride&&(null===(a=t.post)||void 0===a||null===(n=a.props)||void 0===n?void 0:n.override_icon_url);let c;l&&(c=d.Client4.getAbsoluteUrl(l));const m=Object(r.getUser)(e,t.post.user_id);return{enablePostUsernameOverride:o,isBot:Boolean(m&&m.is_bot),overwriteIcon:c,isGuest:Boolean(m&&Object(z.bb)(m))}}))(jv);function Lv(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class kv extends h.a.PureComponent{constructor(e){super(e),Lv(this,"handleCommentClick",e=>{e.preventDefault();const t=this.props.post;t&&this.props.actions.selectPost(t)}),Lv(this,"handleCardClick",e=>{e&&this.props.actions.selectPostCard(e)}),Lv(this,"handlePostClick",e=>{const t=this.props.post;t&&(this.props.channelIsArchived||t.system_post_ids||e.altKey&&this.props.actions.markPostAsUnread(t))}),Lv(this,"handleDropdownOpened",e=>{this.props.togglePostMenu&&this.props.togglePostMenu(e),this.setState({dropdownOpened:e})}),Lv(this,"hasSameRoot",e=>{const t=e.post;return!e.isFirstReply&&(!(t.root_id||e.previousPostIsComment||!e.consecutivePostByUser)||!!t.root_id)}),Lv(this,"getClassName",(e,t,a,n,s,i)=>{let r="post";(e.failed||e.state===W.Posts.POST_DELETED)&&(r+=" post--hide-controls"),!this.state.fadeOutHighlight&&this.props.shouldHighlight&&(r+=" post--highlight",(e.is_pinned||this.props.isFlagged)&&(r+=" post--pinned-or-flagged-highlight"));let o="";o=this.hasSameRoot(this.props)?"same--root":"other--root",i&&(r+=" post--bot");let l="";this.props.currentUserId!==e.user_id||n||t||(l="current--user");let c="";this.props.consecutivePostByUser&&(c="same--user");let d="";return e.root_id&&e.root_id.length>0?d="post--comment":this.props.replyCount>0&&(d="post--root",c="",o=""),(t||a)&&(r+=" post--system",t&&(l="",d="",o="")),s&&(d="post--comment same--root"),this.props.compactDisplay&&(r+=" post--compact"),(this.state.dropdownOpened||this.state.a11yActive)&&(r+=" post--hovered"),(e.is_pinned||this.props.isFlagged)&&(r+=" post--pinned-or-flagged"),!this.state.alt||this.props.channelIsArchived||e.system_post_ids||(r+=" cursor--pointer"),r+" "+c+" "+o+" "+d+" "+l}),Lv(this,"setHover",()=>{this.setState({hover:!0})}),Lv(this,"unsetHover",()=>{this.setState({hover:!1})}),Lv(this,"handleAlt",e=>{this.state.alt!==e.altKey&&this.setState({alt:e.altKey})}),Lv(this,"handleA11yActivateEvent",()=>{this.setState({a11yActive:!0,ariaHidden:!1})}),Lv(this,"handleA11yDeactivateEvent",()=>{this.setState({a11yActive:!1,ariaHidden:!0})}),Lv(this,"handlePostFocus",()=>{this.setState({currentAriaLabel:this.props.createAriaLabel(this.props.intl)})}),this.postRef=h.a.createRef(),this.state={dropdownOpened:!1,hover:!1,alt:!1,a11yActive:!1,currentAriaLabel:"",ariaHidden:!0,fadeOutHighlight:!1}}componentDidMount(){document.addEventListener("keydown",this.handleAlt),document.addEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.addEventListener(fe.c.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.addEventListener(fe.c.DEACTIVATE,this.handleA11yDeactivateEvent)),this.props.shouldHighlight&&(this.highlightTimeout=setTimeout(()=>{this.setState({fadeOutHighlight:!0})},fe.Z.PERMALINK_FADEOUT))}componentWillUnmount(){document.removeEventListener("keydown",this.handleAlt),document.removeEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.removeEventListener(fe.c.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.removeEventListener(fe.c.DEACTIVATE,this.handleA11yDeactivateEvent)),clearTimeout(this.highlightTimeout)}componentDidUpdate(){this.state.a11yActive&&this.postRef.current.dispatchEvent(new Event(fe.c.UPDATE))}render(){const{post:e}=this.props;if(!e.id)return null;const t=ca.p(e),a=Object(Ti.isMeMessage)(e),n=ca.e(e),s=e&&e.props&&"true"===e.props.from_webhook,i=e&&e.props&&"true"===e.props.from_bot;let r;const o=this.hasSameRoot(this.props)&&this.props.consecutivePostByUser&&!e.root_id&&0===this.props.replyCount&&!i;o||(r=h.a.createElement(yo,{compactDisplay:this.props.compactDisplay,post:e,userId:e.user_id}),n&&(r=h.a.createElement("span",{className:"auto-responder"},r)));let l="";return this.props.center&&(l="center"),h.a.createElement(ol.Provider,{value:{handlePopupOpened:this.handleDropdownOpened}},h.a.createElement("div",{ref:this.postRef,id:"post_"+e.id,"data-testid":"postView",role:"listitem",className:"a11y__section ".concat(this.getClassName(e,t,a,s,n,i)),tabIndex:"0",onFocus:this.handlePostFocus,onBlur:this.removeFocus,onMouseOver:this.setHover,onMouseLeave:this.unsetHover,onTouchStart:this.setHover,onClick:this.handlePostClick,"aria-label":this.state.currentAriaLabel,"aria-atomic":!0},h.a.createElement(zl,{isFlagged:this.props.isFlagged,isPinned:e.is_pinned,channelId:e.channel_id}),h.a.createElement("div",{role:"application","data-testid":"postContent",className:"post__content "+l,"aria-hidden":this.state.ariaHidden},h.a.createElement("div",{className:"post__img"},r),h.a.createElement("div",null,h.a.createElement(xv,{post:e,handleCommentClick:this.handleCommentClick,handleCardClick:this.handleCardClick,handleDropdownOpened:this.handleDropdownOpened,compactDisplay:this.props.compactDisplay,isFirstReply:this.props.isFirstReply,replyCount:this.props.replyCount,showTimeWithoutHover:!o,hover:this.state.hover||this.state.a11yActive,isLastPost:this.props.isLastPost}),h.a.createElement(Nv,{post:e,handleCommentClick:this.handleCommentClick,compactDisplay:this.props.compactDisplay,isCommentMention:this.props.isCommentMention,isFirstReply:this.props.isFirstReply})))))}}Lv(kv,"propTypes",{post:u.a.object.isRequired,createAriaLabel:u.a.func.isRequired,currentUserId:u.a.string.isRequired,center:u.a.bool,compactDisplay:u.a.bool,isFirstReply:u.a.bool,shouldHighlight:u.a.bool,consecutivePostByUser:u.a.bool,previousPostIsComment:u.a.bool,togglePostMenu:u.a.func,isCommentMention:u.a.bool,replyCount:u.a.number,isLastPost:u.a.bool,channelIsArchived:u.a.bool.isRequired,intl:X.a.isRequired,actions:u.a.shape({selectPost:u.a.func.isRequired,selectPostCard:u.a.func.isRequired,markPostAsUnread:u.a.func.isRequired}).isRequired,isFlagged:u.a.bool.isRequired}),Lv(kv,"defaultProps",{post:{}});var Dv=Object(Z.c)(kv);function Uv(e,t){return!!e.root_id&&(!t||e.root_id!==t.id&&e.root_id!==t.root_id)}var qv=Object(s.connect)((function(){const e=Object(ca.r)(),t=Object(R.makeIsPostCommentMention)(),a=Object(ca.q)();return(n,s)=>{const i=s.post||Object(R.getPost)(n,s.postId),o=Object(B.getChannel)(n,i.channel_id);let l=null;s.previousPostId&&(l=Object(R.getPost)(n,s.previousPostId));let c=!1,d=!1;return l&&(c=!(!(i.user_id===l.user_id&&i.create_at-l.create_at<=W.Posts.POST_COLLAPSE_TIMEOUT)||i.props&&i.props.from_webhook||l.props&&l.props.from_webhook||Object(Ti.isSystemMessage)(i)||Object(Ti.isSystemMessage)(l)),d=Boolean(l.root_id)),{post:i,createAriaLabel:a(n,i),currentUserId:Object(r.getCurrentUserId)(n),isFirstReply:Uv(i,l),consecutivePostByUser:c,previousPostIsComment:d,replyCount:e(n,i),isCommentMention:t(n,i.id),center:Object(K.get)(n,fe.F.CATEGORY_DISPLAY_SETTINGS,fe.F.CHANNEL_DISPLAY_MODE,fe.F.CHANNEL_DISPLAY_MODE_DEFAULT)===fe.F.CHANNEL_DISPLAY_MODE_CENTERED,compactDisplay:Object(K.get)(n,fe.F.CATEGORY_DISPLAY_SETTINGS,fe.F.MESSAGE_DISPLAY,fe.F.MESSAGE_DISPLAY_DEFAULT)===fe.F.MESSAGE_DISPLAY_COMPACT,channelIsArchived:Object(G.c)(o),isFlagged:null!=Object(K.get)(n,fe.F.CATEGORY_FLAGGED_POST,i.id,null)}}}),(function(e){return{actions:Object(n.bindActionCreators)({selectPost:mi.g,selectPostCard:mi.h,markPostAsUnread:ta.h},e)}}))(Dv);var Hv=Object(s.connect)((function(){const e=Object(Vr.makeGenerateCombinedPost)();return(t,a)=>({post:e(t,a.combinedId),postId:a.combinedId})}))(qv);a(2210);class Fv extends h.a.PureComponent{render(){const{children:e}=this.props;return h.a.createElement("div",{className:"Separator NotificationSeparator","data-testid":"NotificationSeparator"},h.a.createElement("hr",{className:"separator__hr"}),e&&h.a.createElement("div",{className:"separator__text"},e))}}class Bv extends h.a.PureComponent{render(){return h.a.createElement("div",{className:"new-separator"},h.a.createElement(Fv,{id:this.props.separatorId},h.a.createElement(q.a,{id:"posts_view.newMsg",defaultMessage:"New Messages"})))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Bv,"propTypes",{separatorId:u.a.string.isRequired});var Gv=a(1447),Vv=a(1349),Wv=a(1745);class zv extends h.a.PureComponent{render(){const{currentUserId:e,channel:t,creatorName:a,fullWidth:n,locale:s,enableUserCreation:i,isReadOnly:r,channelProfiles:o,teamIsGroupConstrained:l,teammate:c,teammateName:d}=this.props;let m="";return n||(m="channel-intro--centered"),t.type===fe.l.DM_CHANNEL?function(e,t,a,n){if(a)return h.a.createElement("div",{id:"channelIntro",className:"channel-intro "+t},h.a.createElement("div",{className:"post-profile-img__container channel-intro-img"},h.a.createElement(bo.a,{src:z.R(a.id,a.last_picture_update),size:"xl",userId:a.id,username:a.username,hasMention:!0})),h.a.createElement("div",{className:"channel-intro-profile d-flex"},h.a.createElement(Yl.a,{userId:a.id,disablePopover:!1,hasMention:!0})),h.a.createElement("p",{className:"channel-intro-text"},h.a.createElement(Pr.b,{id:"intro_messages.DM",defaultMessage:"This is the start of your direct message history with {teammate}.\\nDirect messages and files shared here are not shown to people outside this area.",values:{teammate:n}})),a.is_bot?null:Kv(e));return h.a.createElement("div",{id:"channelIntro",className:"channel-intro "+t},h.a.createElement("p",{className:"channel-intro-text"},h.a.createElement(q.a,{id:"intro_messages.teammate",defaultMessage:"This is the start of your direct message history with this teammate. Direct messages and files shared here are not shown to people outside this area."})))}(t,m,c,d):t.type===fe.l.GM_CHANNEL?function(e,t,a,n){if(a.length>0){const s=a.filter(e=>e.id!==n).map(e=>h.a.createElement(bo.a,{key:"introprofilepicture"+e.id,src:z.R(e.id,e.last_picture_update),size:"xl",userId:e.id,username:e.username}));return h.a.createElement("div",{id:"channelIntro",className:"channel-intro "+t},h.a.createElement("div",{className:"post-profile-img__container channel-intro-img"},s),h.a.createElement("p",{className:"channel-intro-text"},h.a.createElement(Pr.b,{id:"intro_messages.GM",defaultMessage:"This is the start of your group message history with {names}.\\nMessages and files shared here are not shown to people outside this area.",values:{names:e.display_name}})),Kv(e))}return h.a.createElement("div",{id:"channelIntro",className:"channel-intro "+t},h.a.createElement("p",{className:"channel-intro-text"},h.a.createElement(q.a,{id:"intro_messages.group_message",defaultMessage:"This is the start of your group message history with these teammates. Messages and files shared here are not shown to people outside this area."})))}(t,m,o,e):t.name===fe.l.DEFAULT_CHANNEL?function(e,t,a,n,s){let i=null;!n&&a&&(i=h.a.createElement(Su.a,{teamId:e.team_id,permissions:[W.Permissions.INVITE_USER]},h.a.createElement(Su.a,{teamId:e.team_id,permissions:[W.Permissions.ADD_USER_TO_TEAM]},!s&&h.a.createElement(Gv.a,{accessibilityLabel:z.ob("intro_messages.inviteOthers","Invite others to this team"),id:"introTextInvite",className:"intro-links color--link cursor--pointer",modalId:fe.y.INVITATION,dialogType:Cu},h.a.createElement(q.a,{id:"generic_icons.add",defaultMessage:"Add Icon"},e=>h.a.createElement("i",{className:"fa fa-user-plus",title:e})),h.a.createElement(q.a,{id:"intro_messages.inviteOthers",defaultMessage:"Invite others to this team"})),s&&h.a.createElement(Vv.a,{className:"intro-links color--link",dialogType:fp.a,dialogProps:{channel:e}},h.a.createElement(q.a,{id:"generic_icons.add",defaultMessage:"Add Icon"},e=>h.a.createElement("i",{className:"fa fa-user-plus",title:e})),h.a.createElement(q.a,{id:"intro_messages.addGroupsToTeam",defaultMessage:"Add other groups to this team"})))));const r=e.type===fe.l.PRIVATE_CHANNEL;let o=null;if(!n){const t=Kv(e);t&&(o=h.a.createElement(Jr,{teamId:e.team_id,channelId:e.id,permissions:[r?W.Permissions.MANAGE_PRIVATE_CHANNEL_PROPERTIES:W.Permissions.MANAGE_PUBLIC_CHANNEL_PROPERTIES]},t))}return h.a.createElement("div",{id:"channelIntro",className:"channel-intro "+t},h.a.createElement("h2",{className:"channel-intro__title"},h.a.createElement(q.a,{id:"intro_messages.beginning",defaultMessage:"Beginning of {name}",values:{name:e.display_name}})),h.a.createElement("p",{className:"channel-intro__content"},!n&&h.a.createElement(Pr.b,{id:"intro_messages.default",defaultMessage:"**Welcome to {display_name}!**\\n \\nPost messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.",values:{display_name:e.display_name}}),n&&h.a.createElement(Pr.b,{id:"intro_messages.readonly.default",defaultMessage:"**Welcome to {display_name}!**\\n \\nMessages can only be posted by system admins. Everyone automatically becomes a permanent member of this channel when they join the team.",values:{display_name:e.display_name}})),i,o,h.a.createElement("br",null))}(t,m,i,r,l):t.name===fe.l.OFFTOPIC_CHANNEL?function(e,t){const a=e.type===fe.l.PRIVATE_CHANNEL,n=Kv(e);let s=null;n&&(s=h.a.createElement(Jr,{teamId:e.team_id,channelId:e.id,permissions:[a?W.Permissions.MANAGE_PRIVATE_CHANNEL_PROPERTIES:W.Permissions.MANAGE_PUBLIC_CHANNEL_PROPERTIES]},n));const i=Yv(e);return h.a.createElement("div",{id:"channelIntro",className:"channel-intro "+t},h.a.createElement("h2",{className:"channel-intro__title"},h.a.createElement(q.a,{id:"intro_messages.beginning",defaultMessage:"Beginning of {name}",values:{name:e.display_name}})),h.a.createElement("p",{className:"channel-intro__content"},h.a.createElement(q.a,{id:"intro_messages.offTopic",defaultMessage:"This is the start of {display_name}, a channel for non-work-related conversations.",values:{display_name:e.display_name}})),i,s)}(t,m):t.type===fe.l.OPEN_CHANNEL||t.type===fe.l.PRIVATE_CHANNEL?function(e,t,a,n){const s=e.display_name;let i;i=0!==e.delete_at?"":e.type===fe.l.PRIVATE_CHANNEL?h.a.createElement(q.a,{id:"intro_messages.onlyInvited",defaultMessage:" Only invited members can see this private channel."}):h.a.createElement(q.a,{id:"intro_messages.anyMember",defaultMessage:" Any member can join and read this channel."});const r=h.a.createElement(ii.a,{value:e.create_at,month:Object(J.a)(a),day:"2-digit",year:"numeric"});let o,l;""===n?e.type===fe.l.PRIVATE_CHANNEL?o=h.a.createElement(q.a,{id:"intro_messages.noCreatorPrivate",defaultMessage:"This is the start of the {name} private channel, created on {date}.",values:{name:s,date:r}}):e.type===fe.l.OPEN_CHANNEL&&(o=h.a.createElement(q.a,{id:"intro_messages.noCreator",defaultMessage:"This is the start of the {name} channel, created on {date}.",values:{name:s,date:r}})):e.type===fe.l.PRIVATE_CHANNEL?o=h.a.createElement("span",null,h.a.createElement(q.a,{id:"intro_messages.creatorPrivate",defaultMessage:"This is the start of the {name} private channel, created by {creator} on {date}.",values:{name:s,creator:n,date:r}})):e.type===fe.l.OPEN_CHANNEL&&(o=h.a.createElement("span",null,h.a.createElement(q.a,{id:"intro_messages.creator",defaultMessage:"This is the start of the {name} channel, created by {creator} on {date}.",values:{name:s,creator:n,date:r}})));e.purpose&&""!==e.purpose&&(e.type===fe.l.PRIVATE_CHANNEL?l=h.a.createElement("span",null,h.a.createElement(q.a,{id:"intro_messages.purposePrivate",defaultMessage:" This private channel's purpose is: {purpose}",values:{purpose:e.purpose}})):e.type===fe.l.OPEN_CHANNEL&&(l=h.a.createElement("span",null,h.a.createElement(q.a,{id:"intro_messages.purpose",defaultMessage:" This channel's purpose is: {purpose}",values:{purpose:e.purpose}}))));const c=e.type===fe.l.PRIVATE_CHANNEL;let d=null;const m=Kv(e);m&&(d=h.a.createElement(Jr,{teamId:e.team_id,channelId:e.id,permissions:[c?W.Permissions.MANAGE_PRIVATE_CHANNEL_PROPERTIES:W.Permissions.MANAGE_PUBLIC_CHANNEL_PROPERTIES]},m));const u=Yv(e);return h.a.createElement("div",{id:"channelIntro",className:"channel-intro "+t},h.a.createElement("h2",{className:"channel-intro__title"},h.a.createElement(q.a,{id:"intro_messages.beginning",defaultMessage:"Beginning of {name}",values:{name:s}})),h.a.createElement("p",{className:"channel-intro__content"},o,i,l,h.a.createElement("br",null)),u,d)}(t,m,s,a):null}}function Yv(e){const t=e.group_constrained?XC.a:Pf.a;if(0!==e.delete_at)return null;const a=e.type===fe.l.PRIVATE_CHANNEL;return h.a.createElement(Jr,{channelId:e.id,teamId:e.team_id,permissions:[a?W.Permissions.MANAGE_PRIVATE_CHANNEL_MEMBERS:W.Permissions.MANAGE_PUBLIC_CHANNEL_MEMBERS]},h.a.createElement(Vv.a,{className:"intro-links color--link",dialogType:t,dialogProps:{channel:e}},h.a.createElement(q.a,{id:"generic_icons.add",defaultMessage:"Add Icon"},e=>h.a.createElement("i",{className:"fa fa-user-plus",title:e})),a&&e.group_constrained&&h.a.createElement(q.a,{id:"intro_messages.addGroups",defaultMessage:"Add groups to this private channel"}),a&&!e.group_constrained&&h.a.createElement(q.a,{id:"intro_messages.invitePrivate",defaultMessage:"Invite others to this private channel"}),!a&&h.a.createElement(q.a,{id:"intro_messages.invite",defaultMessage:"Invite others to this channel"})))}function Kv(e){return 0!==e.delete_at?null:h.a.createElement(Gv.a,{modalId:fe.y.EDIT_CHANNEL_HEADER,accessibilityLabel:z.ob("intro_messages.setHeader","Set a Header"),className:"intro-links color--link",dialogType:MC,dialogProps:{channel:e}},h.a.createElement(Wv.a,null),h.a.createElement(q.a,{id:"intro_messages.setHeader",defaultMessage:"Set a Header"}))}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(zv,"propTypes",{currentUserId:u.a.string.isRequired,channel:u.a.any.isRequired,fullWidth:u.a.bool.isRequired,locale:u.a.string.isRequired,channelProfiles:u.a.any.isRequired,enableUserCreation:u.a.bool,isReadOnly:u.a.bool,teamIsGroupConstrained:u.a.bool,creatorName:u.a.string.isRequired,teammate:u.a.any.isRequired,teammateName:u.a.string});var Zv=Object(s.connect)((function(e){const t="true"===Object(i.getConfig)(e).EnableUserCreation,a=Object(B.isCurrentChannelReadOnly)(e),n=Object(o.getCurrentTeam)(e),s=Object(B.getCurrentChannel)(e)||{},l=Object(z.x)(e,s.id),c=Object(r.getUser)(e,s.creator_id);return{currentUserId:Object(r.getCurrentUserId)(e),channel:s,fullWidth:Object(K.get)(e,fe.F.CATEGORY_DISPLAY_SETTINGS,fe.F.CHANNEL_DISPLAY_MODE,fe.F.CHANNEL_DISPLAY_MODE_DEFAULT)===fe.F.CHANNEL_DISPLAY_MODE_FULL_SCREEN,locale:Object(Mt.a)(e),channelProfiles:Object(r.getProfilesInCurrentChannel)(e),enableUserCreation:t,isReadOnly:a,teamIsGroupConstrained:Boolean(n.group_constrained),creatorName:Object(z.z)(e,c),teammate:l,teammateName:Object(z.z)(e,l)}}))(zv);class Jv extends h.a.PureComponent{blockShortcutReactToLastPostForNonMessages(e){const{actions:{emitShortcutReactToLastPostFrom:t}}=this.props;Object(ca.o)(e)&&t(fe.x.NO_WHERE)}componentDidUpdate(e){const{listId:t,isLastPost:a,shortcutReactToLastPostEmittedFrom:n}=this.props,s=e.shortcutReactToLastPostEmittedFrom!==n&&n===fe.x.CENTER;a&&s&&this.blockShortcutReactToLastPostForNonMessages(t)}render(){const{listId:e,previousListId:t,loadingOlderPosts:a,loadingNewerPosts:n}=this.props,{OLDER_MESSAGES_LOADER:s,NEWER_MESSAGES_LOADER:i,CHANNEL_INTRO_MESSAGE:r,LOAD_OLDER_MESSAGES_TRIGGER:o,LOAD_NEWER_MESSAGES_TRIGGER:l}=fe.C;if(Vr.isDateLine(e)){const t=Vr.getDateForDateLine(e);return h.a.createElement(Gr,{key:t,date:t})}if(Vr.isStartOfNewMessages(e))return h.a.createElement(Bv,{separatorId:e});if(e===r)return h.a.createElement(Zv,null);if(e===o||e===l)return h.a.createElement("button",{className:"more-messages-text theme style--none color--link",onClick:e===o?this.props.loadOlderPosts:this.props.loadNewerPosts},h.a.createElement(q.a,{id:"posts_view.loadMore",defaultMessage:"Load More Messages"}));if(e===s||e===i){const e=!a&&!n;return h.a.createElement("div",{className:"loading-screen"},h.a.createElement("div",{className:la()("loading__content",{hideAnimation:e})},h.a.createElement("div",{className:"round round-1"}),h.a.createElement("div",{className:"round round-2"}),h.a.createElement("div",{className:"round round-3"})))}const c={previousPostId:t,shouldHighlight:this.props.shouldHighlight,togglePostMenu:this.props.togglePostMenu,isLastPost:this.props.isLastPost};return Vr.isCombinedUserActivityPost(e)?h.a.createElement(Hv,Object.assign({combinedId:e},c)):h.a.createElement(qv,Object.assign({postId:e},c))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Jv,"propTypes",{channel:u.a.any,listId:u.a.string.isRequired,previousListId:u.a.string,fullWidth:u.a.bool,shouldHighlight:u.a.bool,loadOlderPosts:u.a.func.isRequired,loadNewerPosts:u.a.func.isRequired,togglePostMenu:u.a.func.isRequired,isLastPost:u.a.bool.isRequired,shortcutReactToLastPostEmittedFrom:u.a.string.isRequired,loadingNewerPosts:u.a.bool.isRequired,loadingOlderPosts:u.a.bool.isRequired,actions:u.a.shape({emitShortcutReactToLastPostFrom:u.a.func.isRequired}).isRequired});var Xv=Object(s.connect)((function(e,t){const a=Object(Xe.c)(e);return{post:t.post,channel:t.channel,shortcutReactToLastPostEmittedFrom:a}}),(function(e){return{actions:Object(n.bindActionCreators)({emitShortcutReactToLastPostFrom:ta.d},e)}}))(Jv);function Qv(e){const{formatMessage:t}=Object(Un.a)();return h.a.createElement("span",e,h.a.createElement("svg",{x:"0px",y:"0px",viewBox:"-239 239 21 23",style:$v,role:"img","aria-label":t({id:"generic_icons.arrow.down",defaultMessage:"Down Arrow Icon"})},h.a.createElement("path",{d:"M-239,241.4l2.4-2.4l8.1,8.2l8.1-8.2l2.4,2.4l-10.5,10.6L-239,241.4z M-228.5,257.2l8.1-8.2l2.4,2.4l-10.5,10.6l-10.5-10.6 l2.4-2.4L-228.5,257.2z"})))}const $v={enableBackground:"new -239 239 21 23"};class ew extends h.a.PureComponent{render(){if(Ci()(window).width()>768)return null;let e="post-list__arrows";return this.props.isScrolling&&!1===this.props.atBottom&&(e+=" scrolling"),h.a.createElement("div",{className:e,onClick:this.props.onClick},h.a.createElement(Qv,null))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(ew,"propTypes",{isScrolling:u.a.bool.isRequired,atBottom:u.a.bool,onClick:u.a.func.isRequired});var tw=a(1525);a(2211);function aw(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class nw extends h.a.PureComponent{constructor(...e){super(...e),aw(this,"handleDismiss",()=>{"function"==typeof this.props.onDismiss&&this.props.onDismiss()})}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){let e="toast";const{show:t,extraClasses:a,showActions:n,width:s}=this.props;a&&(e+=" ".concat(a)),t&&(e+=" toast__visible");let i="toast__message";n&&(i+=" toast__pointer");let r=h.a.createElement("div",null);return n&&t&&(r=h.a.createElement(Vi.a,{id:"toast-close__tooltip"},h.a.createElement(q.a,{id:"general_button.close",defaultMessage:"Close"}),h.a.createElement("div",{className:"tooltip__shortcut--txt"},h.a.createElement(q.a,{id:"general_button.esc",defaultMessage:"esc"})))),h.a.createElement("div",{className:e},h.a.createElement("div",{className:i,onClick:n?this.props.onClick:null},n&&(()=>h.a.createElement("div",{className:"toast__jump"},h.a.createElement(Ug,null),s>fe.Z.MOBILE_SCREEN_WIDTH&&this.props.onClickMessage))(),this.props.children),h.a.createElement("div",{className:"toast__dismiss",onClick:this.handleDismiss,"data-testid":a?"dismissToast-".concat(a):"dismissToast"},h.a.createElement(tw.a,{delayShow:fe.Z.OVERLAY_TIME_DELAY,placement:"bottom",overlay:r},h.a.createElement(iv.a,{className:"close-btn",id:"dismissToast"}))))}}aw(nw,"propTypes",{onClick:u.a.func,onClickMessage:u.a.string,onDismiss:u.a.func,children:u.a.element,show:u.a.bool.isRequired,showActions:u.a.bool,width:u.a.number,extraClasses:u.a.string});var sw=a(1696);function iw(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function rw(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?iw(Object(a),!0).forEach((function(t){ow(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):iw(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ow(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const lw=[qr.a.TODAY_YESTERDAY];class cw extends h.a.PureComponent{constructor(e){super(e),ow(this,"handleShortcut",e=>{z.cb(e,fe.Z.KeyCodes.ESCAPE)&&(this.state.showUnreadToast?this.hideUnreadToast():this.state.showNewMessagesToast?this.hideNewMessagesToast():this.hideArchiveToast())}),ow(this,"hideUnreadToast",()=>{this.state.showUnreadToast&&this.setState({showUnreadToast:!1})}),ow(this,"hideArchiveToast",()=>{this.state.showMessageHistoryToast&&this.setState({showMessageHistoryToast:!1})}),ow(this,"hideNewMessagesToast",(e=!0)=>{this.state.showNewMessagesToast&&(this.setState({showNewMessagesToast:!1}),e&&this.props.updateLastViewedBottomAt())}),ow(this,"newMessagesToastText",(e,t)=>this.props.width>500&&void 0!==t?h.a.createElement(q.a,{id:"postlist.toast.newMessagesSince",defaultMessage:"{count, number} new {count, plural, one {message} other {messages}} {isToday, select, true {} other {since}} {date}",values:{count:e,isToday:Object(sw.d)(new Date(t)).toString(),date:h.a.createElement(qr.b,{value:t,useTime:!1,ranges:lw})}}):h.a.createElement(q.a,{id:"postlist.toast.newMessages",defaultMessage:"{count, number} new {count, plural, one {message} other {messages}}",values:{count:e}})),ow(this,"archiveToastText",()=>h.a.createElement(q.a,{id:"postlist.toast.history",defaultMessage:"Viewing message history"})),ow(this,"changeUrlToRemountChannelView",()=>{const{match:e}=this.props;N.a.replace("/".concat(e.params.team))}),ow(this,"scrollToNewMessage",()=>{const{focusedPostId:e,atLatestPost:t,scrollToNewMessage:a,updateLastViewedBottomAt:n}=this.props;!e||t?(a(),n(),this.hideNewMessagesToast()):this.changeUrlToRemountChannelView()}),ow(this,"scrollToLatestMessages",()=>{const{focusedPostId:e,atLatestPost:t,scrollToLatestMessages:a}=this.props;if(e){if(!t)return void this.changeUrlToRemountChannelView();this.hideArchiveToast()}a(),this.hideUnreadToast()}),this.state={unreadCountInChannel:e.unreadCountInChannel}}static getDerivedStateFromProps(e,t){let a,{showUnreadToast:n,showNewMessagesToast:s,showMessageHistoryToast:i}=t;return a=e.atLatestPost?cw.countNewMessages(e.postListIds):e.channelMarkedAsUnread?t.unreadCountInChannel:t.unreadCountInChannel+e.newRecentMessagesCount,null!==e.atBottom&&(void 0===n&&(n=a>0&&e.initScrollOffsetFromBottom>1e3),void 0===i&&""!==e.focusedPostId&&(i=e.initScrollOffsetFromBottom>1e3||!e.atLatestPost),e.atBottom||(!e.channelMarkedAsUnread||t.channelMarkedAsUnread||t.showUnreadToast||(n=!0),e.channelMarkedAsUnread&&e.lastViewedAt!==t.lastViewedAt&&(n=!0))),!n&&a>0&&!e.atBottom&&e.lastViewedBottom<e.latestPostTimeStamp&&(s=!0),a||(s=!1,n=!1),{unreadCount:a,showUnreadToast:n,showNewMessagesToast:s,lastViewedAt:e.lastViewedAt,channelMarkedAsUnread:e.channelMarkedAsUnread,showMessageHistoryToast:i}}componentDidMount(){this.mounted=!0;const{showUnreadToast:e,showNewMessagesToast:t,showMessageHistoryToast:a}=this.state,n=Boolean(e||t||a);document.addEventListener("keydown",this.handleShortcut),this.props.actions.updateToastStatus(n)}componentDidUpdate(e,t){const{showUnreadToast:a,showNewMessagesToast:n,showMessageHistoryToast:s}=this.state,{atBottom:i,atLatestPost:r,postListIds:o,lastViewedBottom:l,updateNewMessagesAtInChannel:c,actions:d}=this.props;!e.atBottom&&i&&r&&(this.hideNewMessagesToast(!1),this.hideUnreadToast(),this.hideArchiveToast());const m=e.postListIds.length,u=o.length;u!==m&&o[0]!==e.postListIds[0]&&(!1===i&&r&&u>0)&&!a&&c(l);if(t.showUnreadToast!==a||t.showNewMessagesToast!==n||t.showMessageHistoryToast!==s){const e=Boolean(a||n||s);d.updateToastStatus(e)}}componentWillUnmount(){document.removeEventListener("keydown",this.handleShortcut)}render(){const{atLatestPost:e,atBottom:t,width:a,lastViewedAt:n}=this.props,{showUnreadToast:s,showNewMessagesToast:i,showMessageHistoryToast:r,unreadCount:o}=this.state;let l={show:!1,width:a};const c={show:Boolean(r),width:a,onDismiss:this.hideArchiveToast,onClick:this.scrollToLatestMessages,onClickMessage:z.ob("postlist.toast.scrollToBottom","Jump to recents"),showActions:!0,extraClasses:"toast__history"};return s&&o>0?l=rw(rw({},l),{},{onDismiss:this.hideUnreadToast,onClick:this.scrollToLatestMessages,onClickMessage:z.ob("postlist.toast.scrollToBottom","Jump to recents"),show:!0,showActions:!e||e&&!t}):i&&(l=rw(rw({},l),{},{onDismiss:this.hideNewMessagesToast,onClick:this.scrollToNewMessage,onClickMessage:z.ob("postlist.toast.scrollToLatest","Jump to new messages"),show:!0,showActions:!e||e&&!t})),h.a.createElement(h.a.Fragment,null,h.a.createElement(nw,l,this.newMessagesToastText(o,n)),h.a.createElement(nw,c,this.archiveToastText()))}}ow(cw,"propTypes",{unreadCountInChannel:u.a.number,newRecentMessagesCount:u.a.number,channelMarkedAsUnread:u.a.bool,atLatestPost:u.a.bool,postListIds:u.a.array,latestPostTimeStamp:u.a.number,atBottom:u.a.bool,lastViewedBottom:u.a.number,width:u.a.number,lastViewedAt:u.a.number,focusedPostId:u.a.string,initScrollOffsetFromBottom:u.a.number,updateNewMessagesAtInChannel:u.a.func,scrollToNewMessage:u.a.func,scrollToLatestMessages:u.a.func,updateLastViewedBottomAt:u.a.func,match:u.a.shape({params:u.a.shape({team:u.a.string}).isRequired}).isRequired,actions:u.a.shape({updateToastStatus:u.a.func.isRequired}).isRequired}),ow(cw,"defaultProps",{focusedPostId:""}),ow(cw,"countNewMessages",e=>{const t=Object(ca.h)(e);if(t<=0)return 0;return e.slice(0,t).filter(e=>!Object(ca.o)(e)).length});var dw=Object(Z.c)(cw);var mw=Object(f.o)(Object(s.connect)((function(){const e=Object(F.a)(R.getAllPosts,r.getCurrentUserId,(e,t)=>t,(e,t,a)=>a,(e,t,a,n)=>a?a.map(t=>e[t]).filter(e=>e&&e.user_id!==t&&e.state!==W.Posts.POST_DELETED&&e.create_at>n).length:0),t=Object(Vr.makePreparePostIdsForPostList)();return function(a,n){let s=0;const i=Object(B.isManuallyUnread)(a,n.channelId),r=a.views.channel.lastChannelViewTime[n.channelId];if(!n.atLatestPost){let i=Object(R.getPostIdsInChannel)(a,n.channelId);i&&(i=t(a,{postIds:i,lastViewedAt:r,channelId:n.channelId})),s=e(a,i,r)}return{lastViewedAt:r,newRecentMessagesCount:s,unreadCountInChannel:Object(B.countCurrentChannelUnreadMessages)(a),channelMarkedAsUnread:i}}}),(function(e){return{actions:Object(n.bindActionCreators)({updateToastStatus:k.q},e)}}))(dw));function uw(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pw(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(a),!0).forEach((function(t){hw(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):uw(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function hw(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const gw=50,bw=100,fw={padding:"14px 0px 7px"},_w={position:"absolute",bottom:"0",maxHeight:"100%"};class Cw extends h.a.PureComponent{constructor(e){super(e),hw(this,"getNewMessagesSeparatorIndex",e=>e.findIndex(e=>0===e.indexOf(fe.C.START_OF_NEW_MESSAGES))),hw(this,"handleWindowResize",()=>{this.props.actions.checkAndSetMobileView();const e=z.fb();if(e!==this.state.isMobile){const t=this.state.dynamicListStyle;this.state.postMenuOpened&&(e||"unset"!==t.willChange?e&&"transform"===t.willChange&&(t.willChange="unset"):t.willChange="transform"),this.setState({isMobile:e,dynamicListStyle:t}),this.scrollStopAction=new wi(this.handleScrollStop)}}),hw(this,"togglePostMenu",e=>{const t=this.state.dynamicListStyle;this.state.isMobile&&(t.willChange=e?"unset":"transform"),this.setState({postMenuOpened:e,dynamicListStyle:t})}),hw(this,"renderRow",({data:e,itemId:t,style:a})=>{const n=e.indexOf(t);let s="";const i=-1!==n&&n<e.length-1?e[n+1]:"",r=n>0&&n<e.length?e[n-1]:"";(Object(Vr.isDateLine)(r)||Object(Vr.isStartOfNewMessages)(r))&&(s+="post-row__padding bottom"),(Object(Vr.isDateLine)(i)||Object(Vr.isStartOfNewMessages)(i))&&(s.includes("post-row__padding")?s+=" top":s+="post-row__padding top");const o=t===this.state.postListIds[0];return h.a.createElement("div",{style:a,className:s},h.a.createElement(Xv,{listId:t,previousListId:Object(ca.j)(e,n),shouldHighlight:t===this.props.focusedPostId,loadOlderPosts:this.props.actions.loadOlderPosts,loadNewerPosts:this.props.actions.loadNewerPosts,togglePostMenu:this.togglePostMenu,isLastPost:o,loadingNewerPosts:this.props.loadingNewerPosts,loadingOlderPosts:this.props.loadingOlderPosts}))}),hw(this,"scrollToFailed",e=>{0===e?this.props.actions.changeUnreadChunkTimeStamp(""):this.props.actions.changeUnreadChunkTimeStamp(this.props.lastViewedAt)}),hw(this,"onScroll",({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:a,clientHeight:n,scrollHeight:s})=>{if(s<=0)return;const i="forward"===e&&!a,r=s-n-t<1e3;if("backward"===e&&!a&&t<1e3&&!this.props.atOldestPost?this.props.actions.loadOlderPosts():i&&r&&!this.props.atLatestPost&&this.props.actions.loadNewerPosts(),this.state.isMobile&&(this.state.isScrolling||this.setState({isScrolling:!0}),this.scrollStopAction&&this.scrollStopAction.fireAfter(fe.Z.SCROLL_DELAY)),this.checkBottom(t,s,n),a){if(this.listRef.current._getRangeToRender()[3]<=1&&!this.props.atLatestPost&&this.props.actions.canLoadMorePosts(fe.D.AFTER_ID),!this.state.atBottom&&s){const e=s-n-t;this.setState({initScrollOffsetFromBottom:e})}}}),hw(this,"checkBottom",(e,t,a)=>{this.updateAtBottom(this.isAtBottom(e,t,a))}),hw(this,"isAtBottom",(e,t,a)=>t-a-e<=10&&t>0),hw(this,"updateAtBottom",e=>{if(e!==this.state.atBottom){let t=Date.now();this.props.latestPostTimeStamp>t&&(t=this.props.latestPostTimeStamp),this.setState({atBottom:e,lastViewedBottom:t})}}),hw(this,"updateLastViewedBottomAt",(e=Date.now())=>{this.setState({lastViewedBottom:e})}),hw(this,"handleScrollStop",()=>{this.mounted&&this.setState({isScrolling:!1})}),hw(this,"updateFloatingTimestamp",e=>{this.state.isMobile&&this.props.postListIds&&this.setState({topPostId:Object(ca.g)(this.props.postListIds.slice(e))})}),hw(this,"onItemsRendered",({visibleStartIndex:e})=>{this.updateFloatingTimestamp(e)}),hw(this,"initScrollToIndex",()=>{if(this.props.focusedPostId){return{index:this.state.postListIds.findIndex(e=>e===this.props.focusedPostId),position:"center"}}const e=Object(ca.h)(this.state.postListIds);return e>0?Object(Vr.isDateLine)(this.state.postListIds[e+1])?{index:e+1,position:"start",offset:-50}:{index:e,position:"start",offset:-50}:{index:0,position:"end"}}),hw(this,"scrollToLatestMessages",()=>{this.props.atLatestPost?this.scrollToBottom():(this.updateNewMessagesAtInChannel(),this.props.actions.changeUnreadChunkTimeStamp(""))}),hw(this,"scrollToBottom",()=>{this.listRef.current.scrollToItem(0,"end")}),hw(this,"scrollToNewMessage",()=>{this.listRef.current.scrollToItem(Object(ca.h)(this.state.postListIds),"start",-50)}),hw(this,"updateNewMessagesAtInChannel",(e=Date.now())=>{this.props.actions.updateNewMessagesAtInChannel(this.props.channelId,e)}),hw(this,"renderToasts",e=>h.a.createElement(mw,{atLatestPost:this.props.atLatestPost,postListIds:this.state.postListIds,atBottom:this.state.atBottom,width:e,lastViewedBottom:this.state.lastViewedBottom,latestPostTimeStamp:this.props.latestPostTimeStamp,scrollToNewMessage:this.scrollToNewMessage,scrollToLatestMessages:this.scrollToLatestMessages,updateNewMessagesAtInChannel:this.updateNewMessagesAtInChannel,updateLastViewedBottomAt:this.updateLastViewedBottomAt,channelId:this.props.channelId,focusedPostId:this.props.focusedPostId,initScrollOffsetFromBottom:this.state.initScrollOffsetFromBottom}));const t=fe.C.CHANNEL_INTRO_MESSAGE,a=z.fb();this.state={isScrolling:!1,isMobile:a,atBottom:null,lastViewedBottom:Date.now(),postListIds:[t],topPostId:"",postMenuOpened:!1,dynamicListStyle:{willChange:"transform"},initScrollCompleted:!1,initScrollOffsetFromBottom:0},this.listRef=h.a.createRef(),this.postListRef=h.a.createRef(),a&&(this.scrollStopAction=new wi(this.handleScrollStop)),this.initRangeToRender=this.props.focusedPostId?[0,bw]:[0,gw];let n=0;n=e.focusedPostId?this.props.postListIds.findIndex(e=>e===this.props.focusedPostId):this.getNewMessagesSeparatorIndex(e.postListIds);const s=e.focusedPostId?bw:gw;this.initRangeToRender=[Math.max(n-30,0),Math.max(n+30,Math.min(e.postListIds.length-1,s))]}componentDidMount(){this.mounted=!0,this.props.actions.checkAndSetMobileView(),window.addEventListener("resize",this.handleWindowResize),Cv.a.addListener(fe.q.POST_LIST_SCROLL_TO_BOTTOM,this.scrollToLatestMessages)}getSnapshotBeforeUpdate(e){if(this.postListRef&&this.postListRef.current){const t=this.props.postListIds&&this.props.postListIds.length!==e.postListIds.length&&this.props.postListIds[0]===e.postListIds[0],a=this.props.atOldestPost!==e.atOldestPost;if((t||a)&&!1===this.state.atBottom){const e=this.postListRef.current;return{previousScrollTop:e.parentElement.scrollTop,previousScrollHeight:e.scrollHeight}}}return null}componentDidUpdate(e,t,a){if(!this.postListRef.current)return;const n=e.postListIds.length,s=this.props.postListIds.length;if(a){const t=this.postListRef.current.scrollHeight,i=s!==n&&this.props.postListIds[0]===e.postListIds[0],r=this.props.atOldestPost!==e.atOldestPost;if((i||r)&&!this.state.atBottom&&a){const e=a.previousScrollTop+(t-a.previousScrollHeight);0!==e&&e-a.previousScrollTop!=0&&this.listRef.current.scrollTo(e,e-a.previousScrollTop,!0)}}}componentWillUnmount(){this.mounted=!1,window.removeEventListener("resize",this.handleWindowResize),Cv.a.removeListener(fe.q.POST_LIST_SCROLL_TO_BOTTOM,this.scrollToLatestMessages)}static getDerivedStateFromProps(e){const t=e.postListIds;let a;return a=e.atOldestPost?[...t,fe.C.CHANNEL_INTRO_MESSAGE]:e.autoRetryEnable?[...t,fe.C.OLDER_MESSAGES_LOADER]:[...t,fe.C.LOAD_OLDER_MESSAGES_TRIGGER],e.atLatestPost||(a=e.autoRetryEnable?[fe.C.NEWER_MESSAGES_LOADER,...a]:[fe.C.LOAD_NEWER_MESSAGES_TRIGGER,...a]),{postListIds:a}}render(){const e=this.props.channelId;let t;this.props.latestAriaLabelFunc&&this.props.postListIds.indexOf(fe.C.START_OF_NEW_MESSAGES)>=0&&(t=this.props.latestAriaLabelFunc(this.props.intl));const{dynamicListStyle:a}=this.state;return h.a.createElement("div",{role:"list",className:"a11y__region","data-a11y-sort-order":"1","data-a11y-focus-child":!0,"data-a11y-order-reversed":!0,"data-a11y-loop-navigation":!1,"aria-label":z.ob("accessibility.sections.centerContent","message list main region")},this.state.isMobile&&h.a.createElement(h.a.Fragment,null,h.a.createElement(Kr,{isScrolling:this.state.isScrolling,isMobile:!0,postId:this.state.topPostId}),h.a.createElement(ew,{isScrolling:this.state.isScrolling,atBottom:this.state.atBottom,onClick:this.scrollToBottom})),h.a.createElement("div",{role:"presentation",className:"post-list-holder-by-time",key:"postlist-"+e},h.a.createElement("div",{role:"presentation",className:"post-list__table"},h.a.createElement("div",{id:"postListContent",className:"post-list__content"},h.a.createElement("span",{className:"sr-only","aria-live":"polite"},t),h.a.createElement(bv.a,null,({height:e,width:t})=>h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,this.renderToasts(t)),h.a.createElement(fv.a,{ref:this.listRef,height:e,width:t,className:"post-list__dynamic",itemData:this.state.postListIds,overscanCountForward:80,overscanCountBackward:80,onScroll:this.onScroll,initScrollToIndex:this.initScrollToIndex,canLoadMorePosts:this.props.actions.canLoadMorePosts,innerRef:this.postListRef,style:pw(pw({},_w),a),innerListStyle:fw,initRangeToRender:this.initRangeToRender,loaderId:fe.C.OLDER_MESSAGES_LOADER,correctScrollToBottom:this.props.atLatestPost,onItemsRendered:this.onItemsRendered,scrollToFailed:this.scrollToFailed},this.renderRow)))))))}}hw(Cw,"propTypes",{postListIds:u.a.array.isRequired,focusedPostId:u.a.string,channelId:u.a.string.isRequired,autoRetryEnable:u.a.bool,atOldestPost:u.a.bool,atLatestPost:u.a.bool,loadingNewerPosts:u.a.bool,loadingOlderPosts:u.a.bool,intl:X.a.isRequired,latestPostTimeStamp:u.a.number,latestAriaLabelFunc:u.a.func,lastViewedAt:u.a.string,actions:u.a.shape({loadOlderPosts:u.a.func.isRequired,loadNewerPosts:u.a.func.isRequired,canLoadMorePosts:u.a.func.isRequired,checkAndSetMobileView:u.a.func.isRequired,changeUnreadChunkTimeStamp:u.a.func.isRequired,updateNewMessagesAtInChannel:u.a.func.isRequired}).isRequired});var yw=Object(Z.c)(Cw);function Ew(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class vw extends h.a.PureComponent{constructor(e){super(e),Ew(this,"postsOnLoad",async e=>{const{focusedPostId:t,isFirstLoad:a,latestPostTimeStamp:n,isPrefetchingInProcess:s,actions:i}=this.props;t?await i.loadPostsAround(e,this.props.focusedPostId):a?s||await i.loadUnreads(e):n?await i.syncPostsInChannel(e,this.props.latestPostTimeStamp,!1):await i.loadLatestPosts(e),t||this.markChannelAsReadAndViewed(e),this.mounted&&this.setState({loadingOlderPosts:!1,loadingNewerPosts:!1})}),Ew(this,"callLoadPosts",async(e,t,a)=>{const{error:n}=await this.props.actions.loadPosts({channelId:e,postId:t,type:a});return a===fe.D.BEFORE_ID?this.setState({loadingOlderPosts:!1}):this.setState({loadingNewerPosts:!1}),n?this.autoRetriesCount<3?(this.autoRetriesCount++,await this.callLoadPosts(e,t,a)):this.mounted&&this.setState({autoRetryEnable:!1}):(this.mounted&&this.setState({autoRetryEnable:!0}),this.state.autoRetryEnable||(this.autoRetriesCount=0)),{error:n}}),Ew(this,"markChannelAsReadAndViewed",e=>{this.props.actions.markChannelAsViewed(e),this.props.actions.markChannelAsRead(e)}),Ew(this,"getOldestVisiblePostId",()=>Object(ca.i)(this.props.postListIds)),Ew(this,"getLatestVisiblePostId",()=>Object(ca.g)(this.props.postListIds)),Ew(this,"canLoadMorePosts",async(e=fe.D.BEFORE_ID)=>{if(this.props.postListIds&&!this.state.loadingOlderPosts&&!this.state.loadingNewerPosts)if(this.extraPagesLoaded>10)this.state.autoRetryEnable&&this.setState({autoRetryEnable:!1});else{if(this.props.atOldestPost||e!==fe.D.BEFORE_ID){if(!this.props.atLatestPost){const e=this.getLatestVisiblePostId();await this.getPostsAfter(e)}}else{const e=this.getOldestVisiblePostId();await this.getPostsBefore(e)}this.extraPagesLoaded+=1}}),Ew(this,"getPostsBefore",async()=>{if(this.state.loadingOlderPosts)return;const e=this.getOldestVisiblePostId();this.setState({loadingOlderPosts:!0}),await this.callLoadPosts(this.props.channelId,e,fe.D.BEFORE_ID)}),Ew(this,"getPostsAfter",async()=>{if(this.state.loadingNewerPosts)return;const e=this.getLatestVisiblePostId();this.setState({loadingNewerPosts:!0}),await this.callLoadPosts(this.props.channelId,e,fe.D.AFTER_ID)}),this.state={loadingNewerPosts:!1,loadingOlderPosts:!1,autoRetryEnable:!0},this.autoRetriesCount=0,this.loadingMorePosts=null,this.actionsForPostList={loadOlderPosts:this.getPostsBefore,loadNewerPosts:this.getPostsAfter,checkAndSetMobileView:e.actions.checkAndSetMobileView,canLoadMorePosts:this.canLoadMorePosts,changeUnreadChunkTimeStamp:e.changeUnreadChunkTimeStamp,updateNewMessagesAtInChannel:this.props.actions.updateNewMessagesAtInChannel}}componentDidMount(){this.mounted=!0,this.props.channelId&&this.postsOnLoad(this.props.channelId)}componentDidUpdate(e){this.props.channelId!==e.channelId&&this.postsOnLoad(this.props.channelId)}componentWillUnmount(){this.props.channelManuallyUnread||this.markChannelAsReadAndViewed(this.props.channelId),this.mounted=!1}render(){return this.props.postListIds?h.a.createElement("div",{ref:"postlist",className:"post-list-holder-by-time",key:"postlist-"+this.props.channelId},h.a.createElement("div",{className:"post-list__table"},h.a.createElement("div",{id:"virtualizedPostListContent",ref:"postListContent",className:"post-list__content"},h.a.createElement(yw,{loadingNewerPosts:this.state.loadingNewerPosts,loadingOlderPosts:this.state.loadingOlderPosts,atOldestPost:this.props.atOldestPost,atLatestPost:this.props.atLatestPost,focusedPostId:this.props.focusedPostId,channelId:this.props.channelId,autoRetryEnable:this.state.autoRetryEnable,actions:this.actionsForPostList,postListIds:this.props.formattedPostIds,latestPostTimeStamp:this.props.latestPostTimeStamp,latestAriaLabelFunc:this.props.latestAriaLabelFunc,latestPostId:this.props.latestPostId})))):h.a.createElement(Sp.a,{position:"absolute",key:"loading"})}}Ew(vw,"propTypes",{formattedPostIds:u.a.array,postListIds:u.a.array,channelId:u.a.string,focusedPostId:u.a.string,atLatestPost:u.a.bool,atOldestPost:u.a.bool,isFirstLoad:u.a.bool,latestPostTimeStamp:u.a.number,latestAriaLabelFunc:u.a.func,channelManuallyUnread:u.a.bool.isRequired,latestPostId:u.a.string,changeUnreadChunkTimeStamp:u.a.func.isRequired,isPrefetchingInProcess:u.a.bool.isRequired,actions:u.a.shape({loadPostsAround:u.a.func.isRequired,loadUnreads:u.a.func.isRequired,loadPosts:u.a.func.isRequired,checkAndSetMobileView:u.a.func.isRequired,syncPostsInChannel:u.a.func.isRequired,loadLatestPosts:u.a.func.isRequired,markChannelAsViewed:u.a.func.isRequired,markChannelAsRead:u.a.func.isRequired,updateNewMessagesAtInChannel:u.a.func.isRequired}).isRequired});const ww=(e,t)=>!e.entities.posts.postsInChannel[t],Ow=Object(em.memoizeResult)(e=>Object(ca.g)(e));var Sw=Object(f.o)(Object(s.connect)((function(){const e=Object(R.makeGetPostsChunkAroundPost)(),t=Object(Vr.makePreparePostIdsForPostList)(),a=Object(ca.q)();return function(n,s){let i,r,o,l,c=0,d=!1,m=!1;const{focusedPostId:u,unreadChunkTimeStamp:p,channelId:h}=s,g=n.views.channel,b=g.lastChannelViewTime[h],f=g.channelPrefetchStatus[h]===W.RequestStatus.STARTED,_=Object(B.isManuallyUnread)(n,h);if(r=u&&""!==p?e(n,u,h):p?Object(R.getUnreadPostsChunk)(n,h,p):Object(R.getRecentPostsChunkInChannel)(n,h),r&&(i=r.order,d=r.recent,m=r.oldest),i&&(o=t(n,{postIds:i,lastViewedAt:b,indicateNewMessages:!0,channelId:h}),i.length)){const e=Ow(i),t=Object(R.getPost)(n,e);c=t.create_at,l=a(n,t)}return{lastViewedAt:b,isFirstLoad:ww(n,h),formattedPostIds:o,atLatestPost:d,atOldestPost:m,latestPostTimeStamp:c,postListIds:i,latestAriaLabelFunc:l,isPrefetchingInProcess:f,channelManuallyUnread:_}}}),(function(e){return{actions:Object(n.bindActionCreators)({loadUnreads:k.j,loadPosts:k.h,loadLatestPosts:k.g,loadPostsAround:k.i,checkAndSetMobileView:k.b,syncPostsInChannel:k.p,markChannelAsViewed:ge.markChannelAsViewed,markChannelAsRead:ge.markChannelAsRead,updateNewMessagesAtInChannel:w.o},e)}}))(vw));function Tw(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Mw extends h.a.PureComponent{constructor(e){super(e),Tw(this,"changeUnreadChunkTimeStamp",e=>{this.setState({unreadChunkTimeStamp:e,loaderForChangeOfPostsChunk:!0},()=>{window.requestAnimationFrame(()=>{this.setState({loaderForChangeOfPostsChunk:!1})})})}),this.state={unreadChunkTimeStamp:e.lastViewedAt,loaderForChangeOfPostsChunk:!1,channelLoading:e.channelLoading}}static getDerivedStateFromProps(e,t){return null===t.unreadChunkTimeStamp&&e.lastViewedAt?{unreadChunkTimeStamp:e.lastViewedAt}:e.channelLoading!==t.channelLoading?{unreadChunkTimeStamp:e.lastViewedAt,channelLoading:e.channelLoading}:null}render(){return this.props.channelLoading||this.state.loaderForChangeOfPostsChunk?h.a.createElement("div",{id:"post-list"},h.a.createElement(Sp.a,{position:"absolute",key:"loading"})):h.a.createElement("div",{id:"post-list",role:"main"},h.a.createElement(Sw,{unreadChunkTimeStamp:this.state.unreadChunkTimeStamp,channelId:this.props.channelId,changeUnreadChunkTimeStamp:this.changeUnreadChunkTimeStamp,focusedPostId:this.props.focusedPostId}))}}Tw(Mw,"propTypes",{lastViewedAt:u.a.number,channelLoading:u.a.bool,channelId:u.a.string,focusedPostId:u.a.string});var Pw=Object(f.o)(Object(s.connect)((function(){return function(e,t){const a=Object(o.getTeamByName)(e,t.match.params.team);let n;const s=Object(B.getChannel)(e,t.channelId);let i=e.views.channel.lastChannelViewTime[t.channelId];s&&(s.type===fe.l.DM_CHANNEL&&s.teammate_id&&(n=Object(r.getUser)(e,s.teammate_id)),i=s.last_post_at?i:s.last_post_at);const l=Object(o.getTeamMemberships)(e);return{lastViewedAt:i,channelLoading:((e,t,a,n,s)=>{if(e.postid)return!1;if(t&&a){if(t.type!==fe.l.DM_CHANNEL&&t.name!==e.identifier)return!0;if(t.type===fe.l.DM_CHANNEL&&n&&e.identifier!=="@".concat(n.username))return!0;const i=a.id;return!!(t.team_id&&t.team_id!==i||s&&!s[i])}return!0})(t.match.params,s,a,n,l)}}}))(Mw)),Nw=a.p+"files/daa08e6ee76dbbf096e390f862d038a7.png";function Iw(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Rw extends h.a.PureComponent{constructor(e){super(e),Iw(this,"handleNext",()=>{switch(this.state.currentScreen){case 0:Object(v.e)("tutorial","tutorial_screen_1_welcome_to_mattermost_next");break;case 1:Object(v.e)("tutorial","tutorial_screen_2_how_mattermost_works_next");break;case 2:Object(v.e)("tutorial","tutorial_screen_3_youre_all_set_next")}if(this.state.currentScreen<2)return void this.setState({currentScreen:this.state.currentScreen+1});const{currentUserId:e}=this.props,t=[{user_id:e,category:fe.F.TUTORIAL_STEP,name:e,value:(this.props.step+1).toString()}];this.props.actions.savePreferences(e,t)}),Iw(this,"skipTutorial",e=>{switch(e.preventDefault(),this.state.currentScreen){case 0:Object(v.e)("tutorial","tutorial_screen_1_welcome_to_mattermost_skip");break;case 1:Object(v.e)("tutorial","tutorial_screen_2_how_mattermost_works_skip");break;case 2:Object(v.e)("tutorial","tutorial_screen_3_youre_all_set_skip")}const{currentUserId:t}=this.props,a=[{user_id:t,category:fe.F.TUTORIAL_STEP,name:t,value:fe.l.TutorialSteps.FINISHED.toString()}];this.props.actions.savePreferences(t,a)}),Iw(this,"createScreen",()=>{switch(this.state.currentScreen){case 0:return this.createScreenOne();case 1:return this.createScreenTwo();case 2:return this.createScreenThree()}return null}),Iw(this,"handleCircleClick",(e,t)=>{e.preventDefault(),this.setState({currentScreen:t})}),Iw(this,"createCircles",()=>{const e=[];for(let t=0;t<3;t++){let a="circle";t===this.state.currentScreen&&(a+=" active"),e.push(h.a.createElement("a",{id:"tutorialIntroCircle"+t,href:"#",key:"circle"+t,className:a,"data-screen":t,onClick:e=>this.handleCircleClick(e,t)}))}return h.a.createElement("div",{className:"tutorial__circles"},e)}),this.state={currentScreen:0}}createScreenOne(){const e=this.createCircles();return h.a.createElement("div",{id:"tutorialIntroOne"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"tutorial_intro.screenOne.title1",defaultMessage:"Welcome to:"})),h.a.createElement("h1",null,h.a.createElement(q.a,{id:"tutorial_intro.screenOne.title2",defaultMessage:"Mattermost"})),h.a.createElement("p",null,h.a.createElement(q.a,{id:"tutorial_intro.screenOne.body1",defaultMessage:"Your team communication all in one place, instantly searchable and available anywhere."})),h.a.createElement("p",null,h.a.createElement(q.a,{id:"tutorial_intro.screenOne.body2",defaultMessage:"Keep your team connected to help them achieve what matters most."})),e)}createScreenTwo(){const e=this.createCircles();let t=null,a=null;if(this.props.appDownloadLink){const e=Object(Mi.g)(this.props.appDownloadLink);t=h.a.createElement(q.a,{id:"tutorial_intro.mobileApps",defaultMessage:"Install the apps for {link} for easy access and notifications on the go.",values:{link:h.a.createElement("a",{id:"appDownloadLink",href:e,target:"_blank",rel:"noopener noreferrer"},h.a.createElement(q.a,{id:"tutorial_intro.mobileAppsLinkText",defaultMessage:"PC, Mac, iOS and Android"}))}}),a=h.a.createElement("a",{id:"appDownloadImage",href:e,target:"_blank",rel:"noopener noreferrer"},h.a.createElement("img",{alt:"tutorial icons",className:"tutorial__app-icons",src:Nw}))}return h.a.createElement("div",{id:"tutorialIntroTwo"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"tutorial_intro.screenTwo.title",defaultMessage:"How Mattermost Works:"})),h.a.createElement("p",null,h.a.createElement(q.a,{id:"tutorial_intro.screenTwo.body1",defaultMessage:"Communication happens in public discussion channels, private channels and direct messages."})),h.a.createElement("p",null,h.a.createElement(q.a,{id:"tutorial_intro.screenTwo.body2",defaultMessage:"Everything is archived and searchable from any web-enabled desktop, laptop or phone."})),t,a,e)}createScreenThree(){let e,t;this.props.isLicensed&&this.props.restrictTeamInvite||(e=h.a.createElement(Gv.a,{id:"tutorialIntroInvite",className:"intro-links color--link style--none",modalId:fe.y.INVITATION,dialogType:Cu},h.a.createElement(q.a,{id:"tutorial_intro.invite",defaultMessage:"Invite Teammates"})),t=h.a.createElement("p",null,e,h.a.createElement(q.a,{id:"tutorial_intro.whenReady",defaultMessage:" when you're ready."})));const a=this.createCircles();let n=null;return this.props.supportEmail&&(n=h.a.createElement("p",{id:"supportInfo"},h.a.createElement(q.a,{id:"tutorial_intro.support",defaultMessage:"Need anything, just email us at "}),h.a.createElement("a",{href:"mailto:"+this.props.supportEmail,target:"_blank",rel:"noopener noreferrer"},this.props.supportEmail),".")),h.a.createElement("div",{id:"tutorialIntroThree"},h.a.createElement("h3",null,h.a.createElement(q.a,{id:"tutorial_intro.allSet",defaultMessage:"You're all set"})),t,n,h.a.createElement(q.a,{id:"tutorial_intro.end",defaultMessage:'Click "Next" to enter {channel}. This is the first channel teammates see when they sign up. Use it for posting updates everyone needs to know.',values:{channel:this.props.townSquareDisplayName}}),a)}render(){const e=this.createScreen();return h.a.createElement("div",{className:"tutorial-steps__container"},h.a.createElement("div",{id:"tutorialIntroContent",className:"tutorial__content"},h.a.createElement("div",{className:"tutorial__steps"},e,h.a.createElement("div",{className:"tutorial__footer"},h.a.createElement("button",{id:"tutorialNextButton",className:"btn btn-primary",onClick:this.handleNext},h.a.createElement(q.a,{id:"tutorial_intro.next",defaultMessage:"Next"})),h.a.createElement("a",{id:"tutorialSkipLink",className:"tutorial-skip",href:"#",onClick:this.skipTutorial},h.a.createElement(q.a,{id:"tutorial_intro.skip",defaultMessage:"Skip Tutorial"}))))))}}Iw(Rw,"propTypes",{currentUserId:u.a.string.isRequired,step:u.a.number,townSquareDisplayName:u.a.string.isRequired,appDownloadLink:u.a.string,isLicensed:u.a.bool.isRequired,restrictTeamInvite:u.a.bool.isRequired,supportEmail:u.a.string.isRequired,actions:u.a.shape({savePreferences:u.a.func.isRequired}).isRequired});var Aw=Object(s.connect)((function(e){const t=Object(r.getCurrentUserId)(e);return{currentUserId:t,step:Object(K.getInt)(e,fe.F.TUTORIAL_STEP,t,0)}}),(function(e){return{actions:Object(n.bindActionCreators)({savePreferences:Qs.savePreferences},e)}}))(Rw);class jw extends h.a.PureComponent{componentDidMount(){this.props.isRoot&&document.body.classList.add("app__body")}componentWillUnmount(){this.props.isRoot&&document.body.classList.remove("app__body")}render(){return h.a.createElement("div",{id:"app-content",className:"app__content"},h.a.createElement(Aw,{townSquareDisplayName:this.props.townSquareDisplayName,appDownloadLink:this.props.appDownloadLink,isLicensed:this.props.isLicensed,restrictTeamInvite:this.props.restrictTeamInvite,supportEmail:this.props.supportEmail}))}}jw.propTypes={isRoot:u.a.bool,townSquareDisplayName:u.a.string.isRequired,appDownloadLink:u.a.string,isLicensed:u.a.bool.isRequired,restrictTeamInvite:u.a.bool.isRequired,supportEmail:u.a.string.isRequired},jw.defaultProps={isRoot:!0};var xw=Object(s.connect)((function(e){const t=Object(i.getLicense)(e),a=Object(i.getConfig)(e),n=Object(o.getCurrentTeam)(e),s=Object(B.getChannelsNameMapInCurrentTeam)(e)[fe.Z.DEFAULT_CHANNEL];return{townSquareDisplayName:s?s.display_name:fe.Z.DEFAULT_CHANNEL_UI_NAME,appDownloadLink:a.AppDownloadLink,isLicensed:"true"===t.IsLicensed,restrictTeamInvite:!Object(A.haveITeamPermission)(e,{team:n.id,permission:W.Permissions.INVITE_USER}),supportEmail:a.SupportEmail}}))(jw);function Lw(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function kw(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lw(Object(a),!0).forEach((function(t){Dw(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lw(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Dw(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Uw extends h.a.PureComponent{static getDerivedStateFromProps(e,t){let a={};const n=e.match.params.postid;return e.match.url!==t.url&&e.channelId!==t.channelId&&(a={deferredPostView:Uw.createDeferredPostView(),url:e.match.url,focusedPostId:n}),e.channelId!==t.channelId&&(a=kw(kw({},a),{},{channelId:e.channelId,focusedPostId:n})),n&&n!==t.focusedPostId&&(a=kw(kw({},a),{},{focusedPostId:n})),e.showNextSteps!==t.showNextSteps&&(a=kw(kw({},a),{},{showNextSteps:e.showNextSteps})),Object.keys(a).length?a:null}constructor(e){super(e),Dw(this,"getChannelView",()=>this.channelViewRef.current),Dw(this,"onClickCloseChannel",()=>{this.props.actions.goToLastViewedChannel()}),this.state={url:e.match.url,channelId:e.channelId,deferredPostView:Uw.createDeferredPostView()},this.channelViewRef=h.a.createRef()}async componentDidMount(){await this.props.actions.getProfiles(),!this.props.showNextSteps&&!this.props.showNextStepsTips||this.props.isOnboardingHidden||this.props.actions.setShowNextStepsView(!0)}componentDidUpdate(e){if(e.channelId!==this.props.channelId||e.channelIsArchived!==this.props.channelIsArchived){Object(v.b)("ChannelView#componentDidUpdate");const[e]=Object(v.c)("SidebarChannelLink#click","ChannelView#componentDidUpdate"),[t]=Object(v.c)("TeamLink#click","ChannelView#componentDidUpdate");Object(v.a)(["SidebarChannelLink#click","ChannelView#componentDidUpdate","TeamLink#click"]),-1!==e&&Object(v.e)("performance","channel_switch",{duration:Math.round(e)}),-1!==t&&Object(v.e)("performance","team_switch",{duration:Math.round(t)}),this.props.channelIsArchived&&!this.props.viewArchivedChannels&&this.props.actions.goToLastViewedChannel()}this.props.match.url!==e.match.url&&this.props.showNextStepsEphemeral&&this.props.actions.setShowNextStepsView(!1)}render(){const{channelIsArchived:e}=this.props;if(this.props.showTutorial&&!this.props.isCloud)return h.a.createElement(xw,{isRoot:!1});if(this.props.showNextStepsEphemeral&&this.props.isCloud)return h.a.createElement(gv,null);let t;this.props.deactivatedChannel?t=h.a.createElement("div",{className:"post-create__container",id:"post-create"},h.a.createElement("div",{className:"channel-archived__message"},h.a.createElement(Pr.b,{id:"create_post.deactivated",defaultMessage:"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted."}),h.a.createElement("button",{className:"btn btn-primary channel-archived__close-btn",onClick:this.onClickCloseChannel},h.a.createElement(q.a,{id:"center_panel.archived.closeChannel",defaultMessage:"Close Channel"})))):e?t=h.a.createElement("div",{className:"post-create__container",id:"post-create"},h.a.createElement("div",{id:"channelArchivedMessage",className:"channel-archived__message"},h.a.createElement(Pr.b,{id:"archivedChannelMessage",defaultMessage:"You are viewing an **archived channel**. New messages cannot be posted."}),h.a.createElement("button",{className:"btn btn-primary channel-archived__close-btn",onClick:this.onClickCloseChannel},h.a.createElement(q.a,{id:"center_panel.archived.closeChannel",defaultMessage:"Close Channel"})))):this.props.channelRolesLoading||(t=h.a.createElement("div",{className:"post-create__container",id:"post-create"},h.a.createElement(JE,{getChannelView:this.getChannelView})));const a=this.state.deferredPostView;return h.a.createElement("div",{ref:this.channelViewRef,id:"app-content",className:"app__content"},h.a.createElement(bi,{overlayType:"center"}),h.a.createElement(xE,{channelId:this.props.channelId}),h.a.createElement(a,{channelId:this.props.channelId,focusedPostId:this.state.focusedPostId}),t)}}Dw(Uw,"propTypes",{channelId:u.a.string.isRequired,deactivatedChannel:u.a.bool.isRequired,channelRolesLoading:u.a.bool.isRequired,match:u.a.shape({url:u.a.string.isRequired,params:u.a.shape({postid:u.a.string}).isRequired}).isRequired,showTutorial:u.a.bool.isRequired,showNextSteps:u.a.bool.isRequired,showNextStepsTips:u.a.bool.isRequired,isOnboardingHidden:u.a.bool.isRequired,showNextStepsEphemeral:u.a.bool.isRequired,channelIsArchived:u.a.bool.isRequired,viewArchivedChannels:u.a.bool.isRequired,actions:u.a.shape({goToLastViewedChannel:u.a.func.isRequired,setShowNextStepsView:u.a.func.isRequired,getProfiles:u.a.func.isRequired}),isCloud:u.a.bool.isRequired}),Dw(Uw,"createDeferredPostView",()=>function(e,t=null){class a extends h.a.PureComponent{constructor(e,t){super(e,t),this.state={shouldRender:!1}}componentDidMount(){window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>this.setState({shouldRender:!0}))})}render(){return this.state.shouldRender?h.a.createElement(e,this.props):t}}return cE()(a,e)}(Pw,h.a.createElement("div",{id:"post-list",className:"a11y__region","data-a11y-sort-order":"1","data-a11y-focus-child":!0,"data-a11y-order-reversed":!0})));const qw=Object(F.a)((e,t)=>Object(z.x)(e,t),e=>Boolean(e&&e.delete_at));var Hw=Object(f.o)(Object(s.connect)((function(e){const t=Object(B.getCurrentChannel)(e),a=Object(i.getConfig)(e),n="true"===a.EnableTutorial,s=Object(K.getInt)(e,fe.F.TUTORIAL_STEP,Object(r.getCurrentUserId)(e),fe.Q.FINISHED),o="true"===a.ExperimentalViewArchivedChannels;let l=!0;if(t&&t.id){const a=Object(oE.getRoles)(e),n=Object(A.getMyChannelRoles)(e);if(n[t.id]){const e=n[t.id].values();for(const t of e){a[t]&&(l=!1);break}}}return{channelId:t?t.id:"",channelRolesLoading:l,deactivatedChannel:!!t&&qw(e,t.id),showTutorial:n&&s<=fe.Q.INTRO_SCREENS,showNextSteps:Pm(e),showNextStepsTips:Nm(e),isOnboardingHidden:Mm(e),showNextStepsEphemeral:e.views.nextSteps.show,channelIsArchived:!!t&&0!==t.delete_at,viewArchivedChannels:o,isCloud:"true"===Object(i.getLicense)(e).Cloud}}),(function(e){return{actions:Object(n.bindActionCreators)({setShowNextStepsView:qd,goToLastViewedChannel:k.c,getProfiles:Y.getProfiles},e)}}))(Uw));function Fw(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Bw extends h.a.PureComponent{constructor(e){super(e),Fw(this,"replaceUrlTimeout",void 0),Fw(this,"replaceUrlIfPermalink",()=>{this.props.match.params.postid&&(this.replaceUrlTimeout=setTimeout(()=>{const e=this.props.match.url.split("/").slice(0,-1).join("/");N.a.replace(e)},fe.Z.PERMALINK_FADEOUT))}),this.state={prevProps:e}}componentDidUpdate(e){this.props.match.params.team===e.match.params.team&&this.props.match.params.identifier===e.match.params.identifier||(clearTimeout(this.replaceUrlTimeout),this.props.actions.onChannelByIdentifierEnter(this.props),this.replaceUrlIfPermalink())}componentDidMount(){this.props.actions.onChannelByIdentifierEnter(this.props),this.replaceUrlIfPermalink()}componentWillUnmount(){clearTimeout(this.replaceUrlTimeout)}render(){return h.a.createElement(Hw,null)}}Fw(Bw,"propTypes",{match:u.a.shape({params:u.a.shape({identifier:u.a.string.isRequired,team:u.a.string.isRequired,postid:u.a.string,path:u.a.string.isRequired}).isRequired,url:u.a.string.isRequired}).isRequired,actions:u.a.shape({onChannelByIdentifierEnter:u.a.func.isRequired}).isRequired,history:u.a.any.isRequired});var Gw=Object(f.o)(Object(s.connect)(null,(function(e){return{actions:Object(n.bindActionCreators)({onChannelByIdentifierEnter:tE},e)}}))(Bw));class Vw extends h.a.PureComponent{constructor(e){super(e),this.state={returnTo:"",lastReturnTo:""}}static getDerivedStateFromProps(e,t){return t.lastReturnTo!==e.location.pathname&&e.location.pathname.includes("/pl/")?{lastReturnTo:e.location.pathname,returnTo:t.lastReturnTo}:{lastReturnTo:e.location.pathname}}render(){const{lastChannelPath:e}=this.props,t=this.props.match.url;return h.a.createElement("div",{key:"inner-wrap",className:la()("inner-wrap","channel__wrap",{"move--right":this.props.lhsOpen,"move--left":this.props.rhsOpen,"move--left-small":this.props.rhsMenuOpen})},h.a.createElement("div",{className:"row header"},h.a.createElement("div",{id:"navbar_wrapper"},h.a.createElement($y,null))),h.a.createElement("div",{className:"row main"},h.a.createElement(f.g,null,h.a.createElement(f.d,{path:"".concat(t,"/pl/:postid"),render:e=>h.a.createElement(F_,Object.assign({},e,{returnTo:this.state.returnTo}))}),h.a.createElement(f.d,{path:["/:team/:path(channels|messages)/:identifier/:postid","/:team/:path(channels|messages)/:identifier"],component:Gw}),h.a.createElement(f.c,{to:e}))))}}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Vw,"propTypes",{match:u.a.shape({url:u.a.string.isRequired}).isRequired,location:u.a.shape({pathname:u.a.string.isRequired}).isRequired,lastChannelPath:u.a.string.isRequired,lhsOpen:u.a.bool.isRequired,rhsOpen:u.a.bool.isRequired,rhsMenuOpen:u.a.bool.isRequired});var Ww,zw=Object(s.connect)((e,t)=>{let a=Object(Dt.b)(e,t.match.params.team);if(!a){const n=Object(o.getTeamByName)(e,t.match.params.team);a=Object(B.getRedirectChannelNameForTeam)(e,n.id)}return{lastChannelPath:"".concat(t.match.url,"/channels/").concat(a),lhsOpen:gh(e),rhsOpen:Object(ui.c)(e),rhsMenuOpen:Object(ui.b)(e)}})(Vw),Yw=a.p+"files/a6770ed711306dec770bcb57f1f24499.png",Kw=a.p+"files/2d8a4c8f7eca21f6e0e7576f4d1a2dfa.png",Zw=a.p+"files/2dc6ae89b927cbb0028faf2f9c7ccdcd.png",Jw=a.p+"files/ad4755dff1c823b5ef2c5a098bd1b865.png",Xw=a.p+"files/e895a3c60d2b2a95d3c40628a00f954f.png",Qw=a.p+"files/6d5f8f15c17945544c70a7291c3a572e.png",$w=a.p+"files/19fc1bd863e8c48bab99b9d23f1f5c61.png",eO=a.p+"files/94ffd2ace8c56a1ee73e955acd2b4291.png",tO=a.p+"files/a3d918d99ff7a9191cd502ce539e3676.png",aO=a.p+"files/714cbb910dacd92896fb02b9be9df9ef.png",nO=a.p+"files/48a388079f01621af45b16f2e0b6d0c2.png",sO=a.p+"files/fda941417d2ae38748d8901488112326.png",iO=a.p+"files/3d796022cb79accb427be84dd87b808e.png",rO=a.p+"files/ad0defa04077f1b06e8d86cdd7760ed4.png",oO=a.p+"files/dbb0d2a61eb3a2304ee74150821a9eaa.png";function lO(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}!function(e){e.Mention="Mention",e.Unread="Unread",e.None="None"}(Ww||(Ww={}));class cO extends h.a.PureComponent{constructor(...e){super(...e),lO(this,"updateTitle",()=>{const{siteName:e,currentChannel:t,currentTeam:a,currentTeammate:n,unreads:s}=this.props,{formatMessage:i}=this.props.intl,r=e||"";if(t&&a&&t.id){let e=t.display_name;t.type===fe.l.DM_CHANNEL&&null!=n&&(e=n.display_name);const i=s.mentionCount>0?"("+s.mentionCount+") ":"",o=!this.isDynamicFaviconSupported&&s.messageCount>0?"* ":"";document.title=i+o+e+" - "+a.display_name+" "+r}else document.title=i({id:"sidebar.team_select",defaultMessage:"{siteName} - Join a team"},{siteName:r||"Mattermost"})}),lO(this,"updateFavicon",e=>{if(!y.g()&&!y.d())return;if(!document.querySelector('link[rel="icon"]'))return;const t=document.querySelector('link[rel="icon"][sizes="16x16"]'),a=document.querySelector('link[rel="icon"][sizes="24x24"]'),n=document.querySelector('link[rel="icon"][sizes="32x32"]'),s=document.querySelector('link[rel="icon"][sizes="64x64"]'),i=document.querySelector('link[rel="icon"][sizes="96x96"]'),r=e=>"string"==typeof e?e:"";switch(e){case Ww.Mention:t.href=r(Qw),a.href=r($w),n.href=r(eO),s.href=r(tO),i.href=r(aO);break;case Ww.Unread:t.href=r(nO),a.href=r(sO),n.href=r(iO),s.href=r(rO),i.href=r(oO);break;default:t.href=r(Yw),a.href=r(Kw),n.href=r(Zw),s.href=r(Jw),i.href=r(Xw)}})}componentDidUpdate(e){this.updateTitle();const t=this.getBadgeStatus(e.unreads),a=this.getBadgeStatus(this.props.unreads);t!==a&&this.updateFavicon(a)}get isDynamicFaviconSupported(){return y.d()||y.g()}getBadgeStatus(e){return e.mentionCount>0?Ww.Mention:e.messageCount>0?Ww.Unread:Ww.None}render(){return null}}lO(cO,"propTypes",{intl:u.a.any.isRequired,unreads:u.a.shape({messageCount:u.a.number.isRequired,mentionCount:u.a.number.isRequired}).isRequired,siteName:u.a.string,currentChannel:u.a.any,currentTeam:u.a.any.isRequired,currentTeammate:u.a.oneOfType([u.a.any,u.a.oneOf([null])])});var dO=Object(Z.c)(cO);var mO=Object(s.connect)((function(e){const t=Object(i.getConfig)(e),a=Object(B.getCurrentChannel)(e),n=a&&a.teammate_id?a:null;return{currentChannel:a,currentTeam:Object(o.getCurrentTeam)(e),currentTeammate:n,siteName:t.SiteName,unreads:Object(B.getUnreads)(e)}}),(function(e){return{actions:Object(n.bindActionCreators)({},e)}}))(dO),uO=a(1350),pO=a(1380);class hO extends h.a.PureComponent{render(){return h.a.createElement("span",this.props,h.a.createElement(q.a,{id:"generic_icons.adminOnlyIcon",defaultMessage:"Admin View Only Icon"},e=>h.a.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",role:"img","aria-label":e},h.a.createElement("path",{d:"M7 3.21005C7.3264 3.21005 7.624 3.29165 7.8928 3.45485C8.1712 3.61805 8.392 3.83885 8.5552 4.11725C8.7184 4.38605 8.8 4.68365 8.8 5.01005C8.8 5.33645 8.7184 5.63885 8.5552 5.91725C8.392 6.18605 8.1712 6.40205 7.8928 6.56525C7.624 6.72845 7.3264 6.81005 7 6.81005C6.6736 6.81005 6.3712 6.72845 6.0928 6.56525C5.824 6.40205 5.608 6.18605 5.4448 5.91725C5.2816 5.63885 5.2 5.33645 5.2 5.01005C5.2 4.68365 5.2816 4.38605 5.4448 4.11725C5.608 3.83885 5.824 3.61805 6.0928 3.45485C6.3712 3.29165 6.6736 3.21005 7 3.21005ZM7 0.502848C7.9792 0.502848 8.9152 0.694848 9.808 1.07885C10.672 1.46285 11.4304 1.99565 12.0832 2.67725C12.7456 3.35885 13.2496 4.13645 13.5952 5.01005C13.2496 5.88365 12.7456 6.66125 12.0832 7.34285C11.4304 8.02445 10.672 8.55245 9.808 8.92685C8.9152 9.31085 7.9792 9.50285 7 9.50285C6.0208 9.50285 5.0848 9.31085 4.192 8.92685C3.328 8.55245 2.5648 8.02445 1.9024 7.34285C1.2496 6.66125 0.7504 5.88365 0.4048 5.01005C0.7504 4.13645 1.2496 3.35885 1.9024 2.67725C2.5648 1.99565 3.328 1.46285 4.192 1.07885C5.0848 0.694848 6.0208 0.502848 7 0.502848ZM1.7152 5.01005C2.0416 5.67245 2.4736 6.25325 3.0112 6.75245C3.5488 7.25165 4.1584 7.63565 4.84 7.90445C5.5312 8.17325 6.2512 8.30765 7 8.30765C8.1328 8.30765 9.1744 8.01005 10.1248 7.41485C11.0752 6.81965 11.8 6.01805 12.2992 5.01005C11.8 4.00205 11.0752 3.20045 10.1248 2.60525C9.1744 2.01005 8.1328 1.71245 7 1.71245C6.2512 1.71245 5.5312 1.84685 4.84 2.11565C4.1584 2.38445 3.5488 2.76845 3.0112 3.26765C2.4736 3.76685 2.0416 4.34765 1.7152 5.01005Z",fill:"rgba(var(--center-channel-color-rgb), 0.72)",fillOpacity:"0.48"}))))}}a(2212);function gO(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class bO extends h.a.PureComponent{constructor(e){super(e),gO(this,"clearDataTimer",void 0),gO(this,"trackClickEvent",()=>{const e=this.state.noticesData[this.state.presentNoticeIndex];Object(v.e)("ui","notice_click_".concat(e.id))}),gO(this,"handleNextButton",()=>{const e=this.state.noticesData[this.state.presentNoticeIndex],t=this.state.noticesData.length;if(1===t&&e.actionText)this.trackClickEvent(),window.open(e.actionParam,"_blank");else if(this.state.presentNoticeIndex+1<t){const e=this.state.noticesData[this.state.presentNoticeIndex+1];this.props.actions.updateNoticesAsViewed([e.id]),this.setState({presentNoticeIndex:this.state.presentNoticeIndex+1})}}),gO(this,"handlePreviousButton",()=>{0!==this.state.presentNoticeIndex&&this.setState({presentNoticeIndex:this.state.presentNoticeIndex-1})}),gO(this,"onModalDismiss",()=>{this.clearDataTimer=window.setTimeout(()=>{this.setState({noticesData:[],presentNoticeIndex:0})},3e3)}),this.state={presentNoticeIndex:0,noticesData:[]},this.clearDataTimer=void 0}componentDidMount(){this.fetchNoticesData()}componentDidUpdate(e){const t=this.props.socketStatus,a=e.socketStatus;if(t.connected&&!a.connected&&a.lastConnectAt){const e=Date.now(),t=new Date(a.lastConnectAt).getDate();new Date(e).getDate()!==t&&e>a.lastConnectAt&&this.fetchNoticesData()}}componentWillUnmount(){clearTimeout(this.clearDataTimer)}async fetchNoticesData(){const{version:e,currentTeamId:t}=this.props;let a="web",n=e;Object(y.e)()&&(a="desktop",n=Object(y.a)());const{data:s}=await this.props.actions.getInProductNotices(t,a,n);if(s&&(this.setState({noticesData:s}),s.length)){const e=this.state.noticesData[this.state.presentNoticeIndex];this.props.actions.updateNoticesAsViewed([e.id])}}confirmButtonText(e){const t=this.state.noticesData.length;return 1===t&&e.actionText?h.a.createElement("span",null,e.actionText):t===this.state.presentNoticeIndex+1?h.a.createElement(q.a,{id:"generic.done",defaultMessage:"Done"}):h.a.createElement(h.a.Fragment,null,h.a.createElement(q.a,{id:"generic.next",defaultMessage:"Next"}),h.a.createElement(uO.a,null))}cancelButtonText(){return 0!==this.state.presentNoticeIndex?h.a.createElement(h.a.Fragment,null,h.a.createElement(pO.a,null),h.a.createElement(q.a,{id:"generic.previous",defaultMessage:"Previous"})):null}renderCicrleIndicators(){const e=this.state.noticesData.length;if(1===e)return null;const t=[];for(let a=0;a<e;a++){let e="circle";a===this.state.presentNoticeIndex&&(e+=" active"),t.push(h.a.createElement("span",{id:"tutorialIntroCircle"+a,key:"circle"+a,className:e,"data-screen":a}))}return h.a.createElement("span",{className:"tutorial__circles"},t)}renderAdminOnlyText(){return this.state.noticesData[this.state.presentNoticeIndex].sysAdminOnly?h.a.createElement(h.a.Fragment,null,h.a.createElement(hO,null),h.a.createElement(q.a,{id:"inProduct_notices.adminOnlyMessage",defaultMessage:"Visible to Admins only"})):null}renderImage(e){return e?h.a.createElement("img",{className:"productNotices__img",src:e}):null}renderActionButton(e){return 1!==this.state.noticesData.length&&e.actionText?h.a.createElement("a",{target:"_blank",id:"actionButton",rel:"noopener noreferrer",className:"GenericModal__button actionButton",href:e.actionParam,onClick:this.trackClickEvent},e.actionText):null}render(){if(!this.state.noticesData.length)return null;const e=this.state.noticesData[this.state.presentNoticeIndex],t=0===this.state.presentNoticeIndex?void 0:this.handlePreviousButton,a=this.state.presentNoticeIndex===this.state.noticesData.length-1;return h.a.createElement(Kb,{show:!0,onHide:this.onModalDismiss,handleConfirm:this.handleNextButton,handleCancel:t,modalHeaderText:h.a.createElement("span",null,e.title),confirmButtonText:this.confirmButtonText(e),cancelButtonText:this.cancelButtonText(),className:"productNotices",autoCloseOnConfirmButton:a,autoCloseOnCancelButton:!1},h.a.createElement("span",{className:"productNotices__helpText"},h.a.createElement(V.a,{message:e.description})),this.renderActionButton(e),h.a.createElement("div",{className:"productNotices__imageDiv"},this.renderImage(e.image)),h.a.createElement("div",{className:"productNotices__info"},this.renderCicrleIndicators(),this.renderAdminOnlyText()))}}gO(bO,"propTypes",{version:u.a.string.isRequired,currentTeamId:u.a.string.isRequired,socketStatus:u.a.any.isRequired,actions:u.a.shape({getInProductNotices:u.a.func.isRequired,updateNoticesAsViewed:u.a.func.isRequired}).isRequired});var fO=Object(s.connect)((function(e){const t=Object(i.getConfig)(e).Version||"",a=Object(fi.a)(e);return{currentTeamId:Object(o.getCurrentTeamId)(e),version:t,socketStatus:a}}),(function(e){return{actions:Object(n.bindActionCreators)({getInProductNotices:xt.getInProductNotices,updateNoticesAsViewed:xt.updateNoticesAsViewed},e)}}))(bO);class _O extends h.a.Component{shouldComponentUpdate(e){return this.props.teamType!==e.teamType||this.props.pathName!==e.pathName||this.props.fetchingChannels!==e.fetchingChannels||this.props.useLegacyLHS!==e.useLegacyLHS}componentDidMount(){const e=window.navigator.platform;document.body.classList.add("app__body","channel-view"),(y.h()||y.f())&&document.body.classList.add("browser--ie"),"Win32"===e||"Win64"===e?document.body.classList.add("os--windows"):"MacIntel"!==e&&"MacPPC"!==e||document.body.classList.add("os--mac")}componentWillUnmount(){document.body.classList.remove("app__body","channel-view")}render(){const e=Rh,t=this.props.useLegacyLHS?kb:L_;return h.a.createElement("div",{id:"channel_view",className:"channel-view"},h.a.createElement(Wt.a,null),h.a.createElement(zt.a,null),h.a.createElement(mO,null),h.a.createElement(fO,null),h.a.createElement("div",{className:"container-fluid"},h.a.createElement(Md,null),h.a.createElement(ch,{teamType:this.props.teamType}),h.a.createElement(f.d,{component:e}),h.a.createElement(f.d,{component:t}),!this.props.fetchingChannels&&h.a.createElement(f.d,{component:zw}),this.props.fetchingChannels&&h.a.createElement(Sp.a,null),h.a.createElement(Et.a,{pluggableName:"Root"}),h.a.createElement(Ys,null),h.a.createElement(ph,null),h.a.createElement(Rs,null),h.a.createElement(si,null),h.a.createElement(Xs,null),h.a.createElement(di,{isMac:z.eb()}),h.a.createElement(hh.a,null)))}}function CO(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(_O,"propTypes",{pathName:u.a.string.isRequired,teamType:u.a.string.isRequired,fetchingChannels:u.a.bool.isRequired,useLegacyLHS:u.a.bool.isRequired});const yO=h.a.lazy(()=>a.e(15).then(a.bind(null,2433))),EO=Object(Vt.a)(yO);let vO,wO=Date.now();class OO extends h.a.PureComponent{constructor(e){if(super(e),CO(this,"blurTime",void 0),CO(this,"handleBlur",()=>{window.isActive=!1,this.blurTime=(new Date).getTime(),this.props.currentUser&&this.props.actions.viewChannel("")}),CO(this,"handleFocus",()=>{this.props.currentChannelId&&(this.props.actions.markChannelAsReadOnFocus(this.props.currentChannelId),window.isActive=!0),Date.now()-this.blurTime>1e4&&this.props.currentTeamId&&(this.props.actions.fetchMyChannelsAndMembers(this.props.currentTeamId),this.props.actions.loadProfilesForDirect())}),CO(this,"joinTeam",async e=>{const{data:t}=await this.props.actions.getTeamByName(e.match.params.team);if(t&&0===t.delete_at){const{error:a}=await e.actions.addUserToTeam(t.id,e.currentUser&&e.currentUser.id);a?e.history.push("/error?type=team_not_found"):(this.setState({team:t}),this.initTeam(t))}else e.history.push("/error?type=team_not_found")}),CO(this,"initTeam",e=>(e.id!==this.props.previousTeamId&&w.c(),this.props.actions.getMyTeamUnreads(),this.props.actions.selectTeam(e),this.props.actions.setPreviousTeamId(e.id),z.bb(this.props.currentUser)&&this.setState({finishedFetchingChannels:!1}),this.props.actions.fetchMyChannelsAndMembers(e.id).then(()=>{this.setState({finishedFetchingChannels:!0})}),this.props.actions.loadStatusesForChannelAndSidebar(),this.props.actions.loadProfilesForDirect(),this.props.license&&"true"===this.props.license.IsLicensed&&"true"===this.props.license.LDAPGroups&&(this.props.currentUser&&this.props.actions.getGroupsByUserId(this.props.currentUser.id),this.props.actions.getAllGroupsAssociatedToChannelsInTeam(e.id,!0),e.group_constrained?this.props.actions.getAllGroupsAssociatedToTeam(e.id,!0):this.props.actions.getGroups(!0,0,0)),e)),CO(this,"updateCurrentTeam",e=>{const t=e.teamsList?e.teamsList.find(t=>t.name===e.match.params.team):null;return t?(this.initTeam(t),t):null}),CO(this,"onShortcutKeyDown",e=>{if(e.shiftKey&&z.g(e)&&z.cb(e,fe.Z.KeyCodes.L)){const e=document.getElementById("sidebar-right");if(e)if(e.className.match("sidebar--right sidebar--right--expanded move--left")){const e=document.getElementById("reply_textbox");e&&e.focus()}else{const e=document.getElementById("post_textbox");e&&e.focus()}}}),this.blurTime=(new Date).getTime(),this.props.mfaRequired)return void this.props.history.push("/mfa/setup");clearInterval(vO),vO=window.setInterval(()=>{const e=(new Date).getTime();e>wO+6e4&&(console.log("computer woke up - fetching latest"),Object(Gt.c)(!1)),wO=e},3e4);const t=this.updateCurrentTeam(this.props);this.state={team:t,finishedFetchingChannels:!1,prevTeam:this.props.match.params.team,teamsList:this.props.teamsList},t||this.joinTeam(this.props)}static getDerivedStateFromProps(e,t){if(t.prevTeam!==e.match.params.team){const t=e.teamsList?e.teamsList.find(t=>t.name===e.match.params.team):null;return{prevTeam:e.match.params.team,team:t||null}}return{prevTeam:e.match.params.team}}componentDidMount(){Object(Ut.d)(),Object(Gt.f)(),window.isActive=!0,z.d(this.props.theme),y.l()&&Bt.a.enable(),window.addEventListener("focus",this.handleFocus),window.addEventListener("blur",this.handleBlur),window.addEventListener("keydown",this.onShortcutKeyDown)}componentDidUpdate(e){const{theme:t}=this.props;z.e(e.theme,t)||z.d(t),this.props.match.params.team!==e.match.params.team&&(this.state.team&&this.initTeam(this.state.team),this.state.team||this.joinTeam(this.props))}componentWillUnmount(){window.isActive=!1,Object(Ut.e)(),Object(Gt.g)(),y.l()&&Bt.a.disable(),clearInterval(vO),window.removeEventListener("focus",this.handleFocus),window.removeEventListener("blur",this.handleBlur),window.removeEventListener("keydown",this.onShortcutKeyDown)}render(){var e;if(null===this.state.team)return h.a.createElement("div",null);const t=this.state.team?this.state.team.type:"";return h.a.createElement(f.g,null,h.a.createElement(f.d,{path:"/:team/integrations",component:EO}),h.a.createElement(f.d,{path:"/:team/emoji",component:EO}),null===(e=this.props.plugins)||void 0===e?void 0:e.map(e=>h.a.createElement(f.d,{key:e.id,path:"/:team/"+e.route,render:()=>h.a.createElement(Et.a,{pluggableName:"NeedsTeamComponent",pluggableId:e.id})})),h.a.createElement(f.d,{render:e=>h.a.createElement(_O,{pathName:e.location.pathname,teamType:t,fetchingChannels:!this.state.finishedFetchingChannels,useLegacyLHS:this.props.useLegacyLHS})}))}}CO(OO,"propTypes",{license:u.a.any.isRequired,currentUser:u.a.shape({id:u.a.string.isRequired}),currentChannelId:u.a.string,currentTeamId:u.a.string,useLegacyLHS:u.a.bool.isRequired,actions:u.a.shape({fetchMyChannelsAndMembers:u.a.func.isRequired,getMyTeamUnreads:u.a.func.isRequired,viewChannel:u.a.func.isRequired,markChannelAsReadOnFocus:u.a.func.isRequired,getTeamByName:u.a.func.isRequired,addUserToTeam:u.a.func.isRequired,selectTeam:u.a.func.isRequired,setPreviousTeamId:u.a.func.isRequired,loadStatusesForChannelAndSidebar:u.a.func.isRequired,loadProfilesForDirect:u.a.func.isRequired,getAllGroupsAssociatedToChannelsInTeam:u.a.func.isRequired,getAllGroupsAssociatedToTeam:u.a.func.isRequired,getGroupsByUserId:u.a.func.isRequired,getGroups:u.a.func.isRequired}).isRequired,mfaRequired:u.a.bool.isRequired,match:u.a.shape({params:u.a.shape({team:u.a.string.isRequired}).isRequired}).isRequired,previousTeamId:u.a.string,history:u.a.shape({}).isRequired,teamsList:u.a.arrayOf(u.a.any).isRequired,theme:u.a.any.isRequired,plugins:u.a.any});var SO=Object(f.o)(Object(s.connect)((function(e,t){const a=Object(i.getLicense)(e),n=Object(i.getConfig)(e),s=Object(r.getCurrentUser)(e),l=e.plugins.components.NeedsTeamComponent;return{license:a,theme:Object(K.getTheme)(e),mfaRequired:Object(Ht.a)(s,a,n,t.match.url),currentUser:s,currentTeamId:Object(o.getCurrentTeamId)(e),previousTeamId:Object(Dt.d)(e),teamsList:Object(o.getMyTeams)(e),currentChannelId:Object(B.getCurrentChannelId)(e),useLegacyLHS:!Object(K.getNewSidebarPreference)(e),plugins:l}}),(function(e){return{actions:Object(n.bindActionCreators)({fetchMyChannelsAndMembers:ge.fetchMyChannelsAndMembers,getMyTeamUnreads:xt.getMyTeamUnreads,viewChannel:ge.viewChannel,markChannelAsReadOnFocus:k.k,getTeamByName:xt.getTeamByName,addUserToTeam:qt.a,setPreviousTeamId:kt.a,selectTeam:xt.selectTeam,loadStatusesForChannelAndSidebar:Ut.a,loadProfilesForDirect:Y.loadProfilesForDirect,getAllGroupsAssociatedToChannelsInTeam:Lt.getAllGroupsAssociatedToChannelsInTeam,getAllGroupsAssociatedToTeam:Lt.getAllGroupsAssociatedToTeam,getGroupsByUserId:Lt.getGroupsByUserId,getGroups:Lt.getGroups},e)}}))(OO));function TO(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const MO={capture:!0};class PO{constructor(){TO(this,"handleKeyDown",e=>{const t=e.ctrlKey,a=e.altKey,n=e.shiftKey;switch(!0){case Object(z.cb)(e,fe.Z.KeyCodes.TAB):if(this.lastInputEventIsKeyboard=!0,!Object(z.eb)()&&a||Object(z.g)(e))return;this.tabKeyIsPressed=!0;break;case Object(z.cb)(e,fe.Z.KeyCodes.TILDE):if(this.lastInputEventIsKeyboard=!0,!this.regions||!this.regions.length)return;t&&!a&&(this.tildeKeyIsPressed=!0,e.preventDefault(),n?this.previousRegion():this.nextRegion());break;case Object(z.cb)(e,fe.Z.KeyCodes.F6):if(this.lastInputEventIsKeyboard=!0,!Object(y.e)()&&!Object(z.g)(e))return;this.f6KeyIsPressed=!0,e.preventDefault(),n?this.previousRegion():this.nextRegion();break;case Object(z.cb)(e,fe.Z.KeyCodes.UP):if(this.lastInputEventIsKeyboard=!0,!this.navigationInProgress||!this.sections||!this.sections.length)return;this.upArrowKeyIsPressed=!0,e.preventDefault(),this.shouldReverseSections?this.nextSection():this.previousSection();break;case Object(z.cb)(e,fe.Z.KeyCodes.DOWN):if(this.lastInputEventIsKeyboard=!0,!this.navigationInProgress||!this.sections||!this.sections.length)return;this.downArrowKeyIsPressed=!0,e.preventDefault(),this.shouldReverseSections?this.previousSection():this.nextSection();break;case Object(z.cb)(e,fe.Z.KeyCodes.ESCAPE):if(!this.navigationInProgress)return;e.preventDefault(),this.cancelNavigation();break;case Object(z.cb)(e,fe.Z.KeyCodes.ENTER):this.enterKeyIsPressed=!0;break;case Object(z.cb)(e,fe.Z.KeyCodes.SPACE):"BUTTON"===e.target.nodeName&&(e.preventDefault(),e.stopPropagation(),e.target.click());break;case Object(z.cb)(e,fe.Z.KeyCodes.L):this.lastInputEventIsKeyboard=!0,this.lKeyIsPressed=!0}}),TO(this,"handleKeyUp",()=>{this.resetInterractionStates()}),TO(this,"handleMouseClick",e=>{this.enterKeyIsPressed||(this.lastInputEventIsKeyboard=!1),e.target!==this.activeElement&&this.cancelNavigation()}),TO(this,"handleMouseDown",()=>{this.mouseIsPressed=!0}),TO(this,"handleMouseUp",()=>{this.mouseIsPressed=!1}),TO(this,"handleFocus",e=>{this.lastInputEventIsKeyboard&&this.windowIsFocused&&this.nextElement(e.target,e.path||!0),this.windowIsFocused||(this.windowIsFocused=!0)}),TO(this,"handleWindowBlur",e=>{e.target===window&&(this.windowIsFocused=!1)}),TO(this,"handleActiveRegionUpdate",()=>{this.navigationInProgress&&(this.updateActiveRegion(),this.focusedElement===this.activeRegion&&this.udpateCurrentFocus(!0))}),TO(this,"handleActiveSectionUpdate",()=>{this.navigationInProgress&&(this.updateActiveSection(),this.focusedElement===this.activeSection&&this.udpateCurrentFocus(!0))}),TO(this,"handleActiveElementUpdate",()=>{this.navigationInProgress&&(this.updateActiveElement(),this.focusedElement===this.activeElement&&this.udpateCurrentFocus(!0))}),this.regionHTMLCollection=this.getAllRegions(),this.sectionHTMLCollection=null,this.modalHTMLCollection=this.getAllModals(),this.popupHTMLCollection=this.getAllPopups(),this.activeRegion=null,this.activeSection=null,this.activeElement=null,this.mouseIsPressed=!1,this.lastInputEventIsKeyboard=!1,this.enterKeyIsPressed=!1,this.f6KeyIsPressed=!1,this.upArrowKeyIsPressed=!1,this.downArrowKeyIsPressed=!1,this.tabKeyIsPressed=!1,this.tildeKeyIsPressed=!1,this.lKeyIsPressed=!1,this.windowIsFocused=!0,this.resetNavigation=!1,document.addEventListener(fe.q.KEY_DOWN,this.handleKeyDown,MO),document.addEventListener(fe.q.KEY_UP,this.handleKeyUp,MO),document.addEventListener(fe.q.CLICK,this.handleMouseClick,MO),document.addEventListener(fe.q.MOUSE_DOWN,this.handleMouseDown,MO),document.addEventListener(fe.q.MOUSE_UP,this.handleMouseUp,MO),document.addEventListener(fe.q.FOCUS,this.handleFocus,MO),window.addEventListener(fe.q.BLUR,this.handleWindowBlur,MO)}destroy(){this.clearActiveRegion(),this.clearCurrentFocus(),document.removeEventListener(fe.q.KEY_DOWN,this.handleKeyDown,MO),document.removeEventListener(fe.q.KEY_UP,this.handleKeyUp,MO),document.removeEventListener(fe.q.CLICK,this.handleMouseClick,MO),document.removeEventListener(fe.q.MOUSE_DOWN,this.handleMouseDown,MO),document.removeEventListener(fe.q.MOUSE_UP,this.handleMouseUp,MO),document.removeEventListener(fe.q.FOCUS,this.handleFocus,MO),window.removeEventListener(fe.q.BLUR,this.handleWindowBlur,MO)}get navigationInProgress(){return!!(this.regions&&this.regions.length&&this.isElementValid(this.activeRegion))&&(!!this.lastInputEventIsKeyboard&&(!this.modalIsOpen&&!this.popupIsOpen&&!!this.isElementValid(this.activeElement)))}get regions(){let e=this.sortElementsByAttributeOrder(this.regionHTMLCollection);return e=e.filter(e=>this.elementIsVisible(e)),e}get sections(){let e=this.sortElementsByAttributeOrder(this.sectionHTMLCollection);return e=e.filter(e=>this.elementIsVisible(e)),this.shouldReverseSections&&e.reverse(),e}get activeRegionIndex(){return this.activeRegion?this.regions.indexOf(this.activeRegion):null}get activeSectionIndex(){return this.activeSection?this.sections.indexOf(this.activeSection):null}get shouldReverseSections(){return!!this.activeRegion&&this.getOrderReverseAttribute(this.activeRegion)}get focusedElement(){let e;return this.activeElement?e=this.activeElement:this.activeSection?e=this.activeSection:this.activeRegion&&(e=this.activeRegion),e}get a11yKeyIsPressed(){return this.f6KeyIsPressed||this.upArrowKeyIsPressed||this.downArrowKeyIsPressed||this.tabKeyIsPressed||this.tildeKeyIsPressed||this.lKeyIsPressed}get modalIsOpen(){return this.modalHTMLCollection.length>0}get popupIsOpen(){return this.popupHTMLCollection.length>0}get disableNavigation(){return this.activeRegion&&"true"===this.activeRegion.getAttribute(fe.a.DISABLE_NAVIGATION)}nextRegion(){const e=this.regions;if(e&&e.length&&!this.modalIsOpen&&!this.popupIsOpen){if(!this.disableNavigation){let t;t=!this.activeRegion||this.activeRegionIndex===e.length-1||this.resetNavigation?e[0]:e[this.activeRegionIndex+1],this.setActiveRegion(t)}this.setCurrentFocus(),this.resetNavigation=!1}}previousRegion(){const e=this.regions;if(e&&e.length&&!this.modalIsOpen&&!this.popupIsOpen){if(!this.disableNavigation){let t;t=!this.activeRegion||0!==this.activeRegionIndex&&this.resetNavigation?e[0]:0===this.activeRegionIndex?e[e.length-1]:e[this.activeRegionIndex-1],this.setActiveRegion(t)}this.setCurrentFocus(),this.resetNavigation=!1}}nextSection(){const e=this.sections,t=this.getLoopNavigationAttribute(this.activeRegion);if(!this.modalIsOpen&&!this.popupIsOpen&&e&&e.length&&(t||this.activeSectionIndex!==e.length-1)){if(!this.disableNavigation){let t;t=this.activeSection&&this.activeSectionIndex<e.length-1?e[this.activeSectionIndex+1]:e[0],this.setActiveSection(t)}this.setCurrentFocus(),this.resetNavigation=!0}}previousSection(){const e=this.sections,t=this.getLoopNavigationAttribute(this.activeRegion);if(!this.modalIsOpen&&!this.popupIsOpen&&e&&e.length&&(t||0!==this.activeSectionIndex)){if(!this.disableNavigation){let t;t=this.activeSection&&this.activeSectionIndex>0?e[this.activeSectionIndex-1]:this.activeSection&&0===this.activeSectionIndex?e[e.length-1]:e[0],this.setActiveSection(t)}this.setCurrentFocus(),this.resetNavigation=!0}}nextElement(e,t=!1){let a,n;t&&t.length?(t.indexOf(this.activeRegion)<0&&(a=t.find(e=>!!e.classList&&e.classList.contains(fe.b.REGION))),t.indexOf(this.activeSection)<0&&(n=t.find(e=>!!e.classList&&e.classList.contains(fe.b.SECTION)))):t&&"function"==typeof e.closest&&(a=e.closest(".".concat(fe.b.REGION)),n=e.closest(".".concat(fe.b.SECTION))),a&&this.activeRegion!==a&&this.setActiveRegion(a,!1),n&&this.activeSection!==n&&this.setActiveSection(n),this.setActiveElement(e),this.setCurrentFocus(),this.resetNavigation=!0}cancelNavigation(){this.clearActiveRegion(),this.setCurrentFocus(),this.resetInterractionStates()}setActiveRegion(e,t=!0){(this.isElementValid(e,[this.activeRegion])||this.resetNavigation)&&(this.clearActiveRegion(),this.activeRegion=e,this.activeRegion.addEventListener(fe.c.UPDATE,this.handleActiveRegionUpdate),this.activeRegion.dispatchEvent(new Event(fe.c.ACTIVATE)),this.updateActiveRegion(),this.sectionHTMLCollection=this.getAllSectionsForRegion(this.activeRegion),t&&this.getFocusChildAttribute(this.activeRegion)&&this.sections&&this.sections.length&&this.setActiveSection(this.sections[0]))}setActiveSection(e){this.isElementValid(e,[this.activeSection])&&(this.clearActiveSection(),this.activeSection=e,this.activeSection.addEventListener(fe.c.UPDATE,this.handleActiveSectionUpdate),this.activeSection.dispatchEvent(new Event(fe.c.ACTIVATE)),this.updateActiveSection())}setActiveElement(e){this.isElementValid(e,[this.activeElement])&&(this.clearActiveElement(),this.activeElement=e,this.activeElement.addEventListener(fe.c.UPDATE,this.handleActiveElementUpdate),this.activeElement!==this.activeRegion&&this.activeElement!==this.activeSection&&this.activeElement.dispatchEvent(new Event(fe.c.ACTIVATE)),this.updateActiveElement())}setCurrentFocus(){this.clearCurrentFocus(),this.focusedElement&&(document.activeElement!==this.focusedElement&&this.focusedElement.focus(),this.udpateCurrentFocus())}updateActiveRegion(){this.activeRegion&&(this.activeRegion.classList.add(fe.b.ACTIVE),this.activeRegion.getAttribute("tabindex")||this.activeRegion.setAttribute("tabindex",-1))}updateActiveSection(){this.activeSection&&(this.activeSection.classList.add(fe.b.ACTIVE),this.activeSection.getAttribute("tabindex")||this.activeSection.setAttribute("tabindex",-1))}updateActiveElement(){this.activeElement&&this.activeElement.classList.add(fe.b.ACTIVE)}udpateCurrentFocus(e=!1){(this.focusedElement&&this.a11yKeyIsPressed||e)&&this.focusedElement.classList.add(fe.b.FOCUSED)}clearActiveRegion(){this.activeRegion&&(this.activeRegion.classList.remove(fe.b.ACTIVE),this.activeRegion.dispatchEvent(new Event(fe.c.DEACTIVATE)),this.activeRegion.removeEventListener(fe.c.UPDATE,this.handleActiveRegionUpdate),this.activeRegion=null),this.clearActiveSection()}clearActiveSection(){this.activeSection&&(this.activeSection.classList.remove(fe.b.ACTIVE),this.activeSection.dispatchEvent(new Event(fe.c.DEACTIVATE)),this.activeSection.removeEventListener(fe.c.UPDATE,this.handleActiveSectionUpdate),this.activeSection=null),this.clearActiveElement()}clearActiveElement(){this.activeElement&&(this.activeElement!==this.activeRegion&&this.activeElement!==this.activeSection&&(this.activeElement.classList.remove(fe.b.ACTIVE),this.activeElement.dispatchEvent(new Event(fe.c.DEACTIVATE))),this.activeElement.removeEventListener(fe.c.UPDATE,this.handleActiveElementUpdate),this.activeElement=null)}clearCurrentFocus(e=!1){Array.from(document.getElementsByClassName(fe.b.FOCUSED)).forEach(e=>{e.classList.remove(fe.b.FOCUSED)}),e&&document.activeElement.blur()}resetInterractionStates(){this.mouseIsPressed=!1,this.f6KeyIsPressed=!1,this.upArrowKeyIsPressed=!1,this.downArrowKeyIsPressed=!1,this.tabKeyIsPressed=!1,this.tildeKeyIsPressed=!1,this.enterKeyIsPressed=!1,this.lKeyIsPressed=!1,this.lastInputEventIsKeyboard=!1}getAllRegions(){return document.getElementsByClassName(fe.b.REGION)}getAllSectionsForRegion(e){return e?e.getElementsByClassName(fe.b.SECTION):null}sortElementsByAttributeOrder(e){return e&&e.length?Array.from(e).sort((e,t)=>{const a=parseInt(e.getAttribute(fe.a.SORT_ORDER),10),n=parseInt(t.getAttribute(fe.a.SORT_ORDER),10);return isNaN(a)&&isNaN(n)?0:isNaN(n)?-1:isNaN(a)?1:a-n}):[]}elementIsVisible(e){return e&&e.offsetParent}getAllModals(){return document.getElementsByClassName(fe.b.MODAL)}getAllPopups(){return document.getElementsByClassName(fe.b.POPUP)}getLoopNavigationAttribute(e){const t=e.getAttribute(fe.a.LOOP_NAVIGATION);return!t||"false"!==t.toLowerCase()}getOrderReverseAttribute(e){const t=e.getAttribute(fe.a.ORDER_REVERSE);return!(!t||"true"!==t.toLowerCase())}getFocusChildAttribute(e){const t=e.getAttribute(fe.a.FOCUS_CHILD);return!(!t||"true"!==t.toLowerCase())}isElementValid(e,t=[]){return!(!e||!e.classList||t.includes(e))}}function NO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function IO(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?NO(Object(a),!0).forEach((function(t){RO(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):NO(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function RO(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function AO(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}const jO=h.a.lazy(()=>Promise.all([a.e(0),a.e(9)]).then(a.bind(null,2442))),xO=h.a.lazy(()=>a.e(11).then(a.bind(null,2453))),LO=h.a.lazy(()=>Promise.all([a.e(0),a.e(1),a.e(10),a.e(8)]).then(a.bind(null,2432))),kO=h.a.lazy(()=>a.e(2).then(a.bind(null,2452))),DO=h.a.lazy(()=>a.e(21).then(a.bind(null,2451))),UO=h.a.lazy(()=>a.e(28).then(a.bind(null,2450))),qO=h.a.lazy(()=>a.e(20).then(a.bind(null,2449))),HO=h.a.lazy(()=>a.e(13).then(a.bind(null,2448))),FO=h.a.lazy(()=>a.e(24).then(a.bind(null,2447))),BO=h.a.lazy(()=>a.e(22).then(a.bind(null,2446))),GO=h.a.lazy(()=>a.e(19).then(a.bind(null,2445))),VO=h.a.lazy(()=>a.e(17).then(a.bind(null,2437))),WO=h.a.lazy(()=>a.e(27).then(a.bind(null,2436))),zO=h.a.lazy(()=>a.e(23).then(a.bind(null,2438))),YO=h.a.lazy(()=>a.e(16).then(a.bind(null,2441))),KO=h.a.lazy(()=>a.e(25).then(a.bind(null,2444))),ZO=h.a.lazy(()=>a.e(18).then(a.bind(null,2439))),JO=h.a.lazy(()=>a.e(14).then(a.bind(null,2440))),XO=Object(Vt.a)(ZO),QO=Object(Vt.a)(jO),$O=Object(Vt.a)(FO),eS=Object(Vt.a)(xO),tS=Object(Vt.a)(LO),aS=Object(Vt.a)(kO),nS=Object(Vt.a)(DO),sS=Object(Vt.a)(UO),iS=Object(Vt.a)(qO),rS=Object(Vt.a)(HO),oS=Object(Vt.a)(BO),lS=Object(Vt.a)(GO),cS=Object(Vt.a)(VO),dS=Object(Vt.a)(WO),mS=Object(Vt.a)(zO),uS=Object(Vt.a)(YO),pS=Object(Vt.a)(KO),hS=Object(Vt.a)(JO),gS=e=>{let{component:t}=e,a=AO(e,["component"]);return h.a.createElement(f.d,Object.assign({},a,{render:e=>h.a.createElement(aS,e,h.a.createElement(t,e))}))};class bS extends h.a.PureComponent{constructor(e){super(e),RO(this,"onConfigLoaded",()=>{Object(z.W)()&&Object(z.o)();const e=this.props.telemetryId;let t=fe.Z.TELEMETRY_RUDDER_KEY,a=fe.Z.TELEMETRY_RUDDER_DATAPLANE_URL;t.startsWith("placeholder")&&a.startsWith("placeholder")&&(t="",a="https://pdat.matterlytics.com"),null!=t&&""!==t&&this.props.telemetryEnabled&&(d.Client4.enableRudderEvents(),d.rudderAnalytics.load(t,a),d.rudderAnalytics.identify(e,{},{context:{ip:"0.0.0.0"},page:{path:"",referrer:"",search:"",title:"",url:""},anonymousId:"00000000000000000000000000"}),d.rudderAnalytics.page("ApplicationLoaded",{path:"",referrer:"",search:"",title:"",url:""},{context:{ip:"0.0.0.0"},anonymousId:"00000000000000000000000000"})),"/"===this.props.location.pathname&&this.props.noAccounts&&this.props.history.push("/signup_user_complete"),Object(T.a)().then(()=>{this.mounted&&this.setState({configLoaded:!0})}),Object(S.c)()(ze.a.dispatch,ze.a.getState);const n=Object(i.getConfig)(ze.a.getState()).IosAppDownloadLink,s=Object(i.getConfig)(ze.a.getState()).AndroidAppDownloadLink,r="/reset_password_complete"===this.props.location.pathname;let o;y.c()?o=s:y.m()&&(o=n),!o||O.a.hasSeenLandingPage()||r||this.props.location.pathname.includes("/landing")||(this.props.history.push("/landing#"+this.props.location.pathname+this.props.location.search),O.a.setLandingPageSeen(!0))}),RO(this,"handleLogoutLoginSignal",e=>{const t=e=>e.storageArea===localStorage&&e.newValue;if(e.key===fe.N.LOGOUT&&t(e)&&(console.log("detected logout from a different tab"),w.e("/",!1,!1)),e.key===fe.N.LOGIN&&t(e)){if(Object(r.getCurrentUser)(ze.a.getState()))return;document.addEventListener("visibilitychange",(function(){location.reload()}),!1)}}),this.currentCategoryFocus=0,this.currentSidebarFocus=0,this.mounted=!1,Object(_.setUrl)(Object(Mi.e)()),Object(C.setSystemEmojis)(E.a),window.addEventListener("storage",this.handleLogoutLoginSignal),document.addEventListener("drop",e=>{e.preventDefault(),e.stopPropagation()}),document.addEventListener("dragover",e=>{e.preventDefault(),e.stopPropagation()}),b.a.attach(document.body),this.state={configLoaded:!1},y.h()||(this.a11yController=new PO)}componentDidUpdate(e){"/"===this.props.location.pathname&&(this.props.noAccounts?e.history.push("/signup_user_complete"):this.props.showTermsOfService&&e.history.push("/terms_of_service"))}componentDidMount(){this.mounted=!0,this.props.actions.loadMeAndConfig().then(e=>{"/"===this.props.location.pathname&&e[2]&&e[2].data&&w.f(),this.onConfigLoaded()}),Object(v.f)()}componentWillUnmount(){this.mounted=!1,window.removeEventListener("storage",this.handleLogoutLoginSignal)}render(){var e;return this.state.configLoaded?h.a.createElement(jt,null,h.a.createElement(f.g,null,h.a.createElement(f.d,{path:"/error",component:QO}),h.a.createElement(St,{path:"/login",component:eS}),h.a.createElement(St,{path:"/reset_password",component:nS}),h.a.createElement(St,{path:"/reset_password_complete",component:sS}),h.a.createElement(St,{path:"/signup_user_complete",component:iS}),h.a.createElement(St,{path:"/signup_email",component:rS}),h.a.createElement(St,{path:"/should_verify_email",component:oS}),h.a.createElement(St,{path:"/do_verify_email",component:lS}),h.a.createElement(St,{path:"/claim",component:cS}),h.a.createElement(St,{path:"/help",component:dS}),h.a.createElement(gS,{path:"/terms_of_service",component:$O}),h.a.createElement(f.d,{path:"/landing",component:mS}),h.a.createElement(gS,{path:"/admin_console",component:tS}),h.a.createElement(Tt,{path:"/select_team",component:uS}),h.a.createElement(Tt,{path:"/oauth/authorize",component:pS}),h.a.createElement(Tt,{path:"/create_team",component:XO}),h.a.createElement(gS,{path:"/mfa",component:hS}),h.a.createElement(f.c,{from:"/_redirect/integrations/:subpath*",to:"/".concat(this.props.permalinkRedirectTeamName,"/integrations/:subpath*")}),h.a.createElement(f.c,{from:"/_redirect/pl/:postid",to:"/".concat(this.props.permalinkRedirectTeamName,"/pl/:postid")}),null===(e=this.props.plugins)||void 0===e?void 0:e.map(e=>h.a.createElement(f.d,{key:e.id,path:"/plug/"+e.route,render:()=>h.a.createElement(Et.a,{pluggableName:"CustomRouteComponent",pluggableId:e.id})})),h.a.createElement(gS,{path:"/:team",component:SO}),h.a.createElement(f.c,{to:IO(IO({},this.props.location),{},{pathname:"/login"})}))):h.a.createElement("div",null)}}RO(bS,"propTypes",{telemetryEnabled:u.a.bool,telemetryId:u.a.string,noAccounts:u.a.bool,showTermsOfService:u.a.bool,permalinkRedirectTeamName:u.a.string,actions:u.a.shape({loadMeAndConfig:u.a.func.isRequired}).isRequired,plugins:u.a.array});t.default=Object(s.connect)((function(e){const t=Object(i.getConfig)(e),a=Object(r.shouldShowTermsOfService)(e),n=e.plugins.components.CustomRouteComponent,s=c.a.getPreviousTeamId(Object(r.getCurrentUserId)(e)),l=Object(o.getTeam)(e,s);return{telemetryEnabled:"true"===t.DiagnosticsEnabled,noAccounts:"true"===t.NoAccounts,telemetryId:t.DiagnosticId,permalinkRedirectTeamName:l?l.name:"",showTermsOfService:a,plugins:n}}),(function(e){return{actions:Object(n.bindActionCreators)({loadMeAndConfig:l.a},e)}}))(bS)}},0,[1,12,3]]);
//# sourceMappingURL=7.d80b5510b069254587e4.js.map