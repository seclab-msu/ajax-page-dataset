!function(){function o(){var o=window.navigator.userAgent,n=o.indexOf("MSIE ");return n>0||navigator.userAgent.match(/Trident.*rv\:11\./)?!0:!1}function n(){window.evidon_dg.companyConfig||(window.evidon_dg.companyConfig=v(G.Company,!0))}function e(){var o=l("siteMap");o&&g(o)&&(window.evidon_dg.siteConfig=v(G.Site,!0))}function d(){window.evidon_dg.siteConfig&&(window.evidon_dg.sitePolicy=window.evidon_dg.getConfigValue("policy")),window.evidon_dg.sitePolicy||(window.evidon_dg.sitePolicy=v(G.Policy,!0))}function i(){window.evidon_dg.siteConsentGeo=v(G.ConsentGeo,!0),window.evidon_dg.siteConsentGeo?window.evidon_dg.logToConsoleO(null,"Loaded siteConsentGeo.json (sync): ",window.evidon_dg.siteConsentGeo):window.evidon_dg.logToConsoleF(null,"Unable To Load siteConsentGeo.json")}function t(){window.evidon_dg.countryJsLoaded||(window.evidon||(window.evidon={}),v(O.Country),window.evidon_dg.countryJsLoaded=!0,window.evidon_dg.logToConsoleO(null,"Loaded country.js (sync): ",window.evidon.location))}function s(){window.evidon_dg.loggingEnabled||(window.evidon_dg.loggingEnabled=l("loggingEnabled")||!1)}function r(o){E=window.evidon_dg.siteId=o,G.Site=j+"/"+E+"/siteConfig.json",G.Policy=j+"/"+E+"/sitePolicy.json",G.ConsentGeo=j+"/"+E+"/siteConsentGeo.json"}function w(){var o=l("productIds");o.includes(window.evidon_dg.productIds.ConsentControl)&&(t(),i(),window.evidon_dg.logToConsoleF(null,"Loading ConsentControl [pid: 16] (sync)"),v(O.ConsentControl),window.evidon_dg.loadedProducts.push("Consent Control")),o.includes(window.evidon_dg.productIds.GranularConsentControl)&&(t(),window.evidon_dg.logToConsoleF(null,"Loading GranularConsentControl [pid: 19] (sync)"),v(O.GranularConsentControl),window.evidon_dg.loadedProducts.push("Granular Consent Control")),o.includes(window.evidon_dg.productIds.TagControlV2)&&(window.evidon_dg.logToConsoleF(null,"Loading TagControlV2 [pid: 16] (sync)"),v(O.TagControlV2),window.evidon_dg.loadedProducts.push("Tag Control v2")),o.includes(window.evidon_dg.productIds.Observe)&&(window.evidon_dg.logToConsoleF(null,"Loading Observe [pid: 18] (async)"),u(O.Observe,function(){}),window.evidon_dg.loadedProducts.push("Observe")),window.evidon_dg.logToConsoleF(null,"Product Script Loading Complete: "+window.evidon_dg.loadedProducts.join(", "),!1,!0)}function l(o){var n;return window.evidon_dg.siteConfig&&window.evidon_dg.siteConfig.hasOwnProperty(o)?(n=window.evidon_dg.siteConfig[o],n.constructor==Object&&(n.configType="site")):window.evidon_dg.companyConfig&&window.evidon_dg.companyConfig.hasOwnProperty(o)?(n=window.evidon_dg.companyConfig[o],n.constructor==Object&&(n.configType="company")):n=null,n}function a(o){switch(o){case null:return"Missing";case 0:return"None";case 1:return"Opt-In (GDPR)";case 2:return"Opt-Out (CCPA)";default:return"Invalid"}}function g(o){var n=window.location.host,e=window.location.pathname;return c(o,n,e)}function c(o,n,e){"/"==e&&(e="");var d=n+e;if(o[d]){var i=o[d];return r(i),!0}return e?(e.startsWith("/")&&(e=e.substr(1)),pathArray=e.split("/"),pathArray.pop(),e=pathArray.join("/"),e="/"+e,c(o,n,e)):!1}function v(o,n){if(!p(o)){var e=document.getElementsByTagName("script")[0]||document.getElementsByTagName("head")[0],d=o+"?c="+window.evidon_dg.companyId;d+=window.evidon_dg.siteId?"&s="+window.evidon_dg.siteId:"&org="+window.location.origin;var i=new XMLHttpRequest;if(i.open("GET",d,!1),i.send(""),404!=i.status){var t=i.responseText;if(n)return JSON.parse(t);var s=document.createElement("script");s.type="text/javascript",s.text=t,s.setAttribute("companyId",window.evidon_dg.companyId),e.parentElement.insertBefore(s,e),L.push(o)}return null}}function u(o,n,e){function d(){t.onload=t.onreadystatechange=null,n()}e||(e=!1);var i,t=document.createElement("script"),s=document.getElementsByTagName("script")[0]||document.getElementsByTagName("head")[0];if(p(o))n&&n();else{t.async=!0,t.src=o,t.charset="utf-8",n&&(t.onreadystatechange=function(){i||"loaded"!=this.readyState&&"complete"!=this.readyState||(i=!0,d())},t.onload=d);try{t.setAttribute("companyId",S),s.parentElement.insertBefore(t,s),L.push(o)}catch(r){window.evidon_dg.logToConsoleF(null,"Error Loading Script (Async): "+r,!0)}}}function p(o){for(var n=0;n<L.length;n++)if(L[n]==o)return!0;return!1}function _(){var o=null;return window.evidon&&window.evidon.notice&&window.evidon.notice.activeSettings&&(o=window.evidon.notice.activeSettings.id),o&&!b&&(window.evidon_dg.logToConsoleF(null,"UCP Notice Id: "+o),b=!0),o}function C(o,n,e,d){if(null==window.evidon_dg.cspLoadedById){if(window.evidon_dg.cspLoadedById=o,window.evidon_dg.collectViolations=d,window.addEventListener("securitypolicyviolation",y),e&&(!window.evidon_dg.sitePolicy||!window.evidon_dg.sitePolicy.essential&&!window.evidon_dg.sitePolicy.whitelist||0==window.evidon_dg.sitePolicy.essential.length&&0==window.evidon_dg.sitePolicy.whitelist.length))return void window.evidon_dg.logToConsoleF(null,window.evidon_dg.productNames[window.evidon_dg.cspLoadedById]+": Attempted To Load CSP With Empty Policy.  Faulting To CSP Disabled.",!0,!0);var i=window.evidon_dg.evidonCriticalDomains.concat(window.evidon_dg.sitePolicy.essential).concat(n),t="";window.evidon_dg.sitePolicy.options&&(window.evidon_dg.sitePolicy.options.allowBlob&&(t+=" blob:"),window.evidon_dg.sitePolicy.options.allowFilesystem&&(t+=" filesystem:"),window.evidon_dg.sitePolicy.options.allowMediastream&&(t+=" mediastream:"));var s=document.querySelector('meta[name="evidon-consentcontrol"]');s||(s=document.createElement("meta"),s.setAttribute("http-equiv","Content-Security-Policy"),s.setAttribute("name","evidon-"+window.evidon_dg.productNames[window.evidon_dg.cspLoadedById])),s.setAttribute("content","default-src 'self' 'unsafe-inline' 'unsafe-eval'"+t+" data: "+i.join(" ")+";");var r=document.getElementsByTagName("head")[0];r.insertAdjacentElement("afterbegin",s)}}function y(o){if("report"!=o.disposition){var n=window.evidon_dg.productNames[window.evidon_dg.cspLoadedById],e=_(),d={companyId:S,siteId:E,ucpNoticeId:e,pageLoadId:window.evidon_dg.pageLoadId,disposition:n,resourceUri:o.blockedURI,pageUri:o.documentURI,effectiveDirective:o.effectiveDirective,originalPolicy:o.originalPolicy,sourceFile:o.sourceFile,statusCode:o.statusCode,violatedDirective:o.violatedDirective};if(window.evidon_dg.collectViolations){var i={"csp-report":{resources:[d]}},t=JSON.stringify(i["csp-report"]),s=new XMLHttpRequest;s.open("POST",window.evidon_dg.collector,!0),s.setRequestHeader("content-type","application/json"),s.addEventListener("error",f),s.send(t)}window.evidon_dg.logToConsoleF(null,n+": BLOCKED Resource: "+d.resourceUri)}}function f(){window.evidon_dg.logToConsoleF(null,window.evidon_dg.productNames[window.evidon_dg.cspLoadedById]+": Error sending violation data",!0)}function m(o,n,e,d){if(window.evidon_dg.loggingEnabled||d){var i=o?window.evidon_dg.productNames[o]:"DG",t="Evidon: "+i+": ";e?console.error(t+n):console.log(t+n)}}function T(o,n,e,d,i){if(window.evidon_dg.loggingEnabled||i){var t=o?window.evidon_dg.productNames[o]:"DG",s="Evidon: "+t+": ";d?console.error(s+n,e):console.log(s+n,e)}}function I(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var n=16*Math.random()|0,e="x"==o?n:3&n|8;return e.toString(16)})}if(!o()){var x=document.currentScript.getAttribute("src"),P=x.substr(0,x.lastIndexOf("/")+1),h=P.substr(0,P.lastIndexOf("/",P.lastIndexOf("/")-1)+1),b=!1;window.evidon_dg||(window.evidon_dg={},window.evidon_dg._dg={}),window.evidon_dg.env="prod",window.evidon_dg.envStr="prod"==window.evidon_dg.env?"":window.evidon_dg.env,window.evidon_dg.loggingEnabled="dev"==window.evidon_dg.envStr,window.evidon_dg.srcRoot=P,window.evidon_dg.domainRoot=h,window.evidon_dg.collector="https://dgcollector.evidon"+window.evidon_dg.envStr+".com/api/v2/csp",window.evidon_dg.vendorHostApi="https://dgvendorhostapi.evidon"+window.evidon_dg.envStr+".com/api/",window.evidon_dg.cspLoadedById=null,window.evidon_dg.getConfigValue=l,window.evidon_dg.getConsentTypeName=a,window.evidon_dg.getUcpNoticeId=_,window.evidon_dg.logToConsoleF=m,window.evidon_dg.logToConsoleO=T,window.evidon_dg.loadCsp=C,window.evidon_dg.loadedProducts=[],window.evidon_dg.collectViolations=!1,window.evidon_dg.pageLoadId=I(),window.evidon_dg.countryJsLoaded=!1,window.evidon_dg.evidonCriticalDomains=["*.betrad.com","*.evidon.com","*.evidon"+window.evidon_dg.envStr+".com"],window.evidon_dg.productIds={TagControlV2:16,ConsentControl:17,Observe:18,GranularConsentControl:19},window.evidon_dg.productNames={16:"TagControlV2",17:"ConsentControl",18:"Observe",19:"GranularConsentControl"};var S=window.evidon_dg.companyId=document.currentScript.getAttribute("companyId");if(S||(S=window.evidon_dg.companyId=document.currentScript.getAttribute("id")),!S)return void window.evidon_dg.logToConsoleF(null,"Unable To Determine CompanyId. Exiting Process.",!0,!0);var E=null,L=[],O={Country:h+"geo/country.js",ConsentControl:P+"cc.js",GranularConsentControl:P+"gcc.js",Observe:P+"observe.js",TagControlV2:P+"tcv2.js"},j=P+S,G={Company:j+"/companyConfig.json",Site:j+"/"+E+"/siteConfig.json",Policy:j+"/"+E+"/sitePolicy.json",ConsentGeo:j+"/"+E+"/siteConsentGeo.json"};if(n(),e(),d(),s(),window.evidon_dg.logToConsoleF(null,"Script Environment: "+window.evidon_dg.env.toUpperCase()),window.evidon_dg.logToConsoleO(null,"CompanyId: "+S+" / Company Config: ",window.evidon_dg.companyConfig),E&&window.evidon_dg.logToConsoleO(null,"SiteId: "+E+" / Site Config: ",window.evidon_dg.siteConfig),!window.evidon_dg.companyConfig)return void window.evidon_dg.logToConsoleF(null,"Company Configuration Can Not Be Loaded (CompanyId: "+S+"). Exiting Process",!0,!0);E&&!window.evidon_dg.siteConfig&&window.evidon_dg.logToConsoleF(null,"Site Matched ("+E+"), But Site Configuration Can Not Be Loaded.",!0,!0),w()}}();