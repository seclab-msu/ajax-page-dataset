define(function(){"use strict";function e(){}return _.extend(e.prototype,{defaultSettings:{ansItem:".c-res",bgItem:".c-res__bgimg-wrap",currentQueNum:".js-questionnaire-que__current",emailWrap:".c-result-sec-email",emailContent:".c-result-sec-email__content",emailSuccessNotify:".c-result-sec-email__success",emailFailureNotify:".c-result-sec-email__failure",emailInput:".c-result-sec-email__form-email",introPanel:".js-intro-panel",queItem:".js-question",activeAnswerClass:"res-active",activeImageClass:"img-active",validationMessage:".c-campaign-question-answer_validation-message",questionnairePanel:".js-questionnaire-panel",quesWrapper:".js-questionnaire__content",result:".c-result",resultsContent:".c-results",resultImage:".c-result-image",resultsPanel:".js-results-panel"},_setAnsweredQues:function(){var s,t,a,n=this;n.settings=n.settings?_.extend(n.settings,n.defaultSettings):n.defaultSettings,n.$el.find("input.c-campaign-input").off("change, click").on("change, click",function(e){s=$(this).parents(n.settings.queItem),t=$(this).parents(n.settings.ansItem),a=s.find(".c-res-wrap").find(".c-res-wrap__image-container"),n._closeValidationMessage(e),t.hasClass("has-error")&&(s.find(".has-error").removeClass("has-error"),s.find(".form-elements-group-error").remove()),"checkbox"===$(this).attr("type")?(t.toggleClass(n.settings.activeAnswerClass),s.find("input.checkbox:checked").length&&s.attr("data-answered","true")):"radio"===$(this).attr("type")&&$(this).is(":checked")&&(e=$(this).parent(n.settings.ansItem).index(),0<a.length&&(a.find(n.settings.bgItem).removeClass(n.settings.activeImageClass),a.find(n.settings.bgItem).eq(e).addClass(n.settings.activeImageClass)),s.attr("data-answered","true"),s.find(n.settings.ansItem).removeClass(n.settings.activeAnswerClass),t.addClass(n.settings.activeAnswerClass))})},_closeValidationMessage:function(e){var s=this,e=$(e.currentTarget),t=s.settings.validationMessage;e.parents(t).length?e.parents(t).addClass("hidden"):e.parents(s.settings.questionnairePanel).has(t)&&e.parents(s.settings.questionnairePanel).find(t).addClass("hidden")}}),e});