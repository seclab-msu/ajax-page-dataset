var evrythng=function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=32)}([function(t,r){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(r)}t.exports=e},function(t,r){t.exports=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}},function(t,r){function e(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}},function(t,r,e){var n=e(26);t.exports=function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&n(t,r)}},function(t,r,e){var n=e(11),o=e(8);t.exports=function(t,r){return!r||"object"!==n(r)&&"function"!=typeof r?o(t):r}},function(t,r,e){t.exports=e(23)},function(t,r){function e(t,r,e,n,o,i,c){try{var u=t[i](c),a=u.value}catch(t){return void e(t)}u.done?r(a):Promise.resolve(a).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var c=t.apply(r,n);function u(t){e(c,o,i,u,a,"next",t)}function a(t){e(c,o,i,u,a,"throw",t)}u(void 0)}))}}},function(t,r,e){var n=e(29),o=e(18),i=e(30);t.exports=function(t){return n(t)||o(t)||i()}},function(t,r){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,r,e){e(0);var n=e(27);function o(r,e,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,r,e){var o=n(t,r);if(o){var i=Object.getOwnPropertyDescriptor(o,r);return i.get?i.get.call(e):i.value}},o(r,e,i||r)}t.exports=o},function(t,r,e){var n=e(15),o=e(24),i=e(16);t.exports=function(t,r){return n(t)||o(t,r)||i()}},function(t,r){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(r){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=n=function(t){return e(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},n(r)}t.exports=n},function(t,r){t.exports=function(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}},function(t,r,e){var n=e(15),o=e(18),i=e(16);t.exports=function(t){return n(t)||o(t)||i()}},function(t,r,e){var n=e(17);t.exports=function(t){return new n(t)}},function(t,r){t.exports=function(t){if(Array.isArray(t))return t}},function(t,r){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,r){t.exports=function(t){this.wrapped=t}},function(t,r){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,r,e){"use strict";(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;r.a=e}).call(this,e(25))},function(t,r,e){var n=e(28);t.exports=function(t){return function(){return new n(t.apply(this,arguments))}}},function(t,r,e){var n=e(31);t.exports=function(t,r){if(null==t)return{};var e,o,i=n(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(o=0;o<c.length;o++)e=c[o],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}},function(t,r){!function(t){!function(r){var e="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,c="ArrayBuffer"in t;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function f(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var r={next:function(){var r=t.shift();return{done:void 0===r,value:r}}};return n&&(r[Symbol.iterator]=function(){return r}),r}function p(t){this.map={},t instanceof p?t.forEach((function(t,r){this.append(r,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(r){this.append(r,t[r])}),this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function y(t){return new Promise((function(r,e){t.onload=function(){r(t.result)},t.onerror=function(){e(t.error)}}))}function v(t){var r=new FileReader,e=y(r);return r.readAsArrayBuffer(t),e}function d(t){if(t.slice)return t.slice(0);var r=new Uint8Array(t.byteLength);return r.set(new Uint8Array(t)),r.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var r;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:e&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():c&&o&&((r=t)&&DataView.prototype.isPrototypeOf(r))?(this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(t)||a(t))?this._bodyArrayBuffer=d(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var t,r,e,n=h(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,r=new FileReader,e=y(r),r.readAsText(t),e;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var r=new Uint8Array(t),e=new Array(r.length),n=0;n<r.length;n++)e[n]=String.fromCharCode(r[n]);return e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,r){t=s(t),r=f(r);var e=this.map[t];this.map[t]=e?e+", "+r:r},p.prototype.delete=function(t){delete this.map[s(t)]},p.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},p.prototype.set=function(t,r){this.map[s(t)]=f(r)},p.prototype.forEach=function(t,r){for(var e in this.map)this.map.hasOwnProperty(e)&&t.call(r,this.map[e],e,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(r,e){t.push(e)})),l(t)},p.prototype.values=function(){var t=[];return this.forEach((function(r){t.push(r)})),l(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(r,e){t.push([e,r])})),l(t)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,r){var e,n,o=(r=r||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,r.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=r.credentials||this.credentials||"same-origin",!r.headers&&this.headers||(this.headers=new p(r.headers)),this.method=(e=r.method||this.method||"GET",n=e.toUpperCase(),g.indexOf(n)>-1?n:e),this.mode=r.mode||this.mode||null,this.signal=r.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function w(t){var r=new FormData;return t.trim().split("&").forEach((function(t){if(t){var e=t.split("="),n=e.shift().replace(/\+/g," "),o=e.join("=").replace(/\+/g," ");r.append(decodeURIComponent(n),decodeURIComponent(o))}})),r}function R(t,r){r||(r={}),this.type="default",this.status=void 0===r.status?200:r.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in r?r.statusText:"OK",this.headers=new p(r.headers),this.url=r.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},R.error=function(){var t=new R(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];R.redirect=function(t,r){if(-1===x.indexOf(r))throw new RangeError("Invalid status code");return new R(null,{status:r,headers:{location:t}})},r.DOMException=t.DOMException;try{new r.DOMException}catch(t){r.DOMException=function(t,r){this.message=t,this.name=r;var e=Error(t);this.stack=e.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function k(t,e){return new Promise((function(n,i){var c=new b(t,e);if(c.signal&&c.signal.aborted)return i(new r.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function a(){u.abort()}u.onload=function(){var t,r,e={status:u.status,statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",r=new p,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),n=e.shift().trim();if(n){var o=e.join(":").trim();r.append(n,o)}})),r)};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;n(new R(o,e))},u.onerror=function(){i(new TypeError("Network request failed"))},u.ontimeout=function(){i(new TypeError("Network request failed"))},u.onabort=function(){i(new r.DOMException("Aborted","AbortError"))},u.open(c.method,c.url,!0),"include"===c.credentials?u.withCredentials=!0:"omit"===c.credentials&&(u.withCredentials=!1),"responseType"in u&&o&&(u.responseType="blob"),c.headers.forEach((function(t,r){u.setRequestHeader(r,t)})),c.signal&&(c.signal.addEventListener("abort",a),u.onreadystatechange=function(){4===u.readyState&&c.signal.removeEventListener("abort",a)}),u.send(void 0===c._bodyInit?null:c._bodyInit)}))}k.polyfill=!0,t.fetch||(t.fetch=k,t.Headers=p,t.Request=b,t.Response=R),r.Headers=p,r.Request=b,r.Response=R,r.fetch=k}({})}("undefined"!=typeof self?self:this)},function(t,r,e){var n=function(t){"use strict";var r=Object.prototype,e=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(t,r,e,n){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype),c=new x(n||[]);return i._invoke=function(t,r,e){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(e.method=o,e.arg=i;;){var c=e.delegate;if(c){var u=b(c,e);if(u){if(u===s)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var f=a(t,r,e);if("normal"===f.type){if(n=e.done?"completed":"suspendedYield",f.arg===s)continue;return{value:f.arg,done:e.done}}"throw"===f.type&&(n="completed",e.method="throw",e.arg=f.arg)}}}(t,e,c),i}function a(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function l(){}function p(){}var h={};h[o]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(k([])));v&&v!==r&&e.call(v,o)&&(h=v);var d=p.prototype=f.prototype=Object.create(h);function m(t){["next","throw","return"].forEach((function(r){t[r]=function(t){return this._invoke(r,t)}}))}function g(t){var r;this._invoke=function(n,o){function i(){return new Promise((function(r,i){!function r(n,o,i,c){var u=a(t[n],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&e.call(f,"__await")?Promise.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):Promise.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(n,o,r,i)}))}return r=r?r.then(i,i):i()}}function b(t,r){var e=t.iterator[r.method];if(void 0===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,b(t,r),"throw"===r.method))return s;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=a(e,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,s;var o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,s):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,s)}function w(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function R(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function k(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(e.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return l.prototype=d.constructor=p,p.constructor=l,p[c]=l.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===l||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(d),t},t.awrap=function(t){return{__await:t}},m(g.prototype),g.prototype[i]=function(){return this},t.AsyncIterator=g,t.async=function(r,e,n,o){var i=new g(u(r,e,n,o));return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},m(d),d[c]="Generator",d[o]=function(){return this},d.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e,n){return c.type="throw",c.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=e.call(i,"catchLoc"),a=e.call(i,"finallyLoc");if(u&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=r,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(c)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),s},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),R(e),s}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;R(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:k(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),s}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,r){t.exports=function(t,r){var e=[],n=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(n=(c=u.next()).done)&&(e.push(c.value),!r||e.length!==r);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return e}},function(t,r){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,r){function e(r,n){return t.exports=e=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},e(r,n)}t.exports=e},function(t,r,e){var n=e(0);t.exports=function(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=n(t)););return t}},function(t,r,e){var n=e(17);function o(t){var r,e;function o(r,e){try{var c=t[r](e),u=c.value,a=u instanceof n;Promise.resolve(a?u.wrapped:u).then((function(t){a?o("next",t):i(c.done?"return":"normal",t)}),(function(t){o("throw",t)}))}catch(t){i("throw",t)}}function i(t,n){switch(t){case"return":r.resolve({value:n,done:!0});break;case"throw":r.reject(n);break;default:r.resolve({value:n,done:!1})}(r=r.next)?o(r.key,r.arg):e=null}this._invoke=function(t,n){return new Promise((function(i,c){var u={key:t,arg:n,resolve:i,reject:c,next:null};e?e=e.next=u:(r=e=u,o(t,n))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(t){return this._invoke("next",t)},o.prototype.throw=function(t){return this._invoke("throw",t)},o.prototype.return=function(t){return this._invoke("return",t)},t.exports=o},function(t,r){t.exports=function(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}},function(t,r){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,r){t.exports=function(t,r){if(null==t)return{};var e,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)e=i[n],r.indexOf(e)>=0||(o[e]=t[e]);return o}},function(t,r,e){"use strict";e.r(r),e.d(r,"settings",(function(){return n})),e.d(r,"setup",(function(){return u})),e.d(r,"api",(function(){return G})),e.d(r,"alias",(function(){return Vr})),e.d(r,"use",(function(){return Xr})),e.d(r,"AccessToken",(function(){return $r})),e.d(r,"Operator",(function(){return Kr})),e.d(r,"ActionApp",(function(){return Zr})),e.d(r,"Application",(function(){return Gr})),e.d(r,"TrustedApplication",(function(){return zr})),e.d(r,"User",(function(){return Br})),e.d(r,"Device",(function(){return Jr})),e.d(r,"Entity",(function(){return te})),e.d(r,"Symbol",(function(){return ht})),e.d(r,"_Resource",(function(){return wt})),e.d(r,"_Entity",(function(){return Rt})),e.d(r,"_Scope",(function(){return yt}));e(22);var n=Object.assign({},{apiUrl:"https://api.evrythng.io/v2",apiKey:"",fullResponse:!1,geolocation:!0,timeout:0,headers:{"content-type":"application/json"},interceptors:[],defaultShortDomain:"tn.gg",apiVersion:2,region:"us"}),o=[1,2],i=["us","eu"],c={2:{us:"https://api.evrythng.io/v2",eu:"https://api.eu.evrythng.io/v2"},1:{us:"https://api.evrythng.com",eu:"https://api-eu.evrythng.com"}};function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.apiUrl,e=t.apiVersion,u=void 0===e?2:e,a=t.region,s=void 0===a?"us":a;if(!o.includes(u))throw new Error("Invalid apiVersion: ".concat(u,". Choose from ").concat(o.join(", ")));if(!i.includes(s))throw new Error("Invalid region: ".concat(s,". Choose from ").concat(i.join(", ")));return t.apiUrl=r||c[u][s],t.apiVersion=u,t.region=s,Object.assign(n,t)}var a=e(5),s=e.n(a),f=e(11),l=e.n(f),p=e(6),h=e.n(p),y=e(19),v="object"==typeof self&&self&&self.Object===Object&&self,d=(y.a||v||Function("return this")()).Symbol,m=Object.prototype,g=m.hasOwnProperty,b=m.toString,w=d?d.toStringTag:void 0;var R=function(t){var r=g.call(t,w),e=t[w];try{t[w]=void 0;var n=!0}catch(t){}var o=b.call(t);return n&&(r?t[w]=e:delete t[w]),o},x=Object.prototype.toString;var k=function(t){return x.call(t)},P=d?d.toStringTag:void 0;var j=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":P&&P in Object(t)?R(t):k(t)};var O=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)};var S=function(t){if(!O(t))return!1;var r=j(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},A=e(10),D=e.n(A);var E=function(t,r){return function(e){return t(r(e))}}(Object.getPrototypeOf,Object);var _=function(t){return null!=t&&"object"==typeof t},F=Function.prototype,T=Object.prototype,U=F.toString,I=T.hasOwnProperty,L=U.call(Object);var K=function(t){if(!_(t)||"[object Object]"!=j(t))return!1;var r=E(t);if(null===r)return!0;var e=I.call(r,"constructor")&&r.constructor;return"function"==typeof e&&e instanceof e&&U.call(e)==L},B=new RegExp("[".concat(["&","|","!",">","<","=","~","(",")",","].join("\\"),"]"),"g");function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return K(t)?Object.entries(t).map(q(r)).join("&"):t}function q(t){var r=function(t){return function(r){return t?encodeURIComponent(r):function(t){return t.replace(B,"\\$&")}(r)}}(t);return function(t){var e=D()(t,2),n=e[0],o=e[1];return"".concat(r(n),"=").concat(r(C(o)))}}function N(t){return function(r){return t&&t(null,r),r}}function M(t){return function(r){if(t&&t(r),!r)throw new Error("No error message available, err was: ".concat(JSON.stringify(r)));if(r.name&&r.name.includes("Error"))throw r;if(void 0!==r.ok&&!r.ok)return r.text().then((function(t){return Promise.reject(t)}));if("string"==typeof r)try{r=JSON.parse(r)}catch(t){}throw new Error(r.message||JSON.stringify(r))}}function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,e=z(t);return H(e).then((function(t){return V(t).then(J(t)).then($(t))})).then(N(r)).catch(M(r))}function z(t){var r=Object.assign({method:"get",url:""},n,t,{headers:Object.assign({},n.headers,t.headers)});return!r.headers.authorization&&r.apiKey&&(r.headers.authorization=r.apiKey),r.data&&(r.body=JSON.stringify(r.data),Reflect.deleteProperty(r,"data")),r}function H(t){var r=!1;function e(){r=!0}var n=Promise.resolve(t);return Array.isArray(t.interceptors)&&t.interceptors.filter((function(t){return S(t.request)})).forEach((function(t){n=n.then((function(n){return r?n:t.request(n,e)||n}))})),n.then((function(t){return r?Promise.reject({errors:["Request cancelled on request interceptors"],cancelled:!0}):t}))}function V(t){var r=fetch(function(t){var r="".concat(t.apiUrl).concat(t.url);return t.params&&(r+="?".concat(C(t.params))),r}(t),t);return t.timeout?Promise.race([r,new Promise((function(r,e){setTimeout((function(){return e("Request timeout")}),t.timeout)}))]):r}function J(t){return function(){var r=h()(s.a.mark((function r(e){var n,o;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.fullResponse?Promise.resolve(e):204===e.status||"delete"===t.method.toLowerCase()?Promise.resolve():e.json(),o="",r.prev=2,r.next=5,n;case 5:o=r.sent,r.next=10;break;case 8:r.prev=8,r.t0=r.catch(2);case 10:if(e.ok){r.next=19;break}if("object"!==l()(o)){r.next=15;break}r.t1=o,r.next=18;break;case 15:return r.next=17,e.json();case 17:r.t1=r.sent;case 18:throw r.t1;case 19:return r.abrupt("return",o);case 20:case"end":return r.stop()}}),r,null,[[2,8]])})));return function(t){return r.apply(this,arguments)}}()}function $(t){return function(r){var e=Promise.resolve(r);return Array.isArray(t.interceptors)&&t.interceptors.filter((function(t){return S(t.response)})).forEach((function(t){e=e.then(t.response)})),e}}var W=e(12),X=e.n(W),Y=e(1),Q=e.n(Y),Z=e(2),tt=e.n(Z),rt=e(8),et=e.n(rt),nt=e(3),ot=e.n(nt),it=e(4),ct=e.n(it),ut=e(9),at=e.n(ut),st=e(0),ft=e.n(st),lt=Array.isArray;var pt=function(t){return"string"==typeof t||!lt(t)&&_(t)&&"[object String]"==j(t)},ht={init:Symbol("init"),path:Symbol("path"),resource:Symbol("resource")},yt=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Q()(this,t),!pt(r))throw new Error("Scope constructor should be called with an API Key");this.apiKey=r,Object.assign(this,e)}return tt()(t,[{key:"readAccess",value:function(){return G({url:"/access",apiKey:this.apiKey})}},{key:"read",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object.assign(t,{method:"get",url:this[ht.path],apiKey:this.apiKey});return this._request(r)}},{key:"update",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Object.assign(r,{method:"put",url:this[ht.path],apiKey:this.apiKey,data:t});return this._request(e)}},{key:"_request",value:function(t){var r=this;return G(t).then((function(t){return Object.assign(r,t)}))}}]),t}(),vt=e(14),dt=e.n(vt),mt=e(20),gt=e.n(mt);function bt(t){var r={};if(t&&t.length)for(var e=t.split(","),n=0;n<e.length;n++){var o=e[n].split(";"),i=o[0].replace(/<(.*)>/,"$1").trim();r[o[1].replace(/rel="(.*)"/,"$1").trim()]=i}return r}var wt=function(){function t(r,e,n,o,i){if(Q()(this,t),!(r&&r instanceof yt))throw new TypeError("Scope should inherit from Scope (e.g. EVT.Application).");if(!pt(e))throw new TypeError("Resource must have a String path.");this.scope=r,this.path="".concat("/"!==e[0]?"/":"").concat(e),this.preParams={},this.id=o,this.typeName=i,n&&(n===Rt||n.prototype instanceof Rt)&&(this.type=n)}var r,e,n,o,i,c,u;return tt()(t,null,[{key:"factoryFor",value:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(!r)throw new Error("Entity type is necessary for resource factory.");return function(i){var c,u,a;if(this instanceof yt?(u=this,c=""):this instanceof t?(u=this.scope,c=this.path):this instanceof Rt&&(u=this[ht.resource].scope,c=this[ht.resource].path),a=c+e,i){if(!pt(i))throw new TypeError("ID must be a string.");a+="/".concat(encodeURIComponent(i))}return new(n?n(t):t)(u,a,r,i,o)}}}]),tt()(t,[{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.type&&t instanceof this.type?t.json():t}},{key:"deserialize",value:function(r){var e=this;if(r&&this.type){if(Array.isArray(r))return"object"===l()(r[0])?r.map(this.deserialize.bind(this)):r;if(!r.body){var n=this.path;r.id&&-1===n.indexOf(r.id)&&(n+="/".concat(r.id));var o=new t(this.scope,n,this.type);return new(0,this.type)(o,r)}r.deserialize=function(){return r.json().then(e.deserialize.bind(e))}}return r}},{key:"setWithScopes",value:function(){return this.preParams.withScopes=!0,this}},{key:"setContext",value:function(){return this.preParams.context=!0,this}},{key:"setPerPage",value:function(t){return this.preParams.perPage=t,this}},{key:"setProject",value:function(t){return this.preParams.project=t,this}},{key:"setFilter",value:function(t){return this.preParams.filter=t,this}},{key:"setIds",value:function(t){return this.preParams.ids=t,this}},{key:"create",value:function(t,r,e){if(!t||S(t))throw new TypeError("Create method must have payload.");var n={url:r&&r.url?r.url:this.path,data:t,method:"post"};return this._request(n,r,e)}},{key:"read",value:function(t,r){return this._request({url:this.path,method:"get"},t,r)}},{key:"update",value:function(t,r,e){if(!t||S(t))throw new TypeError("Update method must have payload.");return this._request({url:this.path,data:t,method:"put"},r,e)}},{key:"delete",value:function(t,r){return this._request({url:this.path,method:"delete"},t,r)}},{key:"pages",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gt()(s.a.mark((function e(){var n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.fullResponse,e.next=3,dt()(t._linkRequest({url:t.path},n,r));case 3:return o=e.sent,e.next=6,o.result;case 6:if(!o.next){e.next=14;break}return e.next=9,dt()(t._linkRequest({apiUrl:o.next},n));case 9:return o=e.sent,e.next=12,o.result;case 12:e.next=6;break;case 14:case"end":return e.stop()}}),e)})))()}},{key:"rescope",value:(u=h()(s.a.mark((function t(r,e){var n,o,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}throw new Error("An array of project IDs to be scoped to must be provided");case 2:return n={withScopes:!0},t.next=5,this.read({params:n});case 5:return o=t.sent,(i=o.scopes).projects=r,Array.isArray(e)&&(i.users=e),t.abrupt("return",this.update({scopes:i}));case 10:case"end":return t.stop()}}),t,this)}))),function(t,r){return u.apply(this,arguments)})},{key:"upsert",value:(c=h()(s.a.mark((function t(r,e,n){var o,i,c,u,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&("string"==typeof e||"object"===l()(e))){t.next=2;break}throw new Error("updateKey must be a 'name' string or an object, eg: { shortId: 'a7ysf8hd' }");case 2:return o={filter:"name=".concat(e)},"object"===l()(e)&&(i=D()(Object.entries(e)[0],2),c=i[0],u=i[1],o.filter="identifiers.".concat(c,"=").concat(u)),t.next=6,this.read({params:o});case 6:if(!((a=t.sent).length>1)){t.next=10;break}if(n){t.next=10;break}throw new Error("More than one resource was found. Set 'allowPlural' to 'true' as third parameter to update the first returned.");case 10:if(!a.length){t.next=12;break}return t.abrupt("return",a[0].update(r));case 12:return t.abrupt("return",this.create(r));case 13:case"end":return t.stop()}}),t,this)}))),function(t,r,e){return c.apply(this,arguments)})},{key:"find",value:(i=h()(s.a.mark((function t(r){var e,n,o,i,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e={filter:"name=".concat(r)},"object"!==l()(r)){t.next=7;break}if(!((n=Object.entries(r)).length>1)){t.next=5;break}throw new Error("Only one key-value pair may be specified for find()");case 5:o=D()(n[0],2),i=o[0],c=o[1],e.filter="identifiers.".concat(i,"=").concat(c);case 7:return t.abrupt("return",this.read({params:e}));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"stream",value:(o=h()(s.a.mark((function t(r){var e,n,o,i,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.pages(),n=0;case 2:return t.next=4,e.next();case 4:if((o=t.sent).done){t.next=18;break}c=0;case 6:if(!(c<o.value.length)){t.next=15;break}if("boolean"!=typeof i||!i){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,r(o.value[c],n+c);case 11:i=t.sent;case 12:c+=1,t.next=6;break;case 15:n+=o.value.length,t.next=2;break;case 18:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"streamPages",value:(n=h()(s.a.mark((function t(r){var e,n,o,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.pages(),n=0;case 2:return t.next=4,e.next();case 4:if((o=t.sent).done){t.next=13;break}return t.next=7,r(o.value,n);case 7:if(i=t.sent,n+=o.value.length,"boolean"!=typeof i||!i){t.next=11;break}return t.abrupt("return");case 11:t.next=2;break;case 13:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"_request",value:(e=h()(s.a.mark((function t(r){var e,n,o,i,c,u=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=u.length>1&&void 0!==u[1]?u[1]:{},n=u.length>2?u[2]:void 0,S(e)&&(n=e),!(o=Object.assign({},e,r,{apiKey:this.scope.apiKey})).body){t.next=8;break}return t.next=7,this.serialize(o.body);case 7:o.body=t.sent;case 8:return Object.keys(this.preParams).length&&(Object.assign(o,{params:this.preParams}),this.preParams={}),t.prev=9,t.next=12,G(o);case 12:return i=t.sent,t.next=15,this.deserialize(i);case 15:return c=t.sent,t.abrupt("return",N(n)(c));case 19:throw t.prev=19,t.t0=t.catch(9),M(n)(t.t0);case 22:case"end":return t.stop()}}),t,this,[[9,19]])}))),function(t){return e.apply(this,arguments)})},{key:"_linkRequest",value:(r=h()(s.a.mark((function t(r,e){var n,o,i,c,u,a,f=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>2&&void 0!==f[2]?f[2]:{},o=Object.assign({fullResponse:!0},r),t.next=4,this._request(o,n);case 4:return i=t.sent,c=bt(i.headers.get("link")),u=c.next&&decodeURIComponent(c.next),t.next=9,e?i:i.json();case 9:return a=t.sent,t.abrupt("return",{result:a,next:u});case 11:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})}]),t}(),Rt=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Q()(this,t),!(r&&r instanceof wt))throw new Error("Resource must be a Resource.");this[ht.resource]=r,Object.assign(this,e)}return tt()(t,[{key:"json",value:function(){return Object.entries(this).reduce((function(t,r){var e=D()(r,2),n=e[0],o=e[1];return Object.assign(t,X()({},n,o))}),{})}},{key:"update",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.json(),e=arguments.length>1?arguments[1]:void 0;return this[ht.resource].update(r,e).then((function(r){return Object.assign(t,r),r}))}},{key:"delete",value:function(t){return this[ht.resource].delete(t)}}]),t}();var xt=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{access:function(t){if(this instanceof yt)throw new Error("Access is not a top-level resource.");return wt.factoryFor(e,"/accesses").call(this,t)}}}}]),e}(Rt);var kt=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{domain:function(){if(pt(arguments[0]))throw new TypeError("There is no single resource for Domains");if(this instanceof yt)throw new Error("Domain is not a top-level resource.");return wt.factoryFor(e,"/domains").call(this)}}}}]),e}(Rt);var Pt=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{operatorAccess:function(t){return wt.factoryFor(e,"/operatorAccess").call(this,t)}}}}]),e}(Rt);var jt=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{shortDomain:function(){if(pt(arguments[0]))throw new TypeError("There is no single resource for ShortDomains");if(this instanceof yt)throw new Error("ShortDomain is not a top-level resource.");return wt.factoryFor(e,"/shortDomains").call(this)}}}}]),e}(Rt),Ot=e(7),St=e.n(Ot);function At(t){var r=t.map((function(t){return t.resourceFactory()})),e=Object.assign.apply(Object,[{}].concat(St()(r)));return function(t){return Dt(e)(function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return e}(t))}}function Dt(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(e){var n=!0,o=!1,i=void 0;try{for(var c,u=Reflect.ownKeys(t)[Symbol.iterator]();!(n=(c=u.next()).done);n=!0){var a=c.value;Object.defineProperty(r?e.prototype:e,a,{value:t[a]})}}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return e}}var Et=At([kt,jt,xt,Pt]),_t=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{sharedAccount:wt.factoryFor(e,"/accounts",Et)}}}]),e}(Et(Rt));var Ft=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{event:wt.factoryFor(e,"/events")}}}]),e}(Rt);var Tt=At([Ft]),Ut=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{adiOrder:wt.factoryFor(e,"/adis/orders",Tt)}}}]),e}(Tt(Rt));var It=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{property:function(t){var r=this instanceof yt?this[ht.path]:"";return Object.assign(wt.factoryFor(e,r+"/properties").call(this,t),{create:function(){var t;return(t=wt.prototype.create).call.apply(t,[this].concat(St()(Lt.apply(void 0,arguments))))},update:function(){var t;return(t=wt.prototype.update).call.apply(t,[this].concat(St()(Lt.apply(void 0,arguments))))}})}}}}]),e}(Rt);function Lt(t){pt(t)||"number"==typeof t||"boolean"==typeof t?t=[{value:t}]:K(t)&&(t=t.hasOwnProperty("value")?[t]:Object.entries(t).map((function(t){return{key:t[0],value:t[1]}})));for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];return[t].concat(e)}var Kt=e(13),Bt=e.n(Kt);function Ct(){return new Promise((function(t,r){if("undefined"==typeof window||!window.navigator.geolocation)throw new Error("Geolocation API not available.");var e={maximumAge:3e5,timeout:1e4,enableHighAccuracy:!0};window.navigator.geolocation.getCurrentPosition(t,(function(t){return r(t)}),e)}))}var qt=function(t){return void 0===t};var Nt=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{action:function(t,r){if(!t)throw new TypeError("Action type cannot be empty.");if(!pt(t))throw new TypeError("Action type must be a name string");var n="/actions/:type".replace(":type",t),o=this;return Object.assign(wt.factoryFor(e,n).call(this,r),{create:function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return Mt.call.apply(Mt,[this,o,t].concat(e))}})}}}}]),e}(Rt);function Mt(t,r){for(var e=arguments.length,n=new Array(e>2?e-2:0),o=2;o<e;o++)n[o-2]=arguments[o];var i=Gt.apply(void 0,n),c=Bt()(i),u=c[0],a=c.slice(1),s=D()(a,1),f=s[0];u=Array.isArray(u)?u.map((function(e){return zt(e,t,r)})):u=zt(u,t,r);var l=wt.prototype.create.bind(this),p=function(){return[u].concat(St()(a))};return Ht(f)?Ct().then((function(t){return u=Vt(u,t),l.apply(void 0,St()(p()))})).catch((function(t){return console.info("Unable to get position: ".concat(t)),l.apply(void 0,St()(p()))})):l.apply(void 0,St()(p()))}function Gt(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=r[0];return(qt(n)||S(n))&&r.unshift({}),r}function zt(t,r,e){var n=Object.assign({},t);n.type="all"!==e?e:t.type||"";var o=function(t){return t instanceof Rt&&t[ht.actionIdentifier]?t[ht.actionIdentifier]:""}(r);return o&&(n[o]=r.id),n}function Ht(t){return t&&!qt(t.geolocation)?t.geolocation:n.geolocation}function Vt(t,r){var e=Object.assign({},t);return e.location={latitude:r.coords.latitude,longitude:r.coords.longitude},e.locationSource="sensor",e}var Jt=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{redirection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.defaultShortDomain;if(this instanceof yt)throw new Error("Redirection is not a top-level resource.");var r=this,e=function(){var e=h()(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wt.prototype._request.call(r,Object.assign({apiUrl:"https://".concat(t),url:"/redirections",headers:{Accept:"application/json"}},n)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{create:function(t){return h()(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.evrythngId=r.id,t.type=r.typeName,n.abrupt("return",e({method:"post",body:JSON.stringify(t)}));case 3:case"end":return n.stop()}}),n)})))()},read:function(){return h()(s.a.mark((function t(){var n,o,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({params:{evrythngId:r.id}});case 2:return n=t.sent,o=D()(n,1),i=o[0],t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})))()},update:function(t){var r=this;return h()(s.a.mark((function n(){var o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.read();case 2:if(o=n.sent){n.next=5;break}return n.abrupt("return",r.create(t));case 5:return n.abrupt("return",e({url:"/redirections/".concat(o.shortId),method:"put",body:JSON.stringify(t)}));case 6:case"end":return n.stop()}}),n)})))()},delete:function(){var t=this;return h()(s.a.mark((function r(){var n;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.read();case 2:if(n=r.sent){r.next=5;break}return r.abrupt("return",Promise.resolve());case 5:return r.abrupt("return",e({url:"/redirections/".concat(n.shortId),method:"delete"}));case 6:case"end":return r.stop()}}),r)})))()}}}}}}]),e}(Rt);var $t=At([It,Nt,Jt]),Wt=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{product:wt.factoryFor(e,"/products",$t,"product")}}}]),e}($t(Rt));var Xt=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{commissionState:function(){if(pt(arguments[0]))throw new TypeError("There is no single resource for CommissionState");var t=this instanceof yt?this[ht.path]:"";return wt.factoryFor(e,t+"/commissionState").call(this)}}}}]),e}(Rt);var Yt=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{locations:function(){if(pt(arguments[0]))throw new TypeError("There is no single resource for Locations");var t=this instanceof yt?this[ht.path]:"";return Object.assign(wt.factoryFor(e,t+"/location").call(this),{update:function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return Qt.call.apply(Qt,[this].concat(r))}})}}}}]),e}(Rt);function Qt(){var t=Zt.apply(void 0,arguments),r=Bt()(t),e=r[0],n=r.slice(1),o=wt.prototype.update.bind(this),i=function(){return[e].concat(St()(n))};return tr(e)?Ct().then((function(t){return e[0]=rr(e[0],t),o.apply(void 0,St()(i()))})).catch((function(t){return console.info("Unable to get position: ".concat(t)),o.apply(void 0,St()(i()))})):o.apply(void 0,St()(i()))}function Zt(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=r[0];return K(n)?r[0]=[n]:(qt(n)||S(n))&&r.unshift([]),r}function tr(t){return 0===t.length&&n.geolocation}function rr(t,r){var e=Object.assign({},t);return e.position={type:"Point",coordinates:[r.coords.longitude,r.coords.latitude]},e}var er=At([It,Nt,Yt,Jt,Xt]),nr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{thng:wt.factoryFor(e,"/thngs",er,"thng")}}}]),e}(er(Rt));var or=At([nr,Nt]),ir=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{collection:function(t){return Object.assign(wt.factoryFor(e,"/collections",or).call(this,t),e.resourceFactory())}}}}]),e}(or(Rt));Dt(ir.resourceFactory())(ir);var cr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{actionType:function(t){return Object.assign(wt.factoryFor(e,"/actions").call(this,t),{read:function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return ur.call.apply(ur,[this,t].concat(e))}})}}}}]),e}(Rt);function ur(t){for(var r,e=this,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(t){var c=ar(t).apply(void 0,o);return new Promise((function(t,r){var n;e.path=e.path.split("/").slice(0,2).join("/"),(n=wt.prototype.read).call.apply(n,[e].concat(St()(c))).then((function(e){e.length||r({status:404,errors:["The action type was not found."]}),t(e[0])}))}))}return(r=wt.prototype.read).call.apply(r,[this].concat(o))}function ar(t){return function(){for(var r,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=n[0];return qt(i)||S(i)?(r={},n.unshift(r)):r=i,r.url="/actions",r.params=Object.assign({filter:{name:decodeURIComponent(t)}},r.params),n}}var sr=At([function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{status:function(){if(pt(arguments[0]))throw new TypeError("There is no single resource for Status");return wt.factoryFor(e,"/status").call(this)}}}}]),e}(Rt)]),fr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{reactorScript:function(){if(pt(arguments[0]))throw new TypeError("There is no single resource for Reactor Scripts");return wt.factoryFor(e,"/reactor/script",sr).call(this)}}}}]),e}(sr(Rt));var lr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{reactorSchedule:function(t){var r=this instanceof yt?this[ht.path]:"";return wt.factoryFor(e,r+"/reactor/schedules").call(this,t)}}}}]),e}(Rt);var pr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{reactorLog:function(t,r){if(pt(t)&&!pt(r))throw new Error("When using with Operator, projectId and applicationId are required");var n=t||this.project,o=r||this.app,i="/projects/".concat(n,"/applications/").concat(o);return Object.assign(wt.factoryFor(e,i+"/reactor/logs").call(this),{create:function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return hr.call.apply(hr,[this].concat(r))}})}}}}]),e}(Rt);function hr(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Array.isArray(t)?t:[t];return r.url="".concat(this.path,"/bulk"),wt.prototype.create.call(this,e,r)}var yr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{redirector:wt.factoryFor(e,"/redirector")}}}]),e}(Rt);var vr=At([fr,lr,pr,yr,function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{secretKey:function(){if(pt(arguments[0]))throw new TypeError("There is no single resource for SecretKey");return wt.factoryFor(e,"/secretKey").call(this)}}}}]),e}(Rt)]),dr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{application:function(t){if(this instanceof yt)throw new Error("Application is not a top-level resource.");return wt.factoryFor(e,"/applications",vr).call(this,t)}}}}]),e}(vr(Rt));var mr=At([dr]),gr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{project:wt.factoryFor(e,"/projects",mr)}}}]),e}(mr(Rt));var br=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{purchaseOrder:wt.factoryFor(e,"/purchaseOrders")}}}]),e}(Rt);var wr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{permission:function(t){if(this instanceof yt)throw new Error("Permission is not a top-level resource.");return wt.factoryFor(e,"/permissions").call(this,t)}}}}]),e}(Rt);var Rr=At([wr]),xr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{role:wt.factoryFor(e,"/roles",Rr)}}}]),e}(Rr(Rt));var kr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{rule:function(t){if(!pt(t))throw new TypeError("Rule name must be a string");return Object.assign(wt.factoryFor(e,"/rules").call(this,t),{run:function(){for(var t,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return(t=wt.prototype.create).call.apply(t,[this].concat(e))}})}}}}]),e}(Rt);var Pr=At([function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{container:wt.factoryFor(e,"/containers")}}}]),e}(Rt)]),jr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{shipmentNotice:wt.factoryFor(e,"/shipmentNotices",Pr)}}}]),e}(Pr(Rt));var Or=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{user:wt.factoryFor(e,"/users")}}}]),e}(Rt);var Sr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{task:function(t){if(this instanceof yt)throw new Error("Task is not a top-level resource.");return wt.factoryFor(e,"/tasks").call(this,t)}}}}]),e}(Rt);var Ar=At([Sr]),Dr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{batch:wt.factoryFor(e,"/batches",Ar)}}}]),e}(Ar(Rt));var Er=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{place:wt.factoryFor(e,"/places")}}}]),e}(Rt);var _r=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{file:function(t){return Object.assign(wt.factoryFor(e,"/files").call(this,t),{upload:Fr})}}}}]),e}(Rt);function Fr(t){return Tr.apply(this,arguments)}function Tr(){return(Tr=h()(s.a.mark((function t(r){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.read();case 2:return e=t.sent,n={method:"put",headers:{"Content-Type":e.type,"x-amz-acl":e.privateAccess?"private":"public-read"},body:r},t.abrupt("return",fetch(e.uploadUrl,n));case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Ur=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{accessPolicy:function(t){return wt.factoryFor(e,"/accessPolicies").call(this,t)}}}}]),e}(Rt);var Ir=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{accessToken:function(t){return wt.factoryFor(e,"/accessTokens").call(this,t)}}}}]),e}(Rt);var Lr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(){return Q()(this,e),r.apply(this,arguments)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{me:function(){return wt.factoryFor(e,"/me").call(this)}}}}]),e}(Rt);var Kr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(t){var n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Q()(this,e),(o=r.call(this,t,i)).initPromise=at()((n=et()(o),ft()(e.prototype)),"readAccess",n).call(n).then((function(t){o.id=t.actor.id,o[ht.path]=o._getPath()})).then((function(){return o.read()})),o}return tt()(e,[{key:"init",value:function(){return this.initPromise}},{key:"update",value:function(t){var r={method:"put",url:"/operators/".concat(this.id),apiKey:this.apiKey,data:t};return this._request(r)}},{key:"_getPath",value:function(){return"/operators/".concat(this.id)}}]),e}(At([Ur,Ir,_t,Nt,cr,Ut,Dr,ir,_r,Lr,Er,Wt,gr,br,pr,yr,xr,kr,jr,nr,Or])(yt));var Br=function(t){ot()(n,t);var r,e=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(n);function n(t){var r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Q()(this,n),(o=e.call(this,t,i)).initPromise=at()((r=et()(o),ft()(n.prototype)),"readAccess",r).call(r).then((function(t){o.id=t.actor.id,o[ht.path]=o._getPath()})).then((function(){return o.read()})),o}return tt()(n,[{key:"init",value:function(){return this.initPromise}},{key:"logout",value:(r=h()(s.a.mark((function t(r){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._invalidateUser();case 3:return e=t.sent,r&&r(e),t.abrupt("return",e);case 8:throw t.prev=8,t.t0=t.catch(0),r&&r(t.t0),t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(t){return r.apply(this,arguments)})},{key:"_getPath",value:function(){return"/users/".concat(this.id)}},{key:"_invalidateUser",value:function(){return G({url:"/auth/all/logout",method:"post",apiKey:this.apiKey})}}]),n}(At([Wt,nr,ir,Nt,cr,br,xr,kr,Er,_r])(yt));var Cr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Q()(this,e);var o=Object.assign({},n);return o.evrythngUser&&(o.id=o.evrythngUser,Reflect.deleteProperty(o,"evrythngUser")),r.call(this,t,o)}return tt()(e,null,[{key:"resourceFactory",value:function(){return{appUser:function(t){return Object.assign(wt.factoryFor(e,"/auth/evrythng/users").call(this,t),{create:function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return qr.call.apply(qr,[this].concat(r))},validate:function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return Nr.call.apply(Nr,[this].concat(r))}})}}}}]),tt()(e,[{key:"validate",value:function(){return Nr.call(this,this.activationCode)}}]),e}(Rt);function qr(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n,o=r[0];return o&&o.anonymous?Mr.call.apply(Mr,[this].concat(r)):(n=wt.prototype.create).call.apply(n,[this].concat(r))}function Nr(t){if(!t||!pt(t))throw new Error("Activation code must be a string.");if("anonymous"===this.type)throw new Error("Anonymous users can't be validated.");var r=this.scope,e=this.path;return this instanceof Rt&&(r=this[ht.resource].scope,e="".concat(this[ht.resource].path,"/").concat(this.id)),G({url:"".concat(e,"/validate"),method:"post",apiKey:r.apiKey,data:{activationCode:t}}).then((function(t){return new Br(t.evrythngApiKey).init()}))}function Mr(){return G({url:this.path,method:"post",params:{anonymous:!0},data:{},apiKey:this.scope.apiKey}).then((function(t){return new Br(t.evrythngApiKey,Object.assign(t,{type:"anonymous"}))}))}var Gr=function(t){ot()(n,t);var r,e=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(n);function n(t){var r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Q()(this,n),(o=e.call(this,t,i)).initPromise=at()((r=et()(o),ft()(n.prototype)),"readAccess",r).call(r).then((function(t){o.id=t.actor.id,o.project=t.project,o[ht.path]=o._getPath()})).then((function(){return o.read()})),o}return tt()(n,[{key:"init",value:function(){return this.initPromise}},{key:"login",value:(r=h()(s.a.mark((function t(r,e){var n,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._authenticateUser(r);case 3:return n=t.sent,o=new Br(n.access.apiKey,n),t.next=7,o.init();case 7:return e&&e(null,o),t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(0),e&&e(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(t,e){return r.apply(this,arguments)})},{key:"_getPath",value:function(){return"/applications/me"}},{key:"_authenticateUser",value:function(t){if(!t||!K(t))throw new TypeError("Credentials are missing.");return G({url:"/users/login",method:"post",data:t,apiKey:this.apiKey})}}]),n}(At([Wt,Nt,Cr,Er])(yt));var zr=function(t){ot()(n,t);var r,e=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(n);function n(t){var r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Q()(this,n),(o=e.call(this,t,i)).initPromise=at()((r=et()(o),ft()(n.prototype)),"readAccess",r).call(r).then((function(t){o.id=t.actor.id,o.project=t.project,o.app=t.actor.id,o[ht.path]=o._getPath()})).then((function(){return o.read()})),o}return tt()(n,[{key:"init",value:function(){return this.initPromise}},{key:"login",value:(r=h()(s.a.mark((function t(r,e){var n,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._authenticateUser(r);case 3:return n=t.sent,o=new Or(n.access.apiKey,n),t.next=7,o.init();case 7:return e&&e(null,o),t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(0),e&&e(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(t,e){return r.apply(this,arguments)})},{key:"_getPath",value:function(){return"/applications/me"}},{key:"_authenticateUser",value:function(t){if(!t||!K(t))throw new TypeError("Credentials are missing.");return G({url:"/users/login",method:"post",data:t,apiKey:this.apiKey})}}]),n}(At([nr,ir,cr,Or,br,lr,pr])(Gr)),Hr={Operator:Kr,Application:Gr,TrustedApplication:zr,User:Br};function Vr(t,r){var e=Object.keys(Hr);if(!e.includes(r))throw new Error("Invalid target. Choose from ".concat(e.join(", ")));var n=Hr[r];for(var o in t){if(!n.prototype[o])throw new Error("".concat(o," does not exist for ").concat(r));Object.assign(n.prototype,X()({},t[o],n.prototype[o]))}}var Jr=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(t){var n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Q()(this,e),(o=r.call(this,t,i)).initPromise=at()((n=et()(o),ft()(e.prototype)),"readAccess",n).call(n).then((function(t){o.id=t.actor.id,o[ht.path]=o._getPath()})).then((function(){return o.read()})),o}return tt()(e,[{key:"init",value:function(){return this.initPromise}},{key:"_getPath",value:function(){return"/thngs/".concat(this.id)}}]),e}(At([It,Nt,Yt])(yt));var $r=function(t){ot()(e,t);var r=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(e);function e(t){var n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Q()(this,e),(o=r.call(this,t,i)).initPromise=at()((n=et()(o),ft()(e.prototype)),"readAccess",n).call(n),o}return tt()(e,[{key:"init",value:function(){return this.initPromise}}]),e}(At([Ur,Ir,_t,Nt,cr,Ut,ir,_r,Lr,Er,Wt,gr,br,yr,jr,nr])(yt)),Wr={scopes:{AccessToken:$r,Operator:Kr,Application:Gr,TrustedApplication:zr,User:Br,Device:Jr},entities:{Access:xt,AccessPolicy:Ur,AccessTokens:Ir,Account:_t,Action:Nt,ActionType:cr,ADIOrder:Ut,ADIOrderEvent:Ft,Application:dr,AppUser:Cr,Batch:Dr,Collection:ir,CommissionState:Xt,Domain:kt,Entity:Rt,File:_r,Location:Yt,Me:Lr,OperatorAccess:Pt,Permission:wr,Place:Er,Product:Wt,Project:gr,Property:It,PurchaseOrder:br,ReactorLog:pr,ReactorSchedule:lr,ReactorScript:fr,Redirection:Jt,Redirector:yr,Role:xr,ShipmentNotice:jr,ShortDomain:jt,Thng:nr,User:Or},resources:{Resource:wt}};function Xr(t){if(!t.install||"function"!=typeof t.install)throw new Error("Plugin must implement an 'install()' method");try{t.install(Wr)}catch(t){console.log("Failed to install plugin"),console.log(t)}}var Yr=e(21),Qr=e.n(Yr);var Zr=function(t){ot()(u,t);var r,e,n,o,i,c=function(t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var e,n=ft()(t);if(r()){var o=ft()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ct()(this,e)}}(u);function u(t){var r,e;return Q()(this,u),(e=c.call(this,t)).initPromise=at()((r=et()(e),ft()(u.prototype)),"readAccess",r).call(r).then((function(t){e.id=t.actor.id,e.project=t.project,e[ht.path]=e._getPath()})).then((function(){return e.read()})).then((function(){return e._getAnonUser()})).then((function(t){e.anonUser=t})),e}return tt()(u,[{key:"init",value:function(){return this.initPromise}},{key:"pageVisited",value:(i=h()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.createAction("_PageVisited",{url:window.location.href}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"createAction",value:(o=h()(s.a.mark((function t(r){var e,n,o,i,c,u=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=u.length>1&&void 0!==u[1]?u[1]:{},this.anonUser){t.next=3;break}throw new Error("Anonymous user not yet prepared. Use actionApp.init() to wait for this.");case 3:if(!r.startsWith("_")){t.next=13;break}return t.prev=4,t.next=7,this.anonUser.actionType(r).read();case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(4),console.error(t.t0),new Error("The action type was not found. Is it in project scope?");case 13:if(n=e.thng,o=e.product,i=Qr()(e,["thng","product"]),!n||!o){t.next=16;break}throw new Error("Either thng or product can be specified as target, not both");case 16:return c={type:r,customFields:i},n&&(c.thng=n),o&&(c.product=o),t.abrupt("return",this.anonUser.action(r).create(c));case 20:case"end":return t.stop()}}),t,this,[[4,9]])}))),function(t){return o.apply(this,arguments)})},{key:"getAnonymousUser",value:(n=h()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.anonUser){t.next=2;break}throw new Error("Anonymous user not yet prepared. Use actionApp.init() to wait for this.");case 2:return t.abrupt("return",this.anonUser);case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"_getPath",value:function(){return"/applications/me"}},{key:"_getStorageKey",value:function(){return"action-app-user-".concat(this.id)}},{key:"_createAnonUser",value:(e=h()(s.a.mark((function t(){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.appUser().create({anonymous:!0});case 2:return r=t.sent,localStorage.setItem(this._getStorageKey(),r.evrythngApiKey),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"_getAnonUser",value:(r=h()(s.a.mark((function t(){var r,e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem(this._getStorageKey())){t.next=3;break}return t.abrupt("return",this._createAnonUser());case 3:return e=new Br(r),t.abrupt("return",e.init());case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]),u}(At([Cr])(yt)),te={Access:xt,AccessPolicy:Ur,AccessTokens:Ir,Account:_t,Action:Nt,ActionType:cr,ADIOrder:Ut,ADIOrderEvent:Ft,Application:dr,Batch:Dr,Collection:ir,CommissionState:Xt,Domain:kt,File:_r,Location:Yt,Me:Lr,OperatorAccess:Pt,Permission:wr,Place:Er,Product:Wt,Project:gr,Property:It,PurchaseOrder:br,Role:xr,ReactorLog:pr,ReactorSchedule:lr,ReactorScript:fr,Redirection:Jt,Redirector:yr,ShipmentNotice:jr,ShortDomain:jt,Task:Sr,Thng:nr,User:Or}}]);(()=>{var ai=Object.create;var Jt=Object.defineProperty;var si=Object.getOwnPropertyDescriptor;var ui=Object.getOwnPropertyNames;var ci=Object.getPrototypeOf,fi=Object.prototype.hasOwnProperty;var yr=e=>Jt(e,"__esModule",{value:!0});var pi=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),br=(e,t)=>{yr(e);for(var r in t)Jt(e,r,{get:t[r],enumerable:!0})},li=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ui(t))!fi.call(e,n)&&n!=="default"&&Jt(e,n,{get:()=>t[n],enumerable:!(r=si(t,n))||r.enumerable});return e},di=e=>li(yr(Jt(e!=null?ai(ci(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Br=pi((ta,Zt)=>{var Er,Sr,xr,Tr,wr,Or,Ir,Rr,kr,Qt,Ce,Cr,Nr,St,Ar,Mr,Pr,Dr,jr,Fr,Hr,Ur,Lr;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof Zt=="object"&&typeof Zt.exports=="object"?e(r(t,r(Zt.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,a){return n[o]=i?i(o,a):a}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};Er=function(r,n){t(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},Sr=Object.assign||function(r){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},xr=function(r,n){var i={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.indexOf(o)<0&&(i[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(i[o[a]]=r[o[a]]);return i},Tr=function(r,n,i,o){var a=arguments.length,s=a<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,i):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,n,i,o);else for(var c=r.length-1;c>=0;c--)(u=r[c])&&(s=(a<3?u(s):a>3?u(n,i,s):u(n,i))||s);return a>3&&s&&Object.defineProperty(n,i,s),s},wr=function(r,n){return function(i,o){n(i,o,r)}},Or=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},Ir=function(r,n,i,o){function a(s){return s instanceof i?s:new i(function(u){u(s)})}return new(i||(i=Promise))(function(s,u){function c(m){try{l(o.next(m))}catch(h){u(h)}}function p(m){try{l(o.throw(m))}catch(h){u(h)}}function l(m){m.done?s(m.value):a(m.value).then(c,p)}l((o=o.apply(r,n||[])).next())})},Rr=function(r,n){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,a,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(m){return p([l,m])}}function p(l){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=l[0]&2?a.return:l[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,l[1])).done)return s;switch(a=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(s=i.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){i=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){i.label=l[1];break}if(l[0]===6&&i.label<s[1]){i.label=s[1],s=l;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(l);break}s[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(r,i)}catch(m){l=[6,m],a=0}finally{o=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Lr=function(r,n,i,o){o===void 0&&(o=i),r[o]=n[i]},kr=function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},Qt=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],o=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Ce=function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var o=i.call(r),a,s=[],u;try{for(;(n===void 0||n-- >0)&&!(a=o.next()).done;)s.push(a.value)}catch(c){u={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(u)throw u.error}}return s},Cr=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Ce(arguments[n]));return r},Nr=function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var o=Array(r),a=0,n=0;n<i;n++)for(var s=arguments[n],u=0,c=s.length;u<c;u++,a++)o[a]=s[u];return o},St=function(r){return this instanceof St?(this.v=r,this):new St(r)},Ar=function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(r,n||[]),a,s=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(v){o[v]&&(a[v]=function(y){return new Promise(function(E,N){s.push([v,y,E,N])>1||c(v,y)})})}function c(v,y){try{p(o[v](y))}catch(E){h(s[0][3],E)}}function p(v){v.value instanceof St?Promise.resolve(v.value.v).then(l,m):h(s[0][2],v)}function l(v){c("next",v)}function m(v){c("throw",v)}function h(v,y){v(y),s.shift(),s.length&&c(s[0][0],s[0][1])}},Mr=function(r){var n,i;return n={},o("next"),o("throw",function(a){throw a}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(a,s){n[a]=r[a]?function(u){return(i=!i)?{value:St(r[a](u)),done:a==="return"}:s?s(u):u}:s}},Pr=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof Qt=="function"?Qt(r):r[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(s){i[s]=r[s]&&function(u){return new Promise(function(c,p){u=r[s](u),a(c,p,u.done,u.value)})}}function a(s,u,c,p){Promise.resolve(p).then(function(l){s({value:l,done:c})},u)}},Dr=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},jr=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},Fr=function(r){return r&&r.__esModule?r:{default:r}},Hr=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},Ur=function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},e("__extends",Er),e("__assign",Sr),e("__rest",xr),e("__decorate",Tr),e("__param",wr),e("__metadata",Or),e("__awaiter",Ir),e("__generator",Rr),e("__exportStar",kr),e("__createBinding",Lr),e("__values",Qt),e("__read",Ce),e("__spread",Cr),e("__spreadArrays",Nr),e("__await",St),e("__asyncGenerator",Ar),e("__asyncDelegator",Mr),e("__asyncValues",Pr),e("__makeTemplateObject",Dr),e("__importStar",jr),e("__importDefault",Fr),e("__classPrivateFieldGet",Hr),e("__classPrivateFieldSet",Ur)})});var qr=di(Br()),{__extends:M,__assign:f,__rest:te,__decorate:ea,__param:ra,__metadata:na,__awaiter:ia,__generator:oa,__exportStar:aa,__createBinding:sa,__values:U,__read:ee,__spread:g,__spreadArrays:ua,__await:ca,__asyncGenerator:fa,__asyncDelegator:pa,__asyncValues:la,__makeTemplateObject:da,__importStar:ma,__importDefault:ha,__classPrivateFieldGet:va,__classPrivateFieldSet:ga}=qr.default;var F;(function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"})(F||(F={}));var Ne;(function(e){e.Ok="ok",e.Errored="errored",e.Crashed="crashed"})(Ne||(Ne={}));var P;(function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"})(P||(P={}));(function(e){function t(r){switch(r){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}e.fromString=t})(P||(P={}));var Y;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"})(Y||(Y={}));(function(e){function t(r){return r>=200&&r<300?e.Success:r===429?e.RateLimit:r>=400&&r<500?e.Invalid:r>=500?e.Failed:e.Unknown}e.fromHttpCode=t})(Y||(Y={}));var it;(function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"})(it||(it={}));function re(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return D(e,Error)}}function ne(e){return Object.prototype.toString.call(e)==="[object ErrorEvent]"}function Ae(e){return Object.prototype.toString.call(e)==="[object DOMError]"}function Gr(e){return Object.prototype.toString.call(e)==="[object DOMException]"}function z(e){return Object.prototype.toString.call(e)==="[object String]"}function pt(e){return e===null||typeof e!="object"&&typeof e!="function"}function K(e){return Object.prototype.toString.call(e)==="[object Object]"}function xt(e){return typeof Event!="undefined"&&D(e,Event)}function Me(e){return typeof Element!="undefined"&&D(e,Element)}function Vr(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function $(e){return Boolean(e&&e.then&&typeof e.then=="function")}function Wr(e){return K(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function D(e,t){try{return e instanceof t}catch(r){return!1}}function Z(e,t){try{for(var r=e,n=5,i=80,o=[],a=0,s=0,u=" > ",c=u.length,p=void 0;r&&a++<n&&(p=mi(r,t),!(p==="html"||a>1&&s+o.length*c+p.length>=i));)o.push(p),s+=p.length,r=r.parentNode;return o.reverse().join(u)}catch(l){return"<unknown>"}}function mi(e,t){var r,n,i=e,o=[],a,s,u,c,p;if(!i||!i.tagName)return"";o.push(i.tagName.toLowerCase());var l=((r=t)===null||r===void 0?void 0:r.length)?t.filter(function(h){return i.getAttribute(h)}).map(function(h){return[h,i.getAttribute(h)]}):null;if((n=l)===null||n===void 0?void 0:n.length)l.forEach(function(h){o.push("["+h[0]+'="'+h[1]+'"]')});else if(i.id&&o.push("#"+i.id),a=i.className,a&&z(a))for(s=a.split(/\s+/),p=0;p<s.length;p++)o.push("."+s[p]);var m=["type","name","title","alt"];for(p=0;p<m.length;p++)u=m[p],c=i.getAttribute(u),c&&o.push("["+u+'="'+c+'"]');return o.join("")}var Yr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?hi:vi);function hi(e,t){return e.__proto__=t,e}function vi(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e}var T=function(e){M(t,e);function t(r){var n=this.constructor,i=e.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,Yr(i,n.prototype),i}return t}(Error);var gi=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Dt="Invalid Dsn",ie=function(){function e(t){typeof t=="string"?this._fromString(t):this._fromComponents(t),this._validate()}return e.prototype.toString=function(t){t===void 0&&(t=!1);var r=this,n=r.host,i=r.path,o=r.pass,a=r.port,s=r.projectId,u=r.protocol,c=r.publicKey;return u+"://"+c+(t&&o?":"+o:"")+("@"+n+(a?":"+a:"")+"/"+(i&&i+"/")+s)},e.prototype._fromString=function(t){var r=gi.exec(t);if(!r)throw new T(Dt);var n=ee(r.slice(1),6),i=n[0],o=n[1],a=n[2],s=a===void 0?"":a,u=n[3],c=n[4],p=c===void 0?"":c,l=n[5],m="",h=l,v=h.split("/");if(v.length>1&&(m=v.slice(0,-1).join("/"),h=v.pop()),h){var y=h.match(/^\d+/);y&&(h=y[0])}this._fromComponents({host:u,pass:s,path:m,projectId:h,port:p,protocol:i,publicKey:o})},e.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},e.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!t[r])throw new T(Dt+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new T(Dt+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new T(Dt+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new T(Dt+": Invalid port "+this.port)},e}();function X(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function J(e,t){return e.require(t)}function ot(e){var t;try{t=J(module,e)}catch(n){}try{var r=J(module,"process").cwd;t=J(module,r()+"/node_modules/"+e)}catch(n){}return t}function lt(e,t){return t===void 0&&(t=0),typeof e!="string"||t===0||e.length<=t?e:e.substr(0,t)+"..."}function Pe(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var i=e[n];try{r.push(String(i))}catch(o){r.push("[value cannot be serialized]")}}return r.join(t)}function dt(e,t){return z(e)?Vr(t)?t.test(e):typeof t=="string"?e.indexOf(t)!==-1:!1:!1}var _i={};function _(){return X()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:_i}function H(){var e=_(),t=e.crypto||e.msCrypto;if(t!==void 0&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=function(i){for(var o=i.toString(16);o.length<4;)o="0"+o;return o};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var o=Math.random()*16|0,a=i==="x"?o:o&3|8;return a.toString(16)})}function oe(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}function tt(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function Tt(e){var t=_(),r=["debug","info","warn","error","log","assert"];if(!("console"in t))return e();var n=t.console,i={};r.forEach(function(a){a in t.console&&n[a].__sentry_original__&&(i[a]=n[a],n[a]=n[a].__sentry_original__)});var o=e();return Object.keys(i).forEach(function(a){n[a]=i[a]}),o}function jt(e,t,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||r||"Error"}function et(e,t){t===void 0&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach(function(r){e.exception.values[0].mechanism[r]=t[r]})}catch(r){}}function zr(){try{return document.location.href}catch(e){return""}}var Kr=60*1e3;function $r(e,t){if(!t)return Kr;var r=parseInt(""+t,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+t);return isNaN(n)?Kr:n-e}var mt=_(),De="Sentry Logger ",yi=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Tt(function(){mt.console.log(De+"[Log]: "+t.join(" "))})},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Tt(function(){mt.console.warn(De+"[Warn]: "+t.join(" "))})},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Tt(function(){mt.console.error(De+"[Error]: "+t.join(" "))})},e}();mt.__SENTRY__=mt.__SENTRY__||{};var d=mt.__SENTRY__.logger||(mt.__SENTRY__.logger=new yi);var Xr=function(){function e(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(t){if(this._hasWeakSet)return this._inner.has(t)?!0:(this._inner.add(t),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===t)return!0}return this._inner.push(t),!1},e.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===t){this._inner.splice(r,1);break}},e}();var je="<anonymous>";function L(e){try{return!e||typeof e!="function"?je:e.name||je}catch(t){return je}}function S(e,t,r){if(t in e){var n=e[t],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(o){}e[t]=i}}function Jr(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function Qr(e){if(re(e)){var t=e,r={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}if(xt(e)){var i=e,o={};o.type=i.type;try{o.target=Me(i.target)?Z(i.target):Object.prototype.toString.call(i.target)}catch(s){o.target="<unknown>"}try{o.currentTarget=Me(i.currentTarget)?Z(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(s){o.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&D(e,CustomEvent)&&(o.detail=i.detail);for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a]);return o}return e}function bi(e){return~-encodeURI(e).split(/%..|./).length}function Ei(e){return bi(JSON.stringify(e))}function Fe(e,t,r){t===void 0&&(t=3),r===void 0&&(r=100*1024);var n=ht(e,t);return Ei(n)>r?Fe(e,t-1,r):n}function Si(e){var t=Object.prototype.toString.call(e);if(typeof e=="string")return e;if(t==="[object Object]")return"[Object]";if(t==="[object Array]")return"[Array]";var r=Zr(e);return pt(r)?r:t}function Zr(e,t){return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":Wr(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?"[Function: "+L(e)+"]":typeof e=="symbol"?"["+String(e)+"]":typeof e=="bigint"?"[BigInt: "+String(e)+"]":e}function tn(e,t,r,n){if(r===void 0&&(r=1/0),n===void 0&&(n=new Xr),r===0)return Si(t);if(t!=null&&typeof t.toJSON=="function")return t.toJSON();var i=Zr(t,e);if(pt(i))return i;var o=Qr(t),a=Array.isArray(t)?[]:{};if(n.memoize(t))return"[Circular ~]";for(var s in o)!Object.prototype.hasOwnProperty.call(o,s)||(a[s]=tn(s,o[s],r-1,n));return n.unmemoize(t),a}function ht(e,t){try{return JSON.parse(JSON.stringify(e,function(r,n){return tn(r,n,t)}))}catch(r){return"**non-serializable**"}}function en(e,t){t===void 0&&(t=40);var r=Object.keys(Qr(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return lt(r[0],t);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length?i:lt(i,t)}return""}function B(e){var t,r;if(K(e)){var n=e,i={};try{for(var o=U(Object.keys(n)),a=o.next();!a.done;a=o.next()){var s=a.value;typeof n[s]!="undefined"&&(i[s]=B(n[s]))}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(B):e}function ae(){if(!("fetch"in _()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function se(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function rn(){if(!ae())return!1;var e=_();if(se(e.fetch))return!0;var t=!1,r=e.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=se(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){d.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}function nn(){if(!ae())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function on(){var e=_(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}var x=_(),Ft={},an={};function xi(e){if(!an[e])switch(an[e]=!0,e){case"console":Ti();break;case"dom":Mi();break;case"xhr":Ri();break;case"fetch":wi();break;case"history":ki();break;case"error":Pi();break;case"unhandledrejection":Di();break;default:d.warn("unknown instrumentation type:",e)}}function R(e){!e||typeof e.type!="string"||typeof e.callback!="function"||(Ft[e.type]=Ft[e.type]||[],Ft[e.type].push(e.callback),xi(e.type))}function q(e,t){var r,n;if(!(!e||!Ft[e]))try{for(var i=U(Ft[e]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t)}catch(s){d.error(`Error while triggering instrumentation handler.
Type: `+e+`
Name: `+L(a)+`
Error: `+s)}}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function Ti(){"console"in x&&["debug","info","warn","error","log","assert"].forEach(function(e){e in x.console&&S(x.console,e,function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];q("console",{args:r,level:e}),t&&Function.prototype.apply.call(t,x.console,r)}})})}function wi(){!rn()||S(x,"fetch",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n={args:t,fetchData:{method:Oi(t),url:Ii(t)},startTimestamp:Date.now()};return q("fetch",f({},n)),e.apply(x,t).then(function(i){return q("fetch",f(f({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw q("fetch",f(f({},n),{endTimestamp:Date.now(),error:i})),i})}})}function Oi(e){return e===void 0&&(e=[]),"Request"in x&&D(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function Ii(e){return e===void 0&&(e=[]),typeof e[0]=="string"?e[0]:"Request"in x&&D(e[0],Request)?e[0].url:String(e[0])}function Ri(){if("XMLHttpRequest"in x){var e=[],t=[],r=XMLHttpRequest.prototype;S(r,"open",function(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=this,s=i[1];a.__sentry_xhr__={method:z(i[0])?i[0].toUpperCase():i[0],url:i[1]},z(s)&&a.__sentry_xhr__.method==="POST"&&s.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var u=function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(l){}try{var c=e.indexOf(a);if(c!==-1){e.splice(c);var p=t.splice(c)[0];a.__sentry_xhr__&&p[0]!==void 0&&(a.__sentry_xhr__.body=p[0])}}catch(l){}q("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?S(a,"onreadystatechange",function(c){return function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];return u(),c.apply(a,p)}}):a.addEventListener("readystatechange",u),n.apply(a,i)}}),S(r,"send",function(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return e.push(this),t.push(i),q("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}var ue;function ki(){if(!on())return;var e=x.onpopstate;x.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=x.location.href,o=ue;if(ue=i,q("history",{from:o,to:i}),e)try{return e.apply(this,r)}catch(a){}};function t(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.length>2?n[2]:void 0;if(o){var a=ue,s=String(o);ue=s,q("history",{from:a,to:s})}return r.apply(this,n)}}S(x.history,"pushState",t),S(x.history,"replaceState",t)}var Ci=1e3,ce,fe;function Ni(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(r){}return!1}function Ai(e){if(e.type!=="keypress")return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch(r){}return!0}function sn(e,t){return t===void 0&&(t=!1),function(r){if(!(!r||fe===r)&&!Ai(r)){var n=r.type==="keypress"?"input":r.type;ce===void 0?(e({event:r,name:n,global:t}),fe=r):Ni(fe,r)&&(e({event:r,name:n,global:t}),fe=r),clearTimeout(ce),ce=x.setTimeout(function(){ce=void 0},Ci)}}}function Mi(){if("document"in x){var e=q.bind(null,"dom"),t=sn(e,!0);x.document.addEventListener("click",t,!1),x.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(r){var n=x[r]&&x[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(S(n,"addEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{var u=this,c=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},p=c[o]=c[o]||{refCount:0};if(!p.handler){var l=sn(e);p.handler=l,i.call(this,o,l,s)}p.refCount+=1}catch(m){}return i.call(this,o,a,s)}}),S(n,"removeEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{var u=this,c=u.__sentry_instrumentation_handlers__||{},p=c[o];p&&(p.refCount-=1,p.refCount<=0&&(i.call(this,o,p.handler,s),p.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete u.__sentry_instrumentation_handlers__)}catch(l){}return i.call(this,o,a,s)}}))})}}var He=null;function Pi(){He=x.onerror,x.onerror=function(e,t,r,n,i){return q("error",{column:n,error:i,line:r,msg:e,url:t}),He?He.apply(this,arguments):!1}}var Ue=null;function Di(){Ue=x.onunhandledrejection,x.onunhandledrejection=function(e){return q("unhandledrejection",e),Ue?Ue.apply(this,arguments):!0}}var rt;(function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"})(rt||(rt={}));var w=function(){function e(t){var r=this;this._state=rt.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(rt.RESOLVED,n)},this._reject=function(n){r._setResult(rt.REJECTED,n)},this._setResult=function(n,i){if(r._state===rt.PENDING){if($(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==rt.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===rt.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===rt.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e(function(r){r(t)})},e.reject=function(t){return new e(function(r,n){n(t)})},e.all=function(t){return new e(function(r,n){if(!Array.isArray(t)){n(new TypeError("Promise.all requires an array as input."));return}if(t.length===0){r([]);return}var i=t.length,o=[];t.forEach(function(a,s){e.resolve(a).then(function(u){o[s]=u,i-=1,i===0&&r(o)}).then(null,n)})})},e.prototype.then=function(t,r){var n=this;return new e(function(i,o){n._attachHandler({done:!1,onfulfilled:function(a){if(!t){i(a);return}try{i(t(a));return}catch(s){o(s);return}},onrejected:function(a){if(!r){o(a);return}try{i(r(a));return}catch(s){o(s);return}}})})},e.prototype.catch=function(t){return this.then(function(r){return r},t)},e.prototype.finally=function(t){var r=this;return new e(function(n,i){var o,a;return r.then(function(s){a=!1,o=s,t&&t()},function(s){a=!0,o=s,t&&t()}).then(function(){if(a){i(o);return}n(o)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}();var un=function(){function e(t){this._limit=t,this._buffer=[]}return e.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},e.prototype.add=function(t){var r=this;if(!this.isReady())return w.reject(new T("Not adding Promise due to buffer limit reached."));var n=t();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},e.prototype.remove=function(t){var r=this._buffer.splice(this._buffer.indexOf(t),1)[0];return r},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(t){var r=this;return new w(function(n){var i=setTimeout(function(){t&&t>0&&n(!1)},t);w.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},e}();var Le={nowSeconds:function(){return Date.now()/1e3}};function ji(){var e=_().performance;if(!(!e||!e.now)){var t=Date.now()-e.now();return{now:function(){return e.now()},timeOrigin:t}}}function Fi(){try{var e=J(module,"perf_hooks");return e.performance}catch(t){return}}var Be=X()?Fi():ji(),cn=Be===void 0?Le:{nowSeconds:function(){return(Be.timeOrigin+Be.now())/1e3}},wt=Le.nowSeconds.bind(Le),pe=cn.nowSeconds.bind(cn),vt=pe;var le,Ot=function(){var e=_().performance;if(!e||!e.now){le="none";return}var t=3600*1e3,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,o=i<t,a=e.timing&&e.timing.navigationStart,s=typeof a=="number",u=s?Math.abs(a+r-n):t,c=u<t;return o||c?i<=u?(le="timeOrigin",e.timeOrigin):(le="navigationStart",a):(le="dateNow",n)}();var fn=100,nt=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=g(t._breadcrumbs),r._tags=f({},t._tags),r._extra=f({},t._extra),r._contexts=f({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=g(t._eventProcessors),r._requestSession=t._requestSession),r},e.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},e.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},e.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(t){return this._requestSession=t,this},e.prototype.setTags=function(t){return this._tags=f(f({},this._tags),t),this._notifyScopeListeners(),this},e.prototype.setTag=function(t,r){var n;return this._tags=f(f({},this._tags),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(t){return this._extra=f(f({},this._extra),t),this._notifyScopeListeners(),this},e.prototype.setExtra=function(t,r){var n;return this._extra=f(f({},this._extra),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},e.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(t){return this.setTransactionName(t)},e.prototype.setContext=function(t,r){var n;return r===null?delete this._contexts[t]:this._contexts=f(f({},this._contexts),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var t,r,n,i,o=this.getSpan();if((t=o)===null||t===void 0?void 0:t.transaction)return(r=o)===null||r===void 0?void 0:r.transaction;if((i=(n=o)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return o.spanRecorder.spans[0]},e.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if(typeof t=="function"){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=f(f({},this._tags),t._tags),this._extra=f(f({},this._extra),t._extra),this._contexts=f(f({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):K(t)&&(t=t,this._tags=f(f({},this._tags),t.tags),this._extra=f(f({},this._extra),t.extra),this._contexts=f(f({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(t,r){var n=typeof r=="number"?Math.min(r,fn):fn;if(n<=0)return this;var i=f({timestamp:wt()},t);return this._breadcrumbs=g(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(t,r){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=f(f({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=f(f({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=f(f({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=f(f({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=f({trace:this._span.getTraceContext()},t.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(t.tags=f({transaction:i},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=g(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(g(pn(),this._eventProcessors),t,r)},e.prototype._notifyEventProcessors=function(t,r,n,i){var o=this;return i===void 0&&(i=0),new w(function(a,s){var u=t[i];if(r===null||typeof u!="function")a(r);else{var c=u(f({},r),n);$(c)?c.then(function(p){return o._notifyEventProcessors(t,p,n,i+1).then(a)}).then(null,s):o._notifyEventProcessors(t,c,n,i+1).then(a).then(null,s)}})},e.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(t)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},e}();function pn(){var e=_();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function G(e){pn().push(e)}var ln=function(){function e(t){this.errors=0,this.sid=H(),this.duration=0,this.status=F.Ok,this.init=!0,this.ignoreDuration=!1;var r=pe();this.timestamp=r,this.started=r,t&&this.update(t)}return e.prototype.update=function(t){if(t===void 0&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),!this.did&&!t.did&&(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||pe(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=t.sid.length===32?t.sid:H()),t.init!==void 0&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),typeof t.started=="number"&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if(typeof t.duration=="number")this.duration=t.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),typeof t.errors=="number"&&(this.errors=t.errors),t.status&&(this.status=t.status)},e.prototype.close=function(t){t?this.update({status:t}):this.status===F.Ok?this.update({status:F.Exited}):this.update()},e.prototype.toJSON=function(){return B({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:B({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}();var qe=4,Hi=100,at=function(){function e(t,r,n){r===void 0&&(r=new nt),n===void 0&&(n=qe),this._version=n,this._stack=[{}],this.getStackTop().scope=r,t&&this.bindClient(t)}return e.prototype.isOlderThan=function(t){return this._version<t},e.prototype.bindClient=function(t){var r=this.getStackTop();r.client=t,t&&t.setupIntegrations&&t.setupIntegrations()},e.prototype.pushScope=function(){var t=nt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},e.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},e.prototype.withScope=function(t){var r=this.pushScope();try{t(r)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(t,r){var n=this._lastEventId=H(),i=r;if(!r){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(a){o=a}i={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,f(f({},i),{event_id:n})),n},e.prototype.captureMessage=function(t,r,n){var i=this._lastEventId=H(),o=n;if(!n){var a=void 0;try{throw new Error(t)}catch(s){a=s}o={originalException:t,syntheticException:a}}return this._invokeClient("captureMessage",t,r,f(f({},o),{event_id:i})),i},e.prototype.captureEvent=function(t,r){var n=this._lastEventId=H();return this._invokeClient("captureEvent",t,f(f({},r),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(t,r){var n=this.getStackTop(),i=n.scope,o=n.client;if(!(!i||!o)){var a=o.getOptions&&o.getOptions()||{},s=a.beforeBreadcrumb,u=s===void 0?null:s,c=a.maxBreadcrumbs,p=c===void 0?Hi:c;if(!(p<=0)){var l=wt(),m=f({timestamp:l},t),h=u?Tt(function(){return u(m,r)}):m;h!==null&&i.addBreadcrumb(h,p)}}},e.prototype.setUser=function(t){var r=this.getScope();r&&r.setUser(t)},e.prototype.setTags=function(t){var r=this.getScope();r&&r.setTags(t)},e.prototype.setExtras=function(t){var r=this.getScope();r&&r.setExtras(t)},e.prototype.setTag=function(t,r){var n=this.getScope();n&&n.setTag(t,r)},e.prototype.setExtra=function(t,r){var n=this.getScope();n&&n.setExtra(t,r)},e.prototype.setContext=function(t,r){var n=this.getScope();n&&n.setContext(t,r)},e.prototype.configureScope=function(t){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&t(n)},e.prototype.run=function(t){var r=Ht(this);try{t(this)}finally{Ht(r)}},e.prototype.getIntegration=function(t){var r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return d.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},e.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},e.prototype.startTransaction=function(t,r){return this._callExtensionMethod("startTransaction",t,r)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(t){if(t===void 0&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var t,r,n,i,o;(n=(r=(t=this.getStackTop())===null||t===void 0?void 0:t.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(o=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||o===void 0||o.setSession()},e.prototype.startSession=function(t){var r=this.getStackTop(),n=r.scope,i=r.client,o=i&&i.getOptions()||{},a=o.release,s=o.environment,u=_(),c=(u.navigator||{}).userAgent,p=new ln(f(f(f({release:a,environment:s},n&&{user:n.getUser()}),c&&{userAgent:c}),t));if(n){var l=n.getSession&&n.getSession();l&&l.status===F.Ok&&l.update({status:F.Exited}),this.endSession(),n.setSession(p)}return p},e.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),r=t.scope,n=t.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},e.prototype._invokeClient=function(t){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[t]&&(r=s)[t].apply(r,g(n,[a]))},e.prototype._callExtensionMethod=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=st(),o=i.__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,r);d.warn("Extension method "+t+" couldn't be found, doing nothing.")},e}();function st(){var e=_();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function Ht(e){var t=st(),r=V(t);return de(t,e),r}function b(){var e=st();return(!dn(e)||V(e).isOlderThan(qe))&&de(e,new at),X()?Ui(e):V(e)}function Ui(e){var t,r,n;try{var i=(n=(r=(t=st().__SENTRY__)===null||t===void 0?void 0:t.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return V(e);if(!dn(i)||V(i).isOlderThan(qe)){var o=V(e).getStackTop();de(i,new at(o.client,nt.clone(o.scope)))}return V(i)}catch(a){return V(e)}}function dn(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function V(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new at),e.__SENTRY__.hub}function de(e,t){return e?(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0):!1}function Ge(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=b();if(n&&n[e])return n[e].apply(n,g(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function gt(e,t){var r;try{throw new Error("Sentry syntheticException")}catch(n){r=n}return Ge("captureException",e,{captureContext:t,originalException:e,syntheticException:r})}function me(e){Ge("withScope",e)}function he(e,t){return Ge("startTransaction",f({},e),t)}var mn="7",Ut=function(){function e(t,r,n){r===void 0&&(r={}),this.dsn=t,this._dsnObject=new ie(t),this.metadata=r,this._tunnel=n}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){var t=this.getDsn(),r=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return r+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var t=this.getDsn();return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},e.prototype.getRequestHeaders=function(t,r){var n=this.getDsn(),i=["Sentry sentry_version="+mn];return i.push("sentry_client="+t+"/"+r),i.push("sentry_key="+n.publicKey),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},e.prototype.getReportDialogEndpoint=function(t){t===void 0&&(t={});var r=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+r.toString());for(var o in t)if(o!=="dsn")if(o==="user"){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return i.length?n+"?"+i.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(t){if(this._tunnel)return this._tunnel;var r=this.getBaseApiEndpoint(),n=this.getDsn();return""+r+n.projectId+"/"+t+"/"},e.prototype._encodedAuth=function(){var t=this.getDsn(),r={sentry_key:t.publicKey,sentry_version:mn};return Jr(r)},e}();var hn=[];function vn(e){return e.reduce(function(t,r){return t.every(function(n){return r.name!==n.name})&&t.push(r),t},[])}function Li(e){var t=e.defaultIntegrations&&g(e.defaultIntegrations)||[],r=e.integrations,n=g(vn(t));Array.isArray(r)?n=g(n.filter(function(a){return r.every(function(s){return s.name!==a.name})}),vn(r)):typeof r=="function"&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(a){return a.name}),o="Debug";return i.indexOf(o)!==-1&&n.push.apply(n,g(n.splice(i.indexOf(o),1))),n}function Bi(e){hn.indexOf(e.name)===-1&&(e.setupOnce(G,b),hn.push(e.name),d.log("Integration installed: "+e.name))}function gn(e){var t={};return Li(e).forEach(function(r){t[r.name]=r,Bi(r)}),Object.defineProperty(t,"initialized",{value:!0}),t}var Ve=function(){function e(t,r){this._integrations={},this._numProcessing=0,this._backend=new t(r),this._options=r,r.dsn&&(this._dsn=new ie(r.dsn))}return e.prototype.captureException=function(t,r,n){var i=this,o=r&&r.event_id;return this._process(this._getBackend().eventFromException(t,r).then(function(a){return i._captureEvent(a,r,n)}).then(function(a){o=a})),o},e.prototype.captureMessage=function(t,r,n,i){var o=this,a=n&&n.event_id,s=pt(t)?this._getBackend().eventFromMessage(String(t),r,n):this._getBackend().eventFromException(t,n);return this._process(s.then(function(u){return o._captureEvent(u,n,i)}).then(function(u){a=u})),a},e.prototype.captureEvent=function(t,r,n){var i=r&&r.event_id;return this._process(this._captureEvent(t,r,n).then(function(o){i=o})),i},e.prototype.captureSession=function(t){if(!this._isEnabled()){d.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?d.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1}))},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(t){var r=this;return this._isClientDoneProcessing(t).then(function(n){return r._getBackend().getTransport().close(t).then(function(i){return n&&i})})},e.prototype.close=function(t){var r=this;return this.flush(t).then(function(n){return r.getOptions().enabled=!1,n})},e.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=gn(this._options))},e.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(r){return d.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(t,r){var n,i,o=!1,a=!1,s=r.exception&&r.exception.values;if(s){a=!0;try{for(var u=U(s),c=u.next();!c.done;c=u.next()){var p=c.value,l=p.mechanism;if(l&&l.handled===!1){o=!0;break}}}catch(v){n={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}var m=t.status===F.Ok,h=m&&t.errors===0||m&&o;h&&(t.update(f(f({},o&&{status:F.Crashed}),{errors:t.errors||Number(a||o)})),this.captureSession(t))},e.prototype._sendSession=function(t){this._getBackend().sendSession(t)},e.prototype._isClientDoneProcessing=function(t){var r=this;return new w(function(n){var i=0,o=1,a=setInterval(function(){r._numProcessing==0?(clearInterval(a),n(!0)):(i+=o,t&&i>=t&&(clearInterval(a),n(!1)))},o)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},e.prototype._prepareEvent=function(t,r,n){var i=this,o=this.getOptions().normalizeDepth,a=o===void 0?3:o,s=f(f({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:H()),timestamp:t.timestamp||wt()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var u=r;n&&n.captureContext&&(u=nt.clone(u).update(n.captureContext));var c=w.resolve(s);return u&&(c=u.applyToEvent(s,n)),c.then(function(p){return typeof a=="number"&&a>0?i._normalizeEvent(p,a):p})},e.prototype._normalizeEvent=function(t,r){if(!t)return null;var n=f(f(f(f(f({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(a){return f(f({},a),a.data&&{data:ht(a.data,r)})})}),t.user&&{user:ht(t.user,r)}),t.contexts&&{contexts:ht(t.contexts,r)}),t.extra&&{extra:ht(t.extra,r)});t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace);var i=this.getOptions()._experiments,o=i===void 0?{}:i;return o.ensureNoCircularStructures?ht(n):n},e.prototype._applyClientOptions=function(t){var r=this.getOptions(),n=r.environment,i=r.release,o=r.dist,a=r.maxValueLength,s=a===void 0?250:a;"environment"in t||(t.environment="environment"in r?n:"production"),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&o!==void 0&&(t.dist=o),t.message&&(t.message=lt(t.message,s));var u=t.exception&&t.exception.values&&t.exception.values[0];u&&u.value&&(u.value=lt(u.value,s));var c=t.request;c&&c.url&&(c.url=lt(c.url,s))},e.prototype._applyIntegrationsMetadata=function(t){var r=Object.keys(this._integrations);r.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=g(t.sdk.integrations||[],r))},e.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},e.prototype._captureEvent=function(t,r,n){return this._processEvent(t,r,n).then(function(i){return i.event_id},function(i){d.error(i)})},e.prototype._processEvent=function(t,r,n){var i=this,o=this.getOptions(),a=o.beforeSend,s=o.sampleRate;if(!this._isEnabled())return w.reject(new T("SDK not enabled, will not capture event."));var u=t.type==="transaction";return!u&&typeof s=="number"&&Math.random()>s?w.reject(new T("Discarding event because it's not included in the random sample (sampling rate = "+s+")")):this._prepareEvent(t,n,r).then(function(c){if(c===null)throw new T("An event processor returned null, will not send event.");var p=r&&r.data&&r.data.__sentry__===!0;if(p||u||!a)return c;var l=a(c,r);return i._ensureBeforeSendRv(l)}).then(function(c){if(c===null)throw new T("`beforeSend` returned `null`, will not send event.");var p=n&&n.getSession&&n.getSession();return!u&&p&&i._updateSessionFromEvent(p,c),i._sendEvent(c),c}).then(null,function(c){throw c instanceof T?c:(i.captureException(c,{data:{__sentry__:!0},originalException:c}),new T(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+c))})},e.prototype._process=function(t){var r=this;this._numProcessing+=1,t.then(function(n){return r._numProcessing-=1,n},function(n){return r._numProcessing-=1,n})},e.prototype._ensureBeforeSendRv=function(t){var r="`beforeSend` method has to return `null` or a valid event.";if($(t))return t.then(function(n){if(!(K(n)||n===null))throw new T(r);return n},function(n){throw new T("beforeSend rejected with "+n)});if(!(K(t)||t===null))throw new T(r);return t},e}();var _n=function(){function e(){}return e.prototype.sendEvent=function(t){return w.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Y.Skipped})},e.prototype.close=function(t){return w.resolve(!0)},e}();var We=function(){function e(t){this._options=t,this._options.dsn||d.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(t,r){throw new T("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(t,r,n){throw new T("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(r){d.error("Error while sending event: "+r)})},e.prototype.sendSession=function(t){if(!this._transport.sendSession){d.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(t).then(null,function(r){d.error("Error while sending session: "+r)})},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new _n},e}();function yn(e){if(!(!e.metadata||!e.metadata.sdk)){var t=e.metadata.sdk,r=t.name,n=t.version;return{name:r,version:n}}}function qi(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=g(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=g(e.sdk.packages||[],t.packages||[])),e}function Lt(e,t){var r=yn(t),n=JSON.stringify(f(f({sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),i="aggregates"in e?"sessions":"session",o=JSON.stringify({type:i});return{body:n+`
`+o+`
`+JSON.stringify(e),type:i,url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function Bt(e,t){var r=yn(t),n=e.type||"event",i=n==="transaction"||t.forceEnvelope(),o=e.debug_meta||{},a=o.transactionSampling,s=te(o,["transactionSampling"]),u=a||{},c=u.method,p=u.rate;Object.keys(s).length===0?delete e.debug_meta:e.debug_meta=s;var l={body:JSON.stringify(r?qi(e,t.metadata.sdk):e),type:n,url:i?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(i){var m=JSON.stringify(f(f({event_id:e.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),h=JSON.stringify({type:n,sample_rates:[{id:c,rate:p}]}),v=m+`
`+h+`
`+l.body;l.body=v}return l}function Ye(e,t){var r;t.debug===!0&&d.enable();var n=b();(r=n.getScope())===null||r===void 0||r.update(t.initialScope);var i=new e(t);n.bindClient(i)}var qt="6.12.0";var Gt={};br(Gt,{FunctionToString:()=>En,InboundFilters:()=>Sn});var bn,En=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){bn=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.__sentry_original__||this;return bn.apply(n,t)}},e.id="FunctionToString",e}();var Gi=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Sn=function(){function e(t){t===void 0&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){G(function(t){var r=b();if(!r)return t;var n=r.getIntegration(e);if(n){var i=r.getClient(),o=i?i.getOptions():{},a=typeof n._mergeOptions=="function"?n._mergeOptions(o):{};return typeof n._shouldDropEvent!="function"?t:n._shouldDropEvent(t,a)?null:t}return t})},e.prototype._shouldDropEvent=function(t,r){return this._isSentryError(t,r)?(d.warn(`Event dropped due to being internal Sentry Error.
Event: `+tt(t)),!0):this._isIgnoredError(t,r)?(d.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+tt(t)),!0):this._isDeniedUrl(t,r)?(d.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+tt(t)+`.
Url: `+this._getEventFilterUrl(t)),!0):this._isAllowedUrl(t,r)?!1:(d.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+tt(t)+`.
Url: `+this._getEventFilterUrl(t)),!0)},e.prototype._isSentryError=function(t,r){if(!r.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].type==="SentryError"||!1}catch(n){return!1}},e.prototype._isIgnoredError=function(t,r){return!r.ignoreErrors||!r.ignoreErrors.length?!1:this._getPossibleEventMessages(t).some(function(n){return r.ignoreErrors.some(function(i){return dt(n,i)})})},e.prototype._isDeniedUrl=function(t,r){if(!r.denyUrls||!r.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return n?r.denyUrls.some(function(i){return dt(n,i)}):!1},e.prototype._isAllowedUrl=function(t,r){if(!r.allowUrls||!r.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return n?r.allowUrls.some(function(i){return dt(n,i)}):!0},e.prototype._mergeOptions=function(t){return t===void 0&&(t={}),{allowUrls:g(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:g(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:g(this._options.ignoreErrors||[],t.ignoreErrors||[],Gi),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},e.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var r=t.exception.values&&t.exception.values[0]||{},n=r.type,i=n===void 0?"":n,o=r.value,a=o===void 0?"":o;return[""+a,i+": "+a]}catch(s){return d.error("Cannot extract message for event "+tt(t)),[]}return[]},e.prototype._getLastValidUrl=function(t){t===void 0&&(t=[]);for(var r,n,i=t.length-1;i>=0;i--){var o=t[i];if(((r=o)===null||r===void 0?void 0:r.filename)!=="<anonymous>"&&((n=o)===null||n===void 0?void 0:n.filename)!=="[native code]")return o.filename||null}return null},e.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var r=t.stacktrace.frames;return this._getLastValidUrl(r)}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return this._getLastValidUrl(n)}return null}catch(i){return d.error("Cannot extract url for event "+tt(t)),null}},e.id="InboundFilters",e}();var It="?",to=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,eo=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ro=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,no=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,io=/\((\S*)(?::(\d+))(?::(\d+))\)/,oo=/Minified React error #\d+;/i;function ut(e){var t=null,r=0;e&&(typeof e.framesToPop=="number"?r=e.framesToPop:oo.test(e.message)&&(r=1));try{if(t=so(e),t)return xn(t,r)}catch(n){}try{if(t=ao(e),t)return xn(t,r)}catch(n){}return{message:ze(e),name:e&&e.name,stack:[],failed:!0}}function ao(e){if(!e||!e.stack)return null;for(var t=[],r=e.stack.split(`
`),n,i,o,a,s=0;s<r.length;++s){if(o=to.exec(r[s])){var u=o[2]&&o[2].indexOf("native")===0;n=o[2]&&o[2].indexOf("eval")===0,n&&(i=io.exec(o[2]))&&(o[2]=i[1],o[3]=i[2],o[4]=i[3]);var c=o[2]&&o[2].indexOf("address at ")===0?o[2].substr("address at ".length):o[2],p=o[1]||It,l=p.indexOf("safari-extension")!==-1,m=p.indexOf("safari-web-extension")!==-1;(l||m)&&(p=p.indexOf("@")!==-1?p.split("@")[0]:It,c=l?"safari-extension:"+c:"safari-web-extension:"+c),a={url:c,func:p,args:u?[o[2]]:[],line:o[3]?+o[3]:null,column:o[4]?+o[4]:null}}else if(o=ro.exec(r[s]))a={url:o[2],func:o[1]||It,args:[],line:+o[3],column:o[4]?+o[4]:null};else if(o=eo.exec(r[s]))n=o[3]&&o[3].indexOf(" > eval")>-1,n&&(i=no.exec(o[3]))?(o[1]=o[1]||"eval",o[3]=i[1],o[4]=i[2],o[5]=""):s===0&&!o[5]&&e.columnNumber!==void 0&&(t[0].column=e.columnNumber+1),a={url:o[3],func:o[1]||It,args:o[2]?o[2].split(","):[],line:o[4]?+o[4]:null,column:o[5]?+o[5]:null};else continue;!a.func&&a.line&&(a.func=It),t.push(a)}return t.length?{message:ze(e),name:e.name,stack:t}:null}function so(e){if(!e||!e.stacktrace)return null;for(var t=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,n=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.split(`
`),o=[],a,s=0;s<i.length;s+=2){var u=null;(a=r.exec(i[s]))?u={url:a[2],func:a[3],args:[],line:+a[1],column:null}:(a=n.exec(i[s]))&&(u={url:a[6],func:a[3]||a[4],args:a[5]?a[5].split(","):[],line:+a[1],column:+a[2]}),u&&(!u.func&&u.line&&(u.func=It),o.push(u))}return o.length?{message:ze(e),name:e.name,stack:o}:null}function xn(e,t){try{return f(f({},e),{stack:e.stack.slice(t)})}catch(r){return e}}function ze(e){var t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}var uo=50;function Ke(e){var t=ve(e.stack),r={type:e.name,value:e.message};return t&&t.length&&(r.stacktrace={frames:t}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Tn(e,t,r){var n={exception:{values:[{type:xt(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+en(e)}]},extra:{__serialized__:Fe(e)}};if(t){var i=ut(t),o=ve(i.stack);n.stacktrace={frames:o}}return n}function $e(e){var t=Ke(e);return{exception:{values:[t]}}}function ve(e){if(!e||!e.length)return[];var t=e,r=t[0].func||"",n=t[t.length-1].func||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(t=t.slice(1)),n.indexOf("sentryWrapped")!==-1&&(t=t.slice(0,-1)),t.slice(0,uo).map(function(i){return{colno:i.column===null?void 0:i.column,filename:i.url||t[0].url,function:i.func||"?",in_app:!0,lineno:i.line===null?void 0:i.line}}).reverse()}function wn(e,t,r){var n=r&&r.syntheticException||void 0,i=ge(t,n,{attachStacktrace:e.attachStacktrace});return et(i,{handled:!0,type:"generic"}),i.level=P.Error,r&&r.event_id&&(i.event_id=r.event_id),w.resolve(i)}function On(e,t,r,n){r===void 0&&(r=P.Info);var i=n&&n.syntheticException||void 0,o=Xe(t,i,{attachStacktrace:e.attachStacktrace});return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),w.resolve(o)}function ge(e,t,r){r===void 0&&(r={});var n;if(ne(e)&&e.error){var i=e;return e=i.error,n=$e(ut(e)),n}if(Ae(e)||Gr(e)){var o=e,a=o.name||(Ae(o)?"DOMError":"DOMException"),s=o.message?a+": "+o.message:a;return n=Xe(s,t,r),jt(n,s),"code"in o&&(n.tags=f(f({},n.tags),{"DOMException.code":""+o.code})),n}if(re(e))return n=$e(ut(e)),n;if(K(e)||xt(e)){var u=e;return n=Tn(u,t,r.rejection),et(n,{synthetic:!0}),n}return n=Xe(e,t,r),jt(n,""+e,void 0),et(n,{synthetic:!0}),n}function Xe(e,t,r){r===void 0&&(r={});var n={message:e};if(r.attachStacktrace&&t){var i=ut(t),o=ve(i.stack);n.stacktrace={frames:o}}return n}var co={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},_e=function(){function e(t){this.options=t,this._buffer=new un(30),this._rateLimits={},this._api=new Ut(t.dsn,t._metadata,t.tunnel),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(t){throw new T("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(t){return this._buffer.drain(t)},e.prototype._handleResponse=function(t){var r=t.requestType,n=t.response,i=t.headers,o=t.resolve,a=t.reject,s=Y.fromHttpCode(n.status),u=this._handleRateLimit(i);if(u&&d.warn("Too many "+r+" requests, backing off until: "+this._disabledUntil(r)),s===Y.Success){o({status:s});return}a(n)},e.prototype._disabledUntil=function(t){var r=co[t];return this._rateLimits[r]||this._rateLimits.all},e.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},e.prototype._handleRateLimit=function(t){var r,n,i,o,a=Date.now(),s=t["x-sentry-rate-limits"],u=t["retry-after"];if(s){try{for(var c=U(s.trim().split(",")),p=c.next();!p.done;p=c.next()){var l=p.value,m=l.split(":",2),h=parseInt(m[0],10),v=(isNaN(h)?60:h)*1e3;try{for(var y=(i=void 0,U(m[1].split(";"))),E=y.next();!E.done;E=y.next()){var N=E.value;this._rateLimits[N||"all"]=new Date(a+v)}}catch(I){i={error:I}}finally{try{E&&!E.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}}}catch(I){r={error:I}}finally{try{p&&!p.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return!0}else if(u)return this._rateLimits.all=new Date(a+$r(a,u)),!0;return!1},e}();function fo(){var e,t,r=_();if(se(r.fetch))return r.fetch.bind(r);var n=r.document,i=r.fetch;if(typeof((e=n)===null||e===void 0?void 0:e.createElement)=="function")try{var o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o),((t=o.contentWindow)===null||t===void 0?void 0:t.fetch)&&(i=o.contentWindow.fetch),n.head.removeChild(o)}catch(a){d.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return i.bind(r)}var Je=function(e){M(t,e);function t(r,n){n===void 0&&(n=fo());var i=e.call(this,r)||this;return i._fetch=n,i}return t.prototype.sendEvent=function(r){return this._sendRequest(Bt(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(Lt(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;if(this._isRateLimited(r.type))return Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429});var o={body:r.body,method:"POST",referrerPolicy:nn()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(o,this.options.fetchParameters),this.options.headers!==void 0&&(o.headers=this.options.headers),this._buffer.add(function(){return new w(function(a,s){i._fetch(r.url,o).then(function(u){var c={"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")};i._handleResponse({requestType:r.type,response:u,headers:c,resolve:a,reject:s})}).catch(s)})})},t}(_e);var Qe=function(e){M(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sendEvent=function(r){return this._sendRequest(Bt(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(Lt(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;return this._isRateLimited(r.type)?Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429}):this._buffer.add(function(){return new w(function(o,a){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){var c={"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")};i._handleResponse({requestType:r.type,response:s,headers:c,resolve:o,reject:a})}},s.open("POST",r.url);for(var u in i.options.headers)i.options.headers.hasOwnProperty(u)&&s.setRequestHeader(u,i.options.headers[u]);s.send(r.body)})})},t}(_e);var In=function(e){M(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.eventFromException=function(r,n){return wn(this._options,r,n)},t.prototype.eventFromMessage=function(r,n,i){return n===void 0&&(n=P.Info),On(this._options,r,n,i)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var r=f(f({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(r):ae()?new Je(r):new Qe(r)},t}(We);var Ze=0;function tr(){return Ze>0}function po(){Ze+=1,setTimeout(function(){Ze-=1})}function _t(e,t,r){if(t===void 0&&(t={}),typeof e!="function")return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(a){return e}var n=function(){var a=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);var s=a.map(function(u){return _t(u,t)});return e.handleEvent?e.handleEvent.apply(this,s):e.apply(this,s)}catch(u){throw po(),me(function(c){c.addEventProcessor(function(p){var l=f({},p);return t.mechanism&&(jt(l,void 0,void 0),et(l,t.mechanism)),l.extra=f(f({},l.extra),{arguments:a}),l}),gt(u)}),u}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}catch(a){}e.prototype=e.prototype||{},n.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{var o=Object.getOwnPropertyDescriptor(n,"name");o.configurable&&Object.defineProperty(n,"name",{get:function(){return e.name}})}catch(a){}return n}function Rn(e){if(e===void 0&&(e={}),!e.eventId){d.error("Missing eventId option in showReportDialog call");return}if(!e.dsn){d.error("Missing dsn option in showReportDialog call");return}var t=document.createElement("script");t.async=!0,t.src=new Ut(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}var er=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=f({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(d.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(d.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(R({callback:function(r){var n=r.error,i=b(),o=i.getIntegration(e),a=n&&n.__sentry_own_request__===!0;if(!(!o||tr()||a)){var s=i.getClient(),u=n===void 0&&z(r.msg)?t._eventFromIncompleteOnError(r.msg,r.url,r.line,r.column):t._enhanceEventWithInitialFrame(ge(n||r.msg,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),r.url,r.line,r.column);et(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:n})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(R({callback:function(r){var n=r;try{"reason"in r?n=r.reason:"detail"in r&&"reason"in r.detail&&(n=r.detail.reason)}catch(c){}var i=b(),o=i.getIntegration(e),a=n&&n.__sentry_own_request__===!0;if(!o||tr()||a)return!0;var s=i.getClient(),u=pt(n)?t._eventFromRejectionWithPrimitive(n):ge(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=P.Error,et(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:n})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(t,r,n,i){var o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,a=ne(t)?t.message:t,s,u=a.match(o);u&&(s=u[1],a=u[2]);var c={exception:{values:[{type:s||"Error",value:a}]}};return this._enhanceEventWithInitialFrame(c,r,n,i)},e.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},e.prototype._enhanceEventWithInitialFrame=function(t,r,n,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(i,10))?void 0:i,a=isNaN(parseInt(n,10))?void 0:n,s=z(r)&&r.length>0?r:zr();return t.exception.values[0].stacktrace.frames.length===0&&t.exception.values[0].stacktrace.frames.push({colno:o,filename:s,function:"?",in_app:!0,lineno:a}),t},e.id="GlobalHandlers",e}();var lo=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],rr=function(){function e(t){this.name=e.id,this._options=f({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var t=_();if(this._options.setTimeout&&S(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&S(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&S(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&S(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget){var r=Array.isArray(this._options.eventTarget)?this._options.eventTarget:lo;r.forEach(this._wrapEventTarget.bind(this))}},e.prototype._wrapTimeFunction=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r[0];return r[0]=_t(i,{mechanism:{data:{function:L(t)},handled:!0,type:"instrument"}}),t.apply(this,r)}},e.prototype._wrapRAF=function(t){return function(r){return t.call(this,_t(r,{mechanism:{data:{function:"requestAnimationFrame",handler:L(t)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(t){var r=_(),n=r[t]&&r[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(S(n,"addEventListener",function(i){return function(o,a,s){try{typeof a.handleEvent=="function"&&(a.handleEvent=_t(a.handleEvent.bind(a),{mechanism:{data:{function:"handleEvent",handler:L(a),target:t},handled:!0,type:"instrument"}}))}catch(u){}return i.call(this,o,_t(a,{mechanism:{data:{function:"addEventListener",handler:L(a),target:t},handled:!0,type:"instrument"}}),s)}}),S(n,"removeEventListener",function(i){return function(o,a,s){var u,c=a;try{var p=(u=c)===null||u===void 0?void 0:u.__sentry_wrapped__;p&&i.call(this,o,p,s)}catch(l){}return i.call(this,o,c,s)}}))},e.prototype._wrapXHR=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach(function(a){a in i&&typeof i[a]=="function"&&S(i,a,function(s){var u={mechanism:{data:{function:a,handler:L(s)},handled:!0,type:"instrument"}};return s.__sentry_original__&&(u.mechanism.data.handler=L(s.__sentry_original__)),_t(s,u)})}),t.apply(this,r)}},e.id="TryCatch",e}();var Vt=function(){function e(t){this.name=e.id,this._options=f({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(t){!this._options.sentry||b().addBreadcrumb({category:"sentry."+(t.type==="transaction"?"transaction":"event"),event_id:t.event_id,level:t.level,message:tt(t)},{event:t})},e.prototype.setupOnce=function(){var t=this;this._options.console&&R({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._consoleBreadcrumb.apply(t,g(r))},type:"console"}),this._options.dom&&R({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._domBreadcrumb.apply(t,g(r))},type:"dom"}),this._options.xhr&&R({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._xhrBreadcrumb.apply(t,g(r))},type:"xhr"}),this._options.fetch&&R({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._fetchBreadcrumb.apply(t,g(r))},type:"fetch"}),this._options.history&&R({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._historyBreadcrumb.apply(t,g(r))},type:"history"})},e.prototype._consoleBreadcrumb=function(t){var r={category:"console",data:{arguments:t.args,logger:"console"},level:P.fromString(t.level),message:Pe(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)r.message="Assertion failed: "+(Pe(t.args.slice(1)," ")||"console.assert"),r.data.arguments=t.args.slice(1);else return;b().addBreadcrumb(r,{input:t.args,level:t.level})},e.prototype._domBreadcrumb=function(t){var r,n=typeof this._options.dom=="object"?this._options.dom.serializeAttribute:void 0;typeof n=="string"&&(n=[n]);try{r=t.event.target?Z(t.event.target,n):Z(t.event,n)}catch(i){r="<unknown>"}r.length!==0&&b().addBreadcrumb({category:"ui."+t.name,message:r},{event:t.event,name:t.name,global:t.global})},e.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var r=t.xhr.__sentry_xhr__||{},n=r.method,i=r.url,o=r.status_code,a=r.body;b().addBreadcrumb({category:"xhr",data:{method:n,url:i,status_code:o},type:"http"},{xhr:t.xhr,input:a});return}},e.prototype._fetchBreadcrumb=function(t){!t.endTimestamp||t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?b().addBreadcrumb({category:"fetch",data:t.fetchData,level:P.Error,type:"http"},{data:t.error,input:t.args}):b().addBreadcrumb({category:"fetch",data:f(f({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response}))},e.prototype._historyBreadcrumb=function(t){var r=_(),n=t.from,i=t.to,o=oe(r.location.href),a=oe(n),s=oe(i);a.path||(a=o),o.protocol===s.protocol&&o.host===s.host&&(i=s.relative),o.protocol===a.protocol&&o.host===a.host&&(n=a.relative),b().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},e.id="Breadcrumbs",e}();var mo="cause",ho=5,nr=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._key=t.key||mo,this._limit=t.limit||ho}return e.prototype.setupOnce=function(){G(function(t,r){var n=b().getIntegration(e);if(n){var i=n._handler&&n._handler.bind(n);return typeof i=="function"?i(t,r):t}return t})},e.prototype._handler=function(t,r){if(!t.exception||!t.exception.values||!r||!D(r.originalException,Error))return t;var n=this._walkErrorTree(r.originalException,this._key);return t.exception.values=g(n,t.exception.values),t},e.prototype._walkErrorTree=function(t,r,n){if(n===void 0&&(n=[]),!D(t[r],Error)||n.length+1>=this._limit)return n;var i=ut(t[r]),o=Ke(i);return this._walkErrorTree(t[r],r,g([o],n))},e.id="LinkedErrors",e}();var Rt=_(),ir=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){G(function(t){var r,n,i;if(b().getIntegration(e)){if(!Rt.navigator&&!Rt.location&&!Rt.document)return t;var o=((r=t.request)===null||r===void 0?void 0:r.url)||((n=Rt.location)===null||n===void 0?void 0:n.href),a=(Rt.document||{}).referrer,s=(Rt.navigator||{}).userAgent,u=f(f(f({},(i=t.request)===null||i===void 0?void 0:i.headers),a&&{Referer:a}),s&&{"User-Agent":s}),c=f(f({},o&&{url:o}),{headers:u});return f(f({},t),{request:c})}return t})},e.id="UserAgent",e}();var or=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){t(function(n){var i=r().getIntegration(e);if(i){try{if(i._shouldDropEvent(n,i._previousEvent))return d.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(o){return i._previousEvent=n}return i._previousEvent=n}return n})},e.prototype._shouldDropEvent=function(t,r){return r?!!(this._isSameMessageEvent(t,r)||this._isSameExceptionEvent(t,r)):!1},e.prototype._isSameMessageEvent=function(t,r){var n=t.message,i=r.message;return!(!n&&!i||n&&!i||!n&&i||n!==i||!this._isSameFingerprint(t,r)||!this._isSameStacktrace(t,r))},e.prototype._getFramesFromEvent=function(t){var r=t.exception;if(r)try{return r.values[0].stacktrace.frames}catch(n){return}else if(t.stacktrace)return t.stacktrace.frames},e.prototype._isSameStacktrace=function(t,r){var n=this._getFramesFromEvent(t),i=this._getFramesFromEvent(r);if(!n&&!i)return!0;if(n&&!i||!n&&i||(n=n,i=i,i.length!==n.length))return!1;for(var o=0;o<i.length;o++){var a=i[o],s=n[o];if(a.filename!==s.filename||a.lineno!==s.lineno||a.colno!==s.colno||a.function!==s.function)return!1}return!0},e.prototype._getExceptionFromEvent=function(t){return t.exception&&t.exception.values&&t.exception.values[0]},e.prototype._isSameExceptionEvent=function(t,r){var n=this._getExceptionFromEvent(r),i=this._getExceptionFromEvent(t);return!(!n||!i||n.type!==i.type||n.value!==i.value||!this._isSameFingerprint(t,r)||!this._isSameStacktrace(t,r))},e.prototype._isSameFingerprint=function(t,r){var n=t.fingerprint,i=r.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return n.join("")===i.join("")}catch(o){return!1}},e.id="Dedupe",e}();var kn=function(e){M(t,e);function t(r){r===void 0&&(r={});var n=this;return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:qt}],version:qt},n=e.call(this,In,r)||this,n}return t.prototype.showReportDialog=function(r){r===void 0&&(r={});var n=_().document;if(!!n){if(!this._isEnabled()){d.error("Trying to call showReportDialog with Sentry Client disabled");return}Rn(f(f({},r),{dsn:r.dsn||this.getDsn()}))}},t.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"javascript",e.prototype._prepareEvent.call(this,r,n,i)},t.prototype._sendEvent=function(r){var n=this.getIntegration(Vt);n&&n.addSentryBreadcrumb(r),e.prototype._sendEvent.call(this,r)},t}(Ve);var Cn=[new Gt.InboundFilters,new Gt.FunctionToString,new rr,new Vt,new er,new nr,new or,new ir];function ar(e){if(e===void 0&&(e={}),e.defaultIntegrations===void 0&&(e.defaultIntegrations=Cn),e.release===void 0){var t=_();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),Ye(kn,e),e.autoSessionTracking&&vo()}function vo(){var e=_(),t=e.document;if(typeof t=="undefined"){d.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var r=b();typeof r.startSession!="function"||typeof r.captureSession!="function"||(r.startSession({ignoreDuration:!0}),r.captureSession(),R({callback:function(n){var i=n.from,o=n.to;i===void 0||i===o||(r.startSession({ignoreDuration:!0}),r.captureSession())},type:"history"}))}var O;(function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"})(O||(O={}));(function(e){function t(r){if(r<400)return e.Ok;if(r>=400&&r<500)switch(r){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}e.fromHttpCode=t})(O||(O={}));var go=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Wt(e){e===void 0&&(e=(t=b().getClient())===null||t===void 0?void 0:t.getOptions());var t;return e?"tracesSampleRate"in e||"tracesSampler"in e:!1}function Nn(e){var t=e.match(go);if(t){var r=void 0;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}}function yt(e){e===void 0&&(e=b());var t,r;return(r=(t=e)===null||t===void 0?void 0:t.getScope())===null||r===void 0?void 0:r.getTransaction()}function k(e){return e/1e3}function An(e){return e*1e3}function Mn(){R({callback:Pn,type:"error"}),R({callback:Pn,type:"unhandledrejection"})}function Pn(){var e=yt();e&&(d.log("[Tracing] Transaction: "+O.InternalError+" -> Global error occured"),e.setStatus(O.InternalError))}var ye=function(){function e(t){t===void 0&&(t=1e3),this.spans=[],this._maxlen=t}return e.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},e}();var Dn=function(){function e(t){if(this.traceId=H(),this.spanId=H().substring(16),this.startTimestamp=vt(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return e.prototype.child=function(t){return this.startChild(t)},e.prototype.startChild=function(t){var r=new e(f(f({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},e.prototype.setTag=function(t,r){var n;return this.tags=f(f({},this.tags),(n={},n[t]=r,n)),this},e.prototype.setData=function(t,r){var n;return this.data=f(f({},this.data),(n={},n[t]=r,n)),this},e.prototype.setStatus=function(t){return this.status=t,this},e.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var r=O.fromHttpCode(t);return r!==O.UnknownError&&this.setStatus(r),this},e.prototype.isSuccess=function(){return this.status===O.Ok},e.prototype.finish=function(t){this.endTimestamp=typeof t=="number"?t:vt()},e.prototype.toTraceparent=function(){var t="";return this.sampled!==void 0&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},e.prototype.toContext=function(){return B({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(t){var r,n,i,o,a;return this.data=(r=t.data,r!=null?r:{}),this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=(n=t.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=t.startTimestamp,i!=null?i:this.startTimestamp),this.status=t.status,this.tags=(o=t.tags,o!=null?o:{}),this.traceId=(a=t.traceId,a!=null?a:this.traceId),this},e.prototype.getTraceContext=function(){return B({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return B({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}();var be=function(e){M(t,e);function t(r,n){var i=e.call(this,r)||this;return i._measurements={},i._hub=b(),D(n,at)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return t.prototype.setName=function(r){this.name=r},t.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new ye(r)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(r){this._measurements=f({},r)},t.prototype.setMetadata=function(r){this.metadata=f(f({},this.metadata),r)},t.prototype.finish=function(r){var n=this;if(this.endTimestamp===void 0){if(this.name||(d.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,r),this.sampled!==!0){d.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(s){return s!==n&&s.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(s,u){return s.endTimestamp&&u.endTimestamp?s.endTimestamp>u.endTimestamp?s:u:s}).endTimestamp);var o={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},a=Object.keys(this._measurements).length>0;return a&&(d.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),d.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(o)}},t.prototype.toContext=function(){var r=e.prototype.toContext.call(this);return B(f(f({},r),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(r){var n;return e.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},t}(Dn);var sr=1e3,_o=function(e){M(t,e);function t(r,n,i,o){i===void 0&&(i="");var a=e.call(this,o)||this;return a._pushActivity=r,a._popActivity=n,a.transactionSpanId=i,a}return t.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:vt(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),e.prototype.add.call(this,r)},t}(ye);var jn=function(e){M(t,e);function t(r,n,i,o){i===void 0&&(i=sr),o===void 0&&(o=!1);var a=e.call(this,r,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=o,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&o&&(Fn(n),d.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(s){return s.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return t.prototype.finish=function(r){var n,i,o=this;if(r===void 0&&(r=vt()),this._finished=!0,this.activities={},this.spanRecorder){d.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var a=U(this._beforeFinishCallbacks),s=a.next();!s.done;s=a.next()){var u=s.value;u(this,r)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(c){if(c.spanId===o.spanId)return!0;c.endTimestamp||(c.endTimestamp=r,c.setStatus(O.Cancelled),d.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(c,void 0,2)));var p=c.startTimestamp<r;return p||d.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(c,void 0,2)),p}),d.log("[Tracing] flushing IdleTransaction")}else d.log("[Tracing] No active IdleTransaction");return this._onScope&&Fn(this._idleHub),e.prototype.finish.call(this,r)},t.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},t.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=function(a){n._finished||n._pushActivity(a)},o=function(a){n._finished||n._popActivity(a)};this.spanRecorder=new _o(i,o,this.spanId,r),d.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),d.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,d.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(d.log("[Tracing] popActivity "+r),delete this.activities[r],d.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,o=vt()+i/1e3;setTimeout(function(){n._finished||n.finish(o)},i)}},t.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var r=Object.keys(this.activities),n=r.length?r.reduce(function(i,o){return i+o}):"";n===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=n,this._heartbeatCounter>=3?(d.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(O.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var r=this;d.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){r._beat()},5e3)},t}(be);function Fn(e){if(e){var t=e.getScope();if(t){var r=t.getTransaction();r&&t.setSpan(void 0)}}}function yo(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function Hn(e,t,r){if(!Wt())return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({transactionSampling:{method:it.Explicit}}),e;var n;return typeof t.tracesSampler=="function"?(n=t.tracesSampler(r),e.setMetadata({transactionSampling:{method:it.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,e.setMetadata({transactionSampling:{method:it.Inheritance}})):(n=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:it.Rate,rate:Number(n)}})),bo(n)?n?(e.sampled=Math.random()<n,e.sampled?(d.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(d.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),e)):(d.log("[Tracing] Discarding transaction because "+(typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(d.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function bo(e){return isNaN(e)||!(typeof e=="number"||typeof e=="boolean")?(d.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1):e<0||e>1?(d.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1):!0}function Eo(e,t){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},o=new be(e,this);return o=Hn(o,i,f({parentSampled:e.parentSampled,transactionContext:e},t)),o.sampled&&o.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),o}function Un(e,t,r,n,i){var o,a,s=((o=e.getClient())===null||o===void 0?void 0:o.getOptions())||{},u=new jn(t,e,r,n);return u=Hn(u,s,f({parentSampled:t.parentSampled,transactionContext:t},i)),u.sampled&&u.initSpanRecorder((a=s._experiments)===null||a===void 0?void 0:a.maxSpans),u}function So(){var e=st();!e.__SENTRY__||(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Eo),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=yo))}function xo(){var e=st();if(!!e.__SENTRY__){var t={mongodb:function(){var n=J(module,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=J(module,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=J(module,"./integrations/mysql");return new n.Mysql},pg:function(){var n=J(module,"./integrations/postgres");return new n.Postgres}},r=Object.keys(t).filter(function(n){return!!ot(n)}).map(function(n){try{return t[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(e.__SENTRY__.integrations=g(e.__SENTRY__.integrations||[],r))}}function Ln(){So(),X()&&xo(),Mn()}var Ee=_();function Bn(){Ee&&Ee.document?Ee.document.addEventListener("visibilitychange",function(){var e=yt();Ee.document.hidden&&e&&(d.log("[Tracing] Transaction: "+O.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(O.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())}):d.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var kt=function(e,t,r){var n;return function(i){t.value>=0&&(i||r)&&(t.delta=t.value-(n||0),(t.delta||n===void 0)&&(n=t.value,e(t)))}};var qn=function(){return"v2-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)};var Ct=function(e,t){return{name:e,value:t!=null?t:-1,delta:0,entries:[],id:qn()}};var Nt=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if(e==="first-input"&&!("PerformanceEventTiming"in self))return;var r=new PerformanceObserver(function(n){return n.getEntries().map(t)});return r.observe({type:e,buffered:!0}),r}}catch(n){}};var ct=function(e,t){var r=function(n){(n.type==="pagehide"||document.visibilityState==="hidden")&&(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)};var Gn=function(e,t){var r=Ct("CLS",0),n,i=0,o=[],a=function(u){if(u&&!u.hadRecentInput){var c=o[0],p=o[o.length-1];i&&o.length!==0&&u.startTime-p.startTime<1e3&&u.startTime-c.startTime<5e3?(i+=u.value,o.push(u)):(i=u.value,o=[u]),i>r.value&&(r.value=i,r.entries=o,n&&n())}},s=Nt("layout-shift",a);s&&(n=kt(e,r,t),ct(function(){s.takeRecords().map(a),n(!0)}))};var Se=-1,To=function(){return document.visibilityState==="hidden"?0:1/0},wo=function(){ct(function(e){var t=e.timeStamp;Se=t},!0)},At=function(){return Se<0&&(Se=To(),wo()),{get firstHiddenTime(){return Se}}};var Vn=function(e,t){var r=At(),n=Ct("FID"),i,o=function(s){i&&s.startTime<r.firstHiddenTime&&(n.value=s.processingStart-s.startTime,n.entries.push(s),i(!0))},a=Nt("first-input",o);a&&(i=kt(e,n,t),ct(function(){a.takeRecords().map(o),a.disconnect()},!0))};var Wn={},Yn=function(e,t){var r=At(),n=Ct("LCP"),i,o=function(u){var c=u.startTime;c<r.firstHiddenTime&&(n.value=c,n.entries.push(u)),i&&i()},a=Nt("largest-contentful-paint",o);if(a){i=kt(e,n,t);var s=function(){Wn[n.id]||(a.takeRecords().map(o),a.disconnect(),Wn[n.id]=!0,i(!0))};["keydown","click"].forEach(function(u){addEventListener(u,s,{once:!0,capture:!0})}),ct(s,!0)}};var j=_(),zn=function(){function e(){var t,r;this._measurements={},this._performanceCursor=0,!X()&&((t=j)===null||t===void 0?void 0:t.performance)&&((r=j)===null||r===void 0?void 0:r.document)&&(j.performance.mark&&j.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return e.prototype.addPerformanceEntries=function(t){var r=this;if(!(!j||!j.performance||!j.performance.getEntries||!Ot)){d.log("[Tracing] Adding & adjusting spans using Performance API");var n=k(Ot),i;if(j.document&&j.document.scripts){for(var o=0;o<j.document.scripts.length;o++)if(j.document.scripts[o].dataset.entry==="true"){i=j.document.scripts[o].src;break}}var a,s,u,c;if(j.performance.getEntries().slice(this._performanceCursor).forEach(function(l){var m=k(l.startTime),h=k(l.duration);if(!(t.op==="navigation"&&n+m<t.startTimestamp))switch(l.entryType){case"navigation":{Oo(t,l,n),u=n+k(l.responseStart),c=n+k(l.requestStart);break}case"mark":case"paint":case"measure":{var v=Io(t,l,m,h,n);s===void 0&&l.name==="sentry-tracing-init"&&(s=v);var y=At(),E=l.startTime<y.firstHiddenTime;l.name==="first-paint"&&E&&(d.log("[Measurements] Adding FP"),r._measurements.fp={value:l.startTime},r._measurements["mark.fp"]={value:v}),l.name==="first-contentful-paint"&&E&&(d.log("[Measurements] Adding FCP"),r._measurements.fcp={value:l.startTime},r._measurements["mark.fcp"]={value:v});break}case"resource":{var N=l.name.replace(window.location.origin,""),I=Ro(t,l,N,m,h,n);a===void 0&&(i||"").indexOf(N)>-1&&(a=I);break}default:}}),a!==void 0&&s!==void 0&&bt(t,{description:"evaluation",endTimestamp:s,op:"script",startTimestamp:a}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),t.op==="pageload"){var p=k(Ot);typeof u=="number"&&(d.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(u-t.startTimestamp)*1e3},typeof c=="number"&&c<=u&&(this._measurements["ttfb.requestTime"]={value:(u-c)*1e3})),["fcp","fp","lcp"].forEach(function(l){if(!(!r._measurements[l]||p>=t.startTimestamp)){var m=r._measurements[l].value,h=p+k(m),v=Math.abs((h-t.startTimestamp)*1e3),y=v-m;d.log("[Measurements] Normalized "+l+" from "+m+" to "+v+" ("+y+")"),r._measurements[l].value=v}}),this._measurements["mark.fid"]&&this._measurements.fid&&bt(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+k(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),this._tagMetricInfo(t)}}},e.prototype._tagMetricInfo=function(t){this._lcpEntry&&(d.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&t.setTag("lcp.element",Z(this._lcpEntry.element)),this._lcpEntry.id&&t.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&t.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),t.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(d.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.forEach(function(r,n){return t.setTag("cls.source."+(n+1),Z(r.node))}))},e.prototype._trackCLS=function(){var t=this;Gn(function(r){var n=r.entries.pop();!n||(d.log("[Measurements] Adding CLS"),t._measurements.cls={value:r.value},t._clsEntry=n)})},e.prototype._trackNavigator=function(t){var r=j.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),xe(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),xe(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),xe(r.deviceMemory)&&t.setTag("deviceMemory",String(r.deviceMemory)),xe(r.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},e.prototype._trackLCP=function(){var t=this;Yn(function(r){var n=r.entries.pop();if(!!n){var i=k(Ot),o=k(n.startTime);d.log("[Measurements] Adding LCP"),t._measurements.lcp={value:r.value},t._measurements["mark.lcp"]={value:i+o},t._lcpEntry=n}})},e.prototype._trackFID=function(){var t=this;Vn(function(r){var n=r.entries.pop();if(!!n){var i=k(Ot),o=k(n.startTime);d.log("[Measurements] Adding FID"),t._measurements.fid={value:r.value},t._measurements["mark.fid"]={value:i+o}}})},e}();function Oo(e,t,r){ft({transaction:e,entry:t,event:"unloadEvent",timeOrigin:r}),ft({transaction:e,entry:t,event:"redirect",timeOrigin:r}),ft({transaction:e,entry:t,event:"domContentLoadedEvent",timeOrigin:r}),ft({transaction:e,entry:t,event:"loadEvent",timeOrigin:r}),ft({transaction:e,entry:t,event:"connect",timeOrigin:r}),ft({transaction:e,entry:t,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),ft({transaction:e,entry:t,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),ft({transaction:e,entry:t,event:"domainLookup",timeOrigin:r,description:"DNS"}),ko(e,t,r)}function Io(e,t,r,n,i){var o=i+r,a=o+n;return bt(e,{description:t.name,endTimestamp:a,op:t.entryType,startTimestamp:o}),o}function Ro(e,t,r,n,i,o){if(!(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")){var a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);var s=o+n,u=s+i;return bt(e,{description:r,endTimestamp:u,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:a}),u}}function ft(e){var t=e.transaction,r=e.entry,n=e.event,i=e.timeOrigin,o=e.eventEnd,a=e.description,s=o?r[o]:r[n+"End"],u=r[n+"Start"];!u||!s||bt(t,{op:"browser",description:a!=null?a:n,startTimestamp:i+k(u),endTimestamp:i+k(s)})}function ko(e,t,r){bt(e,{op:"browser",description:"request",startTimestamp:r+k(t.requestStart),endTimestamp:r+k(t.responseEnd)}),bt(e,{op:"browser",description:"response",startTimestamp:r+k(t.responseStart),endTimestamp:r+k(t.responseEnd)})}function bt(e,t){var r=t.startTimestamp,n=te(t,["startTimestamp"]);return r&&e.startTimestamp>r&&(e.startTimestamp=r),e.startChild(f({startTimestamp:r},n))}function xe(e){return typeof e=="number"&&isFinite(e)}var Co=["localhost",/^\//],Yt={traceFetch:!0,traceXHR:!0,tracingOrigins:Co};function Kn(e){var t=f(f({},Yt),e),r=t.traceFetch,n=t.traceXHR,i=t.tracingOrigins,o=t.shouldCreateSpanForRequest,a={},s=function(p){if(a[p])return a[p];var l=i;return a[p]=l.some(function(m){return dt(p,m)})&&!dt(p,"sentry_key"),a[p]},u=s;typeof o=="function"&&(u=function(p){return s(p)&&o(p)});var c={};r&&R({callback:function(p){No(p,u,c)},type:"fetch"}),n&&R({callback:function(p){Ao(p,u,c)},type:"xhr"})}function No(e,t,r){if(!(!Wt()||!(e.fetchData&&t(e.fetchData.url)))){if(e.endTimestamp&&e.fetchData.__span){var n=r[e.fetchData.__span];n&&(e.response?n.setHttpStatus(e.response.status):e.error&&n.setStatus(O.InternalError),n.finish(),delete r[e.fetchData.__span]);return}var i=yt();if(i){var n=i.startChild({data:f(f({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http.client"});e.fetchData.__span=n.spanId,r[n.spanId]=n;var o=e.args[0]=e.args[0],a=e.args[1]=e.args[1]||{},s=a.headers;D(o,Request)&&(s=o.headers),s?typeof s.append=="function"?s.append("sentry-trace",n.toTraceparent()):Array.isArray(s)?s=g(s,[["sentry-trace",n.toTraceparent()]]):s=f(f({},s),{"sentry-trace":n.toTraceparent()}):s={"sentry-trace":n.toTraceparent()},a.headers=s}}}function Ao(e,t,r){var n,i;if(!(!Wt()||((n=e.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=e.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&t(e.xhr.__sentry_xhr__.url)))){var o=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){var a=r[e.xhr.__sentry_xhr_span_id__];a&&(a.setHttpStatus(o.status_code),a.finish(),delete r[e.xhr.__sentry_xhr_span_id__]);return}var s=yt();if(s){var a=s.startChild({data:f(f({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=a.spanId,r[e.xhr.__sentry_xhr_span_id__]=a,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(c){}}}}var zt=_();function $n(e,t,r){if(t===void 0&&(t=!0),r===void 0&&(r=!0),!zt||!zt.location){d.warn("Could not initialize routing instrumentation due to invalid location");return}var n=zt.location.href,i;t&&(i=e({name:zt.location.pathname,op:"pageload"})),r&&R({callback:function(o){var a=o.to,s=o.from;if(s===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}s!==a&&(n=void 0,i&&(d.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=e({name:zt.location.pathname,op:"navigation"}))},type:"history"})}var Mo=600,Po=f({idleTimeout:sr,markBackgroundTransactions:!0,maxTransactionDuration:Mo,routingInstrumentation:$n,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Yt),ur=function(){function e(t){this.name=e.id,this._metrics=new zn,this._emitOptionsWarning=!1;var r=Yt.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&t.tracingOrigins.length!==0?r=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=f(f(f({},Po),t),{tracingOrigins:r})}return e.prototype.setupOnce=function(t,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(d.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),d.warn("[Tracing] We added a reasonable default for you: "+Yt.tracingOrigins));var i=this.options,o=i.routingInstrumentation,a=i.startTransactionOnLocationChange,s=i.startTransactionOnPageLoad,u=i.markBackgroundTransactions,c=i.traceFetch,p=i.traceXHR,l=i.tracingOrigins,m=i.shouldCreateSpanForRequest;o(function(h){return n._createRouteTransaction(h)},s,a),u&&Bn(),Kn({traceFetch:c,traceXHR:p,tracingOrigins:l,shouldCreateSpanForRequest:m})},e.prototype._createRouteTransaction=function(t){var r=this;if(!this._getCurrentHub){d.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,o=n.idleTimeout,a=n.maxTransactionDuration,s=t.op==="pageload"?Do():void 0,u=f(f(f({},t),s),{trimEnd:!0}),c=typeof i=="function"?i(u):u,p=c===void 0?f(f({},u),{sampled:!1}):c;p.sampled===!1&&d.log("[Tracing] Will not send "+p.op+" transaction because of beforeNavigate."),d.log("[Tracing] Starting "+p.op+" transaction on scope");var l=this._getCurrentHub(),m=_().location,h=Un(l,p,o,!0,{location:m});return h.registerBeforeFinishCallback(function(v,y){r._metrics.addPerformanceEntries(v),Fo(An(a),v,y)}),h},e.id="BrowserTracing",e}();function Do(){var e=jo("sentry-trace");if(e)return Nn(e)}function jo(e){var t=document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}function Fo(e,t,r){var n=r-t.startTimestamp,i=r&&(n>e||n<0);i&&(t.setStatus(O.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}var cr={};br(cr,{Express:()=>Xn,Mongo:()=>ti,Mysql:()=>Zn,Postgres:()=>Qn});var Xn=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){if(!this._router){d.error("ExpressIntegration is missing an Express instance");return}Lo(this._router,this._methods)},e.id="Express",e}();function Jn(e,t){var r=e.length;switch(r){case 2:return function(n,i){var o=i.__sentry_transaction;if(o){var a=o.startChild({description:e.name,op:"middleware."+t});i.once("finish",function(){a.finish()})}return e.call(this,n,i)};case 3:return function(n,i,o){var a,s=i.__sentry_transaction,u=(a=s)===null||a===void 0?void 0:a.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];var l;(l=u)===null||l===void 0||l.finish(),o.call.apply(o,g([this],c))})};case 4:return function(n,i,o,a){var s,u=o.__sentry_transaction,c=(s=u)===null||s===void 0?void 0:s.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,o,function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];var m;(m=c)===null||m===void 0||m.finish(),a.call.apply(a,g([this],p))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}function Ho(e,t){return e.map(function(r){return typeof r=="function"?Jn(r,t):Array.isArray(r)?r.map(function(n){return typeof n=="function"?Jn(n,t):n}):r})}function Uo(e,t){var r=e[t];return e[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,g([this],Ho(n,t)))},e}function Lo(e,t){t===void 0&&(t=[]),t.forEach(function(r){return Uo(e,r)})}var Qn=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._usePgNative=!!t.usePgNative}return e.prototype.setupOnce=function(t,r){var n,i=ot("pg");if(!i){d.error("Postgres Integration was unable to require `pg` package.");return}if(this._usePgNative&&!((n=i.native)===null||n===void 0?void 0:n.Client)){d.error("Postgres Integration was unable to access 'pg-native' bindings.");return}var o=(this._usePgNative?i.native:i).Client;S(o.prototype,"query",function(a){return function(s,u,c){var p,l,m,h=r().getScope(),v=(p=h)===null||p===void 0?void 0:p.getSpan(),y=(l=v)===null||l===void 0?void 0:l.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof c=="function")return a.call(this,s,u,function(N,I){var A;(A=y)===null||A===void 0||A.finish(),c(N,I)});if(typeof u=="function")return a.call(this,s,function(N,I){var A;(A=y)===null||A===void 0||A.finish(),u(N,I)});var E=typeof u!="undefined"?a.call(this,s,u):a.call(this,s);return $(E)?E.then(function(N){var I;return(I=y)===null||I===void 0||I.finish(),N}):((m=y)===null||m===void 0||m.finish(),E)}})},e.id="Postgres",e}();var Zn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){var n=ot("mysql/lib/Connection.js");if(!n){d.error("Mysql Integration was unable to require `mysql` package.");return}S(n,"createQuery",function(i){return function(o,a,s){var u,c,p=r().getScope(),l=(u=p)===null||u===void 0?void 0:u.getSpan(),m=(c=l)===null||c===void 0?void 0:c.startChild({description:typeof o=="string"?o:o.sql,op:"db"});return typeof s=="function"?i.call(this,o,a,function(h,v,y){var E;(E=m)===null||E===void 0||E.finish(),s(h,v,y)}):typeof a=="function"?i.call(this,o,function(h,v,y){var E;(E=m)===null||E===void 0||E.finish(),a(h,v,y)}):i.call(this,o,a,s)}})},e.id="Mysql",e}();var Bo=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],qo={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},ti=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:Bo,this._describeOperations="describeOperations"in t?t.describeOperations:!0,this._useMongoose=!!t.useMongoose}return e.prototype.setupOnce=function(t,r){var n=this._useMongoose?"mongoose":"mongodb",i=ot(n);if(!i){d.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},e.prototype._instrumentOperations=function(t,r,n){var i=this;r.forEach(function(o){return i._patchOperation(t,o,n)})},e.prototype._patchOperation=function(t,r,n){if(r in t.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);S(t.prototype,r,function(o){return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var u,c,p,l,m=a[a.length-1],h=n().getScope(),v=(u=h)===null||u===void 0?void 0:u.getSpan();if(typeof m!="function"||r==="mapReduce"&&a.length===2){var y=(c=v)===null||c===void 0?void 0:c.startChild(i(this,r,a)),E=o.call.apply(o,g([this],a));return $(E)?E.then(function(I){var A;return(A=y)===null||A===void 0||A.finish(),I}):((p=y)===null||p===void 0||p.finish(),E)}var N=(l=v)===null||l===void 0?void 0:l.startChild(i(this,r,a.slice(0,-1)));return o.call.apply(o,g([this],a.slice(0,-1),[function(I,A){var ke;(ke=N)===null||ke===void 0||ke.finish(),m(I,A)}]))}})}},e.prototype._getSpanContextFromOperationArguments=function(t,r,n){var i={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},o={op:"db",description:r,data:i},a=qo[r],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!a||!s)return o;try{if(r==="mapReduce"){var u=ee(n,2),c=u[0],p=u[1];i[a[0]]=typeof c=="string"?c:c.name||"<anonymous>",i[a[1]]=typeof p=="string"?p:p.name||"<anonymous>"}else for(var l=0;l<a.length;l++)i[a[l]]=JSON.stringify(n[l])}catch(m){}return o},e.id="Mongo",e}();var ei=f(f({},cr),{BrowserTracing:ur});Ln();var W="@evrythng/context-script",Kt="1.1.9";ar({enabled:!["alpha","beta"].includes(Kt),dsn:"https://3a607b104b05456596f4a2c6390983b6@o18925.ingest.sentry.io/5681029",environment:window.location.host,release:`${W.split("/")[1]}@${Kt}`,integrations:[new ei.BrowserTracing({startTransactionOnLocationChange:!1,startTransactionOnPageLoad:!1})],defaultIntegrations:!1,autoSessionTracking:!1,ignoreErrors:["Authorization error."],tracesSampleRate:.1});var $t=he({name:"total-time",data:{url:window.location.href}});var Te,Go=new Uint8Array(16);function fr(){if(!Te&&(Te=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Te))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Te(Go)}var ni=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Vo(e){return typeof e=="string"&&ni.test(e)}var ii=Vo;var C=[];for(we=0;we<256;++we)C.push((we+256).toString(16).substr(1));var we;function Wo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(C[e[t+0]]+C[e[t+1]]+C[e[t+2]]+C[e[t+3]]+"-"+C[e[t+4]]+C[e[t+5]]+"-"+C[e[t+6]]+C[e[t+7]]+"-"+C[e[t+8]]+C[e[t+9]]+"-"+C[e[t+10]]+C[e[t+11]]+C[e[t+12]]+C[e[t+13]]+C[e[t+14]]+C[e[t+15]]).toLowerCase();if(!ii(r))throw TypeError("Stringified UUID is invalid");return r}var oi=Wo;function Yo(e,t,r){e=e||{};var n=e.random||(e.rng||fr)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return oi(n)}var pr=Yo;var Et={IMPLICIT_SCAN_ID:"EVT_IMPLICIT_SCAN_ID",CONSUMER_ID:"EVT_CONSUMER_ID"},Mt={ACCESS_TOKEN:"evt_token",IMPLICIT_SCAN_ID:"evt_implicit_scan_id",PRODUCT_ID:"evt_product_id",THNG_ID:"evt_thng_id"},Oe={ARE_COOKIES_BLOCKED:"GTM_EVT_ARE_COOKIES_BLOCKED",ACCESS_TOKEN:"GTM_EVT_TOKEN",REGION:"GTM_EVT_REGION"},Q={SCRIPT_VERSION:`${W}: v${Kt}`,MISSING_PRODUCT:`${W}: QR code scan not performed due to missing '${Mt.PRODUCT_ID}'`,COOKIES_ARE_BLOCKED:`${W}: QR code scan not performed due to blocked cookies.`,REDUNDANT_SCAN:`${W}: Consumer "completed" scan was already created for this "implicit" scan. Exiting.`,REFERRAL_ACTION:`${W}: Visiting from a shared link, creating referral Action.`,SCAN_COMPLETED:`${W}: QR code scan complete.`,SCAN_ERROR:`${W}: Error completing QR code scan:`,REDIRECTING:`${W}: Redirecting to URL:`};function Xt(e){let t=window[e];if(!["undefined",void 0].includes(t))return["true","false"].includes(t)?JSON.parse(t):t}var zo=e=>e.length===24;function Pt(e,t={}){var a;let{isEvtId:r,isRequired:n}=t,o=(a=new URLSearchParams(window.location.search).get(e))!=null?a:void 0;if(n&&!o)throw new Error(`URL param value for ${e} is required. Received '${o}'.`);if(r&&o&&!zo(o))throw new Error(`URL param value for ${e} is invalid EVRYTHNG id. Received '${o}'.`);return o}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var Ko={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function lr(e,t){function r(i,o,a){if(typeof document!="undefined"){a=Ie({},t,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var u in a)!a[u]||(s+="; "+u,a[u]!==!0&&(s+="="+a[u].split(";")[0]));return document.cookie=i+"="+e.write(o,i)+s}}function n(i){if(!(typeof document=="undefined"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],a={},s=0;s<o.length;s++){var u=o[s].split("="),c=u.slice(1).join("=");try{var p=decodeURIComponent(u[0]);if(a[p]=e.read(c,p),i===p)break}catch(l){}}return i?a[i]:a}}return Object.create({set:r,get:n,remove:function(i,o){r(i,"",Ie({},o,{expires:-1}))},withAttributes:function(i){return lr(this.converter,Ie({},this.attributes,i))},withConverter:function(i){return lr(Ie({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var $o=lr(Ko,{path:"/"}),Re=$o;var Xo=365;function dr(e){return Re.get(e)}function mr(e,t){return Re.set(e,t,{expires:Xo}),t}function hr(e){Re.remove(e)}function vr(e,t=null){let{setup:r,AccessToken:n}=window.evrythng;r({...t&&{region:t},geolocation:!1});let i=new n(e);return{getChildScans:(...o)=>Jo(i,...o),createAction:(...o)=>Qo(i,...o)}}async function Jo(e,t){let r=$t.startChild({data:{parentActionId:t},op:"http",description:"getting child scans"}),n=await e.action("scans").read({params:{filter:`tags=from:${t}`}});return r.finish(),n.length>0}async function Qo(e,t){let r=$t.startChild({data:t,op:"http",description:"creating action"}),{actionType:n,consumerId:i,parentActionId:o,product:a,thng:s}=t,u=await e.product(a).action(n).create({type:n,consumerId:i,...o&&{customFields:{parentAction:o},tags:[`from:${o}`],identifiers:{scanId:`from:${o}`}},product:a,...s&&{thng:s}});return r.finish(),u}async function gr(){var I,A;let e=Pt(Mt.PRODUCT_ID,{isEvtId:!0});if(!e){console.log(Q.MISSING_PRODUCT);return}if(Xt(Oe.ARE_COOKIES_BLOCKED)){hr(Et.IMPLICIT_SCAN_ID),hr(Et.CONSUMER_ID),console.log(Q.COOKIES_ARE_BLOCKED);return}let r=Pt(Mt.IMPLICIT_SCAN_ID,{isEvtId:!0}),n=dr(Et.IMPLICIT_SCAN_ID);if(r&&n&&r===n){console.log(Q.REDUNDANT_SCAN);return}let o=dr(Et.CONSUMER_ID),a=mr(Et.CONSUMER_ID,o!=null?o:pr()),s=(I=Xt(Oe.ACCESS_TOKEN))!=null?I:Pt(Mt.ACCESS_TOKEN,{isRequired:!0}),u=Xt(Oe.REGION),c=Pt(Mt.THNG_ID,{isEvtId:!0}),{getChildScans:p,createAction:l}=vr(s,u),h=await p(r)?"referrals":"scans",v=await l({actionType:h,consumerId:a,parentActionId:r,product:e,thng:c});r&&mr(Et.IMPLICIT_SCAN_ID,r),console.log(h==="referrals"?Q.REFERRAL_ACTION:Q.SCAN_COMPLETED),$t.finish();let{redirectUrl:y,redirectionContext:E}=((A=v==null?void 0:v.reactions)==null?void 0:A[0])||{},{contextScriptRedirection:N}=(E==null?void 0:E.constants)||{};y&&N&&(console.log(`${Q.REDIRECTING} ${y}`),window.location.replace(y))}function _r(e){try{return JSON.parse(e==null?void 0:e.message).errors[0]}catch(t){return(e==null?void 0:e.message)||(e==null?void 0:e.toString())||"Unknown error"}}console.log(Q.SCRIPT_VERSION);gr().catch(async e=>{let t=e instanceof Promise?await(e==null?void 0:e.catch(n=>n)):e,r=_r(t);console.error(`${Q.SCAN_ERROR}: ${r}`),gt(t)});})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! js-cookie v3.0.1 | MIT */
//# sourceMappingURL=context-script.js.map
