"use strict";(self.webpackChunkstreaming_web=self.webpackChunkstreaming_web||[]).push([[2321],{10512:function(e,n,t){t.r(n),t.d(n,{Banner:function(){return T}});var a=t(14293),l=t.n(a),r=(t(92087),t(67294)),o=t(28216),i=t(74247),s=t(43349),m=t(51015),c=t(78900),u=t(26703),d=t(90429),p=t(99794),b=t(96401),_=t(87528),g=t(51091),f=t(93728),k=t.p+"static/icons/backgroundBanner.5bbc87bb..png",v="Banner-module__bannerWrapper--aNhwh",E="Banner-module__adFox--0yknZ",I="Banner-module__withExpanded--h+XeB",h="Banner-module__bannerImage--tozcv",y="Banner-module__expanded--zmcws",N="Banner-module__bannerBg--JEQpO",x="Banner-module__banner--6+2qc",B="Banner-module__contentContainer--CGQQj",w="Banner-module__wide--vRKiG",C="Banner-module__subscribeBtn--+qxp7",O="Banner-module__link--sB2I2",$="Banner-module__closeBtn--sHw3A";const T=r.memo((()=>{const{route:e}=(0,d.yj)(),n=(0,b.GS)(b.OA[1024]),t=(0,o.I0)(),a=(0,_.C)((e=>e.emailHunter.flow)),{BANNER_ID:T,TV_BANNER_ID:D}=(0,_.C)((e=>e.features.flags)),{data:H}=(0,_.C)((e=>e.banners)),[R,A]=(0,r.useState)(!1),[F]=e.path.split("?"),j=0===F.indexOf("/online")&&D?D:T,W=j?H[j]:null,V=null==W?void 0:W.config,q=`${null==W?void 0:W.id}`,z=`banner_id:${q}`,G=e.path.includes("/payment-form"),[P,Q]=(0,r.useState)({}),S=(0,r.useRef)({}),Z=(0,r.useCallback)((e=>{Q((n=>({...n,[q]:e})))}),[q]),L=(0,r.useCallback)((()=>{if(!V)return!1;const e=m.n.getItem(z);if(!e)return!1;if(l()(V.rerunAt))return!0;const n=Number(e);if(!n)return!0;return Date.now()-n<60*V.rerunAt*60*1e3}),[V,z]),M=(0,r.useCallback)((()=>{if(!V)return!1;const e=new Date(V.dateOn),n=new Date(V.dateOff);return e&&e.getTime()<=Date.now()&&n&&n.getTime()>=Date.now()}),[V]);if((0,r.useEffect)((()=>{j&&!H[j]&&t(g.Ty.request(j))}),[H,t,j]),(0,r.useEffect)((()=>{if(n&&a||G)return Z(!1),void t(g.Ty.setVisible(!1));S.current[q]||!M()||L()||(Z(!0),t(g.Ty.setVisible(!0)))}),[t,q,a,M,n,L,Z,G]),(0,r.useEffect)((()=>{P[q]&&f.Z.logOnce({event_name:"show",event_type:"auto",block:"slipper",event_value:q},`show_banner_${q}`)}),[q,P]),(0,r.useEffect)((()=>{R&&f.Z.logOnce({event_name:"hover",event_type:"auto",block:"slipper",event_value:q},`mouse_over_banner_${q}`)}),[q,R]),!V||!P[q])return null;const Y=n?V.mobileImage.img:V.desktopImage.img,J=n?V.mobileImage.imgExpanded:V.desktopImage.imgExpanded,K=Y?Y.includes("//")?Y:(0,c.Y)(Y):k,X=J?J.includes("//")?J:(0,c.Y)(J):k,U=n?V.mobileImage.baseHeight:V.desktopImage.baseHeight,ee=n?V.mobileImage.expandedHeight:V.desktopImage.expandedHeight,ne=n&&V.mobileImage.buttonRadius||V.desktopImage.buttonRadius,te={marginLeft:n?V.mobileImage.buttonOffset+"px":V.desktopImage.buttonOffset+"px",height:(ne&&2*parseInt(ne))+"px"||0,borderRadius:ne+"px"||0};if(W.type===g.$.external&&W.banner_id)return r.createElement("div",{className:E},r.createElement(p.WidgetAd,{contentId:W.banner_id}));const ae=()=>{null!=V&&V.link&&(S.current[q]=!0,m.n.setItem(z,`${Date.now()}`),Z(!1))},le=r.createElement(r.Fragment,null,r.createElement("img",{className:h,src:K,alt:`${V.title||V.projectName||""}`}),J&&r.createElement("img",{className:h+" "+y,src:X,alt:`${V.title||V.projectName||""}`})),re=r.createElement(u.kf,{payload:{event_name:"button",event_type:"click",block:"slipper",event_value:q,url_target:`${window.location.origin}${V.link}`}},r.createElement(i.zx,{className:C+" "+(!V.isPlayIcon&&w),bgColorInline:V.btnBgColor||"#000",minWidth:V.minWidth?Number(V.minWidth):void 0,colorInline:V.btnTextColor||"#fff",label:!0,title:V.title,playIcon:V.isPlayIcon,style:te,onClick:ae},V.buttonText)),oe={redirectLinkObject:e,paymentRedirect:e};return r.createElement(r.Fragment,null,(null==Y?void 0:Y.length)>0?r.createElement("div",{onClick:e=>e.stopPropagation(),className:v+" "+(J&&I),style:{height:U+"px",minHeight:ee+"px",maxHeight:ee+"px"},onMouseOver:()=>A(!0),onMouseOut:()=>A(!1)},r.createElement(u.kf,{payload:{event_name:"close",event_type:"click",block:"slipper",event_value:q}},void 0===V.canClose||V.canClose?r.createElement("div",{className:$,onClick:()=>{S.current[q]=!0,Z(!1),t(g.Ty.setVisible(!1)),m.n.setItem(z,`${Date.now()}`)}}):r.createElement(r.Fragment,null)),r.createElement("div",{className:N,style:{backgroundColor:V.bgColor||"#002"}},V.buttonText?r.createElement("div",{className:x},le,r.createElement("div",{className:B},V.link?r.createElement(s.N,{className:O,link:V.link,routeOptions:oe},re):r.createElement(r.Fragment,null,re))):r.createElement(r.Fragment,null,V.link&&r.createElement(u.kf,{payload:{event_name:"default",event_type:"click",block:"slipper",event_value:q}},r.createElement(s.N,{className:O,link:V.link,routeOptions:oe,onClick:ae},r.createElement("div",{className:x},le)))))):null)}))}}]);