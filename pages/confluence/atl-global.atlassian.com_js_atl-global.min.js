var ace=ace||{},ace=(ace.analytics=ace.analytics||{},ace.analytics.Metrics=function(){"use strict";var i={};return{logMetric:function(e,t){i[e]=t||new Date},sendMetrics:function(e){if(ace.analytics.Metrics.loadTimestamp){for(var t in i)i.hasOwnProperty(t)&&0<i[t]&&(i[t]=i[t]-ace.analytics.Metrics.loadTimestamp);var n=ace.analytics.Cohort.readAtlCohort(),n={event:"metrics",eventComponent:"atlGlobal",metrics:i,atlJSVersion:ace.analytics.version,cohort:n?n.bucketAll.index:null,host:e?e.hostFake:window.location.host,path:e?e.pathFake:window.location.pathname,pageViewId:ace.analytics.Tracking.getPageViewId()};ace.analytics.GASv3.sendUIEvent("",n,!0),i={}}},resetMetrics:function(){i={}},METRICS_KEYS:{TIME_TO_LOAD:"timeToLoad",TIME_TO_SEGMENT_LOAD:"timeToSegmentLoad",TIME_TO_AVAILABLE:"timeToAvailable",TIME_TO_READY:"timeToReady",TIME_TO_START_LOAD_XID:"timeToStartLoadXID",TIME_TO_START_GET_XID:"timeToStartGetXID",TIME_TO_LOAD_XID:"timeToLoadXID"}}}(),ace||{}),ace=(ace.mkt=ace.mkt||{},ace.mkt.Cookie=function(){"use strict";return{getCookieUrl:function(e,t){return null!==(e=ace.mkt.Cookie.readCookie(e))?e:t},readCookie:function(e){try{for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}}catch(e){}return null},writeCookie:function(e,t,n,i){ace.mkt.Cookie.writeCookieInSeconds(e,t,n?24*n*60*60:null,i)},writeCookieInSeconds:function(e,t,n,i){try{var r,a,o,c,s="",u=(n&&((r=new Date).setTime(r.getTime()+1e3*n),s="; expires="+r.toGMTString()),e+"="+t+s+"; path=/;"),l=window.location.hostname;"localhost"!==l&&!0===i&&(1<(a=l.split(".")).length&&(o=a[a.length-1],c=a[a.length-2],(isNaN(o)||isNaN(c))&&(l="."+c+"."+o)),u+=" domain="+l+";"),document.cookie=u}catch(e){}}}}(),ace||{}),ace=(ace.mkt=ace.mkt||{},ace.mkt.Guid=function(){"use strict";var e,t;return e=this,t=function(){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);for(var c=[],e=0;e<256;++e)c.push((e+256).toString(16).substr(1));return function(e,t,n){var i=(e=e||{}).random||(e.rng||function(){if(a)return a(o);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return(c[i[0]]+c[i[1]]+c[i[2]]+c[i[3]]+"-"+c[i[4]]+c[i[5]]+"-"+c[i[6]]+c[i[7]]+"-"+c[i[8]]+c[i[9]]+"-"+c[i[10]]+c[i[11]]+c[i[12]]+c[i[13]]+c[i[14]]+c[i[15]]).toLowerCase()}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).uuidv4=t(),{guid:function(){try{return uuidv4()}catch(e){return Math.guid()}},guidNoDashes:function(){return uuidv4().replace(/-/g,"")},addNumberToGUID:function(e,t){var n=e.slice(-4),i=parseInt(n,16);if(isNaN(i))return e;var r=i.toString(16).length;return 65535<(i+=t)?i-=65536:i<0&&(i+=65536),(n=i.toString(16)).length<r&&(n=("00000"+n).slice(-r)),e.slice(0,e.length-n.length)+n},guidHashCode:function(e){for(var t=0,n=0;n<e.length;n++)t=(t+=Math.pow(31*e.charCodeAt(n),e.length-n))&t;return Math.abs(t)}}}(),ace||{}),globalRequire=(ace.mkt=ace.mkt||{},ace.mkt.Helpers=function(){"use strict";var t=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i,n="/path-contained-email-address",i={LOCAL:"local",DEV:"dev",STAGE:"stage",PROD:"prod"};function e(){try{var e,t="atl-global",n=".min.js",i=document.querySelector('script[src*="'+t+n+'"]');if(i||(n=".js",i=document.querySelector('script[src*="'+t+n+'"]')),!i)return e=window.location&&window.location.href||null,ace.mkt.Helpers.logEvent("OwkfO6MbQAZAEBuW9CxxAgyahOi8I51r","error","getScript returns default",{location:e}),{source:"https://atl-global.atlassian.com/js/",extension:".min.js"};var r=i.src.indexOf(t+n);return{source:i.src.substring(0,r),extension:n}}catch(e){return null}}function r(){var e=function(){for(var e,t=document.getElementsByTagName("link"),n=0;e=t[n];n++)if("canonical"===e.getAttribute("rel"))return e.getAttribute("href")}();if(e)return e;var e=window.location.href,t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function a(e){return decodeURIComponent(e).match(t)}function o(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.host}function c(e){return Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim()?null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()):e=Number(e),e}function s(e){var n={};if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(var t=e.split("&"),i=0;i<t.length;i++){t[i]=t[i].replace(/\+/g," ");var r=t[i].indexOf("="),a=t[i],o=void 0;0<=r&&(a=t[i].slice(0,r),o=t[i].slice(r+1));try{o=void 0===o?null:decodeURIComponent(o),a=decodeURIComponent(a)}catch(e){}void 0===n[a]?n[a]=o:n[a]=[].concat(n[a],o)}return Object.keys(n).forEach(function(e){var t=n[e];"object"==typeof t&&null!==t?Object.keys(t).forEach(function(e){t[e]=c(t[e])}):n[e]=c(t)}),n}return window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),{addActualUrl:function(e){window.location.href!==r()&&(e.url?e.actualUrl=e.url:e.actualUrl=window.location.href)},addLoadEvent:function(e){var t;"complete"===document.readyState?e():window.addEventListener?window.addEventListener("load",e,!1):window.attachEvent?window.attachEvent("onload",e):(t=window.onload,window.onload=function(){t&&t(),e()})},ENVIRONMENT:i,getScript:e,getParameterByName:function(e){return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null===(e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search))?"":decodeURIComponent(e[1].replace(/\+/g," "))},getBaseUrl:function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},getEnvironment:function(){var e=ace.mkt.Helpers.getScript();if(e&&e.source){e=e.source;if(e.match("localhost:")||e.match("127.0.0.1:"))return i.LOCAL;if(e.match("/stp/qa/")||e.match("atl-global.stg"))return i.STAGE;if(e.match("/stp/current/")||e.match("atl-global.atlassian"))return i.PROD}return i.DEV},getUtms:function(e){if(-1===window.location.search.indexOf("utm_"))return null;for(var t in e)e.hasOwnProperty(t)&&(e[t]=ace.mkt.Helpers.getParameterByName(t));return e},getCanonicalUrl:r,urlWithoutPath:o,urlContainsEmail:a,addCleanedUrlAndPaths:function(e){return e.url=window.location.origin+n,e.path=n,e.search="",e},addCleanedReferrer:function(e){return e.referrer=o(document.referrer)+n,e},emailAddressIsDetected:function(){return a(window.location.href)||a(document.referrer)},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)},hostnameFromUrl:function(e){return e.replace(/http(s|):\/\//g,"").split(/(\/|:)/g)[0]},isObject:function(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)},flattenObject:function(e,u){var l=(u=u||{}).delimiter||".",d=u.maxDepth,f={};return function a(o,c,s){s=s||1,Object.keys(o).forEach(function(e){var t=o[e],n=u.safe&&Array.isArray(t),i=Object.prototype.toString.call(t),r=null!==(r=t)&&null!==r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r),e=c?c+l+e:e;if(!n&&!r&&("[object Object]"===i||"[object Array]"===i)&&Object.keys(t).length&&(!u.maxDepth||s<d))return a(t,e,s+1);f[e]=t})}(e),f},flattenDataToObject:function(t,e,n){var i={};return i[e]=ace.mkt.Helpers.flattenObject(n),i=ace.mkt.Helpers.flattenObject(i),Object.keys(i).forEach(function(e){t[e]=i[e]}),t},logEvent:function(e,t,n,i,r){ace.mkt.Helpers.makeRestRequest("POST","https://api.segment.io/v1/t",[{header:"Content-type",value:"text/plain"}],JSON.stringify({userId:t,event:n,properties:i,writeKey:e}),!1,null,r)},makeRestRequest:function(e,t,n,i,r,a,o){var c=o||new XMLHttpRequest;if(c.open(e,t),c.withCredentials=r||!1,n)for(var s=0;s<n.length;s++)c.setRequestHeader(n[s].header,n[s].value);i=i||null,c.onreadystatechange=function(){c.readyState===XMLHttpRequest.DONE&&(200<=c.status&&c.status<300?a&&a(c.responseText):a&&a("error"))},c.send(i)},queryString:s,sendWrapperLoadError:function(e,t){var n,i;ace.analytics.LaunchDarkly.getFeatureFlagForUser("load-error-logging")&&((i=ace.mkt.Cookie.readCookie("ajs_anonymous_id"))&&(n=decodeURIComponent(i).replace(/['"]+/g,"")),i=ace.mkt.Cookie.readCookie("__aid_user_id"),n={anonymousId:n||null,userId:decodeURIComponent(i)||null,xid:ace.mkt.Cookie.readCookie("seg_xid")||null,message:e||null,version:ace.analytics.version||null,additionalData:t||null},i=ace.mkt.Helpers.getEnvironment()===ace.mkt.Helpers.ENVIRONMENT.PROD?"https://www.atlassian.com/endpoint/atlglobalload":"https://wac.stg.internal.atlassian.com/endpoint/atlglobalload",ace.mkt.Helpers.makeRestRequest("POST",i,[{header:"Content-type",value:"application/json"},{header:"accept",value:"*/*"}],JSON.stringify(n),!1))},getWrapperScript:e,maskURL:function(e){if(""===e||void 0===e)return e;var t,n,i,r=s((e=new URL(e)).search);return t=r,n={},Object.keys(t).forEach(function(e){a(t[e])||(n[e]=t[e])}),r=n,e.origin+(e=e.pathname,i="",a(e)&&e.split("/").forEach(function(e){""===e||a(e)||(i=i+"/"+e)}),""===i?e:i)+(e=r,e=""!==(e=new URLSearchParams(e).toString("utf-8"))?"?"+e:e)}}}(),Math.trueRandom=function(){function s(){function e(e){e=e.toString();for(var t=0;t<e.length;t++){var n=.02519603282416938*(i+=e.charCodeAt(t));i=(n=(n-(i=n>>>0))*i)>>>0,i+=4294967296*(n-=i)}return 2.3283064365386963e-10*(i>>>0)}var i=4022871197;return e.version="Mash 0.9",e}return function(){var e=Array.prototype.slice.call(arguments),t=0,n=0,i=0,r=1;0==e.length&&(e=[+new Date]);for(var t=(c=s())(" "),n=c(" "),i=c(" "),a=0;a<e.length;a++)(t-=c(e[a]))<0&&(t+=1),(n-=c(e[a]))<0&&(n+=1),(i-=c(e[a]))<0&&(i+=1);function o(){var e=2091639*t+2.3283064365386963e-10*r;return t=n,n=i,i=e-(r=0|e)}var c=null;return o.uint32=function(){return 4294967296*o()},o.fract53=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.version="Alea 0.9",o.args=e,o}()}(),Math.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.trueRandom()|0;return("x"==e?t:3&t|8).toString(16)})},function(){"use strict";var require={},requirejs,define;return function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e)for(var n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){if(e)for(var n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));--n);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){for(var n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(n,e,i,r){e&&eachProp(e,function(e,t){!i&&hasProp(n,t)||(!r||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?n[t]=e:(n[t]||(n[t]={}),mixin(n[t],e,i,r)))})}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){t=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return t.requireType=e,t.requireModules=i,n&&(t.originalError=n),t}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,a=defContextName;return isArray(e)||"string"==typeof e||(r=e,isArray(t)?(e=t,t=n,n=i):e=[]),r&&r.context&&(a=r.context),i=(i=getOwn(contexts,a))||(contexts[a]=req.s.newContext(a)),r&&i.configure(r),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require=require||req,req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=e.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(t,n,i){var e,r=t&&t.config||{};if(isBrowser)return(e=req.createNode(r,n,i)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",n),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=i,r.onNodeCreated&&r.onNodeCreated(e,r,n,i),currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{setTimeout(function(){},0),importScripts(i),t.completeLoad(n)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+n+" at "+i,e,[n]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head=head||e.parentNode,dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,n,t){var i,r;"string"!=typeof e&&(t=n,n=e,e=null),isArray(n)||(t=n,n=null),!n&&isFunction(t)&&(n=[],t.length&&(t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){n.push(t)}),n=(1===t.length?["require"]:["require","exports","module"]).concat(n))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript())&&(e=e||i.getAttribute("data-requiremodule"),r=contexts[i.getAttribute("data-requirecontext")]),r?(r.defQueue.push([e,n,t]),r.defQueueMap[e]=!0):globalDefQueue.push([e,n,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(s){var t,e,f,u,n,v={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},l={},d={},i={},p=[],h={},r={},m={},g=1,y=1;function w(e,t,n){var i,r,a,o,c,s,u,l,d,f=t&&t.split("/"),p=v.map,h=p&&p["*"];if(e){t=(e=e.split("/")).length-1,v.nodeIdCompat&&jsSuffixRegExp.test(e[t])&&(e[t]=e[t].replace(jsSuffixRegExp,""));for(var m,g=e="."===e[0].charAt(0)&&f?f.slice(0,f.length-1).concat(e):e,y=0;y<g.length;y++)"."===(m=g[y])?(g.splice(y,1),--y):".."!==m||0===y||1===y&&".."===g[2]||".."===g[y-1]||0<y&&(g.splice(y-1,2),y-=2);e=e.join("/")}if(n&&p&&(f||h)){e:for(a=(r=e.split("/")).length;0<a;--a){if(c=r.slice(0,a).join("/"),f)for(o=f.length;0<o;--o)if(i=(i=getOwn(p,f.slice(0,o).join("/")))&&getOwn(i,c)){s=i,u=a;break e}!l&&h&&getOwn(h,c)&&(l=getOwn(h,c),d=a)}!s&&l&&(s=l,u=d),s&&(r.splice(0,u,s),e=r.join("/"))}return getOwn(v.pkgs,e)||e}function b(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===f.contextName)return e.parentNode.removeChild(e),!0})}function k(e){var t=getOwn(v.paths,e);return t&&isArray(t)&&1<t.length&&(t.shift(),f.require.undef(e),f.makeRequire(null,{skipMap:!0})([e]),1)}function x(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e,t,n,i){var r,a,o,c=null,s=t?t.name:null,u=e,l=!0,d="";return e||(l=!1,e="_@r"+(g+=1)),c=(o=x(e))[0],e=o[1],c&&(c=w(c,s,i),a=getOwn(h,c)),e&&(c?d=n?e:a&&a.normalize?a.normalize(e,function(e){return w(e,s,i)}):-1===e.indexOf("!")?w(e,s,i):e:(c=(o=x(d=w(e,s,i)))[0],d=o[1],n=!0,r=f.nameToUrl(d))),{prefix:c,name:d,parentMap:t,unnormalized:!!(e=!c||a||n?"":"_unnormalized"+(y+=1)),url:r,originalName:u,isDefine:l,id:(c?c+"!"+d:d)+e}}function S(e){var t=e.id;return getOwn(l,t)||(l[t]=new f.Module(e))}function O(e,t,n){var i=e.id,r=getOwn(l,i);!hasProp(h,i)||r&&!r.defineEmitComplete?(r=S(e)).error&&"error"===t?n(r.error):r.on(t,n):"defined"===t&&n(h[i])}function M(t,e){var n=t.requireModules,i=!1;e?e(t):(each(n,function(e){e=getOwn(l,e);e&&(e.error=t,e.events.error&&(i=!0,e.emit("error",t)))}),i||req.onError(t))}function T(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(f.defQueueMap[t]=!0),p.push(e)}),globalDefQueue=[])}function I(e){delete l[e],delete d[e]}function A(){var i,e=1e3*v.waitSeconds,r=e&&f.startTime+e<(new Date).getTime(),a=[],o=[],c=!1,s=!0;if(!t){if(t=!0,eachProp(d,function(e){var t=e.map,n=t.id;if(e.enabled&&(t.isDefine||o.push(e),!e.error))if(!e.inited&&r)k(n)?c=i=!0:(a.push(n),b(n));else if(!e.inited&&e.fetched&&t.isDefine&&(c=!0,!t.prefix))return s=!1}),r&&a.length)return(e=makeError("timeout","Load timeout for modules: "+a,null,a)).contextName=f.contextName,M(e);s&&each(o,function(e){!function i(r,a,o){var e=r.map.id;r.error?r.emit("error",r.error):(a[e]=!0,each(r.depMaps,function(e,t){var e=e.id,n=getOwn(l,e);!n||r.depMatched[t]||o[e]||(getOwn(a,e)?(r.defineDep(t,h[e]),r.check()):i(n,a,o))}),o[e]=!0)}(e,{},{})}),r&&!i||!c||!isBrowser&&!isWebWorker||n||(n=setTimeout(function(){n=0,A()},50)),t=!1}}function o(e){hasProp(h,e[0])||S(E(e[0],null,!0)).init(e[1],e[2])}function a(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function c(e){e=e.currentTarget||e.srcElement;return a(e,f.onScriptLoad,"load","onreadystatechange"),a(e,f.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function q(){var e;for(T();p.length;){if(null===(e=p.shift())[0])return M(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));o(e)}f.defQueueMap={}}return u={require:function(e){return e.require||(e.require=f.makeRequire(e.map))},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?h[e.map.id]=e.exports:e.exports=h[e.map.id]={}},module:function(e){return e.module||(e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(v.config,e.map.id)||{}},exports:e.exports||(e.exports={})})}},(e=function(e){this.events=getOwn(i,e.id)||{},this.map=e,this.shim=getOwn(v.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,--this.depCount,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,f.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();f.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;r[e]||(r[e]=!0,f.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,n,e=this.map.id,i=this.depExports,r=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=f.execCb(e,a,i,r)}catch(e){t=e}else r=f.execCb(e,a,i,r);if(this.map.isDefine&&void 0===r&&((i=this.module)?r=i.exports:this.usingExports&&(r=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",M(this.error=t)}else r=a;this.exports=r,this.map.isDefine&&!this.ignore&&(h[e]=r,req.onResourceLoad&&(n=[],each(this.depMaps,function(e){n.push(e.normalizedMap||e)}),req.onResourceLoad(f,this.map,n))),I(e),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(f.defQueueMap,e)||this.fetch()}},callPlugin:function(){var c=this.map,s=c.id,e=E(c.prefix);this.depMaps.push(e),O(e,"defined",bind(this,function(e){var a,t,n=getOwn(m,this.map.id),i=this.map.name,r=this.map.parentMap?this.map.parentMap.name:null,o=f.makeRequire(c.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(e.normalize&&(i=e.normalize(i,function(e){return w(e,r,!0)})||""),O(t=E(c.prefix+"!"+i,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=t,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((i=getOwn(l,t.id))&&(this.depMaps.push(t),this.events.error&&i.on("error",bind(this,function(e){this.emit("error",e)})),i.enable()))):n?(this.map.url=f.nameToUrl(n),void this.load()):((a=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[s],eachProp(l,function(e){0===e.map.id.indexOf(s+"_unnormalized")&&I(e.map.id)}),M(e)}),a.fromText=bind(this,function(e,t){var n=c.name,i=E(n),r=useInteractive;t&&(e=t),r&&(useInteractive=!1),S(i),hasProp(v.config,s)&&(v.config[n]=v.config[s]);try{req.exec(e)}catch(e){return M(makeError("fromtexteval","fromText eval for "+s+" failed: "+e,e,[s]))}r&&(useInteractive=!0),this.depMaps.push(i),f.completeLoad(n),o([n],a)}),void e.load(c.name,o,a,v))})),f.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(d[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i;if("string"==typeof e){if(e=E(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(u,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,O(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?O(e,"error",bind(this,this.errback)):this.events.error&&O(e,"error",bind(this,function(e){this.emit("error",e)}))}i=e.id,n=l[i],hasProp(u,i)||!n||n.enabled||f.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(l,e.id);t&&!t.enabled&&f.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){(this.events[e]||(this.events[e]=[])).push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(f={config:v,contextName:s,registry:l,defined:h,urlFetched:r,defQueue:p,defQueueMap:{},Module:e,makeModuleMap:E,nextTick:req.nextTick,onError:M,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs&&(n=e.urlArgs,e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+n});var n,i=v.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(v[t]||(v[t]={}),mixin(v[t],e,!0,!0)):v[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(m[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){!(e=isArray(e)?{deps:e}:e).exports&&!e.init||e.exportsFn||(e.exportsFn=f.makeShimExports(e)),i[t]=e}),v.shim=i),e.packages&&each(e.packages,function(e){var t=(e="string"==typeof e?{name:e}:e).name;e.location&&(v.paths[t]=e.location),v.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(l,function(e,t){e.inited||e.map.unnormalized||(e.map=E(t,null,!0))}),(e.deps||e.callback)&&f.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return(e=t.init?t.init.apply(global,arguments):e)||t.exports&&getGlobal(t.exports)}},makeRequire:function(a,o){function c(e,t,n){var i,r;return o.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?M(makeError("requireargs","Invalid require call"),n):a&&hasProp(u,e)?u[e](l[a.id]):req.get?req.get(f,e,a,c):(i=E(e,a,!1,!0).id,hasProp(h,i)?h[i]:M(makeError("notloaded",'Module name "'+i+'" has not been loaded yet for context: '+s+(a?"":". Use require([])")))):(q(),f.nextTick(function(){q(),(r=S(E(null,a))).skipMap=o.skipMap,r.init(e,t,n,{enabled:!0}),A()}),c)}return o=o||{},mixin(c,{isBrowser:isBrowser,toUrl:function(e){var t,n=e.lastIndexOf("."),i=e.split("/")[0];return-1!==n&&(!("."===i||".."===i)||1<n)&&(t=e.substring(n,e.length),e=e.substring(0,n)),f.nameToUrl(w(e,a&&a.id,!0),t,!0)},defined:function(e){return hasProp(h,E(e,a,!1,!0).id)},specified:function(e){return e=E(e,a,!1,!0).id,hasProp(h,e)||hasProp(l,e)}}),a||(c.undef=function(n){T();var e=E(n,a,!0),t=getOwn(l,n);t.undefed=!0,b(n),delete h[n],delete r[e.url],delete i[n],eachReverse(p,function(e,t){e[0]===n&&p.splice(t,1)}),delete f.defQueueMap[n],t&&(t.events.defined&&(i[n]=t.events),I(n))}),c},enable:function(e){getOwn(l,e.id)&&S(e).enable()},completeLoad:function(e){var t,n,i,r=getOwn(v.shim,e)||{},a=r.exports;for(T();p.length;){if(null===(n=p.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);o(n)}if(f.defQueueMap={},i=getOwn(l,e),!t&&!hasProp(h,e)&&i&&!i.inited){if(!(!v.enforceDefine||a&&getGlobal(a)))return k(e)?void 0:M(makeError("nodefine","No define call for "+e,null,[e]));o([e,r.deps||[],r.exportsFn])}A()},nameToUrl:function(e,t,n){var i,r,a,o,c,s=getOwn(v.pkgs,e);if(s=getOwn(m,e=s?s:e))return f.nameToUrl(s,t,n);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(i=v.paths,a=(r=e.split("/")).length;0<a;--a)if(c=getOwn(i,r.slice(0,a).join("/"))){isArray(c)&&(c=c[0]),r.splice(0,a,c);break}o=r.join("/"),o=("/"===(o+=t||(/^data\:|^blob\:|\?/.test(o)||n?"":".js")).charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":v.baseUrl)+o}return v.urlArgs&&!/^blob\:/.test(o)?o+v.urlArgs(e,o):o},load:function(e,t){req.load(f,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){"load"!==e.type&&!readyRegExp.test((e.currentTarget||e.srcElement).readyState)||(interactiveScript=null,e=c(e),f.completeLoad(e.id))},onScriptError:function(e){var n,i=c(e);if(!k(i.id))return n=[],eachProp(l,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===i.id)return n.push(t),!0})}),M(makeError("scripterror",'Script error for "'+i.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[i.id]))}}).require=f.makeRequire(),f}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),{require:require,define:define,config:require.config}}()),ace=ace||{},ace=(ace.analytics=ace.analytics||{},ace.analytics.Cohort=function(){"use strict";var n="atlCohort",r="2",a=["index","bucketedAtUTC","version","bucketId"],o={bucketAll:{bucketId:0}};function t(){var e,t=ace.mkt.Cookie.readCookie(n);try{return e=JSON.parse(t),ace.mkt.Helpers.isObject(e)?e:null}catch(e){return null}}function c(i){return Object.keys(o).filter(function(e){return t=e,n=i,!(ace.mkt.Helpers.isObject(n)&&void 0!==n[t]&&ace.mkt.Helpers.isObject(n[t])&&a.every(function(e){return void 0!==n[t][e]}));var t,n})}return{ATL_COHORT:n,COHORT_VERSION:r,readWriteAtlCohort:function(e){var i=!e&&t()||{};return(e=c(i)).length&&(e.forEach(function(e){var t,n;i[e]=(t=o[e=e],e=ace.analytics.SegmentIO.getAnonymousId(),(n={bucketedAtUTC:(new Date).toISOString(),version:r}).index=e?ace.mkt.Guid.guidHashCode(ace.mkt.Guid.addNumberToGUID(e,t.bucketId))%100:Math.ceil(100*Math.random()),Object.keys(t).forEach(function(e){n[e]=t[e]}),n)}),e=i,ace.mkt.Helpers.isObject(e)&&ace.mkt.Cookie.writeCookie(n,JSON.stringify(e),3650,!0),i=t()),i},readAtlCohort:t}}(),ace||{}),ace=(ace.analytics=ace.analytics||{},ace.analytics.Loader=function(){"use strict";return{loadVersion:function(e,t,n,i){var r=document.createElement("script"),a=ace.mkt.Helpers.getScript(),o=(r.onload=function(){t&&"function"==typeof t&&t()},r.onerror=function(){n&&"function"==typeof n&&n(e)},a.source+e+"/atl-global-"+e+a.extension);ace.analytics.Loader.checkForFile(o,function(){r.src=o,document.head.appendChild(r),ace.analytics.version=e},function(){r.src=a.source+ace.analytics.version+"/atl-global-"+ace.analytics.version+a.extension,document.head.appendChild(r)},i)},checkForFile:function(e,t,n,i){var r=i||new XMLHttpRequest;r.open("HEAD",e),r.setRequestHeader("Content-type","text/plain"),r.send(),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(200<=r.status&&r.status<300?t:n)()}}}}(),ace||{}),ace=(ace.analytics=ace.analytics||{},ace.analytics.LaunchDarkly=function(){"use strict";var r,a,o;return{getFeatureFlagForUser:function(e,t,n){return a||n?(n||a).variation(e,t):null},initLaunchDarkly:function(e,t,n){var i;r||n?(i={key:"marketingEngineering",custom:{cohort:(i=ace.analytics.Cohort.readAtlCohort())?i.bucketAll.index:null,location:window.location?window.location.href:null}},o=new Map([[ace.mkt.Helpers.ENVIRONMENT.LOCAL,"5afa3d7607a72221591aeb72"],[ace.mkt.Helpers.ENVIRONMENT.DEV,"5afa3d7607a72221591aeb72"],[ace.mkt.Helpers.ENVIRONMENT.STAGE,"5afa4f0707a72221591aecfd"],[ace.mkt.Helpers.ENVIRONMENT.PROD,"5afa3d7607a72221591aeb73"]]),(a=(n||r).initialize(o.get(ace.mkt.Helpers.getEnvironment()),i,{bootstrap:"localStorage"})).on("ready",function(){e&&"function"==typeof e&&e()}),a.on("error",function(){t&&"function"==typeof t&&t()})):t&&"function"==typeof t&&t()},loadLDSDK:function(t,n){var e=ace.mkt.Helpers.getScript();e&&e.source?(globalRequire.config({baseUrl:e.source}),globalRequire.require([ace.analytics.version+"/ld/ldclient.min",ace.analytics.version+"/ld/ldclient-common.min"],function(e){r=e,t&&"function"==typeof t&&t()},function(e){n&&"function"==typeof n&&n(e)})):n&&"function"==typeof n&&n()}}}(),ace||{}),ace=(ace.analytics=ace.analytics||{},ace.analytics.MethodQueue=function(){"use strict";function a(e){var t=e.module,n=e.method,e=e.args;window.ace.analytics[t]&&window.ace.analytics[t][n]&&window.ace.analytics[t][n].apply(window.ace.analytics[t],e)}return{getWrapperMethods:function(){for(var e=[["Gtm","initialize",!0],["Gtm","page",!1],["Gtm","track",!1],["Identity","autoIdentify",!1],["Identity","identify",!1],["Initializer","globalCallReady",!0],["Initializer","initWithPageAnalytics",!0],["Initializer","initAnalytics",!0],["Initializer","init",!0],["Initializer","autoTrack",!0],["Initializer","gaIntegration",!0],["Initializer","initGAS",!0],["Initializer","initSnowplow",!0],["Initializer","setXID",!0,!0],["Optimizely","getCampaigns",!1],["Optimizely","getDemandbase",!1],["Optimizely","getExperimentAndVariationPairs",!1],["Optimizely","getVisitorId",!1],["Optimizely","isDemandbaseAvailable",!1],["Optimizely","isInitialized",!1],["SegmentIO","getAnonymousId",!1],["SegmentIO","getXID",!1],["SegmentIO","initSegment",!0],["SegmentIO","isInitialized",!1],["SegmentIO","isSegmentUserAvailable",!1],["SegmentIO","segmentDoReady",!0],["SegmentIO","ready",!0],["SegmentIO","stubSegmentMethods",!0],["SegmentIO","trackEvent",!1],["SegmentIO","trackPage",!1],["SegmentIO","wrapSegment",!1],["Snowplow","loadSnowplow",!0],["Snowplow","trackPageView",!1],["Snowplow","trackSelfDescribingEvent",!1],["Snowplow","getSnowplowDuid",!1],["Tracking","autoTrackButtons",!1],["Tracking","autoTrackLinks",!1],["Tracking","autoTrackVideos",!1],["Tracking","enrichEventData",!1],["Tracking","logError",!1],["Tracking","pageView",!1],["Tracking","trackEvent",!1],["Tracking","trackUnloadEvent",!1],["Tracking","readWriteSessionCookie",!1]],t=new Map,n=0;n<e.length;n++){var i=e[n][0],r=t.get(i);(r=r||[]).push({name:e[n][1],initMethod:e[n][2],critical:e[n][3]}),t.set(i,r)}return t},replayMethodQueue:function e(t,n,i){t&&!n&&e(t,!0,i);for(var r=window.ace.analytics.methodQueue.length-1;0<=r;r--)t&&!window.ace.analytics.methodQueue[r].initMethod||n&&!window.ace.analytics.methodQueue[r].critical||((i||a)(window.ace.analytics.methodQueue[r]),window.ace.analytics.methodQueue.splice(r,1))},stubWrapperMethods:function(e,c){var t=window.ace.analytics.MethodQueue.getWrapperMethods(),s=(window.ace.analytics.methodQueue=[],e||function(t,n,i,r){return function(){var e=Array.prototype.slice.call(arguments);return window.ace.analytics.methodQueue.unshift({module:t,method:n,args:e,initMethod:i,critical:r}),window.ace.analytics.methodQueue}});t.forEach(function(e,t){for(var n=0;n<e.length;n++){var i=e[n].name,r=e[n].initMethod,a=e[n].critical,o=c||window.ace.analytics;o[t]=o[t]||{},i&&(o[t][i]=s(t,i,r,a))}})},stubSegmentMethods:function(){var n=window.analytics=window.analytics||[];n.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],n.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);return e.unshift(t),n.push(e),n}};for(var e=0;e<n.methods.length;e++){var t=n.methods[e];n[t]=n.factory(t)}}}}(),ace||{});function getAtlGlobalVersion(e){"use strict";ace.analytics.LaunchDarkly.loadLDSDK(function(){ace.analytics.LaunchDarkly.initLaunchDarkly(function(){e(ace.analytics.LaunchDarkly.getFeatureFlagForUser("atl-global-phased-roll-out"))},function(){e(ace.analytics.version)})},function(){e(ace.analytics.version)})}function loadAtlGlobal(){"use strict";ace.analytics.MethodQueue.stubWrapperMethods(),ace.analytics.MethodQueue.stubSegmentMethods(),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_AVAILABLE),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_START_LOAD_XID),globalRequire.require([ace.analytics.version+"/xid/atl-xid"],function(e){var t;window.atl&&window.atl.XID&&(t=new window.atl.XID("prod"),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_START_GET_XID),t.getXidPromise().then(function(e){ace.analytics.Initializer.setXID(e),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_LOAD_XID)}))}),getAtlGlobalVersion(function(e){window.metricsReady=function(){ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_READY),ace.analytics.Metrics.sendMetrics()},ace.analytics.Loader.loadVersion(e,function(){var e=ace.analytics.LaunchDarkly.getFeatureFlagForUser("atl-global-destination-trigger")||"segment",t=ace.analytics.LaunchDarkly.getFeatureFlagForUser("segment-gasv3-order-switch")||!1;ace.analytics.Tracking.destinationFlag=e,ace.analytics.Tracking.switchOrder=t,"none"!==e&&(ace.analytics.GASv3&&(ace.analytics.GASv3.loadGASFlag="gasv3"===e||"both"===e||"gasv3+snowplow"===e||"all"===e),ace.analytics.Snowplow&&(ace.analytics.Snowplow.loadSnowplowFlag="snowplow"===e||"gasv3+snowplow"===e||"all"===e),ace.analytics.SegmentIO.loadSegmentFlag="segment"===e||"both"===e||"all"===e,ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_LOAD),ace.analytics.MethodQueue.replayMethodQueue(!0),ace.analytics.MethodQueue.replayMethodQueue(!1))},loadError)})}function loadError(e){"use strict";ace.mkt.Helpers.sendWrapperLoadError("Wrapper load error")}ace.analytics=ace.analytics||{},ace.analytics.version="2.120.0",loadAtlGlobal();
//# sourceMappingURL=atl-global.min.js.map